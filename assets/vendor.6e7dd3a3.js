var Yj=Object.defineProperty,$j=Object.defineProperties;var qj=Object.getOwnPropertyDescriptors;var EA=Object.getOwnPropertySymbols;var jj=Object.prototype.hasOwnProperty,Zj=Object.prototype.propertyIsEnumerable;var LA=(n,e,t)=>e in n?Yj(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,ys=(n,e)=>{for(var t in e||(e={}))jj.call(e,t)&&LA(n,t,e[t]);if(EA)for(var t of EA(e))Zj.call(e,t)&&LA(n,t,e[t]);return n},Dd=(n,e)=>$j(n,qj(e));function W8(n,e){const t=Object.create(null),i=n.split(",");for(let r=0;r<i.length;r++)t[i[r]]=!0;return e?r=>!!t[r.toLowerCase()]:r=>!!t[r]}const Qj="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Jj=W8(Qj);function CA(n){return!!n||n===""}function X8(n){if(Ut(n)){const e={};for(let t=0;t<n.length;t++){const i=n[t],r=Hi(i)?tZ(i):X8(i);if(r)for(const s in r)e[s]=r[s]}return e}else{if(Hi(n))return n;if(Gi(n))return n}}const Kj=/;(?![^(]*\))/g,eZ=/:(.+)/;function tZ(n){const e={};return n.split(Kj).forEach(t=>{if(t){const i=t.split(eZ);i.length>1&&(e[i[0].trim()]=i[1].trim())}}),e}function Y8(n){let e="";if(Hi(n))e=n;else if(Ut(n))for(let t=0;t<n.length;t++){const i=Y8(n[t]);i&&(e+=i+" ")}else if(Gi(n))for(const t in n)n[t]&&(e+=t+" ");return e.trim()}const hn={},Uu=[],Zs=()=>{},nZ=()=>!1,iZ=/^on[^a-z]/,Im=n=>iZ.test(n),$8=n=>n.startsWith("onUpdate:"),sr=Object.assign,PA=(n,e)=>{const t=n.indexOf(e);t>-1&&n.splice(t,1)},rZ=Object.prototype.hasOwnProperty,qt=(n,e)=>rZ.call(n,e),Ut=Array.isArray,Nd=n=>Dm(n)==="[object Map]",sZ=n=>Dm(n)==="[object Set]",It=n=>typeof n=="function",Hi=n=>typeof n=="string",q8=n=>typeof n=="symbol",Gi=n=>n!==null&&typeof n=="object",RA=n=>Gi(n)&&It(n.then)&&It(n.catch),oZ=Object.prototype.toString,Dm=n=>oZ.call(n),aZ=n=>Dm(n).slice(8,-1),lZ=n=>Dm(n)==="[object Object]",j8=n=>Hi(n)&&n!=="NaN"&&n[0]!=="-"&&""+parseInt(n,10)===n,Nm=W8(",key,ref,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Om=n=>{const e=Object.create(null);return t=>e[t]||(e[t]=n(t))},cZ=/-(\w)/g,A0=Om(n=>n.replace(cZ,(e,t)=>t?t.toUpperCase():"")),uZ=/\B([A-Z])/g,zu=Om(n=>n.replace(uZ,"-$1").toLowerCase()),Bm=Om(n=>n.charAt(0).toUpperCase()+n.slice(1)),Z8=Om(n=>n?`on${Bm(n)}`:""),Od=(n,e)=>!Object.is(n,e),Um=(n,e)=>{for(let t=0;t<n.length;t++)n[t](e)},zm=(n,e,t)=>{Object.defineProperty(n,e,{configurable:!0,enumerable:!1,value:t})},Q8=n=>{const e=parseFloat(n);return isNaN(e)?n:e};let FA;const fZ=()=>FA||(FA=typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:typeof window!="undefined"?window:typeof global!="undefined"?global:{});let kl;const km=[];class hZ{constructor(e=!1){this.active=!0,this.effects=[],this.cleanups=[],!e&&kl&&(this.parent=kl,this.index=(kl.scopes||(kl.scopes=[])).push(this)-1)}run(e){if(this.active)try{return this.on(),e()}finally{this.off()}}on(){this.active&&(km.push(this),kl=this)}off(){this.active&&(km.pop(),kl=km[km.length-1])}stop(e){if(this.active){if(this.effects.forEach(t=>t.stop()),this.cleanups.forEach(t=>t()),this.scopes&&this.scopes.forEach(t=>t.stop(!0)),this.parent&&!e){const t=this.parent.scopes.pop();t&&t!==this&&(this.parent.scopes[this.index]=t,t.index=this.index)}this.active=!1}}}function dZ(n,e){e=e||kl,e&&e.active&&e.effects.push(n)}const J8=n=>{const e=new Set(n);return e.w=0,e.n=0,e},IA=n=>(n.w&da)>0,DA=n=>(n.n&da)>0,pZ=({deps:n})=>{if(n.length)for(let e=0;e<n.length;e++)n[e].w|=da},mZ=n=>{const{deps:e}=n;if(e.length){let t=0;for(let i=0;i<e.length;i++){const r=e[i];IA(r)&&!DA(r)?r.delete(n):e[t++]=r,r.w&=~da,r.n&=~da}e.length=t}},K8=new WeakMap;let Bd=0,da=1;const e6=30,Ud=[];let Hl;const Gl=Symbol(""),t6=Symbol("");class n6{constructor(e,t=null,i){this.fn=e,this.scheduler=t,this.active=!0,this.deps=[],dZ(this,i)}run(){if(!this.active)return this.fn();if(!Ud.includes(this))try{return Ud.push(Hl=this),gZ(),da=1<<++Bd,Bd<=e6?pZ(this):NA(this),this.fn()}finally{Bd<=e6&&mZ(this),da=1<<--Bd,Vl(),Ud.pop();const e=Ud.length;Hl=e>0?Ud[e-1]:void 0}}stop(){this.active&&(NA(this),this.onStop&&this.onStop(),this.active=!1)}}function NA(n){const{deps:e}=n;if(e.length){for(let t=0;t<e.length;t++)e[t].delete(n);e.length=0}}let ku=!0;const i6=[];function Hu(){i6.push(ku),ku=!1}function gZ(){i6.push(ku),ku=!0}function Vl(){const n=i6.pop();ku=n===void 0?!0:n}function jr(n,e,t){if(!OA())return;let i=K8.get(n);i||K8.set(n,i=new Map);let r=i.get(t);r||i.set(t,r=J8()),BA(r)}function OA(){return ku&&Hl!==void 0}function BA(n,e){let t=!1;Bd<=e6?DA(n)||(n.n|=da,t=!IA(n)):t=!n.has(Hl),t&&(n.add(Hl),Hl.deps.push(n))}function xo(n,e,t,i,r,s){const o=K8.get(n);if(!o)return;let a=[];if(e==="clear")a=[...o.values()];else if(t==="length"&&Ut(n))o.forEach((l,c)=>{(c==="length"||c>=i)&&a.push(l)});else switch(t!==void 0&&a.push(o.get(t)),e){case"add":Ut(n)?j8(t)&&a.push(o.get("length")):(a.push(o.get(Gl)),Nd(n)&&a.push(o.get(t6)));break;case"delete":Ut(n)||(a.push(o.get(Gl)),Nd(n)&&a.push(o.get(t6)));break;case"set":Nd(n)&&a.push(o.get(Gl));break}if(a.length===1)a[0]&&r6(a[0]);else{const l=[];for(const c of a)c&&l.push(...c);r6(J8(l))}}function r6(n,e){for(const t of Ut(n)?n:[...n])(t!==Hl||t.allowRecurse)&&(t.scheduler?t.scheduler():t.run())}const vZ=W8("__proto__,__v_isRef,__isVue"),UA=new Set(Object.getOwnPropertyNames(Symbol).map(n=>Symbol[n]).filter(q8)),xZ=s6(),yZ=s6(!1,!0),_Z=s6(!0),zA=bZ();function bZ(){const n={};return["includes","indexOf","lastIndexOf"].forEach(e=>{n[e]=function(...t){const i=en(this);for(let s=0,o=this.length;s<o;s++)jr(i,"get",s+"");const r=i[e](...t);return r===-1||r===!1?i[e](...t.map(en)):r}}),["push","pop","shift","unshift","splice"].forEach(e=>{n[e]=function(...t){Hu();const i=en(this)[e].apply(this,t);return Vl(),i}}),n}function s6(n=!1,e=!1){return function(i,r,s){if(r==="__v_isReactive")return!n;if(r==="__v_isReadonly")return n;if(r==="__v_raw"&&s===(n?e?BZ:qA:e?$A:YA).get(i))return i;const o=Ut(i);if(!n&&o&&qt(zA,r))return Reflect.get(zA,r,s);const a=Reflect.get(i,r,s);return(q8(r)?UA.has(r):vZ(r))||(n||jr(i,"get",r),e)?a:or(a)?!o||!j8(r)?a.value:a:Gi(a)?n?jA(a):zd(a):a}}const wZ=kA(),MZ=kA(!0);function kA(n=!1){return function(t,i,r,s){let o=t[i];if(!n&&(r=en(r),o=en(o),!Ut(t)&&or(o)&&!or(r)))return o.value=r,!0;const a=Ut(t)&&j8(i)?Number(i)<t.length:qt(t,i),l=Reflect.set(t,i,r,s);return t===en(s)&&(a?Od(r,o)&&xo(t,"set",i,r):xo(t,"add",i,r)),l}}function SZ(n,e){const t=qt(n,e);n[e];const i=Reflect.deleteProperty(n,e);return i&&t&&xo(n,"delete",e,void 0),i}function AZ(n,e){const t=Reflect.has(n,e);return(!q8(e)||!UA.has(e))&&jr(n,"has",e),t}function TZ(n){return jr(n,"iterate",Ut(n)?"length":Gl),Reflect.ownKeys(n)}const HA={get:xZ,set:wZ,deleteProperty:SZ,has:AZ,ownKeys:TZ},EZ={get:_Z,set(n,e){return!0},deleteProperty(n,e){return!0}},LZ=sr({},HA,{get:yZ,set:MZ}),o6=n=>n,Hm=n=>Reflect.getPrototypeOf(n);function Gm(n,e,t=!1,i=!1){n=n.__v_raw;const r=en(n),s=en(e);e!==s&&!t&&jr(r,"get",e),!t&&jr(r,"get",s);const{has:o}=Hm(r),a=i?o6:t?c6:kd;if(o.call(r,e))return a(n.get(e));if(o.call(r,s))return a(n.get(s));n!==r&&n.get(e)}function Vm(n,e=!1){const t=this.__v_raw,i=en(t),r=en(n);return n!==r&&!e&&jr(i,"has",n),!e&&jr(i,"has",r),n===r?t.has(n):t.has(n)||t.has(r)}function Wm(n,e=!1){return n=n.__v_raw,!e&&jr(en(n),"iterate",Gl),Reflect.get(n,"size",n)}function GA(n){n=en(n);const e=en(this);return Hm(e).has.call(e,n)||(e.add(n),xo(e,"add",n,n)),this}function VA(n,e){e=en(e);const t=en(this),{has:i,get:r}=Hm(t);let s=i.call(t,n);s||(n=en(n),s=i.call(t,n));const o=r.call(t,n);return t.set(n,e),s?Od(e,o)&&xo(t,"set",n,e):xo(t,"add",n,e),this}function WA(n){const e=en(this),{has:t,get:i}=Hm(e);let r=t.call(e,n);r||(n=en(n),r=t.call(e,n)),i&&i.call(e,n);const s=e.delete(n);return r&&xo(e,"delete",n,void 0),s}function XA(){const n=en(this),e=n.size!==0,t=n.clear();return e&&xo(n,"clear",void 0,void 0),t}function Xm(n,e){return function(i,r){const s=this,o=s.__v_raw,a=en(o),l=e?o6:n?c6:kd;return!n&&jr(a,"iterate",Gl),o.forEach((c,u)=>i.call(r,l(c),l(u),s))}}function Ym(n,e,t){return function(...i){const r=this.__v_raw,s=en(r),o=Nd(s),a=n==="entries"||n===Symbol.iterator&&o,l=n==="keys"&&o,c=r[n](...i),u=t?o6:e?c6:kd;return!e&&jr(s,"iterate",l?t6:Gl),{next(){const{value:f,done:h}=c.next();return h?{value:f,done:h}:{value:a?[u(f[0]),u(f[1])]:u(f),done:h}},[Symbol.iterator](){return this}}}}function pa(n){return function(...e){return n==="delete"?!1:this}}function CZ(){const n={get(s){return Gm(this,s)},get size(){return Wm(this)},has:Vm,add:GA,set:VA,delete:WA,clear:XA,forEach:Xm(!1,!1)},e={get(s){return Gm(this,s,!1,!0)},get size(){return Wm(this)},has:Vm,add:GA,set:VA,delete:WA,clear:XA,forEach:Xm(!1,!0)},t={get(s){return Gm(this,s,!0)},get size(){return Wm(this,!0)},has(s){return Vm.call(this,s,!0)},add:pa("add"),set:pa("set"),delete:pa("delete"),clear:pa("clear"),forEach:Xm(!0,!1)},i={get(s){return Gm(this,s,!0,!0)},get size(){return Wm(this,!0)},has(s){return Vm.call(this,s,!0)},add:pa("add"),set:pa("set"),delete:pa("delete"),clear:pa("clear"),forEach:Xm(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(s=>{n[s]=Ym(s,!1,!1),t[s]=Ym(s,!0,!1),e[s]=Ym(s,!1,!0),i[s]=Ym(s,!0,!0)}),[n,t,e,i]}const[PZ,RZ,FZ,IZ]=CZ();function a6(n,e){const t=e?n?IZ:FZ:n?RZ:PZ;return(i,r,s)=>r==="__v_isReactive"?!n:r==="__v_isReadonly"?n:r==="__v_raw"?i:Reflect.get(qt(t,r)&&r in i?t:i,r,s)}const DZ={get:a6(!1,!1)},NZ={get:a6(!1,!0)},OZ={get:a6(!0,!1)},YA=new WeakMap,$A=new WeakMap,qA=new WeakMap,BZ=new WeakMap;function UZ(n){switch(n){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function zZ(n){return n.__v_skip||!Object.isExtensible(n)?0:UZ(aZ(n))}function zd(n){return n&&n.__v_isReadonly?n:l6(n,!1,HA,DZ,YA)}function kZ(n){return l6(n,!1,LZ,NZ,$A)}function jA(n){return l6(n,!0,EZ,OZ,qA)}function l6(n,e,t,i,r){if(!Gi(n)||n.__v_raw&&!(e&&n.__v_isReactive))return n;const s=r.get(n);if(s)return s;const o=zZ(n);if(o===0)return n;const a=new Proxy(n,o===2?i:t);return r.set(n,a),a}function Gu(n){return ZA(n)?Gu(n.__v_raw):!!(n&&n.__v_isReactive)}function ZA(n){return!!(n&&n.__v_isReadonly)}function QA(n){return Gu(n)||ZA(n)}function en(n){const e=n&&n.__v_raw;return e?en(e):n}function JA(n){return zm(n,"__v_skip",!0),n}const kd=n=>Gi(n)?zd(n):n,c6=n=>Gi(n)?jA(n):n;function KA(n){OA()&&(n=en(n),n.dep||(n.dep=J8()),BA(n.dep))}function eT(n,e){n=en(n),n.dep&&r6(n.dep)}function or(n){return Boolean(n&&n.__v_isRef===!0)}function HZ(n){return tT(n,!1)}function GZ(n){return tT(n,!0)}function tT(n,e){return or(n)?n:new VZ(n,e)}class VZ{constructor(e,t){this._shallow=t,this.dep=void 0,this.__v_isRef=!0,this._rawValue=t?e:en(e),this._value=t?e:kd(e)}get value(){return KA(this),this._value}set value(e){e=this._shallow?e:en(e),Od(e,this._rawValue)&&(this._rawValue=e,this._value=this._shallow?e:kd(e),eT(this))}}function Hd(n){return or(n)?n.value:n}const WZ={get:(n,e,t)=>Hd(Reflect.get(n,e,t)),set:(n,e,t,i)=>{const r=n[e];return or(r)&&!or(t)?(r.value=t,!0):Reflect.set(n,e,t,i)}};function nT(n){return Gu(n)?n:new Proxy(n,WZ)}class XZ{constructor(e,t){this._object=e,this._key=t,this.__v_isRef=!0}get value(){return this._object[this._key]}set value(e){this._object[this._key]=e}}function iT(n,e){const t=n[e];return or(t)?t:new XZ(n,e)}class YZ{constructor(e,t,i){this._setter=t,this.dep=void 0,this._dirty=!0,this.__v_isRef=!0,this.effect=new n6(e,()=>{this._dirty||(this._dirty=!0,eT(this))}),this.__v_isReadonly=i}get value(){const e=en(this);return KA(e),e._dirty&&(e._dirty=!1,e._value=e.effect.run()),e._value}set value(e){this._setter(e)}}function T0(n,e){let t,i;const r=It(n);return r?(t=n,i=Zs):(t=n.get,i=n.set),new YZ(t,i,r||!i)}Promise.resolve();function $Z(n,e,...t){const i=n.vnode.props||hn;let r=t;const s=e.startsWith("update:"),o=s&&e.slice(7);if(o&&o in i){const u=`${o==="modelValue"?"model":o}Modifiers`,{number:f,trim:h}=i[u]||hn;h?r=t.map(d=>d.trim()):f&&(r=t.map(Q8))}let a,l=i[a=Z8(e)]||i[a=Z8(A0(e))];!l&&s&&(l=i[a=Z8(zu(e))]),l&&Js(l,n,6,r);const c=i[a+"Once"];if(c){if(!n.emitted)n.emitted={};else if(n.emitted[a])return;n.emitted[a]=!0,Js(c,n,6,r)}}function rT(n,e,t=!1){const i=e.emitsCache,r=i.get(n);if(r!==void 0)return r;const s=n.emits;let o={},a=!1;if(!It(n)){const l=c=>{const u=rT(c,e,!0);u&&(a=!0,sr(o,u))};!t&&e.mixins.length&&e.mixins.forEach(l),n.extends&&l(n.extends),n.mixins&&n.mixins.forEach(l)}return!s&&!a?(i.set(n,null),null):(Ut(s)?s.forEach(l=>o[l]=null):sr(o,s),i.set(n,o),o)}function u6(n,e){return!n||!Im(e)?!1:(e=e.slice(2).replace(/Once$/,""),qt(n,e[0].toLowerCase()+e.slice(1))||qt(n,zu(e))||qt(n,e))}let Qs=null,sT=null;function $m(n){const e=Qs;return Qs=n,sT=n&&n.type.__scopeId||null,e}function qZ(n,e=Qs,t){if(!e||n._n)return n;const i=(...r)=>{i._d&&TT(-1);const s=$m(e),o=n(...r);return $m(s),i._d&&TT(1),o};return i._n=!0,i._c=!0,i._d=!0,i}function f6(n){const{type:e,vnode:t,proxy:i,withProxy:r,props:s,propsOptions:[o],slots:a,attrs:l,emit:c,render:u,renderCache:f,data:h,setupState:d,ctx:m,inheritAttrs:v}=n;let _,g;const x=$m(n);try{if(t.shapeFlag&4){const w=r||i;_=L0(u.call(w,w,f,s,d,h,m)),g=l}else{const w=e;_=L0(w.length>1?w(s,{attrs:l,slots:a,emit:c}):w(s,null)),g=e.props?l:jZ(l)}}catch(w){Wd.length=0,t3(w,n,1),_=_s(Vd)}let b=_;if(g&&v!==!1){const w=Object.keys(g),{shapeFlag:S}=b;w.length&&S&(1|6)&&(o&&w.some($8)&&(g=ZZ(g,o)),b=Yd(b,g))}return t.dirs&&(b.dirs=b.dirs?b.dirs.concat(t.dirs):t.dirs),t.transition&&(b.transition=t.transition),_=b,$m(x),_}const jZ=n=>{let e;for(const t in n)(t==="class"||t==="style"||Im(t))&&((e||(e={}))[t]=n[t]);return e},ZZ=(n,e)=>{const t={};for(const i in n)(!$8(i)||!(i.slice(9)in e))&&(t[i]=n[i]);return t};function QZ(n,e,t){const{props:i,children:r,component:s}=n,{props:o,children:a,patchFlag:l}=e,c=s.emitsOptions;if(e.dirs||e.transition)return!0;if(t&&l>=0){if(l&1024)return!0;if(l&16)return i?oT(i,o,c):!!o;if(l&8){const u=e.dynamicProps;for(let f=0;f<u.length;f++){const h=u[f];if(o[h]!==i[h]&&!u6(c,h))return!0}}}else return(r||a)&&(!a||!a.$stable)?!0:i===o?!1:i?o?oT(i,o,c):!0:!!o;return!1}function oT(n,e,t){const i=Object.keys(e);if(i.length!==Object.keys(n).length)return!0;for(let r=0;r<i.length;r++){const s=i[r];if(e[s]!==n[s]&&!u6(t,s))return!0}return!1}function JZ({vnode:n,parent:e},t){for(;e&&e.subTree===n;)(n=e.vnode).el=t,e=e.parent}const KZ=n=>n.__isSuspense;function eQ(n,e){e&&e.pendingBranch?Ut(n)?e.effects.push(...n):e.effects.push(n):ZQ(n)}function Gd(n,e){if(Pi){let t=Pi.provides;const i=Pi.parent&&Pi.parent.provides;i===t&&(t=Pi.provides=Object.create(i)),t[n]=e}}function Nr(n,e,t=!1){const i=Pi||Qs;if(i){const r=i.parent==null?i.vnode.appContext&&i.vnode.appContext.provides:i.parent.provides;if(r&&n in r)return r[n];if(arguments.length>1)return t&&It(e)?e.call(i.proxy):e}}function xt(n){return It(n)?{setup:n,name:n.name}:n}const h6=n=>!!n.type.__asyncLoader,aT=n=>n.type.__isKeepAlive;function tQ(n,e){lT(n,"a",e)}function nQ(n,e){lT(n,"da",e)}function lT(n,e,t=Pi){const i=n.__wdc||(n.__wdc=()=>{let r=t;for(;r;){if(r.isDeactivated)return;r=r.parent}n()});if(qm(e,i,t),t){let r=t.parent;for(;r&&r.parent;)aT(r.parent.vnode)&&iQ(i,e,t,r),r=r.parent}}function iQ(n,e,t,i){const r=qm(e,n,i,!0);d6(()=>{PA(i[e],r)},t)}function qm(n,e,t=Pi,i=!1){if(t){const r=t[n]||(t[n]=[]),s=e.__weh||(e.__weh=(...o)=>{if(t.isUnmounted)return;Hu(),Vu(t);const a=Js(e,t,n,o);return $l(),Vl(),a});return i?r.unshift(s):r.push(s),s}}const yo=n=>(e,t=Pi)=>(!e3||n==="sp")&&qm(n,e,t),rQ=yo("bm"),sQ=yo("m"),oQ=yo("bu"),aQ=yo("u"),lQ=yo("bum"),d6=yo("um"),cQ=yo("sp"),uQ=yo("rtg"),fQ=yo("rtc");function hQ(n,e=Pi){qm("ec",n,e)}let p6=!0;function dQ(n){const e=fT(n),t=n.proxy,i=n.ctx;p6=!1,e.beforeCreate&&cT(e.beforeCreate,n,"bc");const{data:r,computed:s,methods:o,watch:a,provide:l,inject:c,created:u,beforeMount:f,mounted:h,beforeUpdate:d,updated:m,activated:v,deactivated:_,beforeDestroy:g,beforeUnmount:x,destroyed:b,unmounted:w,render:S,renderTracked:A,renderTriggered:T,errorCaptured:F,serverPrefetch:U,expose:N,inheritAttrs:O,components:G,directives:D,filters:P}=e;if(c&&pQ(c,i,null,n.appContext.config.unwrapInjectedRef),o)for(const B in o){const Y=o[B];It(Y)&&(i[B]=Y.bind(t))}if(r){const B=r.call(t,t);Gi(B)&&(n.data=zd(B))}if(p6=!0,s)for(const B in s){const Y=s[B],j=It(Y)?Y.bind(t,t):It(Y.get)?Y.get.bind(t,t):Zs,re=!It(Y)&&It(Y.set)?Y.set.bind(t):Zs,ie=T0({get:j,set:re});Object.defineProperty(i,B,{enumerable:!0,configurable:!0,get:()=>ie.value,set:ve=>ie.value=ve})}if(a)for(const B in a)uT(a[B],i,t,B);if(l){const B=It(l)?l.call(t):l;Reflect.ownKeys(B).forEach(Y=>{Gd(Y,B[Y])})}u&&cT(u,n,"c");function C(B,Y){Ut(Y)?Y.forEach(j=>B(j.bind(t))):Y&&B(Y.bind(t))}if(C(rQ,f),C(sQ,h),C(oQ,d),C(aQ,m),C(tQ,v),C(nQ,_),C(hQ,F),C(fQ,A),C(uQ,T),C(lQ,x),C(d6,w),C(cQ,U),Ut(N))if(N.length){const B=n.exposed||(n.exposed={});N.forEach(Y=>{Object.defineProperty(B,Y,{get:()=>t[Y],set:j=>t[Y]=j})})}else n.exposed||(n.exposed={});S&&n.render===Zs&&(n.render=S),O!=null&&(n.inheritAttrs=O),G&&(n.components=G),D&&(n.directives=D)}function pQ(n,e,t=Zs,i=!1){Ut(n)&&(n=m6(n));for(const r in n){const s=n[r];let o;Gi(s)?"default"in s?o=Nr(s.from||r,s.default,!0):o=Nr(s.from||r):o=Nr(s),or(o)&&i?Object.defineProperty(e,r,{enumerable:!0,configurable:!0,get:()=>o.value,set:a=>o.value=a}):e[r]=o}}function cT(n,e,t){Js(Ut(n)?n.map(i=>i.bind(e.proxy)):n.bind(e.proxy),e,t)}function uT(n,e,t,i){const r=i.includes(".")?GT(t,i):()=>t[i];if(Hi(n)){const s=e[n];It(s)&&tn(r,s)}else if(It(n))tn(r,n.bind(t));else if(Gi(n))if(Ut(n))n.forEach(s=>uT(s,e,t,i));else{const s=It(n.handler)?n.handler.bind(t):e[n.handler];It(s)&&tn(r,s,n)}}function fT(n){const e=n.type,{mixins:t,extends:i}=e,{mixins:r,optionsCache:s,config:{optionMergeStrategies:o}}=n.appContext,a=s.get(e);let l;return a?l=a:!r.length&&!t&&!i?l=e:(l={},r.length&&r.forEach(c=>jm(l,c,o,!0)),jm(l,e,o)),s.set(e,l),l}function jm(n,e,t,i=!1){const{mixins:r,extends:s}=e;s&&jm(n,s,t,!0),r&&r.forEach(o=>jm(n,o,t,!0));for(const o in e)if(!(i&&o==="expose")){const a=mQ[o]||t&&t[o];n[o]=a?a(n[o],e[o]):e[o]}return n}const mQ={data:hT,props:Wl,emits:Wl,methods:Wl,computed:Wl,beforeCreate:ar,created:ar,beforeMount:ar,mounted:ar,beforeUpdate:ar,updated:ar,beforeDestroy:ar,beforeUnmount:ar,destroyed:ar,unmounted:ar,activated:ar,deactivated:ar,errorCaptured:ar,serverPrefetch:ar,components:Wl,directives:Wl,watch:vQ,provide:hT,inject:gQ};function hT(n,e){return e?n?function(){return sr(It(n)?n.call(this,this):n,It(e)?e.call(this,this):e)}:e:n}function gQ(n,e){return Wl(m6(n),m6(e))}function m6(n){if(Ut(n)){const e={};for(let t=0;t<n.length;t++)e[n[t]]=n[t];return e}return n}function ar(n,e){return n?[...new Set([].concat(n,e))]:e}function Wl(n,e){return n?sr(sr(Object.create(null),n),e):e}function vQ(n,e){if(!n)return e;if(!e)return n;const t=sr(Object.create(null),n);for(const i in e)t[i]=ar(n[i],e[i]);return t}function xQ(n,e,t,i=!1){const r={},s={};zm(s,Qm,1),n.propsDefaults=Object.create(null),dT(n,e,r,s);for(const o in n.propsOptions[0])o in r||(r[o]=void 0);t?n.props=i?r:kZ(r):n.type.props?n.props=r:n.props=s,n.attrs=s}function yQ(n,e,t,i){const{props:r,attrs:s,vnode:{patchFlag:o}}=n,a=en(r),[l]=n.propsOptions;let c=!1;if((i||o>0)&&!(o&16)){if(o&8){const u=n.vnode.dynamicProps;for(let f=0;f<u.length;f++){let h=u[f];const d=e[h];if(l)if(qt(s,h))d!==s[h]&&(s[h]=d,c=!0);else{const m=A0(h);r[m]=g6(l,a,m,d,n,!1)}else d!==s[h]&&(s[h]=d,c=!0)}}}else{dT(n,e,r,s)&&(c=!0);let u;for(const f in a)(!e||!qt(e,f)&&((u=zu(f))===f||!qt(e,u)))&&(l?t&&(t[f]!==void 0||t[u]!==void 0)&&(r[f]=g6(l,a,f,void 0,n,!0)):delete r[f]);if(s!==a)for(const f in s)(!e||!qt(e,f))&&(delete s[f],c=!0)}c&&xo(n,"set","$attrs")}function dT(n,e,t,i){const[r,s]=n.propsOptions;let o=!1,a;if(e)for(let l in e){if(Nm(l))continue;const c=e[l];let u;r&&qt(r,u=A0(l))?!s||!s.includes(u)?t[u]=c:(a||(a={}))[u]=c:u6(n.emitsOptions,l)||c!==i[l]&&(i[l]=c,o=!0)}if(s){const l=en(t),c=a||hn;for(let u=0;u<s.length;u++){const f=s[u];t[f]=g6(r,l,f,c[f],n,!qt(c,f))}}return o}function g6(n,e,t,i,r,s){const o=n[t];if(o!=null){const a=qt(o,"default");if(a&&i===void 0){const l=o.default;if(o.type!==Function&&It(l)){const{propsDefaults:c}=r;t in c?i=c[t]:(Vu(r),i=c[t]=l.call(null,e),$l())}else i=l}o[0]&&(s&&!a?i=!1:o[1]&&(i===""||i===zu(t))&&(i=!0))}return i}function pT(n,e,t=!1){const i=e.propsCache,r=i.get(n);if(r)return r;const s=n.props,o={},a=[];let l=!1;if(!It(n)){const u=f=>{l=!0;const[h,d]=pT(f,e,!0);sr(o,h),d&&a.push(...d)};!t&&e.mixins.length&&e.mixins.forEach(u),n.extends&&u(n.extends),n.mixins&&n.mixins.forEach(u)}if(!s&&!l)return i.set(n,Uu),Uu;if(Ut(s))for(let u=0;u<s.length;u++){const f=A0(s[u]);mT(f)&&(o[f]=hn)}else if(s)for(const u in s){const f=A0(u);if(mT(f)){const h=s[u],d=o[f]=Ut(h)||It(h)?{type:h}:h;if(d){const m=xT(Boolean,d.type),v=xT(String,d.type);d[0]=m>-1,d[1]=v<0||m<v,(m>-1||qt(d,"default"))&&a.push(f)}}}const c=[o,a];return i.set(n,c),c}function mT(n){return n[0]!=="$"}function gT(n){const e=n&&n.toString().match(/^\s*function (\w+)/);return e?e[1]:n===null?"null":""}function vT(n,e){return gT(n)===gT(e)}function xT(n,e){return Ut(e)?e.findIndex(t=>vT(t,n)):It(e)&&vT(e,n)?0:-1}const yT=n=>n[0]==="_"||n==="$stable",v6=n=>Ut(n)?n.map(L0):[L0(n)],_Q=(n,e,t)=>{const i=qZ((...r)=>v6(e(...r)),t);return i._c=!1,i},_T=(n,e,t)=>{const i=n._ctx;for(const r in n){if(yT(r))continue;const s=n[r];if(It(s))e[r]=_Q(r,s,i);else if(s!=null){const o=v6(s);e[r]=()=>o}}},bT=(n,e)=>{const t=v6(e);n.slots.default=()=>t},bQ=(n,e)=>{if(n.vnode.shapeFlag&32){const t=e._;t?(n.slots=en(e),zm(e,"_",t)):_T(e,n.slots={})}else n.slots={},e&&bT(n,e);zm(n.slots,Qm,1)},wQ=(n,e,t)=>{const{vnode:i,slots:r}=n;let s=!0,o=hn;if(i.shapeFlag&32){const a=e._;a?t&&a===1?s=!1:(sr(r,e),!t&&a===1&&delete r._):(s=!e.$stable,_T(e,r)),o=e}else e&&(bT(n,e),o={default:1});if(s)for(const a in r)!yT(a)&&!(a in o)&&delete r[a]};function wwe(n,e){const t=Qs;if(t===null)return n;const i=t.proxy,r=n.dirs||(n.dirs=[]);for(let s=0;s<e.length;s++){let[o,a,l,c=hn]=e[s];It(o)&&(o={mounted:o,updated:o}),o.deep&&ql(a),r.push({dir:o,instance:i,value:a,oldValue:void 0,arg:l,modifiers:c})}return n}function Xl(n,e,t,i){const r=n.dirs,s=e&&e.dirs;for(let o=0;o<r.length;o++){const a=r[o];s&&(a.oldValue=s[o].value);let l=a.dir[i];l&&(Hu(),Js(l,t,8,[n.el,a,n,e]),Vl())}}function wT(){return{app:null,config:{isNativeTag:nZ,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let MQ=0;function SQ(n,e){return function(i,r=null){r!=null&&!Gi(r)&&(r=null);const s=wT(),o=new Set;let a=!1;const l=s.app={_uid:MQ++,_component:i,_props:r,_container:null,_context:s,_instance:null,version:JQ,get config(){return s.config},set config(c){},use(c,...u){return o.has(c)||(c&&It(c.install)?(o.add(c),c.install(l,...u)):It(c)&&(o.add(c),c(l,...u))),l},mixin(c){return s.mixins.includes(c)||s.mixins.push(c),l},component(c,u){return u?(s.components[c]=u,l):s.components[c]},directive(c,u){return u?(s.directives[c]=u,l):s.directives[c]},mount(c,u,f){if(!a){const h=_s(i,r);return h.appContext=s,u&&e?e(h,c):n(h,c,f),a=!0,l._container=c,c.__vue_app__=l,S6(h.component)||h.component.proxy}},unmount(){a&&(n(null,l._container),delete l._container.__vue_app__)},provide(c,u){return s.provides[c]=u,l}};return l}}const lr=eQ;function AQ(n){return TQ(n)}function TQ(n,e){const t=fZ();t.__VUE__=!0;const{insert:i,remove:r,patchProp:s,createElement:o,createText:a,createComment:l,setText:c,setElementText:u,parentNode:f,nextSibling:h,setScopeId:d=Zs,cloneNode:m,insertStaticContent:v}=n,_=(z,W,se,ae=null,L=null,E=null,J=!1,K=null,ce=!!W.dynamicChildren)=>{if(z===W)return;z&&!Xd(z,W)&&(ae=be(z),de(z,L,E,!0),z=null),W.patchFlag===-2&&(ce=!1,W.dynamicChildren=null);const{type:pe,ref:Ce,shapeFlag:Ae}=W;switch(pe){case y6:g(z,W,se,ae);break;case Vd:x(z,W,se,ae);break;case _6:z==null&&b(W,se,ae,J);break;case _o:D(z,W,se,ae,L,E,J,K,ce);break;default:Ae&1?A(z,W,se,ae,L,E,J,K,ce):Ae&6?P(z,W,se,ae,L,E,J,K,ce):(Ae&64||Ae&128)&&pe.process(z,W,se,ae,L,E,J,K,ce,_e)}Ce!=null&&L&&x6(Ce,z&&z.ref,E,W||z,!W)},g=(z,W,se,ae)=>{if(z==null)i(W.el=a(W.children),se,ae);else{const L=W.el=z.el;W.children!==z.children&&c(L,W.children)}},x=(z,W,se,ae)=>{z==null?i(W.el=l(W.children||""),se,ae):W.el=z.el},b=(z,W,se,ae)=>{[z.el,z.anchor]=v(z.children,W,se,ae)},w=({el:z,anchor:W},se,ae)=>{let L;for(;z&&z!==W;)L=h(z),i(z,se,ae),z=L;i(W,se,ae)},S=({el:z,anchor:W})=>{let se;for(;z&&z!==W;)se=h(z),r(z),z=se;r(W)},A=(z,W,se,ae,L,E,J,K,ce)=>{J=J||W.type==="svg",z==null?T(W,se,ae,L,E,J,K,ce):N(z,W,L,E,J,K,ce)},T=(z,W,se,ae,L,E,J,K)=>{let ce,pe;const{type:Ce,props:Ae,shapeFlag:Re,transition:Ee,patchFlag:V,dirs:we}=z;if(z.el&&m!==void 0&&V===-1)ce=z.el=m(z.el);else{if(ce=z.el=o(z.type,E,Ae&&Ae.is,Ae),Re&8?u(ce,z.children):Re&16&&U(z.children,ce,null,ae,L,E&&Ce!=="foreignObject",J,K),we&&Xl(z,null,ae,"created"),Ae){for(const Pe in Ae)Pe!=="value"&&!Nm(Pe)&&s(ce,Pe,null,Ae[Pe],E,z.children,ae,L,ge);"value"in Ae&&s(ce,"value",null,Ae.value),(pe=Ae.onVnodeBeforeMount)&&E0(pe,ae,z)}F(ce,z,z.scopeId,J,ae)}we&&Xl(z,null,ae,"beforeMount");const le=(!L||L&&!L.pendingBranch)&&Ee&&!Ee.persisted;le&&Ee.beforeEnter(ce),i(ce,W,se),((pe=Ae&&Ae.onVnodeMounted)||le||we)&&lr(()=>{pe&&E0(pe,ae,z),le&&Ee.enter(ce),we&&Xl(z,null,ae,"mounted")},L)},F=(z,W,se,ae,L)=>{if(se&&d(z,se),ae)for(let E=0;E<ae.length;E++)d(z,ae[E]);if(L){let E=L.subTree;if(W===E){const J=L.vnode;F(z,J,J.scopeId,J.slotScopeIds,L.parent)}}},U=(z,W,se,ae,L,E,J,K,ce=0)=>{for(let pe=ce;pe<z.length;pe++){const Ce=z[pe]=K?ma(z[pe]):L0(z[pe]);_(null,Ce,W,se,ae,L,E,J,K)}},N=(z,W,se,ae,L,E,J)=>{const K=W.el=z.el;let{patchFlag:ce,dynamicChildren:pe,dirs:Ce}=W;ce|=z.patchFlag&16;const Ae=z.props||hn,Re=W.props||hn;let Ee;(Ee=Re.onVnodeBeforeUpdate)&&E0(Ee,se,W,z),Ce&&Xl(W,z,se,"beforeUpdate");const V=L&&W.type!=="foreignObject";if(pe?O(z.dynamicChildren,pe,K,se,ae,V,E):J||j(z,W,K,null,se,ae,V,E,!1),ce>0){if(ce&16)G(K,W,Ae,Re,se,ae,L);else if(ce&2&&Ae.class!==Re.class&&s(K,"class",null,Re.class,L),ce&4&&s(K,"style",Ae.style,Re.style,L),ce&8){const we=W.dynamicProps;for(let le=0;le<we.length;le++){const Pe=we[le],ee=Ae[Pe],Ue=Re[Pe];(Ue!==ee||Pe==="value")&&s(K,Pe,ee,Ue,L,z.children,se,ae,ge)}}ce&1&&z.children!==W.children&&u(K,W.children)}else!J&&pe==null&&G(K,W,Ae,Re,se,ae,L);((Ee=Re.onVnodeUpdated)||Ce)&&lr(()=>{Ee&&E0(Ee,se,W,z),Ce&&Xl(W,z,se,"updated")},ae)},O=(z,W,se,ae,L,E,J)=>{for(let K=0;K<W.length;K++){const ce=z[K],pe=W[K],Ce=ce.el&&(ce.type===_o||!Xd(ce,pe)||ce.shapeFlag&(6|64))?f(ce.el):se;_(ce,pe,Ce,null,ae,L,E,J,!0)}},G=(z,W,se,ae,L,E,J)=>{if(se!==ae){for(const K in ae){if(Nm(K))continue;const ce=ae[K],pe=se[K];ce!==pe&&K!=="value"&&s(z,K,pe,ce,J,W.children,L,E,ge)}if(se!==hn)for(const K in se)!Nm(K)&&!(K in ae)&&s(z,K,se[K],null,J,W.children,L,E,ge);"value"in ae&&s(z,"value",se.value,ae.value)}},D=(z,W,se,ae,L,E,J,K,ce)=>{const pe=W.el=z?z.el:a(""),Ce=W.anchor=z?z.anchor:a("");let{patchFlag:Ae,dynamicChildren:Re,slotScopeIds:Ee}=W;Ee&&(K=K?K.concat(Ee):Ee),z==null?(i(pe,se,ae),i(Ce,se,ae),U(W.children,se,Ce,L,E,J,K,ce)):Ae>0&&Ae&64&&Re&&z.dynamicChildren?(O(z.dynamicChildren,Re,se,L,E,J,K),(W.key!=null||L&&W===L.subTree)&&MT(z,W,!0)):j(z,W,se,Ce,L,E,J,K,ce)},P=(z,W,se,ae,L,E,J,K,ce)=>{W.slotScopeIds=K,z==null?W.shapeFlag&512?L.ctx.activate(W,se,ae,J,ce):I(W,se,ae,L,E,J,ce):C(z,W,ce)},I=(z,W,se,ae,L,E,J)=>{const K=z.component=zQ(z,ae,L);if(aT(z)&&(K.ctx.renderer=_e),kQ(K),K.asyncDep){if(L&&L.registerDep(K,B),!z.el){const ce=K.subTree=_s(Vd);x(null,ce,W,se)}return}B(K,z,W,se,L,E,J)},C=(z,W,se)=>{const ae=W.component=z.component;if(QZ(z,W,se))if(ae.asyncDep&&!ae.asyncResolved){Y(ae,W,se);return}else ae.next=W,qQ(ae.update),ae.update();else W.component=z.component,W.el=z.el,ae.vnode=W},B=(z,W,se,ae,L,E,J)=>{const K=()=>{if(z.isMounted){let{next:Ce,bu:Ae,u:Re,parent:Ee,vnode:V}=z,we=Ce,le;ce.allowRecurse=!1,Ce?(Ce.el=V.el,Y(z,Ce,J)):Ce=V,Ae&&Um(Ae),(le=Ce.props&&Ce.props.onVnodeBeforeUpdate)&&E0(le,Ee,Ce,V),ce.allowRecurse=!0;const Pe=f6(z),ee=z.subTree;z.subTree=Pe,_(ee,Pe,f(ee.el),be(ee),z,L,E),Ce.el=Pe.el,we===null&&JZ(z,Pe.el),Re&&lr(Re,L),(le=Ce.props&&Ce.props.onVnodeUpdated)&&lr(()=>E0(le,Ee,Ce,V),L)}else{let Ce;const{el:Ae,props:Re}=W,{bm:Ee,m:V,parent:we}=z,le=h6(W);if(ce.allowRecurse=!1,Ee&&Um(Ee),!le&&(Ce=Re&&Re.onVnodeBeforeMount)&&E0(Ce,we,W),ce.allowRecurse=!0,Ae&&X){const Pe=()=>{z.subTree=f6(z),X(Ae,z.subTree,z,L,null)};le?W.type.__asyncLoader().then(()=>!z.isUnmounted&&Pe()):Pe()}else{const Pe=z.subTree=f6(z);_(null,Pe,se,ae,z,L,E),W.el=Pe.el}if(V&&lr(V,L),!le&&(Ce=Re&&Re.onVnodeMounted)){const Pe=W;lr(()=>E0(Ce,we,Pe),L)}W.shapeFlag&256&&z.a&&lr(z.a,L),z.isMounted=!0,W=se=ae=null}},ce=new n6(K,()=>OT(z.update),z.scope),pe=z.update=ce.run.bind(ce);pe.id=z.uid,ce.allowRecurse=pe.allowRecurse=!0,pe()},Y=(z,W,se)=>{W.component=z;const ae=z.vnode.props;z.vnode=W,z.next=null,yQ(z,W.props,ae,se),wQ(z,W.children,se),Hu(),L6(void 0,z.update),Vl()},j=(z,W,se,ae,L,E,J,K,ce=!1)=>{const pe=z&&z.children,Ce=z?z.shapeFlag:0,Ae=W.children,{patchFlag:Re,shapeFlag:Ee}=W;if(Re>0){if(Re&128){ie(pe,Ae,se,ae,L,E,J,K,ce);return}else if(Re&256){re(pe,Ae,se,ae,L,E,J,K,ce);return}}Ee&8?(Ce&16&&ge(pe,L,E),Ae!==pe&&u(se,Ae)):Ce&16?Ee&16?ie(pe,Ae,se,ae,L,E,J,K,ce):ge(pe,L,E,!0):(Ce&8&&u(se,""),Ee&16&&U(Ae,se,ae,L,E,J,K,ce))},re=(z,W,se,ae,L,E,J,K,ce)=>{z=z||Uu,W=W||Uu;const pe=z.length,Ce=W.length,Ae=Math.min(pe,Ce);let Re;for(Re=0;Re<Ae;Re++){const Ee=W[Re]=ce?ma(W[Re]):L0(W[Re]);_(z[Re],Ee,se,null,L,E,J,K,ce)}pe>Ce?ge(z,L,E,!0,!1,Ae):U(W,se,ae,L,E,J,K,ce,Ae)},ie=(z,W,se,ae,L,E,J,K,ce)=>{let pe=0;const Ce=W.length;let Ae=z.length-1,Re=Ce-1;for(;pe<=Ae&&pe<=Re;){const Ee=z[pe],V=W[pe]=ce?ma(W[pe]):L0(W[pe]);if(Xd(Ee,V))_(Ee,V,se,null,L,E,J,K,ce);else break;pe++}for(;pe<=Ae&&pe<=Re;){const Ee=z[Ae],V=W[Re]=ce?ma(W[Re]):L0(W[Re]);if(Xd(Ee,V))_(Ee,V,se,null,L,E,J,K,ce);else break;Ae--,Re--}if(pe>Ae){if(pe<=Re){const Ee=Re+1,V=Ee<Ce?W[Ee].el:ae;for(;pe<=Re;)_(null,W[pe]=ce?ma(W[pe]):L0(W[pe]),se,V,L,E,J,K,ce),pe++}}else if(pe>Re)for(;pe<=Ae;)de(z[pe],L,E,!0),pe++;else{const Ee=pe,V=pe,we=new Map;for(pe=V;pe<=Re;pe++){const tt=W[pe]=ce?ma(W[pe]):L0(W[pe]);tt.key!=null&&we.set(tt.key,pe)}let le,Pe=0;const ee=Re-V+1;let Ue=!1,lt=0;const at=new Array(ee);for(pe=0;pe<ee;pe++)at[pe]=0;for(pe=Ee;pe<=Ae;pe++){const tt=z[pe];if(Pe>=ee){de(tt,L,E,!0);continue}let _t;if(tt.key!=null)_t=we.get(tt.key);else for(le=V;le<=Re;le++)if(at[le-V]===0&&Xd(tt,W[le])){_t=le;break}_t===void 0?de(tt,L,E,!0):(at[_t-V]=pe+1,_t>=lt?lt=_t:Ue=!0,_(tt,W[_t],se,null,L,E,J,K,ce),Pe++)}const Ot=Ue?EQ(at):Uu;for(le=Ot.length-1,pe=ee-1;pe>=0;pe--){const tt=V+pe,_t=W[tt],Vt=tt+1<Ce?W[tt+1].el:ae;at[pe]===0?_(null,_t,se,Vt,L,E,J,K,ce):Ue&&(le<0||pe!==Ot[le]?ve(_t,se,Vt,2):le--)}}},ve=(z,W,se,ae,L=null)=>{const{el:E,type:J,transition:K,children:ce,shapeFlag:pe}=z;if(pe&6){ve(z.component.subTree,W,se,ae);return}if(pe&128){z.suspense.move(W,se,ae);return}if(pe&64){J.move(z,W,se,_e);return}if(J===_o){i(E,W,se);for(let Ae=0;Ae<ce.length;Ae++)ve(ce[Ae],W,se,ae);i(z.anchor,W,se);return}if(J===_6){w(z,W,se);return}if(ae!==2&&pe&1&&K)if(ae===0)K.beforeEnter(E),i(E,W,se),lr(()=>K.enter(E),L);else{const{leave:Ae,delayLeave:Re,afterLeave:Ee}=K,V=()=>i(E,W,se),we=()=>{Ae(E,()=>{V(),Ee&&Ee()})};Re?Re(E,V,we):we()}else i(E,W,se)},de=(z,W,se,ae=!1,L=!1)=>{const{type:E,props:J,ref:K,children:ce,dynamicChildren:pe,shapeFlag:Ce,patchFlag:Ae,dirs:Re}=z;if(K!=null&&x6(K,null,se,z,!0),Ce&256){W.ctx.deactivate(z);return}const Ee=Ce&1&&Re,V=!h6(z);let we;if(V&&(we=J&&J.onVnodeBeforeUnmount)&&E0(we,W,z),Ce&6)$(z.component,se,ae);else{if(Ce&128){z.suspense.unmount(se,ae);return}Ee&&Xl(z,null,W,"beforeUnmount"),Ce&64?z.type.remove(z,W,se,L,_e,ae):pe&&(E!==_o||Ae>0&&Ae&64)?ge(pe,W,se,!1,!0):(E===_o&&Ae&(128|256)||!L&&Ce&16)&&ge(ce,W,se),ae&&ye(z)}(V&&(we=J&&J.onVnodeUnmounted)||Ee)&&lr(()=>{we&&E0(we,W,z),Ee&&Xl(z,null,W,"unmounted")},se)},ye=z=>{const{type:W,el:se,anchor:ae,transition:L}=z;if(W===_o){te(se,ae);return}if(W===_6){S(z);return}const E=()=>{r(se),L&&!L.persisted&&L.afterLeave&&L.afterLeave()};if(z.shapeFlag&1&&L&&!L.persisted){const{leave:J,delayLeave:K}=L,ce=()=>J(se,E);K?K(z.el,E,ce):ce()}else E()},te=(z,W)=>{let se;for(;z!==W;)se=h(z),r(z),z=se;r(W)},$=(z,W,se)=>{const{bum:ae,scope:L,update:E,subTree:J,um:K}=z;ae&&Um(ae),L.stop(),E&&(E.active=!1,de(J,z,W,se)),K&&lr(K,W),lr(()=>{z.isUnmounted=!0},W),W&&W.pendingBranch&&!W.isUnmounted&&z.asyncDep&&!z.asyncResolved&&z.suspenseId===W.pendingId&&(W.deps--,W.deps===0&&W.resolve())},ge=(z,W,se,ae=!1,L=!1,E=0)=>{for(let J=E;J<z.length;J++)de(z[J],W,se,ae,L)},be=z=>z.shapeFlag&6?be(z.component.subTree):z.shapeFlag&128?z.suspense.next():h(z.anchor||z.el),ue=(z,W,se)=>{z==null?W._vnode&&de(W._vnode,null,null,!0):_(W._vnode||null,z,W,null,null,null,se),zT(),W._vnode=z},_e={p:_,um:de,m:ve,r:ye,mt:I,mc:U,pc:j,pbc:O,n:be,o:n};let Te,X;return e&&([Te,X]=e(_e)),{render:ue,hydrate:Te,createApp:SQ(ue,Te)}}function x6(n,e,t,i,r=!1){if(Ut(n)){n.forEach((h,d)=>x6(h,e&&(Ut(e)?e[d]:e),t,i,r));return}if(h6(i)&&!r)return;const s=i.shapeFlag&4?S6(i.component)||i.component.proxy:i.el,o=r?null:s,{i:a,r:l}=n,c=e&&e.r,u=a.refs===hn?a.refs={}:a.refs,f=a.setupState;if(c!=null&&c!==l&&(Hi(c)?(u[c]=null,qt(f,c)&&(f[c]=null)):or(c)&&(c.value=null)),Hi(l)){const h=()=>{u[l]=o,qt(f,l)&&(f[l]=o)};o?(h.id=-1,lr(h,t)):h()}else if(or(l)){const h=()=>{l.value=o};o?(h.id=-1,lr(h,t)):h()}else It(l)&&ga(l,a,12,[o,u])}function E0(n,e,t,i=null){Js(n,e,7,[t,i])}function MT(n,e,t=!1){const i=n.children,r=e.children;if(Ut(i)&&Ut(r))for(let s=0;s<i.length;s++){const o=i[s];let a=r[s];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=r[s]=ma(r[s]),a.el=o.el),t||MT(o,a))}}function EQ(n){const e=n.slice(),t=[0];let i,r,s,o,a;const l=n.length;for(i=0;i<l;i++){const c=n[i];if(c!==0){if(r=t[t.length-1],n[r]<c){e[i]=r,t.push(i);continue}for(s=0,o=t.length-1;s<o;)a=s+o>>1,n[t[a]]<c?s=a+1:o=a;c<n[t[s]]&&(s>0&&(e[i]=t[s-1]),t[s]=i)}}for(s=t.length,o=t[s-1];s-- >0;)t[s]=o,o=e[o];return t}const LQ=n=>n.__isTeleport,ST="components";function Mwe(n,e){return PQ(ST,n,!0,e)||n}const CQ=Symbol();function PQ(n,e,t=!0,i=!1){const r=Qs||Pi;if(r){const s=r.type;if(n===ST){const a=WQ(s);if(a&&(a===e||a===A0(e)||a===Bm(A0(e))))return s}const o=AT(r[n]||s[n],e)||AT(r.appContext[n],e);return!o&&i?s:o}}function AT(n,e){return n&&(n[e]||n[A0(e)]||n[Bm(A0(e))])}const _o=Symbol(void 0),y6=Symbol(void 0),Vd=Symbol(void 0),_6=Symbol(void 0),Wd=[];let Yl=null;function Swe(n=!1){Wd.push(Yl=n?null:[])}function RQ(){Wd.pop(),Yl=Wd[Wd.length-1]||null}let Zm=1;function TT(n){Zm+=n}function ET(n){return n.dynamicChildren=Zm>0?Yl||Uu:null,RQ(),Zm>0&&Yl&&Yl.push(n),n}function Awe(n,e,t,i,r,s){return ET(CT(n,e,t,i,r,s,!0))}function Twe(n,e,t,i,r){return ET(_s(n,e,t,i,r,!0))}function b6(n){return n?n.__v_isVNode===!0:!1}function Xd(n,e){return n.type===e.type&&n.key===e.key}const Qm="__vInternal",LT=({key:n})=>n!=null?n:null,Jm=({ref:n})=>n!=null?Hi(n)||or(n)||It(n)?{i:Qs,r:n}:n:null;function CT(n,e=null,t=null,i=0,r=null,s=n===_o?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:n,props:e,key:e&&LT(e),ref:e&&Jm(e),scopeId:sT,slotScopeIds:null,children:t,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:s,patchFlag:i,dynamicProps:r,dynamicChildren:null,appContext:null};return a?(w6(l,t),s&128&&n.normalize(l)):t&&(l.shapeFlag|=Hi(t)?8:16),Zm>0&&!o&&Yl&&(l.patchFlag>0||s&6)&&l.patchFlag!==32&&Yl.push(l),l}const _s=FQ;function FQ(n,e=null,t=null,i=0,r=null,s=!1){if((!n||n===CQ)&&(n=Vd),b6(n)){const a=Yd(n,e,!0);return t&&w6(a,t),a}if(XQ(n)&&(n=n.__vccOpts),e){e=IQ(e);let{class:a,style:l}=e;a&&!Hi(a)&&(e.class=Y8(a)),Gi(l)&&(QA(l)&&!Ut(l)&&(l=sr({},l)),e.style=X8(l))}const o=Hi(n)?1:KZ(n)?128:LQ(n)?64:Gi(n)?4:It(n)?2:0;return CT(n,e,t,i,r,o,s,!0)}function IQ(n){return n?QA(n)||Qm in n?sr({},n):n:null}function Yd(n,e,t=!1){const{props:i,ref:r,patchFlag:s,children:o}=n,a=e?NQ(i||{},e):i;return{__v_isVNode:!0,__v_skip:!0,type:n.type,props:a,key:a&&LT(a),ref:e&&e.ref?t&&r?Ut(r)?r.concat(Jm(e)):[r,Jm(e)]:Jm(e):r,scopeId:n.scopeId,slotScopeIds:n.slotScopeIds,children:o,target:n.target,targetAnchor:n.targetAnchor,staticCount:n.staticCount,shapeFlag:n.shapeFlag,patchFlag:e&&n.type!==_o?s===-1?16:s|16:s,dynamicProps:n.dynamicProps,dynamicChildren:n.dynamicChildren,appContext:n.appContext,dirs:n.dirs,transition:n.transition,component:n.component,suspense:n.suspense,ssContent:n.ssContent&&Yd(n.ssContent),ssFallback:n.ssFallback&&Yd(n.ssFallback),el:n.el,anchor:n.anchor}}function DQ(n=" ",e=0){return _s(y6,null,n,e)}function L0(n){return n==null||typeof n=="boolean"?_s(Vd):Ut(n)?_s(_o,null,n.slice()):typeof n=="object"?ma(n):_s(y6,null,String(n))}function ma(n){return n.el===null||n.memo?n:Yd(n)}function w6(n,e){let t=0;const{shapeFlag:i}=n;if(e==null)e=null;else if(Ut(e))t=16;else if(typeof e=="object")if(i&(1|64)){const r=e.default;r&&(r._c&&(r._d=!1),w6(n,r()),r._c&&(r._d=!0));return}else{t=32;const r=e._;!r&&!(Qm in e)?e._ctx=Qs:r===3&&Qs&&(Qs.slots._===1?e._=1:(e._=2,n.patchFlag|=1024))}else It(e)?(e={default:e,_ctx:Qs},t=32):(e=String(e),i&64?(t=16,e=[DQ(e)]):t=8);n.children=e,n.shapeFlag|=t}function NQ(...n){const e={};for(let t=0;t<n.length;t++){const i=n[t];for(const r in i)if(r==="class")e.class!==i.class&&(e.class=Y8([e.class,i.class]));else if(r==="style")e.style=X8([e.style,i.style]);else if(Im(r)){const s=e[r],o=i[r];s!==o&&(e[r]=s?[].concat(s,o):o)}else r!==""&&(e[r]=i[r])}return e}const M6=n=>n?PT(n)?S6(n)||n.proxy:M6(n.parent):null,Km=sr(Object.create(null),{$:n=>n,$el:n=>n.vnode.el,$data:n=>n.data,$props:n=>n.props,$attrs:n=>n.attrs,$slots:n=>n.slots,$refs:n=>n.refs,$parent:n=>M6(n.parent),$root:n=>M6(n.root),$emit:n=>n.emit,$options:n=>fT(n),$forceUpdate:n=>()=>OT(n.update),$nextTick:n=>NT.bind(n.proxy),$watch:n=>QQ.bind(n)}),OQ={get({_:n},e){const{ctx:t,setupState:i,data:r,props:s,accessCache:o,type:a,appContext:l}=n;let c;if(e[0]!=="$"){const d=o[e];if(d!==void 0)switch(d){case 0:return i[e];case 1:return r[e];case 3:return t[e];case 2:return s[e]}else{if(i!==hn&&qt(i,e))return o[e]=0,i[e];if(r!==hn&&qt(r,e))return o[e]=1,r[e];if((c=n.propsOptions[0])&&qt(c,e))return o[e]=2,s[e];if(t!==hn&&qt(t,e))return o[e]=3,t[e];p6&&(o[e]=4)}}const u=Km[e];let f,h;if(u)return e==="$attrs"&&jr(n,"get",e),u(n);if((f=a.__cssModules)&&(f=f[e]))return f;if(t!==hn&&qt(t,e))return o[e]=3,t[e];if(h=l.config.globalProperties,qt(h,e))return h[e]},set({_:n},e,t){const{data:i,setupState:r,ctx:s}=n;if(r!==hn&&qt(r,e))r[e]=t;else if(i!==hn&&qt(i,e))i[e]=t;else if(qt(n.props,e))return!1;return e[0]==="$"&&e.slice(1)in n?!1:(s[e]=t,!0)},has({_:{data:n,setupState:e,accessCache:t,ctx:i,appContext:r,propsOptions:s}},o){let a;return t[o]!==void 0||n!==hn&&qt(n,o)||e!==hn&&qt(e,o)||(a=s[0])&&qt(a,o)||qt(i,o)||qt(Km,o)||qt(r.config.globalProperties,o)}},BQ=wT();let UQ=0;function zQ(n,e,t){const i=n.type,r=(e?e.appContext:n.appContext)||BQ,s={uid:UQ++,vnode:n,type:i,parent:e,appContext:r,root:null,next:null,subTree:null,update:null,scope:new hZ(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(r.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:pT(i,r),emitsOptions:rT(i,r),emit:null,emitted:null,propsDefaults:hn,inheritAttrs:i.inheritAttrs,ctx:hn,data:hn,props:hn,attrs:hn,slots:hn,refs:hn,setupState:hn,setupContext:null,suspense:t,suspenseId:t?t.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return s.ctx={_:s},s.root=e?e.root:s,s.emit=$Z.bind(null,s),n.ce&&n.ce(s),s}let Pi=null;const Vu=n=>{Pi=n,n.scope.on()},$l=()=>{Pi&&Pi.scope.off(),Pi=null};function PT(n){return n.vnode.shapeFlag&4}let e3=!1;function kQ(n,e=!1){e3=e;const{props:t,children:i}=n.vnode,r=PT(n);xQ(n,t,r,e),bQ(n,i);const s=r?HQ(n,e):void 0;return e3=!1,s}function HQ(n,e){const t=n.type;n.accessCache=Object.create(null),n.proxy=JA(new Proxy(n.ctx,OQ));const{setup:i}=t;if(i){const r=n.setupContext=i.length>1?VQ(n):null;Vu(n),Hu();const s=ga(i,n,0,[n.props,r]);if(Vl(),$l(),RA(s)){if(s.then($l,$l),e)return s.then(o=>{RT(n,o,e)}).catch(o=>{t3(o,n,0)});n.asyncDep=s}else RT(n,s,e)}else IT(n,e)}function RT(n,e,t){It(e)?n.type.__ssrInlineRender?n.ssrRender=e:n.render=e:Gi(e)&&(n.setupState=nT(e)),IT(n,t)}let FT;function IT(n,e,t){const i=n.type;if(!n.render){if(!e&&FT&&!i.render){const r=i.template;if(r){const{isCustomElement:s,compilerOptions:o}=n.appContext.config,{delimiters:a,compilerOptions:l}=i,c=sr(sr({isCustomElement:s,delimiters:a},o),l);i.render=FT(r,c)}}n.render=i.render||Zs}Vu(n),Hu(),dQ(n),Vl(),$l()}function GQ(n){return new Proxy(n.attrs,{get(e,t){return jr(n,"get","$attrs"),e[t]}})}function VQ(n){const e=i=>{n.exposed=i||{}};let t;return{get attrs(){return t||(t=GQ(n))},slots:n.slots,emit:n.emit,expose:e}}function S6(n){if(n.exposed)return n.exposeProxy||(n.exposeProxy=new Proxy(nT(JA(n.exposed)),{get(e,t){if(t in e)return e[t];if(t in Km)return Km[t](n)}}))}function WQ(n){return It(n)&&n.displayName||n.name}function XQ(n){return It(n)&&"__vccOpts"in n}function ga(n,e,t,i){let r;try{r=i?n(...i):n()}catch(s){t3(s,e,t)}return r}function Js(n,e,t,i){if(It(n)){const s=ga(n,e,t,i);return s&&RA(s)&&s.catch(o=>{t3(o,e,t)}),s}const r=[];for(let s=0;s<n.length;s++)r.push(Js(n[s],e,t,i));return r}function t3(n,e,t,i=!0){const r=e?e.vnode:null;if(e){let s=e.parent;const o=e.proxy,a=t;for(;s;){const c=s.ec;if(c){for(let u=0;u<c.length;u++)if(c[u](n,o,a)===!1)return}s=s.parent}const l=e.appContext.config.errorHandler;if(l){ga(l,null,10,[n,o,a]);return}}YQ(n,t,r,i)}function YQ(n,e,t,i=!0){console.error(n)}let n3=!1,A6=!1;const Zr=[];let bo=0;const $d=[];let qd=null,Wu=0;const jd=[];let va=null,Xu=0;const DT=Promise.resolve();let T6=null,E6=null;function NT(n){const e=T6||DT;return n?e.then(this?n.bind(this):n):e}function $Q(n){let e=bo+1,t=Zr.length;for(;e<t;){const i=e+t>>>1;Zd(Zr[i])<n?e=i+1:t=i}return e}function OT(n){(!Zr.length||!Zr.includes(n,n3&&n.allowRecurse?bo+1:bo))&&n!==E6&&(n.id==null?Zr.push(n):Zr.splice($Q(n.id),0,n),BT())}function BT(){!n3&&!A6&&(A6=!0,T6=DT.then(kT))}function qQ(n){const e=Zr.indexOf(n);e>bo&&Zr.splice(e,1)}function UT(n,e,t,i){Ut(n)?t.push(...n):(!e||!e.includes(n,n.allowRecurse?i+1:i))&&t.push(n),BT()}function jQ(n){UT(n,qd,$d,Wu)}function ZQ(n){UT(n,va,jd,Xu)}function L6(n,e=null){if($d.length){for(E6=e,qd=[...new Set($d)],$d.length=0,Wu=0;Wu<qd.length;Wu++)qd[Wu]();qd=null,Wu=0,E6=null,L6(n,e)}}function zT(n){if(jd.length){const e=[...new Set(jd)];if(jd.length=0,va){va.push(...e);return}for(va=e,va.sort((t,i)=>Zd(t)-Zd(i)),Xu=0;Xu<va.length;Xu++)va[Xu]();va=null,Xu=0}}const Zd=n=>n.id==null?1/0:n.id;function kT(n){A6=!1,n3=!0,L6(n),Zr.sort((t,i)=>Zd(t)-Zd(i));const e=Zs;try{for(bo=0;bo<Zr.length;bo++){const t=Zr[bo];t&&t.active!==!1&&ga(t,null,14)}}finally{bo=0,Zr.length=0,zT(),n3=!1,T6=null,(Zr.length||$d.length||jd.length)&&kT(n)}}function Ewe(n,e){return C6(n,null,e)}const HT={};function tn(n,e,t){return C6(n,e,t)}function C6(n,e,{immediate:t,deep:i,flush:r,onTrack:s,onTrigger:o}=hn){const a=Pi;let l,c=!1,u=!1;if(or(n)?(l=()=>n.value,c=!!n._shallow):Gu(n)?(l=()=>n,i=!0):Ut(n)?(u=!0,c=n.some(Gu),l=()=>n.map(g=>{if(or(g))return g.value;if(Gu(g))return ql(g);if(It(g))return ga(g,a,2)})):It(n)?e?l=()=>ga(n,a,2):l=()=>{if(!(a&&a.isUnmounted))return f&&f(),Js(n,a,3,[h])}:l=Zs,e&&i){const g=l;l=()=>ql(g())}let f,h=g=>{f=_.onStop=()=>{ga(g,a,4)}};if(e3)return h=Zs,e?t&&Js(e,a,3,[l(),u?[]:void 0,h]):l(),Zs;let d=u?[]:HT;const m=()=>{if(!!_.active)if(e){const g=_.run();(i||c||(u?g.some((x,b)=>Od(x,d[b])):Od(g,d)))&&(f&&f(),Js(e,a,3,[g,d===HT?void 0:d,h]),d=g)}else _.run()};m.allowRecurse=!!e;let v;r==="sync"?v=m:r==="post"?v=()=>lr(m,a&&a.suspense):v=()=>{!a||a.isMounted?jQ(m):m()};const _=new n6(l,v);return e?t?m():d=_.run():r==="post"?lr(_.run.bind(_),a&&a.suspense):_.run(),()=>{_.stop(),a&&a.scope&&PA(a.scope.effects,_)}}function QQ(n,e,t){const i=this.proxy,r=Hi(n)?n.includes(".")?GT(i,n):()=>i[n]:n.bind(i,i);let s;It(e)?s=e:(s=e.handler,t=e);const o=Pi;Vu(this);const a=C6(r,s.bind(i),t);return o?Vu(o):$l(),a}function GT(n,e){const t=e.split(".");return()=>{let i=n;for(let r=0;r<t.length&&i;r++)i=i[t[r]];return i}}function ql(n,e){if(!Gi(n)||n.__v_skip||(e=e||new Set,e.has(n)))return n;if(e.add(n),or(n))ql(n.value,e);else if(Ut(n))for(let t=0;t<n.length;t++)ql(n[t],e);else if(sZ(n)||Nd(n))n.forEach(t=>{ql(t,e)});else if(lZ(n))for(const t in n)ql(n[t],e);return n}function VT(n,e,t){const i=arguments.length;return i===2?Gi(e)&&!Ut(e)?b6(e)?_s(n,null,[e]):_s(n,e):_s(n,null,e):(i>3?t=Array.prototype.slice.call(arguments,2):i===3&&b6(t)&&(t=[t]),_s(n,e,t))}const JQ="3.2.20",KQ="http://www.w3.org/2000/svg",Yu=typeof document!="undefined"?document:null,WT=new Map,eJ={insert:(n,e,t)=>{e.insertBefore(n,t||null)},remove:n=>{const e=n.parentNode;e&&e.removeChild(n)},createElement:(n,e,t,i)=>{const r=e?Yu.createElementNS(KQ,n):Yu.createElement(n,t?{is:t}:void 0);return n==="select"&&i&&i.multiple!=null&&r.setAttribute("multiple",i.multiple),r},createText:n=>Yu.createTextNode(n),createComment:n=>Yu.createComment(n),setText:(n,e)=>{n.nodeValue=e},setElementText:(n,e)=>{n.textContent=e},parentNode:n=>n.parentNode,nextSibling:n=>n.nextSibling,querySelector:n=>Yu.querySelector(n),setScopeId(n,e){n.setAttribute(e,"")},cloneNode(n){const e=n.cloneNode(!0);return"_value"in n&&(e._value=n._value),e},insertStaticContent(n,e,t,i){const r=t?t.previousSibling:e.lastChild;let s=WT.get(n);if(!s){const o=Yu.createElement("template");if(o.innerHTML=i?`<svg>${n}</svg>`:n,s=o.content,i){const a=s.firstChild;for(;a.firstChild;)s.appendChild(a.firstChild);s.removeChild(a)}WT.set(n,s)}return e.insertBefore(s.cloneNode(!0),t),[r?r.nextSibling:e.firstChild,t?t.previousSibling:e.lastChild]}};function tJ(n,e,t){const i=n._vtc;i&&(e=(e?[e,...i]:[...i]).join(" ")),e==null?n.removeAttribute("class"):t?n.setAttribute("class",e):n.className=e}function nJ(n,e,t){const i=n.style,r=i.display;if(!t)n.removeAttribute("style");else if(Hi(t))e!==t&&(i.cssText=t);else{for(const s in t)P6(i,s,t[s]);if(e&&!Hi(e))for(const s in e)t[s]==null&&P6(i,s,"")}"_vod"in n&&(i.display=r)}const XT=/\s*!important$/;function P6(n,e,t){if(Ut(t))t.forEach(i=>P6(n,e,i));else if(e.startsWith("--"))n.setProperty(e,t);else{const i=iJ(n,e);XT.test(t)?n.setProperty(zu(i),t.replace(XT,""),"important"):n[i]=t}}const YT=["Webkit","Moz","ms"],R6={};function iJ(n,e){const t=R6[e];if(t)return t;let i=A0(e);if(i!=="filter"&&i in n)return R6[e]=i;i=Bm(i);for(let r=0;r<YT.length;r++){const s=YT[r]+i;if(s in n)return R6[e]=s}return e}const $T="http://www.w3.org/1999/xlink";function rJ(n,e,t,i,r){if(i&&e.startsWith("xlink:"))t==null?n.removeAttributeNS($T,e.slice(6,e.length)):n.setAttributeNS($T,e,t);else{const s=Jj(e);t==null||s&&!CA(t)?n.removeAttribute(e):n.setAttribute(e,s?"":t)}}function sJ(n,e,t,i,r,s,o){if(e==="innerHTML"||e==="textContent"){i&&o(i,r,s),n[e]=t==null?"":t;return}if(e==="value"&&n.tagName!=="PROGRESS"){n._value=t;const a=t==null?"":t;n.value!==a&&(n.value=a),t==null&&n.removeAttribute(e);return}if(t===""||t==null){const a=typeof n[e];if(a==="boolean"){n[e]=CA(t);return}else if(t==null&&a==="string"){n[e]="",n.removeAttribute(e);return}else if(a==="number"){try{n[e]=0}catch{}n.removeAttribute(e);return}}try{n[e]=t}catch{}}let i3=Date.now,qT=!1;if(typeof window!="undefined"){i3()>document.createEvent("Event").timeStamp&&(i3=()=>performance.now());const n=navigator.userAgent.match(/firefox\/(\d+)/i);qT=!!(n&&Number(n[1])<=53)}let F6=0;const oJ=Promise.resolve(),aJ=()=>{F6=0},lJ=()=>F6||(oJ.then(aJ),F6=i3());function $u(n,e,t,i){n.addEventListener(e,t,i)}function cJ(n,e,t,i){n.removeEventListener(e,t,i)}function uJ(n,e,t,i,r=null){const s=n._vei||(n._vei={}),o=s[e];if(i&&o)o.value=i;else{const[a,l]=fJ(e);if(i){const c=s[e]=hJ(i,r);$u(n,a,c,l)}else o&&(cJ(n,a,o,l),s[e]=void 0)}}const jT=/(?:Once|Passive|Capture)$/;function fJ(n){let e;if(jT.test(n)){e={};let t;for(;t=n.match(jT);)n=n.slice(0,n.length-t[0].length),e[t[0].toLowerCase()]=!0}return[zu(n.slice(2)),e]}function hJ(n,e){const t=i=>{const r=i.timeStamp||i3();(qT||r>=t.attached-1)&&Js(dJ(i,t.value),e,5,[i])};return t.value=n,t.attached=lJ(),t}function dJ(n,e){if(Ut(e)){const t=n.stopImmediatePropagation;return n.stopImmediatePropagation=()=>{t.call(n),n._stopped=!0},e.map(i=>r=>!r._stopped&&i(r))}else return e}const ZT=/^on[a-z]/,pJ=(n,e,t,i,r=!1,s,o,a,l)=>{e==="class"?tJ(n,i,r):e==="style"?nJ(n,t,i):Im(e)?$8(e)||uJ(n,e,t,i,o):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):mJ(n,e,i,r))?sJ(n,e,i,s,o,a,l):(e==="true-value"?n._trueValue=i:e==="false-value"&&(n._falseValue=i),rJ(n,e,i,r))};function mJ(n,e,t,i){return i?!!(e==="innerHTML"||e==="textContent"||e in n&&ZT.test(e)&&It(t)):e==="spellcheck"||e==="draggable"||e==="form"||e==="list"&&n.tagName==="INPUT"||e==="type"&&n.tagName==="TEXTAREA"||ZT.test(e)&&Hi(t)?!1:e in n}const QT=n=>{const e=n.props["onUpdate:modelValue"];return Ut(e)?t=>Um(e,t):e};function gJ(n){n.target.composing=!0}function JT(n){const e=n.target;e.composing&&(e.composing=!1,vJ(e,"input"))}function vJ(n,e){const t=document.createEvent("HTMLEvents");t.initEvent(e,!0,!0),n.dispatchEvent(t)}const Lwe={created(n,{modifiers:{lazy:e,trim:t,number:i}},r){n._assign=QT(r);const s=i||r.props&&r.props.type==="number";$u(n,e?"change":"input",o=>{if(o.target.composing)return;let a=n.value;t?a=a.trim():s&&(a=Q8(a)),n._assign(a)}),t&&$u(n,"change",()=>{n.value=n.value.trim()}),e||($u(n,"compositionstart",gJ),$u(n,"compositionend",JT),$u(n,"change",JT))},mounted(n,{value:e}){n.value=e==null?"":e},beforeUpdate(n,{value:e,modifiers:{lazy:t,trim:i,number:r}},s){if(n._assign=QT(s),n.composing||document.activeElement===n&&(t||i&&n.value.trim()===e||(r||n.type==="number")&&Q8(n.value)===e))return;const o=e==null?"":e;n.value!==o&&(n.value=o)}},xJ=sr({patchProp:pJ},eJ);let KT;function yJ(){return KT||(KT=AQ(xJ))}const _J=(...n)=>{const e=yJ().createApp(...n),{mount:t}=e;return e.mount=i=>{const r=bJ(i);if(!r)return;const s=e._component;!It(s)&&!s.render&&!s.template&&(s.template=r.innerHTML),r.innerHTML="";const o=t(r,!1,r instanceof SVGElement);return r instanceof Element&&(r.removeAttribute("v-cloak"),r.setAttribute("data-v-app","")),o},e};function bJ(n){return Hi(n)?document.querySelector(n):n}/**
 * @license
 * Copyright 2010-2021 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const I6="132",jl={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},Zl={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},eE=0,D6=1,tE=2,wJ=3,MJ=0,N6=1,nE=2,qu=3,xa=0,Hn=1,wo=2,O6=1,SJ=2,pi=0,ju=1,r3=2,B6=3,U6=4,z6=5,Mo=100,iE=101,rE=102,k6=103,H6=104,s3=200,sE=201,oE=202,aE=203,G6=204,V6=205,W6=206,lE=207,X6=208,cE=209,uE=210,fE=0,hE=1,dE=2,o3=3,pE=4,mE=5,gE=6,vE=7,Qd=0,xE=1,yE=2,ya=0,_E=1,bE=2,wE=3,ME=4,SE=5,_a=300,Ql=301,Zu=302,Qu=303,Jd=304,Ju=306,Kd=307,bs=1e3,ln=1001,Ku=1002,Qt=1003,e1=1004,AJ=1004,t1=1005,TJ=1005,Ht=1006,a3=1007,EJ=1007,C0=1008,LJ=1008,Jl=1009,AE=1010,TE=1011,ef=1012,EE=1013,n1=1014,ws=1015,So=1016,LE=1017,CE=1018,PE=1019,tf=1020,RE=1021,Or=1022,yn=1023,FE=1024,IE=1025,DE=yn,Kl=1026,nf=1027,NE=1028,OE=1029,BE=1030,UE=1031,zE=1032,kE=1033,Y6=33776,$6=33777,q6=33778,j6=33779,Z6=35840,Q6=35841,J6=35842,K6=35843,HE=36196,e7=37492,t7=37496,GE=37808,VE=37809,WE=37810,XE=37811,YE=37812,$E=37813,qE=37814,jE=37815,ZE=37816,QE=37817,JE=37818,KE=37819,eL=37820,tL=37821,nL=36492,iL=37840,rL=37841,sL=37842,oL=37843,aL=37844,lL=37845,cL=37846,uL=37847,fL=37848,hL=37849,dL=37850,pL=37851,mL=37852,gL=37853,vL=2200,xL=2201,yL=2202,rf=2300,ec=2301,l3=2302,tc=2400,nc=2401,i1=2402,c3=2500,n7=2501,_L=0,bL=1,i7=2,cr=3e3,Ms=3001,u3=3007,f3=3002,wL=3003,r7=3004,s7=3005,o7=3006,ML=3200,a7=3201,ba=0,SL=1,CJ=0,h3=7680,PJ=7681,RJ=7682,FJ=7683,IJ=34055,DJ=34056,NJ=5386,OJ=512,BJ=513,UJ=514,zJ=515,kJ=516,HJ=517,GJ=518,AL=519,sf=35044,of=35048,VJ=35040,WJ=35045,XJ=35049,YJ=35041,$J=35046,qJ=35050,jJ=35042,ZJ="100",l7="300 es";class P0{addEventListener(e,t){this._listeners===void 0&&(this._listeners={});const i=this._listeners;i[e]===void 0&&(i[e]=[]),i[e].indexOf(t)===-1&&i[e].push(t)}hasEventListener(e,t){if(this._listeners===void 0)return!1;const i=this._listeners;return i[e]!==void 0&&i[e].indexOf(t)!==-1}removeEventListener(e,t){if(this._listeners===void 0)return;const r=this._listeners[e];if(r!==void 0){const s=r.indexOf(t);s!==-1&&r.splice(s,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const i=this._listeners[e.type];if(i!==void 0){e.target=this;const r=i.slice(0);for(let s=0,o=r.length;s<o;s++)r[s].call(this,e);e.target=null}}}const Ri=[];for(let n=0;n<256;n++)Ri[n]=(n<16?"0":"")+n.toString(16);let d3=1234567;const ic=Math.PI/180,r1=180/Math.PI;function Qr(){const n=Math.random()*4294967295|0,e=Math.random()*4294967295|0,t=Math.random()*4294967295|0,i=Math.random()*4294967295|0;return(Ri[n&255]+Ri[n>>8&255]+Ri[n>>16&255]+Ri[n>>24&255]+"-"+Ri[e&255]+Ri[e>>8&255]+"-"+Ri[e>>16&15|64]+Ri[e>>24&255]+"-"+Ri[t&63|128]+Ri[t>>8&255]+"-"+Ri[t>>16&255]+Ri[t>>24&255]+Ri[i&255]+Ri[i>>8&255]+Ri[i>>16&255]+Ri[i>>24&255]).toUpperCase()}function Fi(n,e,t){return Math.max(e,Math.min(t,n))}function c7(n,e){return(n%e+e)%e}function QJ(n,e,t,i,r){return i+(n-e)*(r-i)/(t-e)}function JJ(n,e,t){return n!==e?(t-n)/(e-n):0}function s1(n,e,t){return(1-t)*n+t*e}function KJ(n,e,t,i){return s1(n,e,1-Math.exp(-t*i))}function eK(n,e=1){return e-Math.abs(c7(n,e*2)-e)}function tK(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*(3-2*n))}function nK(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*n*(n*(n*6-15)+10))}function iK(n,e){return n+Math.floor(Math.random()*(e-n+1))}function rK(n,e){return n+Math.random()*(e-n)}function sK(n){return n*(.5-Math.random())}function oK(n){return n!==void 0&&(d3=n%2147483647),d3=d3*16807%2147483647,(d3-1)/2147483646}function aK(n){return n*ic}function lK(n){return n*r1}function u7(n){return(n&n-1)==0&&n!==0}function TL(n){return Math.pow(2,Math.ceil(Math.log(n)/Math.LN2))}function EL(n){return Math.pow(2,Math.floor(Math.log(n)/Math.LN2))}function cK(n,e,t,i,r){const s=Math.cos,o=Math.sin,a=s(t/2),l=o(t/2),c=s((e+i)/2),u=o((e+i)/2),f=s((e-i)/2),h=o((e-i)/2),d=s((i-e)/2),m=o((i-e)/2);switch(r){case"XYX":n.set(a*u,l*f,l*h,a*c);break;case"YZY":n.set(l*h,a*u,l*f,a*c);break;case"ZXZ":n.set(l*f,l*h,a*u,a*c);break;case"XZX":n.set(a*u,l*m,l*d,a*c);break;case"YXY":n.set(l*d,a*u,l*m,a*c);break;case"ZYZ":n.set(l*m,l*d,a*u,a*c);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+r)}}var ur=Object.freeze({__proto__:null,DEG2RAD:ic,RAD2DEG:r1,generateUUID:Qr,clamp:Fi,euclideanModulo:c7,mapLinear:QJ,inverseLerp:JJ,lerp:s1,damp:KJ,pingpong:eK,smoothstep:tK,smootherstep:nK,randInt:iK,randFloat:rK,randFloatSpread:sK,seededRandom:oK,degToRad:aK,radToDeg:lK,isPowerOfTwo:u7,ceilPowerOfTwo:TL,floorPowerOfTwo:EL,setQuaternionFromProperEuler:cK});class Ie{constructor(e=0,t=0){this.x=e,this.y=t}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e,t){return t!==void 0?(console.warn("THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this)}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e,t){return t!==void 0?(console.warn("THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this)}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const t=this.x,i=this.y,r=e.elements;return this.x=r[0]*t+r[3]*i+r[6],this.y=r[1]*t+r[4]*i+r[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this}clampLength(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(e,Math.min(t,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,i=this.y-e.y;return t*t+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e}fromBufferAttribute(e,t,i){return i!==void 0&&console.warn("THREE.Vector2: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this}rotateAround(e,t){const i=Math.cos(t),r=Math.sin(t),s=this.x-e.x,o=this.y-e.y;return this.x=s*i-o*r+e.x,this.y=s*r+o*i+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}}Ie.prototype.isVector2=!0;class Gn{constructor(){this.elements=[1,0,0,0,1,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.")}set(e,t,i,r,s,o,a,l,c){const u=this.elements;return u[0]=e,u[1]=r,u[2]=a,u[3]=t,u[4]=s,u[5]=l,u[6]=i,u[7]=o,u[8]=c,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const t=this.elements,i=e.elements;return t[0]=i[0],t[1]=i[1],t[2]=i[2],t[3]=i[3],t[4]=i[4],t[5]=i[5],t[6]=i[6],t[7]=i[7],t[8]=i[8],this}extractBasis(e,t,i){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),i.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const i=e.elements,r=t.elements,s=this.elements,o=i[0],a=i[3],l=i[6],c=i[1],u=i[4],f=i[7],h=i[2],d=i[5],m=i[8],v=r[0],_=r[3],g=r[6],x=r[1],b=r[4],w=r[7],S=r[2],A=r[5],T=r[8];return s[0]=o*v+a*x+l*S,s[3]=o*_+a*b+l*A,s[6]=o*g+a*w+l*T,s[1]=c*v+u*x+f*S,s[4]=c*_+u*b+f*A,s[7]=c*g+u*w+f*T,s[2]=h*v+d*x+m*S,s[5]=h*_+d*b+m*A,s[8]=h*g+d*w+m*T,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){const e=this.elements,t=e[0],i=e[1],r=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],u=e[8];return t*o*u-t*a*c-i*s*u+i*a*l+r*s*c-r*o*l}invert(){const e=this.elements,t=e[0],i=e[1],r=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],u=e[8],f=u*o-a*c,h=a*l-u*s,d=c*s-o*l,m=t*f+i*h+r*d;if(m===0)return this.set(0,0,0,0,0,0,0,0,0);const v=1/m;return e[0]=f*v,e[1]=(r*c-u*i)*v,e[2]=(a*i-r*o)*v,e[3]=h*v,e[4]=(u*t-r*l)*v,e[5]=(r*s-a*t)*v,e[6]=d*v,e[7]=(i*l-c*t)*v,e[8]=(o*t-i*s)*v,this}transpose(){let e;const t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,i,r,s,o,a){const l=Math.cos(s),c=Math.sin(s);return this.set(i*l,i*c,-i*(l*o+c*a)+o+e,-r*c,r*l,-r*(-c*o+l*a)+a+t,0,0,1),this}scale(e,t){const i=this.elements;return i[0]*=e,i[3]*=e,i[6]*=e,i[1]*=t,i[4]*=t,i[7]*=t,this}rotate(e){const t=Math.cos(e),i=Math.sin(e),r=this.elements,s=r[0],o=r[3],a=r[6],l=r[1],c=r[4],u=r[7];return r[0]=t*s+i*l,r[3]=t*o+i*c,r[6]=t*a+i*u,r[1]=-i*s+t*l,r[4]=-i*o+t*c,r[7]=-i*a+t*u,this}translate(e,t){const i=this.elements;return i[0]+=e*i[2],i[3]+=e*i[5],i[6]+=e*i[8],i[1]+=t*i[2],i[4]+=t*i[5],i[7]+=t*i[8],this}equals(e){const t=this.elements,i=e.elements;for(let r=0;r<9;r++)if(t[r]!==i[r])return!1;return!0}fromArray(e,t=0){for(let i=0;i<9;i++)this.elements[i]=e[i+t];return this}toArray(e=[],t=0){const i=this.elements;return e[t]=i[0],e[t+1]=i[1],e[t+2]=i[2],e[t+3]=i[3],e[t+4]=i[4],e[t+5]=i[5],e[t+6]=i[6],e[t+7]=i[7],e[t+8]=i[8],e}clone(){return new this.constructor().fromArray(this.elements)}}Gn.prototype.isMatrix3=!0;let af;class rc{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement=="undefined")return e.src;let t;if(e instanceof HTMLCanvasElement)t=e;else{af===void 0&&(af=document.createElementNS("http://www.w3.org/1999/xhtml","canvas")),af.width=e.width,af.height=e.height;const i=af.getContext("2d");e instanceof ImageData?i.putImageData(e,0,0):i.drawImage(e,0,0,e.width,e.height),t=af}return t.width>2048||t.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),t.toDataURL("image/jpeg",.6)):t.toDataURL("image/png")}}let uK=0;class Tn extends P0{constructor(e=Tn.DEFAULT_IMAGE,t=Tn.DEFAULT_MAPPING,i=ln,r=ln,s=Ht,o=C0,a=yn,l=Jl,c=1,u=cr){super();Object.defineProperty(this,"id",{value:uK++}),this.uuid=Qr(),this.name="",this.image=e,this.mipmaps=[],this.mapping=t,this.wrapS=i,this.wrapT=r,this.magFilter=s,this.minFilter=o,this.anisotropy=c,this.format=a,this.internalFormat=null,this.type=l,this.offset=new Ie(0,0),this.repeat=new Ie(1,1),this.center=new Ie(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Gn,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=u,this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.image=e.image,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.encoding=e.encoding,this}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const i={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};if(this.image!==void 0){const r=this.image;if(r.uuid===void 0&&(r.uuid=Qr()),!t&&e.images[r.uuid]===void 0){let s;if(Array.isArray(r)){s=[];for(let o=0,a=r.length;o<a;o++)r[o].isDataTexture?s.push(f7(r[o].image)):s.push(f7(r[o]))}else s=f7(r);e.images[r.uuid]={uuid:r.uuid,url:s}}i.image=r.uuid}return t||(e.textures[this.uuid]=i),i}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==_a)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case bs:e.x=e.x-Math.floor(e.x);break;case ln:e.x=e.x<0?0:1;break;case Ku:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case bs:e.y=e.y-Math.floor(e.y);break;case ln:e.y=e.y<0?0:1;break;case Ku:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&this.version++}}Tn.DEFAULT_IMAGE=void 0;Tn.DEFAULT_MAPPING=_a;Tn.prototype.isTexture=!0;function f7(n){return typeof HTMLImageElement!="undefined"&&n instanceof HTMLImageElement||typeof HTMLCanvasElement!="undefined"&&n instanceof HTMLCanvasElement||typeof ImageBitmap!="undefined"&&n instanceof ImageBitmap?rc.getDataURL(n):n.data?{data:Array.prototype.slice.call(n.data),width:n.width,height:n.height,type:n.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}class $t{constructor(e=0,t=0,i=0,r=1){this.x=e,this.y=t,this.z=i,this.w=r}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,t,i,r){return this.x=e,this.y=t,this.z=i,this.w=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e,t){return t!==void 0?(console.warn("THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this)}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}sub(e,t){return t!==void 0?(console.warn("THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this)}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const t=this.x,i=this.y,r=this.z,s=this.w,o=e.elements;return this.x=o[0]*t+o[4]*i+o[8]*r+o[12]*s,this.y=o[1]*t+o[5]*i+o[9]*r+o[13]*s,this.z=o[2]*t+o[6]*i+o[10]*r+o[14]*s,this.w=o[3]*t+o[7]*i+o[11]*r+o[15]*s,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}setAxisAngleFromRotationMatrix(e){let t,i,r,s;const o=.01,a=.1,l=e.elements,c=l[0],u=l[4],f=l[8],h=l[1],d=l[5],m=l[9],v=l[2],_=l[6],g=l[10];if(Math.abs(u-h)<o&&Math.abs(f-v)<o&&Math.abs(m-_)<o){if(Math.abs(u+h)<a&&Math.abs(f+v)<a&&Math.abs(m+_)<a&&Math.abs(c+d+g-3)<a)return this.set(1,0,0,0),this;t=Math.PI;const b=(c+1)/2,w=(d+1)/2,S=(g+1)/2,A=(u+h)/4,T=(f+v)/4,F=(m+_)/4;return b>w&&b>S?b<o?(i=0,r=.707106781,s=.707106781):(i=Math.sqrt(b),r=A/i,s=T/i):w>S?w<o?(i=.707106781,r=0,s=.707106781):(r=Math.sqrt(w),i=A/r,s=F/r):S<o?(i=.707106781,r=.707106781,s=0):(s=Math.sqrt(S),i=T/s,r=F/s),this.set(i,r,s,t),this}let x=Math.sqrt((_-m)*(_-m)+(f-v)*(f-v)+(h-u)*(h-u));return Math.abs(x)<.001&&(x=1),this.x=(_-m)/x,this.y=(f-v)/x,this.z=(h-u)/x,this.w=Math.acos((c+d+g-1)/2),this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this.w=Math.max(e.w,Math.min(t.w,this.w)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this.w=Math.max(e,Math.min(t,this.w)),this}clampLength(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(e,Math.min(t,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this.z=e.z+(t.z-e.z)*i,this.w=e.w+(t.w-e.w)*i,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}fromBufferAttribute(e,t,i){return i!==void 0&&console.warn("THREE.Vector4: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}}$t.prototype.isVector4=!0;class jn extends P0{constructor(e,t,i={}){super();this.width=e,this.height=t,this.depth=1,this.scissor=new $t(0,0,e,t),this.scissorTest=!1,this.viewport=new $t(0,0,e,t),this.texture=new Tn(void 0,i.mapping,i.wrapS,i.wrapT,i.magFilter,i.minFilter,i.format,i.type,i.anisotropy,i.encoding),this.texture.isRenderTargetTexture=!0,this.texture.image={width:e,height:t,depth:1},this.texture.generateMipmaps=i.generateMipmaps!==void 0?i.generateMipmaps:!1,this.texture.internalFormat=i.internalFormat!==void 0?i.internalFormat:null,this.texture.minFilter=i.minFilter!==void 0?i.minFilter:Ht,this.depthBuffer=i.depthBuffer!==void 0?i.depthBuffer:!0,this.stencilBuffer=i.stencilBuffer!==void 0?i.stencilBuffer:!1,this.depthTexture=i.depthTexture!==void 0?i.depthTexture:null}setTexture(e){e.image={width:this.width,height:this.height,depth:this.depth},this.texture=e}setSize(e,t,i=1){(this.width!==e||this.height!==t||this.depth!==i)&&(this.width=e,this.height=t,this.depth=i,this.texture.image.width=e,this.texture.image.height=t,this.texture.image.depth=i,this.dispose()),this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}clone(){return new this.constructor().copy(this)}copy(e){return this.width=e.width,this.height=e.height,this.depth=e.depth,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.texture.image=ys({},this.texture.image),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.depthTexture=e.depthTexture,this}dispose(){this.dispatchEvent({type:"dispose"})}}jn.prototype.isWebGLRenderTarget=!0;class LL extends jn{constructor(e,t,i){super(e,t);const r=this.texture;this.texture=[];for(let s=0;s<i;s++)this.texture[s]=r.clone()}setSize(e,t,i=1){if(this.width!==e||this.height!==t||this.depth!==i){this.width=e,this.height=t,this.depth=i;for(let r=0,s=this.texture.length;r<s;r++)this.texture[r].image.width=e,this.texture[r].image.height=t,this.texture[r].image.depth=i;this.dispose()}return this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t),this}copy(e){this.dispose(),this.width=e.width,this.height=e.height,this.depth=e.depth,this.viewport.set(0,0,this.width,this.height),this.scissor.set(0,0,this.width,this.height),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.depthTexture=e.depthTexture,this.texture.length=0;for(let t=0,i=e.texture.length;t<i;t++)this.texture[t]=e.texture[t].clone();return this}}LL.prototype.isWebGLMultipleRenderTargets=!0;class h7 extends jn{constructor(e,t,i){super(e,t,i);this.samples=4}copy(e){return super.copy.call(this,e),this.samples=e.samples,this}}h7.prototype.isWebGLMultisampleRenderTarget=!0;class Rn{constructor(e=0,t=0,i=0,r=1){this._x=e,this._y=t,this._z=i,this._w=r}static slerp(e,t,i,r){return console.warn("THREE.Quaternion: Static .slerp() has been deprecated. Use qm.slerpQuaternions( qa, qb, t ) instead."),i.slerpQuaternions(e,t,r)}static slerpFlat(e,t,i,r,s,o,a){let l=i[r+0],c=i[r+1],u=i[r+2],f=i[r+3];const h=s[o+0],d=s[o+1],m=s[o+2],v=s[o+3];if(a===0){e[t+0]=l,e[t+1]=c,e[t+2]=u,e[t+3]=f;return}if(a===1){e[t+0]=h,e[t+1]=d,e[t+2]=m,e[t+3]=v;return}if(f!==v||l!==h||c!==d||u!==m){let _=1-a;const g=l*h+c*d+u*m+f*v,x=g>=0?1:-1,b=1-g*g;if(b>Number.EPSILON){const S=Math.sqrt(b),A=Math.atan2(S,g*x);_=Math.sin(_*A)/S,a=Math.sin(a*A)/S}const w=a*x;if(l=l*_+h*w,c=c*_+d*w,u=u*_+m*w,f=f*_+v*w,_===1-a){const S=1/Math.sqrt(l*l+c*c+u*u+f*f);l*=S,c*=S,u*=S,f*=S}}e[t]=l,e[t+1]=c,e[t+2]=u,e[t+3]=f}static multiplyQuaternionsFlat(e,t,i,r,s,o){const a=i[r],l=i[r+1],c=i[r+2],u=i[r+3],f=s[o],h=s[o+1],d=s[o+2],m=s[o+3];return e[t]=a*m+u*f+l*d-c*h,e[t+1]=l*m+u*h+c*f-a*d,e[t+2]=c*m+u*d+a*h-l*f,e[t+3]=u*m-a*f-l*h-c*d,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,i,r){return this._x=e,this._y=t,this._z=i,this._w=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,t){if(!(e&&e.isEuler))throw new Error("THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");const i=e._x,r=e._y,s=e._z,o=e._order,a=Math.cos,l=Math.sin,c=a(i/2),u=a(r/2),f=a(s/2),h=l(i/2),d=l(r/2),m=l(s/2);switch(o){case"XYZ":this._x=h*u*f+c*d*m,this._y=c*d*f-h*u*m,this._z=c*u*m+h*d*f,this._w=c*u*f-h*d*m;break;case"YXZ":this._x=h*u*f+c*d*m,this._y=c*d*f-h*u*m,this._z=c*u*m-h*d*f,this._w=c*u*f+h*d*m;break;case"ZXY":this._x=h*u*f-c*d*m,this._y=c*d*f+h*u*m,this._z=c*u*m+h*d*f,this._w=c*u*f-h*d*m;break;case"ZYX":this._x=h*u*f-c*d*m,this._y=c*d*f+h*u*m,this._z=c*u*m-h*d*f,this._w=c*u*f+h*d*m;break;case"YZX":this._x=h*u*f+c*d*m,this._y=c*d*f+h*u*m,this._z=c*u*m-h*d*f,this._w=c*u*f-h*d*m;break;case"XZY":this._x=h*u*f-c*d*m,this._y=c*d*f-h*u*m,this._z=c*u*m+h*d*f,this._w=c*u*f+h*d*m;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+o)}return t!==!1&&this._onChangeCallback(),this}setFromAxisAngle(e,t){const i=t/2,r=Math.sin(i);return this._x=e.x*r,this._y=e.y*r,this._z=e.z*r,this._w=Math.cos(i),this._onChangeCallback(),this}setFromRotationMatrix(e){const t=e.elements,i=t[0],r=t[4],s=t[8],o=t[1],a=t[5],l=t[9],c=t[2],u=t[6],f=t[10],h=i+a+f;if(h>0){const d=.5/Math.sqrt(h+1);this._w=.25/d,this._x=(u-l)*d,this._y=(s-c)*d,this._z=(o-r)*d}else if(i>a&&i>f){const d=2*Math.sqrt(1+i-a-f);this._w=(u-l)/d,this._x=.25*d,this._y=(r+o)/d,this._z=(s+c)/d}else if(a>f){const d=2*Math.sqrt(1+a-i-f);this._w=(s-c)/d,this._x=(r+o)/d,this._y=.25*d,this._z=(l+u)/d}else{const d=2*Math.sqrt(1+f-i-a);this._w=(o-r)/d,this._x=(s+c)/d,this._y=(l+u)/d,this._z=.25*d}return this._onChangeCallback(),this}setFromUnitVectors(e,t){let i=e.dot(t)+1;return i<Number.EPSILON?(i=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=i):(this._x=0,this._y=-e.z,this._z=e.y,this._w=i)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=i),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(Fi(this.dot(e),-1,1)))}rotateTowards(e,t){const i=this.angleTo(e);if(i===0)return this;const r=Math.min(1,t/i);return this.slerp(e,r),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e,t){return t!==void 0?(console.warn("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),this.multiplyQuaternions(e,t)):this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){const i=e._x,r=e._y,s=e._z,o=e._w,a=t._x,l=t._y,c=t._z,u=t._w;return this._x=i*u+o*a+r*c-s*l,this._y=r*u+o*l+s*a-i*c,this._z=s*u+o*c+i*l-r*a,this._w=o*u-i*a-r*l-s*c,this._onChangeCallback(),this}slerp(e,t){if(t===0)return this;if(t===1)return this.copy(e);const i=this._x,r=this._y,s=this._z,o=this._w;let a=o*e._w+i*e._x+r*e._y+s*e._z;if(a<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,a=-a):this.copy(e),a>=1)return this._w=o,this._x=i,this._y=r,this._z=s,this;const l=1-a*a;if(l<=Number.EPSILON){const d=1-t;return this._w=d*o+t*this._w,this._x=d*i+t*this._x,this._y=d*r+t*this._y,this._z=d*s+t*this._z,this.normalize(),this._onChangeCallback(),this}const c=Math.sqrt(l),u=Math.atan2(c,a),f=Math.sin((1-t)*u)/c,h=Math.sin(t*u)/c;return this._w=o*f+this._w*h,this._x=i*f+this._x*h,this._y=r*f+this._y*h,this._z=s*f+this._z*h,this._onChangeCallback(),this}slerpQuaternions(e,t,i){this.copy(e).slerp(t,i)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,t=0){return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}}Rn.prototype.isQuaternion=!0;class Z{constructor(e=0,t=0,i=0){this.x=e,this.y=t,this.z=i}set(e,t,i){return i===void 0&&(i=this.z),this.x=e,this.y=t,this.z=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e,t){return t!==void 0?(console.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this)}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e,t){return t!==void 0?(console.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this)}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e,t){return t!==void 0?(console.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.multiplyVectors(e,t)):(this.x*=e.x,this.y*=e.y,this.z*=e.z,this)}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return e&&e.isEuler||console.error("THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order."),this.applyQuaternion(CL.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion(CL.setFromAxisAngle(e,t))}applyMatrix3(e){const t=this.x,i=this.y,r=this.z,s=e.elements;return this.x=s[0]*t+s[3]*i+s[6]*r,this.y=s[1]*t+s[4]*i+s[7]*r,this.z=s[2]*t+s[5]*i+s[8]*r,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const t=this.x,i=this.y,r=this.z,s=e.elements,o=1/(s[3]*t+s[7]*i+s[11]*r+s[15]);return this.x=(s[0]*t+s[4]*i+s[8]*r+s[12])*o,this.y=(s[1]*t+s[5]*i+s[9]*r+s[13])*o,this.z=(s[2]*t+s[6]*i+s[10]*r+s[14])*o,this}applyQuaternion(e){const t=this.x,i=this.y,r=this.z,s=e.x,o=e.y,a=e.z,l=e.w,c=l*t+o*r-a*i,u=l*i+a*t-s*r,f=l*r+s*i-o*t,h=-s*t-o*i-a*r;return this.x=c*l+h*-s+u*-a-f*-o,this.y=u*l+h*-o+f*-s-c*-a,this.z=f*l+h*-a+c*-o-u*-s,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const t=this.x,i=this.y,r=this.z,s=e.elements;return this.x=s[0]*t+s[4]*i+s[8]*r,this.y=s[1]*t+s[5]*i+s[9]*r,this.z=s[2]*t+s[6]*i+s[10]*r,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this}clampLength(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(e,Math.min(t,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this.z=e.z+(t.z-e.z)*i,this}cross(e,t){return t!==void 0?(console.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),this.crossVectors(e,t)):this.crossVectors(this,e)}crossVectors(e,t){const i=e.x,r=e.y,s=e.z,o=t.x,a=t.y,l=t.z;return this.x=r*l-s*a,this.y=s*o-i*l,this.z=i*a-r*o,this}projectOnVector(e){const t=e.lengthSq();if(t===0)return this.set(0,0,0);const i=e.dot(this)/t;return this.copy(e).multiplyScalar(i)}projectOnPlane(e){return d7.copy(this).projectOnVector(e),this.sub(d7)}reflect(e){return this.sub(d7.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const i=this.dot(e)/t;return Math.acos(Fi(i,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,i=this.y-e.y,r=this.z-e.z;return t*t+i*i+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,i){const r=Math.sin(t)*e;return this.x=r*Math.sin(i),this.y=Math.cos(t)*e,this.z=r*Math.cos(i),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,i){return this.x=e*Math.sin(t),this.y=i,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(e){const t=this.setFromMatrixColumn(e,0).length(),i=this.setFromMatrixColumn(e,1).length(),r=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=i,this.z=r,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,t*4)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,t*3)}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t,i){return i!==void 0&&console.warn("THREE.Vector3: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}}Z.prototype.isVector3=!0;const d7=new Z,CL=new Rn;class fr{constructor(e=new Z(1/0,1/0,1/0),t=new Z(-1/0,-1/0,-1/0)){this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromArray(e){let t=1/0,i=1/0,r=1/0,s=-1/0,o=-1/0,a=-1/0;for(let l=0,c=e.length;l<c;l+=3){const u=e[l],f=e[l+1],h=e[l+2];u<t&&(t=u),f<i&&(i=f),h<r&&(r=h),u>s&&(s=u),f>o&&(o=f),h>a&&(a=h)}return this.min.set(t,i,r),this.max.set(s,o,a),this}setFromBufferAttribute(e){let t=1/0,i=1/0,r=1/0,s=-1/0,o=-1/0,a=-1/0;for(let l=0,c=e.count;l<c;l++){const u=e.getX(l),f=e.getY(l),h=e.getZ(l);u<t&&(t=u),f<i&&(i=f),h<r&&(r=h),u>s&&(s=u),f>o&&(o=f),h>a&&(a=h)}return this.min.set(t,i,r),this.max.set(s,o,a),this}setFromPoints(e){this.makeEmpty();for(let t=0,i=e.length;t<i;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const i=o1.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(i),this.max.copy(e).add(i),this}setFromObject(e){return this.makeEmpty(),this.expandByObject(e)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e){e.updateWorldMatrix(!1,!1);const t=e.geometry;t!==void 0&&(t.boundingBox===null&&t.computeBoundingBox(),p7.copy(t.boundingBox),p7.applyMatrix4(e.matrixWorld),this.union(p7));const i=e.children;for(let r=0,s=i.length;r<s;r++)this.expandByObject(i[r]);return this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}intersectsSphere(e){return this.clampPoint(e.center,o1),o1.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let t,i;return e.normal.x>0?(t=e.normal.x*this.min.x,i=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,i=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,i+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,i+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,i+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,i+=e.normal.z*this.min.z),t<=-e.constant&&i>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(a1),p3.subVectors(this.max,a1),lf.subVectors(e.a,a1),cf.subVectors(e.b,a1),uf.subVectors(e.c,a1),wa.subVectors(cf,lf),Ma.subVectors(uf,cf),sc.subVectors(lf,uf);let t=[0,-wa.z,wa.y,0,-Ma.z,Ma.y,0,-sc.z,sc.y,wa.z,0,-wa.x,Ma.z,0,-Ma.x,sc.z,0,-sc.x,-wa.y,wa.x,0,-Ma.y,Ma.x,0,-sc.y,sc.x,0];return!m7(t,lf,cf,uf,p3)||(t=[1,0,0,0,1,0,0,0,1],!m7(t,lf,cf,uf,p3))?!1:(m3.crossVectors(wa,Ma),t=[m3.x,m3.y,m3.z],m7(t,lf,cf,uf,p3))}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return o1.copy(e).clamp(this.min,this.max).sub(e).length()}getBoundingSphere(e){return this.getCenter(e.center),e.radius=this.getSize(o1).length()*.5,e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(Ao[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),Ao[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),Ao[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),Ao[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),Ao[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),Ao[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),Ao[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),Ao[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(Ao),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}fr.prototype.isBox3=!0;const Ao=[new Z,new Z,new Z,new Z,new Z,new Z,new Z,new Z],o1=new Z,p7=new fr,lf=new Z,cf=new Z,uf=new Z,wa=new Z,Ma=new Z,sc=new Z,a1=new Z,p3=new Z,m3=new Z,oc=new Z;function m7(n,e,t,i,r){for(let s=0,o=n.length-3;s<=o;s+=3){oc.fromArray(n,s);const a=r.x*Math.abs(oc.x)+r.y*Math.abs(oc.y)+r.z*Math.abs(oc.z),l=e.dot(oc),c=t.dot(oc),u=i.dot(oc);if(Math.max(-Math.max(l,c,u),Math.min(l,c,u))>a)return!1}return!0}const fK=new fr,PL=new Z,g7=new Z,v7=new Z;class R0{constructor(e=new Z,t=-1){this.center=e,this.radius=t}set(e,t){return this.center.copy(e),this.radius=t,this}setFromPoints(e,t){const i=this.center;t!==void 0?i.copy(t):fK.setFromPoints(e).getCenter(i);let r=0;for(let s=0,o=e.length;s<o;s++)r=Math.max(r,i.distanceToSquared(e[s]));return this.radius=Math.sqrt(r),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,t){const i=this.center.distanceToSquared(e);return t.copy(e),i>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){v7.subVectors(e,this.center);const t=v7.lengthSq();if(t>this.radius*this.radius){const i=Math.sqrt(t),r=(i-this.radius)*.5;this.center.add(v7.multiplyScalar(r/i)),this.radius+=r}return this}union(e){return g7.subVectors(e.center,this.center).normalize().multiplyScalar(e.radius),this.expandByPoint(PL.copy(e.center).add(g7)),this.expandByPoint(PL.copy(e.center).sub(g7)),this}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}}const To=new Z,x7=new Z,g3=new Z,Sa=new Z,y7=new Z,v3=new Z,_7=new Z;class Aa{constructor(e=new Z,t=new Z(0,0,-1)){this.origin=e,this.direction=t}set(e,t){return this.origin.copy(e),this.direction.copy(t),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,t){return t.copy(this.direction).multiplyScalar(e).add(this.origin)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,To)),this}closestPointToPoint(e,t){t.subVectors(e,this.origin);const i=t.dot(this.direction);return i<0?t.copy(this.origin):t.copy(this.direction).multiplyScalar(i).add(this.origin)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const t=To.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(To.copy(this.direction).multiplyScalar(t).add(this.origin),To.distanceToSquared(e))}distanceSqToSegment(e,t,i,r){x7.copy(e).add(t).multiplyScalar(.5),g3.copy(t).sub(e).normalize(),Sa.copy(this.origin).sub(x7);const s=e.distanceTo(t)*.5,o=-this.direction.dot(g3),a=Sa.dot(this.direction),l=-Sa.dot(g3),c=Sa.lengthSq(),u=Math.abs(1-o*o);let f,h,d,m;if(u>0)if(f=o*l-a,h=o*a-l,m=s*u,f>=0)if(h>=-m)if(h<=m){const v=1/u;f*=v,h*=v,d=f*(f+o*h+2*a)+h*(o*f+h+2*l)+c}else h=s,f=Math.max(0,-(o*h+a)),d=-f*f+h*(h+2*l)+c;else h=-s,f=Math.max(0,-(o*h+a)),d=-f*f+h*(h+2*l)+c;else h<=-m?(f=Math.max(0,-(-o*s+a)),h=f>0?-s:Math.min(Math.max(-s,-l),s),d=-f*f+h*(h+2*l)+c):h<=m?(f=0,h=Math.min(Math.max(-s,-l),s),d=h*(h+2*l)+c):(f=Math.max(0,-(o*s+a)),h=f>0?s:Math.min(Math.max(-s,-l),s),d=-f*f+h*(h+2*l)+c);else h=o>0?-s:s,f=Math.max(0,-(o*h+a)),d=-f*f+h*(h+2*l)+c;return i&&i.copy(this.direction).multiplyScalar(f).add(this.origin),r&&r.copy(g3).multiplyScalar(h).add(x7),d}intersectSphere(e,t){To.subVectors(e.center,this.origin);const i=To.dot(this.direction),r=To.dot(To)-i*i,s=e.radius*e.radius;if(r>s)return null;const o=Math.sqrt(s-r),a=i-o,l=i+o;return a<0&&l<0?null:a<0?this.at(l,t):this.at(a,t)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const t=e.normal.dot(this.direction);if(t===0)return e.distanceToPoint(this.origin)===0?0:null;const i=-(this.origin.dot(e.normal)+e.constant)/t;return i>=0?i:null}intersectPlane(e,t){const i=this.distanceToPlane(e);return i===null?null:this.at(i,t)}intersectsPlane(e){const t=e.distanceToPoint(this.origin);return t===0||e.normal.dot(this.direction)*t<0}intersectBox(e,t){let i,r,s,o,a,l;const c=1/this.direction.x,u=1/this.direction.y,f=1/this.direction.z,h=this.origin;return c>=0?(i=(e.min.x-h.x)*c,r=(e.max.x-h.x)*c):(i=(e.max.x-h.x)*c,r=(e.min.x-h.x)*c),u>=0?(s=(e.min.y-h.y)*u,o=(e.max.y-h.y)*u):(s=(e.max.y-h.y)*u,o=(e.min.y-h.y)*u),i>o||s>r||((s>i||i!==i)&&(i=s),(o<r||r!==r)&&(r=o),f>=0?(a=(e.min.z-h.z)*f,l=(e.max.z-h.z)*f):(a=(e.max.z-h.z)*f,l=(e.min.z-h.z)*f),i>l||a>r)||((a>i||i!==i)&&(i=a),(l<r||r!==r)&&(r=l),r<0)?null:this.at(i>=0?i:r,t)}intersectsBox(e){return this.intersectBox(e,To)!==null}intersectTriangle(e,t,i,r,s){y7.subVectors(t,e),v3.subVectors(i,e),_7.crossVectors(y7,v3);let o=this.direction.dot(_7),a;if(o>0){if(r)return null;a=1}else if(o<0)a=-1,o=-o;else return null;Sa.subVectors(this.origin,e);const l=a*this.direction.dot(v3.crossVectors(Sa,v3));if(l<0)return null;const c=a*this.direction.dot(y7.cross(Sa));if(c<0||l+c>o)return null;const u=-a*Sa.dot(_7);return u<0?null:this.at(u/o,s)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class $e{constructor(){this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.")}set(e,t,i,r,s,o,a,l,c,u,f,h,d,m,v,_){const g=this.elements;return g[0]=e,g[4]=t,g[8]=i,g[12]=r,g[1]=s,g[5]=o,g[9]=a,g[13]=l,g[2]=c,g[6]=u,g[10]=f,g[14]=h,g[3]=d,g[7]=m,g[11]=v,g[15]=_,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new $e().fromArray(this.elements)}copy(e){const t=this.elements,i=e.elements;return t[0]=i[0],t[1]=i[1],t[2]=i[2],t[3]=i[3],t[4]=i[4],t[5]=i[5],t[6]=i[6],t[7]=i[7],t[8]=i[8],t[9]=i[9],t[10]=i[10],t[11]=i[11],t[12]=i[12],t[13]=i[13],t[14]=i[14],t[15]=i[15],this}copyPosition(e){const t=this.elements,i=e.elements;return t[12]=i[12],t[13]=i[13],t[14]=i[14],this}setFromMatrix3(e){const t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}extractBasis(e,t,i){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),i.setFromMatrixColumn(this,2),this}makeBasis(e,t,i){return this.set(e.x,t.x,i.x,0,e.y,t.y,i.y,0,e.z,t.z,i.z,0,0,0,0,1),this}extractRotation(e){const t=this.elements,i=e.elements,r=1/ff.setFromMatrixColumn(e,0).length(),s=1/ff.setFromMatrixColumn(e,1).length(),o=1/ff.setFromMatrixColumn(e,2).length();return t[0]=i[0]*r,t[1]=i[1]*r,t[2]=i[2]*r,t[3]=0,t[4]=i[4]*s,t[5]=i[5]*s,t[6]=i[6]*s,t[7]=0,t[8]=i[8]*o,t[9]=i[9]*o,t[10]=i[10]*o,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){e&&e.isEuler||console.error("THREE.Matrix4: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.");const t=this.elements,i=e.x,r=e.y,s=e.z,o=Math.cos(i),a=Math.sin(i),l=Math.cos(r),c=Math.sin(r),u=Math.cos(s),f=Math.sin(s);if(e.order==="XYZ"){const h=o*u,d=o*f,m=a*u,v=a*f;t[0]=l*u,t[4]=-l*f,t[8]=c,t[1]=d+m*c,t[5]=h-v*c,t[9]=-a*l,t[2]=v-h*c,t[6]=m+d*c,t[10]=o*l}else if(e.order==="YXZ"){const h=l*u,d=l*f,m=c*u,v=c*f;t[0]=h+v*a,t[4]=m*a-d,t[8]=o*c,t[1]=o*f,t[5]=o*u,t[9]=-a,t[2]=d*a-m,t[6]=v+h*a,t[10]=o*l}else if(e.order==="ZXY"){const h=l*u,d=l*f,m=c*u,v=c*f;t[0]=h-v*a,t[4]=-o*f,t[8]=m+d*a,t[1]=d+m*a,t[5]=o*u,t[9]=v-h*a,t[2]=-o*c,t[6]=a,t[10]=o*l}else if(e.order==="ZYX"){const h=o*u,d=o*f,m=a*u,v=a*f;t[0]=l*u,t[4]=m*c-d,t[8]=h*c+v,t[1]=l*f,t[5]=v*c+h,t[9]=d*c-m,t[2]=-c,t[6]=a*l,t[10]=o*l}else if(e.order==="YZX"){const h=o*l,d=o*c,m=a*l,v=a*c;t[0]=l*u,t[4]=v-h*f,t[8]=m*f+d,t[1]=f,t[5]=o*u,t[9]=-a*u,t[2]=-c*u,t[6]=d*f+m,t[10]=h-v*f}else if(e.order==="XZY"){const h=o*l,d=o*c,m=a*l,v=a*c;t[0]=l*u,t[4]=-f,t[8]=c*u,t[1]=h*f+v,t[5]=o*u,t[9]=d*f-m,t[2]=m*f-d,t[6]=a*u,t[10]=v*f+h}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(e){return this.compose(hK,e,dK)}lookAt(e,t,i){const r=this.elements;return Jr.subVectors(e,t),Jr.lengthSq()===0&&(Jr.z=1),Jr.normalize(),Ta.crossVectors(i,Jr),Ta.lengthSq()===0&&(Math.abs(i.z)===1?Jr.x+=1e-4:Jr.z+=1e-4,Jr.normalize(),Ta.crossVectors(i,Jr)),Ta.normalize(),x3.crossVectors(Jr,Ta),r[0]=Ta.x,r[4]=x3.x,r[8]=Jr.x,r[1]=Ta.y,r[5]=x3.y,r[9]=Jr.y,r[2]=Ta.z,r[6]=x3.z,r[10]=Jr.z,this}multiply(e,t){return t!==void 0?(console.warn("THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),this.multiplyMatrices(e,t)):this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const i=e.elements,r=t.elements,s=this.elements,o=i[0],a=i[4],l=i[8],c=i[12],u=i[1],f=i[5],h=i[9],d=i[13],m=i[2],v=i[6],_=i[10],g=i[14],x=i[3],b=i[7],w=i[11],S=i[15],A=r[0],T=r[4],F=r[8],U=r[12],N=r[1],O=r[5],G=r[9],D=r[13],P=r[2],I=r[6],C=r[10],B=r[14],Y=r[3],j=r[7],re=r[11],ie=r[15];return s[0]=o*A+a*N+l*P+c*Y,s[4]=o*T+a*O+l*I+c*j,s[8]=o*F+a*G+l*C+c*re,s[12]=o*U+a*D+l*B+c*ie,s[1]=u*A+f*N+h*P+d*Y,s[5]=u*T+f*O+h*I+d*j,s[9]=u*F+f*G+h*C+d*re,s[13]=u*U+f*D+h*B+d*ie,s[2]=m*A+v*N+_*P+g*Y,s[6]=m*T+v*O+_*I+g*j,s[10]=m*F+v*G+_*C+g*re,s[14]=m*U+v*D+_*B+g*ie,s[3]=x*A+b*N+w*P+S*Y,s[7]=x*T+b*O+w*I+S*j,s[11]=x*F+b*G+w*C+S*re,s[15]=x*U+b*D+w*B+S*ie,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){const e=this.elements,t=e[0],i=e[4],r=e[8],s=e[12],o=e[1],a=e[5],l=e[9],c=e[13],u=e[2],f=e[6],h=e[10],d=e[14],m=e[3],v=e[7],_=e[11],g=e[15];return m*(+s*l*f-r*c*f-s*a*h+i*c*h+r*a*d-i*l*d)+v*(+t*l*d-t*c*h+s*o*h-r*o*d+r*c*u-s*l*u)+_*(+t*c*f-t*a*d-s*o*f+i*o*d+s*a*u-i*c*u)+g*(-r*a*u-t*l*f+t*a*h+r*o*f-i*o*h+i*l*u)}transpose(){const e=this.elements;let t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}setPosition(e,t,i){const r=this.elements;return e.isVector3?(r[12]=e.x,r[13]=e.y,r[14]=e.z):(r[12]=e,r[13]=t,r[14]=i),this}invert(){const e=this.elements,t=e[0],i=e[1],r=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],u=e[8],f=e[9],h=e[10],d=e[11],m=e[12],v=e[13],_=e[14],g=e[15],x=f*_*c-v*h*c+v*l*d-a*_*d-f*l*g+a*h*g,b=m*h*c-u*_*c-m*l*d+o*_*d+u*l*g-o*h*g,w=u*v*c-m*f*c+m*a*d-o*v*d-u*a*g+o*f*g,S=m*f*l-u*v*l-m*a*h+o*v*h+u*a*_-o*f*_,A=t*x+i*b+r*w+s*S;if(A===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const T=1/A;return e[0]=x*T,e[1]=(v*h*s-f*_*s-v*r*d+i*_*d+f*r*g-i*h*g)*T,e[2]=(a*_*s-v*l*s+v*r*c-i*_*c-a*r*g+i*l*g)*T,e[3]=(f*l*s-a*h*s-f*r*c+i*h*c+a*r*d-i*l*d)*T,e[4]=b*T,e[5]=(u*_*s-m*h*s+m*r*d-t*_*d-u*r*g+t*h*g)*T,e[6]=(m*l*s-o*_*s-m*r*c+t*_*c+o*r*g-t*l*g)*T,e[7]=(o*h*s-u*l*s+u*r*c-t*h*c-o*r*d+t*l*d)*T,e[8]=w*T,e[9]=(m*f*s-u*v*s-m*i*d+t*v*d+u*i*g-t*f*g)*T,e[10]=(o*v*s-m*a*s+m*i*c-t*v*c-o*i*g+t*a*g)*T,e[11]=(u*a*s-o*f*s-u*i*c+t*f*c+o*i*d-t*a*d)*T,e[12]=S*T,e[13]=(u*v*r-m*f*r+m*i*h-t*v*h-u*i*_+t*f*_)*T,e[14]=(m*a*r-o*v*r-m*i*l+t*v*l+o*i*_-t*a*_)*T,e[15]=(o*f*r-u*a*r+u*i*l-t*f*l-o*i*h+t*a*h)*T,this}scale(e){const t=this.elements,i=e.x,r=e.y,s=e.z;return t[0]*=i,t[4]*=r,t[8]*=s,t[1]*=i,t[5]*=r,t[9]*=s,t[2]*=i,t[6]*=r,t[10]*=s,t[3]*=i,t[7]*=r,t[11]*=s,this}getMaxScaleOnAxis(){const e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],i=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],r=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,i,r))}makeTranslation(e,t,i){return this.set(1,0,0,e,0,1,0,t,0,0,1,i,0,0,0,1),this}makeRotationX(e){const t=Math.cos(e),i=Math.sin(e);return this.set(1,0,0,0,0,t,-i,0,0,i,t,0,0,0,0,1),this}makeRotationY(e){const t=Math.cos(e),i=Math.sin(e);return this.set(t,0,i,0,0,1,0,0,-i,0,t,0,0,0,0,1),this}makeRotationZ(e){const t=Math.cos(e),i=Math.sin(e);return this.set(t,-i,0,0,i,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){const i=Math.cos(t),r=Math.sin(t),s=1-i,o=e.x,a=e.y,l=e.z,c=s*o,u=s*a;return this.set(c*o+i,c*a-r*l,c*l+r*a,0,c*a+r*l,u*a+i,u*l-r*o,0,c*l-r*a,u*l+r*o,s*l*l+i,0,0,0,0,1),this}makeScale(e,t,i){return this.set(e,0,0,0,0,t,0,0,0,0,i,0,0,0,0,1),this}makeShear(e,t,i,r,s,o){return this.set(1,i,s,0,e,1,o,0,t,r,1,0,0,0,0,1),this}compose(e,t,i){const r=this.elements,s=t._x,o=t._y,a=t._z,l=t._w,c=s+s,u=o+o,f=a+a,h=s*c,d=s*u,m=s*f,v=o*u,_=o*f,g=a*f,x=l*c,b=l*u,w=l*f,S=i.x,A=i.y,T=i.z;return r[0]=(1-(v+g))*S,r[1]=(d+w)*S,r[2]=(m-b)*S,r[3]=0,r[4]=(d-w)*A,r[5]=(1-(h+g))*A,r[6]=(_+x)*A,r[7]=0,r[8]=(m+b)*T,r[9]=(_-x)*T,r[10]=(1-(h+v))*T,r[11]=0,r[12]=e.x,r[13]=e.y,r[14]=e.z,r[15]=1,this}decompose(e,t,i){const r=this.elements;let s=ff.set(r[0],r[1],r[2]).length();const o=ff.set(r[4],r[5],r[6]).length(),a=ff.set(r[8],r[9],r[10]).length();this.determinant()<0&&(s=-s),e.x=r[12],e.y=r[13],e.z=r[14],Ks.copy(this);const c=1/s,u=1/o,f=1/a;return Ks.elements[0]*=c,Ks.elements[1]*=c,Ks.elements[2]*=c,Ks.elements[4]*=u,Ks.elements[5]*=u,Ks.elements[6]*=u,Ks.elements[8]*=f,Ks.elements[9]*=f,Ks.elements[10]*=f,t.setFromRotationMatrix(Ks),i.x=s,i.y=o,i.z=a,this}makePerspective(e,t,i,r,s,o){o===void 0&&console.warn("THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.");const a=this.elements,l=2*s/(t-e),c=2*s/(i-r),u=(t+e)/(t-e),f=(i+r)/(i-r),h=-(o+s)/(o-s),d=-2*o*s/(o-s);return a[0]=l,a[4]=0,a[8]=u,a[12]=0,a[1]=0,a[5]=c,a[9]=f,a[13]=0,a[2]=0,a[6]=0,a[10]=h,a[14]=d,a[3]=0,a[7]=0,a[11]=-1,a[15]=0,this}makeOrthographic(e,t,i,r,s,o){const a=this.elements,l=1/(t-e),c=1/(i-r),u=1/(o-s),f=(t+e)*l,h=(i+r)*c,d=(o+s)*u;return a[0]=2*l,a[4]=0,a[8]=0,a[12]=-f,a[1]=0,a[5]=2*c,a[9]=0,a[13]=-h,a[2]=0,a[6]=0,a[10]=-2*u,a[14]=-d,a[3]=0,a[7]=0,a[11]=0,a[15]=1,this}equals(e){const t=this.elements,i=e.elements;for(let r=0;r<16;r++)if(t[r]!==i[r])return!1;return!0}fromArray(e,t=0){for(let i=0;i<16;i++)this.elements[i]=e[i+t];return this}toArray(e=[],t=0){const i=this.elements;return e[t]=i[0],e[t+1]=i[1],e[t+2]=i[2],e[t+3]=i[3],e[t+4]=i[4],e[t+5]=i[5],e[t+6]=i[6],e[t+7]=i[7],e[t+8]=i[8],e[t+9]=i[9],e[t+10]=i[10],e[t+11]=i[11],e[t+12]=i[12],e[t+13]=i[13],e[t+14]=i[14],e[t+15]=i[15],e}}$e.prototype.isMatrix4=!0;const ff=new Z,Ks=new $e,hK=new Z(0,0,0),dK=new Z(1,1,1),Ta=new Z,x3=new Z,Jr=new Z,RL=new $e,FL=new Rn;class Ss{constructor(e=0,t=0,i=0,r=Ss.DefaultOrder){this._x=e,this._y=t,this._z=i,this._order=r}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,t,i,r=this._order){return this._x=e,this._y=t,this._z=i,this._order=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,t=this._order,i=!0){const r=e.elements,s=r[0],o=r[4],a=r[8],l=r[1],c=r[5],u=r[9],f=r[2],h=r[6],d=r[10];switch(t){case"XYZ":this._y=Math.asin(Fi(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(-u,d),this._z=Math.atan2(-o,s)):(this._x=Math.atan2(h,c),this._z=0);break;case"YXZ":this._x=Math.asin(-Fi(u,-1,1)),Math.abs(u)<.9999999?(this._y=Math.atan2(a,d),this._z=Math.atan2(l,c)):(this._y=Math.atan2(-f,s),this._z=0);break;case"ZXY":this._x=Math.asin(Fi(h,-1,1)),Math.abs(h)<.9999999?(this._y=Math.atan2(-f,d),this._z=Math.atan2(-o,c)):(this._y=0,this._z=Math.atan2(l,s));break;case"ZYX":this._y=Math.asin(-Fi(f,-1,1)),Math.abs(f)<.9999999?(this._x=Math.atan2(h,d),this._z=Math.atan2(l,s)):(this._x=0,this._z=Math.atan2(-o,c));break;case"YZX":this._z=Math.asin(Fi(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-u,c),this._y=Math.atan2(-f,s)):(this._x=0,this._y=Math.atan2(a,d));break;case"XZY":this._z=Math.asin(-Fi(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(h,c),this._y=Math.atan2(a,s)):(this._x=Math.atan2(-u,d),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,i===!0&&this._onChangeCallback(),this}setFromQuaternion(e,t,i){return RL.makeRotationFromQuaternion(e),this.setFromRotationMatrix(RL,t,i)}setFromVector3(e,t=this._order){return this.set(e.x,e.y,e.z,t)}reorder(e){return FL.setFromEuler(this),this.setFromQuaternion(FL,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}toVector3(e){return e?e.set(this._x,this._y,this._z):new Z(this._x,this._y,this._z)}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}}Ss.prototype.isEuler=!0;Ss.DefaultOrder="XYZ";Ss.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"];class b7{constructor(){this.mask=1|0}set(e){this.mask=1<<e|0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=4294967295|0}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!=0}}let pK=0;const IL=new Z,hf=new Rn,Eo=new $e,y3=new Z,l1=new Z,mK=new Z,gK=new Rn,DL=new Z(1,0,0),NL=new Z(0,1,0),OL=new Z(0,0,1),vK={type:"added"},BL={type:"removed"};class At extends P0{constructor(){super();Object.defineProperty(this,"id",{value:pK++}),this.uuid=Qr(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=At.DefaultUp.clone();const e=new Z,t=new Ss,i=new Rn,r=new Z(1,1,1);function s(){i.setFromEuler(t,!1)}function o(){t.setFromQuaternion(i,void 0,!1)}t._onChange(s),i._onChange(o),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:i},scale:{configurable:!0,enumerable:!0,value:r},modelViewMatrix:{value:new $e},normalMatrix:{value:new Gn}}),this.matrix=new $e,this.matrixWorld=new $e,this.matrixAutoUpdate=At.DefaultMatrixAutoUpdate,this.matrixWorldNeedsUpdate=!1,this.layers=new b7,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,t){this.quaternion.setFromAxisAngle(e,t)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,t){return hf.setFromAxisAngle(e,t),this.quaternion.multiply(hf),this}rotateOnWorldAxis(e,t){return hf.setFromAxisAngle(e,t),this.quaternion.premultiply(hf),this}rotateX(e){return this.rotateOnAxis(DL,e)}rotateY(e){return this.rotateOnAxis(NL,e)}rotateZ(e){return this.rotateOnAxis(OL,e)}translateOnAxis(e,t){return IL.copy(e).applyQuaternion(this.quaternion),this.position.add(IL.multiplyScalar(t)),this}translateX(e){return this.translateOnAxis(DL,e)}translateY(e){return this.translateOnAxis(NL,e)}translateZ(e){return this.translateOnAxis(OL,e)}localToWorld(e){return e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return e.applyMatrix4(Eo.copy(this.matrixWorld).invert())}lookAt(e,t,i){e.isVector3?y3.copy(e):y3.set(e,t,i);const r=this.parent;this.updateWorldMatrix(!0,!1),l1.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?Eo.lookAt(l1,y3,this.up):Eo.lookAt(y3,l1,this.up),this.quaternion.setFromRotationMatrix(Eo),r&&(Eo.extractRotation(r.matrixWorld),hf.setFromRotationMatrix(Eo),this.quaternion.premultiply(hf.invert()))}add(e){if(arguments.length>1){for(let t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.parent!==null&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent(vK)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let i=0;i<arguments.length;i++)this.remove(arguments[i]);return this}const t=this.children.indexOf(e);return t!==-1&&(e.parent=null,this.children.splice(t,1),e.dispatchEvent(BL)),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){for(let e=0;e<this.children.length;e++){const t=this.children[e];t.parent=null,t.dispatchEvent(BL)}return this.children.length=0,this}attach(e){return this.updateWorldMatrix(!0,!1),Eo.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),Eo.multiply(e.parent.matrixWorld)),e.applyMatrix4(Eo),this.add(e),e.updateWorldMatrix(!1,!0),this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,t){if(this[e]===t)return this;for(let i=0,r=this.children.length;i<r;i++){const o=this.children[i].getObjectByProperty(e,t);if(o!==void 0)return o}}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(l1,e,mK),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(l1,gK,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()}raycast(){}traverse(e){e(this);const t=this.children;for(let i=0,r=t.length;i<r;i++)t[i].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const t=this.children;for(let i=0,r=t.length;i<r;i++)t[i].traverseVisible(e)}traverseAncestors(e){const t=this.parent;t!==null&&(e(t),t.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);const t=this.children;for(let i=0,r=t.length;i<r;i++)t[i].updateMatrixWorld(e)}updateWorldMatrix(e,t){const i=this.parent;if(e===!0&&i!==null&&i.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),t===!0){const r=this.children;for(let s=0,o=r.length;s<o;s++)r[s].updateWorldMatrix(!1,!0)}}toJSON(e){const t=e===void 0||typeof e=="string",i={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{}},i.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});const r={};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.castShadow===!0&&(r.castShadow=!0),this.receiveShadow===!0&&(r.receiveShadow=!0),this.visible===!1&&(r.visible=!1),this.frustumCulled===!1&&(r.frustumCulled=!1),this.renderOrder!==0&&(r.renderOrder=this.renderOrder),JSON.stringify(this.userData)!=="{}"&&(r.userData=this.userData),r.layers=this.layers.mask,r.matrix=this.matrix.toArray(),this.matrixAutoUpdate===!1&&(r.matrixAutoUpdate=!1),this.isInstancedMesh&&(r.type="InstancedMesh",r.count=this.count,r.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(r.instanceColor=this.instanceColor.toJSON()));function s(a,l){return a[l.uuid]===void 0&&(a[l.uuid]=l.toJSON(e)),l.uuid}if(this.isScene)this.background&&(this.background.isColor?r.background=this.background.toJSON():this.background.isTexture&&(r.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&(r.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){r.geometry=s(e.geometries,this.geometry);const a=this.geometry.parameters;if(a!==void 0&&a.shapes!==void 0){const l=a.shapes;if(Array.isArray(l))for(let c=0,u=l.length;c<u;c++){const f=l[c];s(e.shapes,f)}else s(e.shapes,l)}}if(this.isSkinnedMesh&&(r.bindMode=this.bindMode,r.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(s(e.skeletons,this.skeleton),r.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const a=[];for(let l=0,c=this.material.length;l<c;l++)a.push(s(e.materials,this.material[l]));r.material=a}else r.material=s(e.materials,this.material);if(this.children.length>0){r.children=[];for(let a=0;a<this.children.length;a++)r.children.push(this.children[a].toJSON(e).object)}if(this.animations.length>0){r.animations=[];for(let a=0;a<this.animations.length;a++){const l=this.animations[a];r.animations.push(s(e.animations,l))}}if(t){const a=o(e.geometries),l=o(e.materials),c=o(e.textures),u=o(e.images),f=o(e.shapes),h=o(e.skeletons),d=o(e.animations);a.length>0&&(i.geometries=a),l.length>0&&(i.materials=l),c.length>0&&(i.textures=c),u.length>0&&(i.images=u),f.length>0&&(i.shapes=f),h.length>0&&(i.skeletons=h),d.length>0&&(i.animations=d)}return i.object=r,i;function o(a){const l=[];for(const c in a){const u=a[c];delete u.metadata,l.push(u)}return l}}clone(e){return new this.constructor().copy(this,e)}copy(e,t=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.userData=JSON.parse(JSON.stringify(e.userData)),t===!0)for(let i=0;i<e.children.length;i++){const r=e.children[i];this.add(r.clone())}return this}}At.DefaultUp=new Z(0,1,0);At.DefaultMatrixAutoUpdate=!0;At.prototype.isObject3D=!0;const e0=new Z,Lo=new Z,w7=new Z,Co=new Z,df=new Z,pf=new Z,UL=new Z,M7=new Z,S7=new Z,A7=new Z;class Zn{constructor(e=new Z,t=new Z,i=new Z){this.a=e,this.b=t,this.c=i}static getNormal(e,t,i,r){r.subVectors(i,t),e0.subVectors(e,t),r.cross(e0);const s=r.lengthSq();return s>0?r.multiplyScalar(1/Math.sqrt(s)):r.set(0,0,0)}static getBarycoord(e,t,i,r,s){e0.subVectors(r,t),Lo.subVectors(i,t),w7.subVectors(e,t);const o=e0.dot(e0),a=e0.dot(Lo),l=e0.dot(w7),c=Lo.dot(Lo),u=Lo.dot(w7),f=o*c-a*a;if(f===0)return s.set(-2,-1,-1);const h=1/f,d=(c*l-a*u)*h,m=(o*u-a*l)*h;return s.set(1-d-m,m,d)}static containsPoint(e,t,i,r){return this.getBarycoord(e,t,i,r,Co),Co.x>=0&&Co.y>=0&&Co.x+Co.y<=1}static getUV(e,t,i,r,s,o,a,l){return this.getBarycoord(e,t,i,r,Co),l.set(0,0),l.addScaledVector(s,Co.x),l.addScaledVector(o,Co.y),l.addScaledVector(a,Co.z),l}static isFrontFacing(e,t,i,r){return e0.subVectors(i,t),Lo.subVectors(e,t),e0.cross(Lo).dot(r)<0}set(e,t,i){return this.a.copy(e),this.b.copy(t),this.c.copy(i),this}setFromPointsAndIndices(e,t,i,r){return this.a.copy(e[t]),this.b.copy(e[i]),this.c.copy(e[r]),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return e0.subVectors(this.c,this.b),Lo.subVectors(this.a,this.b),e0.cross(Lo).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return Zn.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,t){return Zn.getBarycoord(e,this.a,this.b,this.c,t)}getUV(e,t,i,r,s){return Zn.getUV(e,this.a,this.b,this.c,t,i,r,s)}containsPoint(e){return Zn.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return Zn.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,t){const i=this.a,r=this.b,s=this.c;let o,a;df.subVectors(r,i),pf.subVectors(s,i),M7.subVectors(e,i);const l=df.dot(M7),c=pf.dot(M7);if(l<=0&&c<=0)return t.copy(i);S7.subVectors(e,r);const u=df.dot(S7),f=pf.dot(S7);if(u>=0&&f<=u)return t.copy(r);const h=l*f-u*c;if(h<=0&&l>=0&&u<=0)return o=l/(l-u),t.copy(i).addScaledVector(df,o);A7.subVectors(e,s);const d=df.dot(A7),m=pf.dot(A7);if(m>=0&&d<=m)return t.copy(s);const v=d*c-l*m;if(v<=0&&c>=0&&m<=0)return a=c/(c-m),t.copy(i).addScaledVector(pf,a);const _=u*m-d*f;if(_<=0&&f-u>=0&&d-m>=0)return UL.subVectors(s,r),a=(f-u)/(f-u+(d-m)),t.copy(r).addScaledVector(UL,a);const g=1/(_+v+h);return o=v*g,a=h*g,t.copy(i).addScaledVector(df,o).addScaledVector(pf,a)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}let xK=0;class si extends P0{constructor(){super();Object.defineProperty(this,"id",{value:xK++}),this.uuid=Qr(),this.name="",this.type="Material",this.fog=!0,this.blending=ju,this.side=xa,this.vertexColors=!1,this.opacity=1,this.format=yn,this.transparent=!1,this.blendSrc=G6,this.blendDst=V6,this.blendEquation=Mo,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=o3,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=AL,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=h3,this.stencilZFail=h3,this.stencilZPass=h3,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBuild(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const t in e){const i=e[t];if(i===void 0){console.warn("THREE.Material: '"+t+"' parameter is undefined.");continue}if(t==="shading"){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=i===O6;continue}const r=this[t];if(r===void 0){console.warn("THREE."+this.type+": '"+t+"' is not a property of this material.");continue}r&&r.isColor?r.set(i):r&&r.isVector3&&i&&i.isVector3?r.copy(i):this[t]=i}}toJSON(e){const t=e===void 0||typeof e=="string";t&&(e={textures:{},images:{}});const i={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.color&&this.color.isColor&&(i.color=this.color.getHex()),this.roughness!==void 0&&(i.roughness=this.roughness),this.metalness!==void 0&&(i.metalness=this.metalness),this.sheenTint&&this.sheenTint.isColor&&(i.sheenTint=this.sheenTint.getHex()),this.emissive&&this.emissive.isColor&&(i.emissive=this.emissive.getHex()),this.emissiveIntensity&&this.emissiveIntensity!==1&&(i.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(i.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(i.specularIntensity=this.specularIntensity),this.specularTint&&this.specularTint.isColor&&(i.specularTint=this.specularTint.getHex()),this.shininess!==void 0&&(i.shininess=this.shininess),this.clearcoat!==void 0&&(i.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(i.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(i.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(i.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,i.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.map&&this.map.isTexture&&(i.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(i.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(i.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(i.lightMap=this.lightMap.toJSON(e).uuid,i.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(i.aoMap=this.aoMap.toJSON(e).uuid,i.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(i.bumpMap=this.bumpMap.toJSON(e).uuid,i.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(i.normalMap=this.normalMap.toJSON(e).uuid,i.normalMapType=this.normalMapType,i.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(i.displacementMap=this.displacementMap.toJSON(e).uuid,i.displacementScale=this.displacementScale,i.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(i.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(i.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(i.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(i.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(i.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularTintMap&&this.specularTintMap.isTexture&&(i.specularTintMap=this.specularTintMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(i.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(i.combine=this.combine)),this.envMapIntensity!==void 0&&(i.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(i.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(i.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(i.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(i.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(i.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(i.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(i.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&(i.attenuationDistance=this.attenuationDistance),this.attenuationTint!==void 0&&(i.attenuationTint=this.attenuationTint.getHex()),this.size!==void 0&&(i.size=this.size),this.shadowSide!==null&&(i.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(i.sizeAttenuation=this.sizeAttenuation),this.blending!==ju&&(i.blending=this.blending),this.side!==xa&&(i.side=this.side),this.vertexColors&&(i.vertexColors=!0),this.opacity<1&&(i.opacity=this.opacity),this.format!==yn&&(i.format=this.format),this.transparent===!0&&(i.transparent=this.transparent),i.depthFunc=this.depthFunc,i.depthTest=this.depthTest,i.depthWrite=this.depthWrite,i.colorWrite=this.colorWrite,i.stencilWrite=this.stencilWrite,i.stencilWriteMask=this.stencilWriteMask,i.stencilFunc=this.stencilFunc,i.stencilRef=this.stencilRef,i.stencilFuncMask=this.stencilFuncMask,i.stencilFail=this.stencilFail,i.stencilZFail=this.stencilZFail,i.stencilZPass=this.stencilZPass,this.rotation&&this.rotation!==0&&(i.rotation=this.rotation),this.polygonOffset===!0&&(i.polygonOffset=!0),this.polygonOffsetFactor!==0&&(i.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(i.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth&&this.linewidth!==1&&(i.linewidth=this.linewidth),this.dashSize!==void 0&&(i.dashSize=this.dashSize),this.gapSize!==void 0&&(i.gapSize=this.gapSize),this.scale!==void 0&&(i.scale=this.scale),this.dithering===!0&&(i.dithering=!0),this.alphaTest>0&&(i.alphaTest=this.alphaTest),this.alphaToCoverage===!0&&(i.alphaToCoverage=this.alphaToCoverage),this.premultipliedAlpha===!0&&(i.premultipliedAlpha=this.premultipliedAlpha),this.wireframe===!0&&(i.wireframe=this.wireframe),this.wireframeLinewidth>1&&(i.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(i.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(i.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(i.flatShading=this.flatShading),this.visible===!1&&(i.visible=!1),this.toneMapped===!1&&(i.toneMapped=!1),JSON.stringify(this.userData)!=="{}"&&(i.userData=this.userData);function r(s){const o=[];for(const a in s){const l=s[a];delete l.metadata,o.push(l)}return o}if(t){const s=r(e.textures),o=r(e.images);s.length>0&&(i.textures=s),o.length>0&&(i.images=o)}return i}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.fog=e.fog,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.format=e.format,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const t=e.clippingPlanes;let i=null;if(t!==null){const r=t.length;i=new Array(r);for(let s=0;s!==r;++s)i[s]=t[s].clone()}return this.clippingPlanes=i,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}}si.prototype.isMaterial=!0;const zL={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},t0={h:0,s:0,l:0},_3={h:0,s:0,l:0};function T7(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*6*(2/3-t):n}function E7(n){return n<.04045?n*.0773993808:Math.pow(n*.9478672986+.0521327014,2.4)}function L7(n){return n<.0031308?n*12.92:1.055*Math.pow(n,.41666)-.055}class We{constructor(e,t,i){return t===void 0&&i===void 0?this.set(e):this.setRGB(e,t,i)}set(e){return e&&e.isColor?this.copy(e):typeof e=="number"?this.setHex(e):typeof e=="string"&&this.setStyle(e),this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,this}setRGB(e,t,i){return this.r=e,this.g=t,this.b=i,this}setHSL(e,t,i){if(e=c7(e,1),t=Fi(t,0,1),i=Fi(i,0,1),t===0)this.r=this.g=this.b=i;else{const r=i<=.5?i*(1+t):i+t-i*t,s=2*i-r;this.r=T7(s,r,e+1/3),this.g=T7(s,r,e),this.b=T7(s,r,e-1/3)}return this}setStyle(e){function t(r){r!==void 0&&parseFloat(r)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let i;if(i=/^((?:rgb|hsl)a?)\(([^\)]*)\)/.exec(e)){let r;const s=i[1],o=i[2];switch(s){case"rgb":case"rgba":if(r=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return this.r=Math.min(255,parseInt(r[1],10))/255,this.g=Math.min(255,parseInt(r[2],10))/255,this.b=Math.min(255,parseInt(r[3],10))/255,t(r[4]),this;if(r=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return this.r=Math.min(100,parseInt(r[1],10))/100,this.g=Math.min(100,parseInt(r[2],10))/100,this.b=Math.min(100,parseInt(r[3],10))/100,t(r[4]),this;break;case"hsl":case"hsla":if(r=/^\s*(\d*\.?\d+)\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o)){const a=parseFloat(r[1])/360,l=parseInt(r[2],10)/100,c=parseInt(r[3],10)/100;return t(r[4]),this.setHSL(a,l,c)}break}}else if(i=/^\#([A-Fa-f\d]+)$/.exec(e)){const r=i[1],s=r.length;if(s===3)return this.r=parseInt(r.charAt(0)+r.charAt(0),16)/255,this.g=parseInt(r.charAt(1)+r.charAt(1),16)/255,this.b=parseInt(r.charAt(2)+r.charAt(2),16)/255,this;if(s===6)return this.r=parseInt(r.charAt(0)+r.charAt(1),16)/255,this.g=parseInt(r.charAt(2)+r.charAt(3),16)/255,this.b=parseInt(r.charAt(4)+r.charAt(5),16)/255,this}return e&&e.length>0?this.setColorName(e):this}setColorName(e){const t=zL[e.toLowerCase()];return t!==void 0?this.setHex(t):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copyGammaToLinear(e,t=2){return this.r=Math.pow(e.r,t),this.g=Math.pow(e.g,t),this.b=Math.pow(e.b,t),this}copyLinearToGamma(e,t=2){const i=t>0?1/t:1;return this.r=Math.pow(e.r,i),this.g=Math.pow(e.g,i),this.b=Math.pow(e.b,i),this}convertGammaToLinear(e){return this.copyGammaToLinear(this,e),this}convertLinearToGamma(e){return this.copyLinearToGamma(this,e),this}copySRGBToLinear(e){return this.r=E7(e.r),this.g=E7(e.g),this.b=E7(e.b),this}copyLinearToSRGB(e){return this.r=L7(e.r),this.g=L7(e.g),this.b=L7(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(){return this.r*255<<16^this.g*255<<8^this.b*255<<0}getHexString(){return("000000"+this.getHex().toString(16)).slice(-6)}getHSL(e){const t=this.r,i=this.g,r=this.b,s=Math.max(t,i,r),o=Math.min(t,i,r);let a,l;const c=(o+s)/2;if(o===s)a=0,l=0;else{const u=s-o;switch(l=c<=.5?u/(s+o):u/(2-s-o),s){case t:a=(i-r)/u+(i<r?6:0);break;case i:a=(r-t)/u+2;break;case r:a=(t-i)/u+4;break}a/=6}return e.h=a,e.s=l,e.l=c,e}getStyle(){return"rgb("+(this.r*255|0)+","+(this.g*255|0)+","+(this.b*255|0)+")"}offsetHSL(e,t,i){return this.getHSL(t0),t0.h+=e,t0.s+=t,t0.l+=i,this.setHSL(t0.h,t0.s,t0.l),this}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}lerpColors(e,t,i){return this.r=e.r+(t.r-e.r)*i,this.g=e.g+(t.g-e.g)*i,this.b=e.b+(t.b-e.b)*i,this}lerpHSL(e,t){this.getHSL(t0),e.getHSL(_3);const i=s1(t0.h,_3.h,t),r=s1(t0.s,_3.s,t),s=s1(t0.l,_3.l,t);return this.setHSL(i,r,s),this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,t=0){return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}toArray(e=[],t=0){return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}fromBufferAttribute(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),e.normalized===!0&&(this.r/=255,this.g/=255,this.b/=255),this}toJSON(){return this.getHex()}}We.NAMES=zL;We.prototype.isColor=!0;We.prototype.r=1;We.prototype.g=1;We.prototype.b=1;class mi extends si{constructor(e){super();this.type="MeshBasicMaterial",this.color=new We(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Qd,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this}}mi.prototype.isMeshBasicMaterial=!0;const _n=new Z,b3=new Ie;class Tt{constructor(e,t,i){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.name="",this.array=e,this.itemSize=t,this.count=e!==void 0?e.length/t:0,this.normalized=i===!0,this.usage=sf,this.updateRange={offset:0,count:-1},this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this}copyAt(e,t,i){e*=this.itemSize,i*=t.itemSize;for(let r=0,s=this.itemSize;r<s;r++)this.array[e+r]=t.array[i+r];return this}copyArray(e){return this.array.set(e),this}copyColorsArray(e){const t=this.array;let i=0;for(let r=0,s=e.length;r<s;r++){let o=e[r];o===void 0&&(console.warn("THREE.BufferAttribute.copyColorsArray(): color is undefined",r),o=new We),t[i++]=o.r,t[i++]=o.g,t[i++]=o.b}return this}copyVector2sArray(e){const t=this.array;let i=0;for(let r=0,s=e.length;r<s;r++){let o=e[r];o===void 0&&(console.warn("THREE.BufferAttribute.copyVector2sArray(): vector is undefined",r),o=new Ie),t[i++]=o.x,t[i++]=o.y}return this}copyVector3sArray(e){const t=this.array;let i=0;for(let r=0,s=e.length;r<s;r++){let o=e[r];o===void 0&&(console.warn("THREE.BufferAttribute.copyVector3sArray(): vector is undefined",r),o=new Z),t[i++]=o.x,t[i++]=o.y,t[i++]=o.z}return this}copyVector4sArray(e){const t=this.array;let i=0;for(let r=0,s=e.length;r<s;r++){let o=e[r];o===void 0&&(console.warn("THREE.BufferAttribute.copyVector4sArray(): vector is undefined",r),o=new $t),t[i++]=o.x,t[i++]=o.y,t[i++]=o.z,t[i++]=o.w}return this}applyMatrix3(e){if(this.itemSize===2)for(let t=0,i=this.count;t<i;t++)b3.fromBufferAttribute(this,t),b3.applyMatrix3(e),this.setXY(t,b3.x,b3.y);else if(this.itemSize===3)for(let t=0,i=this.count;t<i;t++)_n.fromBufferAttribute(this,t),_n.applyMatrix3(e),this.setXYZ(t,_n.x,_n.y,_n.z);return this}applyMatrix4(e){for(let t=0,i=this.count;t<i;t++)_n.x=this.getX(t),_n.y=this.getY(t),_n.z=this.getZ(t),_n.applyMatrix4(e),this.setXYZ(t,_n.x,_n.y,_n.z);return this}applyNormalMatrix(e){for(let t=0,i=this.count;t<i;t++)_n.x=this.getX(t),_n.y=this.getY(t),_n.z=this.getZ(t),_n.applyNormalMatrix(e),this.setXYZ(t,_n.x,_n.y,_n.z);return this}transformDirection(e){for(let t=0,i=this.count;t<i;t++)_n.x=this.getX(t),_n.y=this.getY(t),_n.z=this.getZ(t),_n.transformDirection(e),this.setXYZ(t,_n.x,_n.y,_n.z);return this}set(e,t=0){return this.array.set(e,t),this}getX(e){return this.array[e*this.itemSize]}setX(e,t){return this.array[e*this.itemSize]=t,this}getY(e){return this.array[e*this.itemSize+1]}setY(e,t){return this.array[e*this.itemSize+1]=t,this}getZ(e){return this.array[e*this.itemSize+2]}setZ(e,t){return this.array[e*this.itemSize+2]=t,this}getW(e){return this.array[e*this.itemSize+3]}setW(e,t){return this.array[e*this.itemSize+3]=t,this}setXY(e,t,i){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=i,this}setXYZ(e,t,i,r){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=i,this.array[e+2]=r,this}setXYZW(e,t,i,r,s){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=i,this.array[e+2]=r,this.array[e+3]=s,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.prototype.slice.call(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==sf&&(e.usage=this.usage),(this.updateRange.offset!==0||this.updateRange.count!==-1)&&(e.updateRange=this.updateRange),e}}Tt.prototype.isBufferAttribute=!0;class kL extends Tt{constructor(e,t,i){super(new Int8Array(e),t,i)}}class HL extends Tt{constructor(e,t,i){super(new Uint8Array(e),t,i)}}class GL extends Tt{constructor(e,t,i){super(new Uint8ClampedArray(e),t,i)}}class VL extends Tt{constructor(e,t,i){super(new Int16Array(e),t,i)}}class c1 extends Tt{constructor(e,t,i){super(new Uint16Array(e),t,i)}}class WL extends Tt{constructor(e,t,i){super(new Int32Array(e),t,i)}}class w3 extends Tt{constructor(e,t,i){super(new Uint32Array(e),t,i)}}class XL extends Tt{constructor(e,t,i){super(new Uint16Array(e),t,i)}}XL.prototype.isFloat16BufferAttribute=!0;class je extends Tt{constructor(e,t,i){super(new Float32Array(e),t,i)}}class YL extends Tt{constructor(e,t,i){super(new Float64Array(e),t,i)}}function $L(n){if(n.length===0)return-1/0;let e=n[0];for(let t=1,i=n.length;t<i;++t)n[t]>e&&(e=n[t]);return e}const yK={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function mf(n,e){return new yK[n](e)}let _K=0;const As=new $e,C7=new At,gf=new Z,Kr=new fr,u1=new fr,gi=new Z;class ot extends P0{constructor(){super();Object.defineProperty(this,"id",{value:_K++}),this.uuid=Qr(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new($L(e)>65535?w3:c1)(e,1):this.index=e,this}getAttribute(e){return this.attributes[e]}setAttribute(e,t){return this.attributes[e]=t,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,t,i=0){this.groups.push({start:e,count:t,materialIndex:i})}clearGroups(){this.groups=[]}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}applyMatrix4(e){const t=this.attributes.position;t!==void 0&&(t.applyMatrix4(e),t.needsUpdate=!0);const i=this.attributes.normal;if(i!==void 0){const s=new Gn().getNormalMatrix(e);i.applyNormalMatrix(s),i.needsUpdate=!0}const r=this.attributes.tangent;return r!==void 0&&(r.transformDirection(e),r.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return As.makeRotationFromQuaternion(e),this.applyMatrix4(As),this}rotateX(e){return As.makeRotationX(e),this.applyMatrix4(As),this}rotateY(e){return As.makeRotationY(e),this.applyMatrix4(As),this}rotateZ(e){return As.makeRotationZ(e),this.applyMatrix4(As),this}translate(e,t,i){return As.makeTranslation(e,t,i),this.applyMatrix4(As),this}scale(e,t,i){return As.makeScale(e,t,i),this.applyMatrix4(As),this}lookAt(e){return C7.lookAt(e),C7.updateMatrix(),this.applyMatrix4(C7.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(gf).negate(),this.translate(gf.x,gf.y,gf.z),this}setFromPoints(e){const t=[];for(let i=0,r=e.length;i<r;i++){const s=e[i];t.push(s.x,s.y,s.z||0)}return this.setAttribute("position",new je(t,3)),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new fr);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingBox.set(new Z(-1/0,-1/0,-1/0),new Z(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),t)for(let i=0,r=t.length;i<r;i++){const s=t[i];Kr.setFromBufferAttribute(s),this.morphTargetsRelative?(gi.addVectors(this.boundingBox.min,Kr.min),this.boundingBox.expandByPoint(gi),gi.addVectors(this.boundingBox.max,Kr.max),this.boundingBox.expandByPoint(gi)):(this.boundingBox.expandByPoint(Kr.min),this.boundingBox.expandByPoint(Kr.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new R0);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingSphere.set(new Z,1/0);return}if(e){const i=this.boundingSphere.center;if(Kr.setFromBufferAttribute(e),t)for(let s=0,o=t.length;s<o;s++){const a=t[s];u1.setFromBufferAttribute(a),this.morphTargetsRelative?(gi.addVectors(Kr.min,u1.min),Kr.expandByPoint(gi),gi.addVectors(Kr.max,u1.max),Kr.expandByPoint(gi)):(Kr.expandByPoint(u1.min),Kr.expandByPoint(u1.max))}Kr.getCenter(i);let r=0;for(let s=0,o=e.count;s<o;s++)gi.fromBufferAttribute(e,s),r=Math.max(r,i.distanceToSquared(gi));if(t)for(let s=0,o=t.length;s<o;s++){const a=t[s],l=this.morphTargetsRelative;for(let c=0,u=a.count;c<u;c++)gi.fromBufferAttribute(a,c),l&&(gf.fromBufferAttribute(e,c),gi.add(gf)),r=Math.max(r,i.distanceToSquared(gi))}this.boundingSphere.radius=Math.sqrt(r),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,t=this.attributes;if(e===null||t.position===void 0||t.normal===void 0||t.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const i=e.array,r=t.position.array,s=t.normal.array,o=t.uv.array,a=r.length/3;t.tangent===void 0&&this.setAttribute("tangent",new Tt(new Float32Array(4*a),4));const l=t.tangent.array,c=[],u=[];for(let N=0;N<a;N++)c[N]=new Z,u[N]=new Z;const f=new Z,h=new Z,d=new Z,m=new Ie,v=new Ie,_=new Ie,g=new Z,x=new Z;function b(N,O,G){f.fromArray(r,N*3),h.fromArray(r,O*3),d.fromArray(r,G*3),m.fromArray(o,N*2),v.fromArray(o,O*2),_.fromArray(o,G*2),h.sub(f),d.sub(f),v.sub(m),_.sub(m);const D=1/(v.x*_.y-_.x*v.y);!isFinite(D)||(g.copy(h).multiplyScalar(_.y).addScaledVector(d,-v.y).multiplyScalar(D),x.copy(d).multiplyScalar(v.x).addScaledVector(h,-_.x).multiplyScalar(D),c[N].add(g),c[O].add(g),c[G].add(g),u[N].add(x),u[O].add(x),u[G].add(x))}let w=this.groups;w.length===0&&(w=[{start:0,count:i.length}]);for(let N=0,O=w.length;N<O;++N){const G=w[N],D=G.start,P=G.count;for(let I=D,C=D+P;I<C;I+=3)b(i[I+0],i[I+1],i[I+2])}const S=new Z,A=new Z,T=new Z,F=new Z;function U(N){T.fromArray(s,N*3),F.copy(T);const O=c[N];S.copy(O),S.sub(T.multiplyScalar(T.dot(O))).normalize(),A.crossVectors(F,O);const D=A.dot(u[N])<0?-1:1;l[N*4]=S.x,l[N*4+1]=S.y,l[N*4+2]=S.z,l[N*4+3]=D}for(let N=0,O=w.length;N<O;++N){const G=w[N],D=G.start,P=G.count;for(let I=D,C=D+P;I<C;I+=3)U(i[I+0]),U(i[I+1]),U(i[I+2])}}computeVertexNormals(){const e=this.index,t=this.getAttribute("position");if(t!==void 0){let i=this.getAttribute("normal");if(i===void 0)i=new Tt(new Float32Array(t.count*3),3),this.setAttribute("normal",i);else for(let h=0,d=i.count;h<d;h++)i.setXYZ(h,0,0,0);const r=new Z,s=new Z,o=new Z,a=new Z,l=new Z,c=new Z,u=new Z,f=new Z;if(e)for(let h=0,d=e.count;h<d;h+=3){const m=e.getX(h+0),v=e.getX(h+1),_=e.getX(h+2);r.fromBufferAttribute(t,m),s.fromBufferAttribute(t,v),o.fromBufferAttribute(t,_),u.subVectors(o,s),f.subVectors(r,s),u.cross(f),a.fromBufferAttribute(i,m),l.fromBufferAttribute(i,v),c.fromBufferAttribute(i,_),a.add(u),l.add(u),c.add(u),i.setXYZ(m,a.x,a.y,a.z),i.setXYZ(v,l.x,l.y,l.z),i.setXYZ(_,c.x,c.y,c.z)}else for(let h=0,d=t.count;h<d;h+=3)r.fromBufferAttribute(t,h+0),s.fromBufferAttribute(t,h+1),o.fromBufferAttribute(t,h+2),u.subVectors(o,s),f.subVectors(r,s),u.cross(f),i.setXYZ(h+0,u.x,u.y,u.z),i.setXYZ(h+1,u.x,u.y,u.z),i.setXYZ(h+2,u.x,u.y,u.z);this.normalizeNormals(),i.needsUpdate=!0}}merge(e,t){if(!(e&&e.isBufferGeometry)){console.error("THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.",e);return}t===void 0&&(t=0,console.warn("THREE.BufferGeometry.merge(): Overwriting original geometry, starting at offset=0. Use BufferGeometryUtils.mergeBufferGeometries() for lossless merge."));const i=this.attributes;for(const r in i){if(e.attributes[r]===void 0)continue;const o=i[r].array,a=e.attributes[r],l=a.array,c=a.itemSize*t,u=Math.min(l.length,o.length-c);for(let f=0,h=c;f<u;f++,h++)o[h]=l[f]}return this}normalizeNormals(){const e=this.attributes.normal;for(let t=0,i=e.count;t<i;t++)gi.fromBufferAttribute(e,t),gi.normalize(),e.setXYZ(t,gi.x,gi.y,gi.z)}toNonIndexed(){function e(a,l){const c=a.array,u=a.itemSize,f=a.normalized,h=new c.constructor(l.length*u);let d=0,m=0;for(let v=0,_=l.length;v<_;v++){a.isInterleavedBufferAttribute?d=l[v]*a.data.stride+a.offset:d=l[v]*u;for(let g=0;g<u;g++)h[m++]=c[d++]}return new Tt(h,u,f)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const t=new ot,i=this.index.array,r=this.attributes;for(const a in r){const l=r[a],c=e(l,i);t.setAttribute(a,c)}const s=this.morphAttributes;for(const a in s){const l=[],c=s[a];for(let u=0,f=c.length;u<f;u++){const h=c[u],d=e(h,i);l.push(d)}t.morphAttributes[a]=l}t.morphTargetsRelative=this.morphTargetsRelative;const o=this.groups;for(let a=0,l=o.length;a<l;a++){const c=o[a];t.addGroup(c.start,c.count,c.materialIndex)}return t}toJSON(){const e={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const l=this.parameters;for(const c in l)l[c]!==void 0&&(e[c]=l[c]);return e}e.data={attributes:{}};const t=this.index;t!==null&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});const i=this.attributes;for(const l in i){const c=i[l];e.data.attributes[l]=c.toJSON(e.data)}const r={};let s=!1;for(const l in this.morphAttributes){const c=this.morphAttributes[l],u=[];for(let f=0,h=c.length;f<h;f++){const d=c[f];u.push(d.toJSON(e.data))}u.length>0&&(r[l]=u,s=!0)}s&&(e.data.morphAttributes=r,e.data.morphTargetsRelative=this.morphTargetsRelative);const o=this.groups;o.length>0&&(e.data.groups=JSON.parse(JSON.stringify(o)));const a=this.boundingSphere;return a!==null&&(e.data.boundingSphere={center:a.center.toArray(),radius:a.radius}),e}clone(){return new ot().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const t={};this.name=e.name;const i=e.index;i!==null&&this.setIndex(i.clone(t));const r=e.attributes;for(const c in r){const u=r[c];this.setAttribute(c,u.clone(t))}const s=e.morphAttributes;for(const c in s){const u=[],f=s[c];for(let h=0,d=f.length;h<d;h++)u.push(f[h].clone(t));this.morphAttributes[c]=u}this.morphTargetsRelative=e.morphTargetsRelative;const o=e.groups;for(let c=0,u=o.length;c<u;c++){const f=o[c];this.addGroup(f.start,f.count,f.materialIndex)}const a=e.boundingBox;a!==null&&(this.boundingBox=a.clone());const l=e.boundingSphere;return l!==null&&(this.boundingSphere=l.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}ot.prototype.isBufferGeometry=!0;const qL=new $e,vf=new Aa,P7=new R0,Ea=new Z,La=new Z,Ca=new Z,R7=new Z,F7=new Z,I7=new Z,M3=new Z,S3=new Z,A3=new Z,T3=new Ie,E3=new Ie,L3=new Ie,D7=new Z,C3=new Z;class En extends At{constructor(e=new ot,t=new mi){super();this.type="Mesh",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e){return super.copy(e),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=e.material,this.geometry=e.geometry,this}updateMorphTargets(){const e=this.geometry;if(e.isBufferGeometry){const t=e.morphAttributes,i=Object.keys(t);if(i.length>0){const r=t[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=r.length;s<o;s++){const a=r[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}else{const t=e.morphTargets;t!==void 0&&t.length>0&&console.error("THREE.Mesh.updateMorphTargets() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}}raycast(e,t){const i=this.geometry,r=this.material,s=this.matrixWorld;if(r===void 0||(i.boundingSphere===null&&i.computeBoundingSphere(),P7.copy(i.boundingSphere),P7.applyMatrix4(s),e.ray.intersectsSphere(P7)===!1)||(qL.copy(s).invert(),vf.copy(e.ray).applyMatrix4(qL),i.boundingBox!==null&&vf.intersectsBox(i.boundingBox)===!1))return;let o;if(i.isBufferGeometry){const a=i.index,l=i.attributes.position,c=i.morphAttributes.position,u=i.morphTargetsRelative,f=i.attributes.uv,h=i.attributes.uv2,d=i.groups,m=i.drawRange;if(a!==null)if(Array.isArray(r))for(let v=0,_=d.length;v<_;v++){const g=d[v],x=r[g.materialIndex],b=Math.max(g.start,m.start),w=Math.min(g.start+g.count,m.start+m.count);for(let S=b,A=w;S<A;S+=3){const T=a.getX(S),F=a.getX(S+1),U=a.getX(S+2);o=P3(this,x,e,vf,l,c,u,f,h,T,F,U),o&&(o.faceIndex=Math.floor(S/3),o.face.materialIndex=g.materialIndex,t.push(o))}}else{const v=Math.max(0,m.start),_=Math.min(a.count,m.start+m.count);for(let g=v,x=_;g<x;g+=3){const b=a.getX(g),w=a.getX(g+1),S=a.getX(g+2);o=P3(this,r,e,vf,l,c,u,f,h,b,w,S),o&&(o.faceIndex=Math.floor(g/3),t.push(o))}}else if(l!==void 0)if(Array.isArray(r))for(let v=0,_=d.length;v<_;v++){const g=d[v],x=r[g.materialIndex],b=Math.max(g.start,m.start),w=Math.min(g.start+g.count,m.start+m.count);for(let S=b,A=w;S<A;S+=3){const T=S,F=S+1,U=S+2;o=P3(this,x,e,vf,l,c,u,f,h,T,F,U),o&&(o.faceIndex=Math.floor(S/3),o.face.materialIndex=g.materialIndex,t.push(o))}}else{const v=Math.max(0,m.start),_=Math.min(l.count,m.start+m.count);for(let g=v,x=_;g<x;g+=3){const b=g,w=g+1,S=g+2;o=P3(this,r,e,vf,l,c,u,f,h,b,w,S),o&&(o.faceIndex=Math.floor(g/3),t.push(o))}}}else i.isGeometry&&console.error("THREE.Mesh.raycast() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}}En.prototype.isMesh=!0;function bK(n,e,t,i,r,s,o,a){let l;if(e.side===Hn?l=i.intersectTriangle(o,s,r,!0,a):l=i.intersectTriangle(r,s,o,e.side!==wo,a),l===null)return null;C3.copy(a),C3.applyMatrix4(n.matrixWorld);const c=t.ray.origin.distanceTo(C3);return c<t.near||c>t.far?null:{distance:c,point:C3.clone(),object:n}}function P3(n,e,t,i,r,s,o,a,l,c,u,f){Ea.fromBufferAttribute(r,c),La.fromBufferAttribute(r,u),Ca.fromBufferAttribute(r,f);const h=n.morphTargetInfluences;if(s&&h){M3.set(0,0,0),S3.set(0,0,0),A3.set(0,0,0);for(let m=0,v=s.length;m<v;m++){const _=h[m],g=s[m];_!==0&&(R7.fromBufferAttribute(g,c),F7.fromBufferAttribute(g,u),I7.fromBufferAttribute(g,f),o?(M3.addScaledVector(R7,_),S3.addScaledVector(F7,_),A3.addScaledVector(I7,_)):(M3.addScaledVector(R7.sub(Ea),_),S3.addScaledVector(F7.sub(La),_),A3.addScaledVector(I7.sub(Ca),_)))}Ea.add(M3),La.add(S3),Ca.add(A3)}n.isSkinnedMesh&&(n.boneTransform(c,Ea),n.boneTransform(u,La),n.boneTransform(f,Ca));const d=bK(n,e,t,i,Ea,La,Ca,D7);if(d){a&&(T3.fromBufferAttribute(a,c),E3.fromBufferAttribute(a,u),L3.fromBufferAttribute(a,f),d.uv=Zn.getUV(D7,Ea,La,Ca,T3,E3,L3,new Ie)),l&&(T3.fromBufferAttribute(l,c),E3.fromBufferAttribute(l,u),L3.fromBufferAttribute(l,f),d.uv2=Zn.getUV(D7,Ea,La,Ca,T3,E3,L3,new Ie));const m={a:c,b:u,c:f,normal:new Z,materialIndex:0};Zn.getNormal(Ea,La,Ca,m.normal),d.face=m}return d}class n0 extends ot{constructor(e=1,t=1,i=1,r=1,s=1,o=1){super();this.type="BoxGeometry",this.parameters={width:e,height:t,depth:i,widthSegments:r,heightSegments:s,depthSegments:o};const a=this;r=Math.floor(r),s=Math.floor(s),o=Math.floor(o);const l=[],c=[],u=[],f=[];let h=0,d=0;m("z","y","x",-1,-1,i,t,e,o,s,0),m("z","y","x",1,-1,i,t,-e,o,s,1),m("x","z","y",1,1,e,i,t,r,o,2),m("x","z","y",1,-1,e,i,-t,r,o,3),m("x","y","z",1,-1,e,t,i,r,s,4),m("x","y","z",-1,-1,e,t,-i,r,s,5),this.setIndex(l),this.setAttribute("position",new je(c,3)),this.setAttribute("normal",new je(u,3)),this.setAttribute("uv",new je(f,2));function m(v,_,g,x,b,w,S,A,T,F,U){const N=w/T,O=S/F,G=w/2,D=S/2,P=A/2,I=T+1,C=F+1;let B=0,Y=0;const j=new Z;for(let re=0;re<C;re++){const ie=re*O-D;for(let ve=0;ve<I;ve++){const de=ve*N-G;j[v]=de*x,j[_]=ie*b,j[g]=P,c.push(j.x,j.y,j.z),j[v]=0,j[_]=0,j[g]=A>0?1:-1,u.push(j.x,j.y,j.z),f.push(ve/T),f.push(1-re/F),B+=1}}for(let re=0;re<F;re++)for(let ie=0;ie<T;ie++){const ve=h+ie+I*re,de=h+ie+I*(re+1),ye=h+(ie+1)+I*(re+1),te=h+(ie+1)+I*re;l.push(ve,de,te),l.push(de,ye,te),Y+=6}a.addGroup(d,Y,U),d+=Y,h+=B}}static fromJSON(e){return new n0(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function xf(n){const e={};for(const t in n){e[t]={};for(const i in n[t]){const r=n[t][i];r&&(r.isColor||r.isMatrix3||r.isMatrix4||r.isVector2||r.isVector3||r.isVector4||r.isTexture||r.isQuaternion)?e[t][i]=r.clone():Array.isArray(r)?e[t][i]=r.slice():e[t][i]=r}}return e}function Vi(n){const e={};for(let t=0;t<n.length;t++){const i=xf(n[t]);for(const r in i)e[r]=i[r]}return e}const Ii={clone:xf,merge:Vi};var wK=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,MK=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class cn extends si{constructor(e){super();this.type="ShaderMaterial",this.defines={},this.uniforms={},this.vertexShader=wK,this.fragmentShader=MK,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&(e.attributes!==void 0&&console.error("THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead."),this.setValues(e))}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=xf(e.uniforms),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const t=super.toJSON(e);t.glslVersion=this.glslVersion,t.uniforms={};for(const r in this.uniforms){const o=this.uniforms[r].value;o&&o.isTexture?t.uniforms[r]={type:"t",value:o.toJSON(e).uuid}:o&&o.isColor?t.uniforms[r]={type:"c",value:o.getHex()}:o&&o.isVector2?t.uniforms[r]={type:"v2",value:o.toArray()}:o&&o.isVector3?t.uniforms[r]={type:"v3",value:o.toArray()}:o&&o.isVector4?t.uniforms[r]={type:"v4",value:o.toArray()}:o&&o.isMatrix3?t.uniforms[r]={type:"m3",value:o.toArray()}:o&&o.isMatrix4?t.uniforms[r]={type:"m4",value:o.toArray()}:t.uniforms[r]={value:o}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader;const i={};for(const r in this.extensions)this.extensions[r]===!0&&(i[r]=!0);return Object.keys(i).length>0&&(t.extensions=i),t}}cn.prototype.isShaderMaterial=!0;class f1 extends At{constructor(){super();this.type="Camera",this.matrixWorldInverse=new $e,this.projectionMatrix=new $e,this.projectionMatrixInverse=new $e}copy(e,t){return super.copy(e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(-t[8],-t[9],-t[10]).normalize()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}f1.prototype.isCamera=!0;class Qn extends f1{constructor(e=50,t=1,i=.1,r=2e3){super();this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=i,this.far=r,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const t=.5*this.getFilmHeight()/e;this.fov=r1*2*Math.atan(t),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(ic*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return r1*2*Math.atan(Math.tan(ic*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}setViewOffset(e,t,i,r,s,o){this.aspect=e/t,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=i,this.view.offsetY=r,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let t=e*Math.tan(ic*.5*this.fov)/this.zoom,i=2*t,r=this.aspect*i,s=-.5*r;const o=this.view;if(this.view!==null&&this.view.enabled){const l=o.fullWidth,c=o.fullHeight;s+=o.offsetX*r/l,t-=o.offsetY*i/c,r*=o.width/l,i*=o.height/c}const a=this.filmOffset;a!==0&&(s+=e*a/this.getFilmWidth()),this.projectionMatrix.makePerspective(s,s+r,t,t-i,e,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,this.view!==null&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}Qn.prototype.isPerspectiveCamera=!0;const yf=90,_f=1;class h1 extends At{constructor(e,t,i){super();if(this.type="CubeCamera",i.isWebGLCubeRenderTarget!==!0){console.error("THREE.CubeCamera: The constructor now expects an instance of WebGLCubeRenderTarget as third parameter.");return}this.renderTarget=i;const r=new Qn(yf,_f,e,t);r.layers=this.layers,r.up.set(0,-1,0),r.lookAt(new Z(1,0,0)),this.add(r);const s=new Qn(yf,_f,e,t);s.layers=this.layers,s.up.set(0,-1,0),s.lookAt(new Z(-1,0,0)),this.add(s);const o=new Qn(yf,_f,e,t);o.layers=this.layers,o.up.set(0,0,1),o.lookAt(new Z(0,1,0)),this.add(o);const a=new Qn(yf,_f,e,t);a.layers=this.layers,a.up.set(0,0,-1),a.lookAt(new Z(0,-1,0)),this.add(a);const l=new Qn(yf,_f,e,t);l.layers=this.layers,l.up.set(0,-1,0),l.lookAt(new Z(0,0,1)),this.add(l);const c=new Qn(yf,_f,e,t);c.layers=this.layers,c.up.set(0,-1,0),c.lookAt(new Z(0,0,-1)),this.add(c)}update(e,t){this.parent===null&&this.updateMatrixWorld();const i=this.renderTarget,[r,s,o,a,l,c]=this.children,u=e.xr.enabled,f=e.getRenderTarget();e.xr.enabled=!1;const h=i.texture.generateMipmaps;i.texture.generateMipmaps=!1,e.setRenderTarget(i,0),e.render(t,r),e.setRenderTarget(i,1),e.render(t,s),e.setRenderTarget(i,2),e.render(t,o),e.setRenderTarget(i,3),e.render(t,a),e.setRenderTarget(i,4),e.render(t,l),i.texture.generateMipmaps=h,e.setRenderTarget(i,5),e.render(t,c),e.setRenderTarget(f),e.xr.enabled=u}}class bf extends Tn{constructor(e,t,i,r,s,o,a,l,c,u){e=e!==void 0?e:[],t=t!==void 0?t:Ql,a=a!==void 0?a:Or;super(e,t,i,r,s,o,a,l,c,u);this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}bf.prototype.isCubeTexture=!0;class d1 extends jn{constructor(e,t,i){Number.isInteger(t)&&(console.warn("THREE.WebGLCubeRenderTarget: constructor signature is now WebGLCubeRenderTarget( size, options )"),t=i);super(e,e,t);t=t||{},this.texture=new bf(void 0,t.mapping,t.wrapS,t.wrapT,t.magFilter,t.minFilter,t.format,t.type,t.anisotropy,t.encoding),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=t.generateMipmaps!==void 0?t.generateMipmaps:!1,this.texture.minFilter=t.minFilter!==void 0?t.minFilter:Ht,this.texture._needsFlipEnvMap=!1}fromEquirectangularTexture(e,t){this.texture.type=t.type,this.texture.format=yn,this.texture.encoding=t.encoding,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;const i={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},r=new n0(5,5,5),s=new cn({name:"CubemapFromEquirect",uniforms:xf(i.uniforms),vertexShader:i.vertexShader,fragmentShader:i.fragmentShader,side:Hn,blending:pi});s.uniforms.tEquirect.value=t;const o=new En(r,s),a=t.minFilter;return t.minFilter===C0&&(t.minFilter=Ht),new h1(1,10,this).update(e,o),t.minFilter=a,o.geometry.dispose(),o.material.dispose(),this}clear(e,t,i,r){const s=e.getRenderTarget();for(let o=0;o<6;o++)e.setRenderTarget(this,o),e.clear(t,i,r);e.setRenderTarget(s)}}d1.prototype.isWebGLCubeRenderTarget=!0;const N7=new Z,SK=new Z,AK=new Gn;class Ts{constructor(e=new Z(1,0,0),t=0){this.normal=e,this.constant=t}set(e,t){return this.normal.copy(e),this.constant=t,this}setComponents(e,t,i,r){return this.normal.set(e,t,i),this.constant=r,this}setFromNormalAndCoplanarPoint(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}setFromCoplanarPoints(e,t,i){const r=N7.subVectors(i,t).cross(SK.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(r,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,t){return t.copy(this.normal).multiplyScalar(-this.distanceToPoint(e)).add(e)}intersectLine(e,t){const i=e.delta(N7),r=this.normal.dot(i);if(r===0)return this.distanceToPoint(e.start)===0?t.copy(e.start):null;const s=-(e.start.dot(this.normal)+this.constant)/r;return s<0||s>1?null:t.copy(i).multiplyScalar(s).add(e.start)}intersectsLine(e){const t=this.distanceToPoint(e.start),i=this.distanceToPoint(e.end);return t<0&&i>0||i<0&&t>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,t){const i=t||AK.getNormalMatrix(e),r=this.coplanarPoint(N7).applyMatrix4(e),s=this.normal.applyMatrix3(i).normalize();return this.constant=-r.dot(s),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}Ts.prototype.isPlane=!0;const wf=new R0,R3=new Z;class p1{constructor(e=new Ts,t=new Ts,i=new Ts,r=new Ts,s=new Ts,o=new Ts){this.planes=[e,t,i,r,s,o]}set(e,t,i,r,s,o){const a=this.planes;return a[0].copy(e),a[1].copy(t),a[2].copy(i),a[3].copy(r),a[4].copy(s),a[5].copy(o),this}copy(e){const t=this.planes;for(let i=0;i<6;i++)t[i].copy(e.planes[i]);return this}setFromProjectionMatrix(e){const t=this.planes,i=e.elements,r=i[0],s=i[1],o=i[2],a=i[3],l=i[4],c=i[5],u=i[6],f=i[7],h=i[8],d=i[9],m=i[10],v=i[11],_=i[12],g=i[13],x=i[14],b=i[15];return t[0].setComponents(a-r,f-l,v-h,b-_).normalize(),t[1].setComponents(a+r,f+l,v+h,b+_).normalize(),t[2].setComponents(a+s,f+c,v+d,b+g).normalize(),t[3].setComponents(a-s,f-c,v-d,b-g).normalize(),t[4].setComponents(a-o,f-u,v-m,b-x).normalize(),t[5].setComponents(a+o,f+u,v+m,b+x).normalize(),this}intersectsObject(e){const t=e.geometry;return t.boundingSphere===null&&t.computeBoundingSphere(),wf.copy(t.boundingSphere).applyMatrix4(e.matrixWorld),this.intersectsSphere(wf)}intersectsSprite(e){return wf.center.set(0,0,0),wf.radius=.7071067811865476,wf.applyMatrix4(e.matrixWorld),this.intersectsSphere(wf)}intersectsSphere(e){const t=this.planes,i=e.center,r=-e.radius;for(let s=0;s<6;s++)if(t[s].distanceToPoint(i)<r)return!1;return!0}intersectsBox(e){const t=this.planes;for(let i=0;i<6;i++){const r=t[i];if(R3.x=r.normal.x>0?e.max.x:e.min.x,R3.y=r.normal.y>0?e.max.y:e.min.y,R3.z=r.normal.z>0?e.max.z:e.min.z,r.distanceToPoint(R3)<0)return!1}return!0}containsPoint(e){const t=this.planes;for(let i=0;i<6;i++)if(t[i].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function jL(){let n=null,e=!1,t=null,i=null;function r(s,o){t(s,o),i=n.requestAnimationFrame(r)}return{start:function(){e!==!0&&t!==null&&(i=n.requestAnimationFrame(r),e=!0)},stop:function(){n.cancelAnimationFrame(i),e=!1},setAnimationLoop:function(s){t=s},setContext:function(s){n=s}}}function TK(n,e){const t=e.isWebGL2,i=new WeakMap;function r(c,u){const f=c.array,h=c.usage,d=n.createBuffer();n.bindBuffer(u,d),n.bufferData(u,f,h),c.onUploadCallback();let m=5126;return f instanceof Float32Array?m=5126:f instanceof Float64Array?console.warn("THREE.WebGLAttributes: Unsupported data buffer format: Float64Array."):f instanceof Uint16Array?c.isFloat16BufferAttribute?t?m=5131:console.warn("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2."):m=5123:f instanceof Int16Array?m=5122:f instanceof Uint32Array?m=5125:f instanceof Int32Array?m=5124:f instanceof Int8Array?m=5120:(f instanceof Uint8Array||f instanceof Uint8ClampedArray)&&(m=5121),{buffer:d,type:m,bytesPerElement:f.BYTES_PER_ELEMENT,version:c.version}}function s(c,u,f){const h=u.array,d=u.updateRange;n.bindBuffer(f,c),d.count===-1?n.bufferSubData(f,0,h):(t?n.bufferSubData(f,d.offset*h.BYTES_PER_ELEMENT,h,d.offset,d.count):n.bufferSubData(f,d.offset*h.BYTES_PER_ELEMENT,h.subarray(d.offset,d.offset+d.count)),d.count=-1)}function o(c){return c.isInterleavedBufferAttribute&&(c=c.data),i.get(c)}function a(c){c.isInterleavedBufferAttribute&&(c=c.data);const u=i.get(c);u&&(n.deleteBuffer(u.buffer),i.delete(c))}function l(c,u){if(c.isGLBufferAttribute){const h=i.get(c);(!h||h.version<c.version)&&i.set(c,{buffer:c.buffer,type:c.type,bytesPerElement:c.elementSize,version:c.version});return}c.isInterleavedBufferAttribute&&(c=c.data);const f=i.get(c);f===void 0?i.set(c,r(c,u)):f.version<c.version&&(s(f.buffer,c,u),f.version=c.version)}return{get:o,remove:a,update:l}}class Po extends ot{constructor(e=1,t=1,i=1,r=1){super();this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:i,heightSegments:r};const s=e/2,o=t/2,a=Math.floor(i),l=Math.floor(r),c=a+1,u=l+1,f=e/a,h=t/l,d=[],m=[],v=[],_=[];for(let g=0;g<u;g++){const x=g*h-o;for(let b=0;b<c;b++){const w=b*f-s;m.push(w,-x,0),v.push(0,0,1),_.push(b/a),_.push(1-g/l)}}for(let g=0;g<l;g++)for(let x=0;x<a;x++){const b=x+c*g,w=x+c*(g+1),S=x+1+c*(g+1),A=x+1+c*g;d.push(b,w,A),d.push(w,S,A)}this.setIndex(d),this.setAttribute("position",new je(m,3)),this.setAttribute("normal",new je(v,3)),this.setAttribute("uv",new je(_,2))}static fromJSON(e){return new Po(e.width,e.height,e.widthSegments,e.heightSegments)}}var EK=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vUv ).g;
#endif`,LK=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,CK=`#ifdef USE_ALPHATEST
	if ( diffuseColor.a < alphaTest ) discard;
#endif`,PK=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,RK=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,FK=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,IK="vec3 transformed = vec3( position );",DK=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,NK=`vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
vec3 BRDF_GGX( const in IncidentLight incidentLight, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float roughness ) {
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( incidentLight.direction + viewDir );
	float dotNL = saturate( dot( normal, incidentLight.direction ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
	float D = D_GGX( alpha, dotNH );
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );
	float dotNH = saturate( dot( geometry.normal, halfDir ) );
	float dotVH = saturate( dot( geometry.viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float NoH ) {
	float invAlpha = 1.0 / roughness;
	float cos2h = NoH * NoH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float NoV, float NoL ) {
	return saturate( 1.0 / ( 4.0 * ( NoL + NoV - NoL * NoV ) ) );
}
vec3 BRDF_Sheen( const in float roughness, const in vec3 L, const in GeometricContext geometry, vec3 specularColor ) {
	vec3 N = geometry.normal;
	vec3 V = geometry.viewDir;
	vec3 H = normalize( V + L );
	float dotNH = saturate( dot( N, H ) );
	return specularColor * D_Charlie( roughness, dotNH ) * V_Neubelt( dot(N, V), dot(N, L) );
}
#endif`,OK=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vUv );
		vec2 dSTdy = dFdy( vUv );
		float Hll = bumpScale * texture2D( bumpMap, vUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = vec3( dFdx( surf_pos.x ), dFdx( surf_pos.y ), dFdx( surf_pos.z ) );
		vec3 vSigmaY = vec3( dFdy( surf_pos.x ), dFdy( surf_pos.y ), dFdy( surf_pos.z ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,BK=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#pragma unroll_loop_start
	for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
		plane = clippingPlanes[ i ];
		if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
	}
	#pragma unroll_loop_end
	#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
		bool clipped = true;
		#pragma unroll_loop_start
		for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
		}
		#pragma unroll_loop_end
		if ( clipped ) discard;
	#endif
#endif`,UK=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,zK=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,kK=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,HK=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,GK=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,VK=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	varying vec3 vColor;
#endif`,WK=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif`,XK=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
struct GeometricContext {
	vec3 position;
	vec3 normal;
	vec3 viewDir;
#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal;
#endif
};
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
float linearToRelativeLuminance( const in vec3 color ) {
	vec3 weights = vec3( 0.2126, 0.7152, 0.0722 );
	return dot( weights, color.rgb );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}`,YK=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_maxMipLevel 8.0
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_maxTileSize 256.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		float texelSize = 1.0 / ( 3.0 * cubeUV_maxTileSize );
		vec2 uv = getUV( direction, face ) * ( faceSize - 1.0 );
		vec2 f = fract( uv );
		uv += 0.5 - f;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		if ( mipInt < cubeUV_maxMipLevel ) {
			uv.y += 2.0 * cubeUV_maxTileSize;
		}
		uv.y += filterInt * 2.0 * cubeUV_minTileSize;
		uv.x += 3.0 * max( 0.0, cubeUV_maxTileSize - 2.0 * faceSize );
		uv *= texelSize;
		vec3 tl = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;
		uv.x += texelSize;
		vec3 tr = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;
		uv.y += texelSize;
		vec3 br = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;
		uv.x -= texelSize;
		vec3 bl = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;
		vec3 tm = mix( tl, tr, f.x );
		vec3 bm = mix( bl, br, f.x );
		return mix( tm, bm, f.y );
	}
	#define r0 1.0
	#define v0 0.339
	#define m0 - 2.0
	#define r1 0.8
	#define v1 0.276
	#define m1 - 1.0
	#define r4 0.4
	#define v4 0.046
	#define m4 2.0
	#define r5 0.305
	#define v5 0.016
	#define m5 3.0
	#define r6 0.21
	#define v6 0.0038
	#define m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= r1 ) {
			mip = ( r0 - roughness ) * ( m1 - m0 ) / ( r0 - r1 ) + m0;
		} else if ( roughness >= r4 ) {
			mip = ( r1 - roughness ) * ( m4 - m1 ) / ( r1 - r4 ) + m1;
		} else if ( roughness >= r5 ) {
			mip = ( r4 - roughness ) * ( m5 - m4 ) / ( r4 - r5 ) + m4;
		} else if ( roughness >= r6 ) {
			mip = ( r5 - roughness ) * ( m6 - m5 ) / ( r5 - r6 ) + m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), m0, cubeUV_maxMipLevel );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,$K=`vec3 transformedNormal = objectNormal;
#ifdef USE_INSTANCING
	mat3 m = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );
	transformedNormal = m * transformedNormal;
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	vec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,qK=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,jK=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );
#endif`,ZK=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vUv );
	emissiveColor.rgb = emissiveMapTexelToLinear( emissiveColor ).rgb;
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,QK=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,JK="gl_FragColor = linearToOutputTexel( gl_FragColor );",KK=`
vec4 LinearToLinear( in vec4 value ) {
	return value;
}
vec4 GammaToLinear( in vec4 value, in float gammaFactor ) {
	return vec4( pow( value.rgb, vec3( gammaFactor ) ), value.a );
}
vec4 LinearToGamma( in vec4 value, in float gammaFactor ) {
	return vec4( pow( value.rgb, vec3( 1.0 / gammaFactor ) ), value.a );
}
vec4 sRGBToLinear( in vec4 value ) {
	return vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );
}
vec4 LinearTosRGB( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}
vec4 RGBEToLinear( in vec4 value ) {
	return vec4( value.rgb * exp2( value.a * 255.0 - 128.0 ), 1.0 );
}
vec4 LinearToRGBE( in vec4 value ) {
	float maxComponent = max( max( value.r, value.g ), value.b );
	float fExp = clamp( ceil( log2( maxComponent ) ), -128.0, 127.0 );
	return vec4( value.rgb / exp2( fExp ), ( fExp + 128.0 ) / 255.0 );
}
vec4 RGBMToLinear( in vec4 value, in float maxRange ) {
	return vec4( value.rgb * value.a * maxRange, 1.0 );
}
vec4 LinearToRGBM( in vec4 value, in float maxRange ) {
	float maxRGB = max( value.r, max( value.g, value.b ) );
	float M = clamp( maxRGB / maxRange, 0.0, 1.0 );
	M = ceil( M * 255.0 ) / 255.0;
	return vec4( value.rgb / ( M * maxRange ), M );
}
vec4 RGBDToLinear( in vec4 value, in float maxRange ) {
	return vec4( value.rgb * ( ( maxRange / 255.0 ) / value.a ), 1.0 );
}
vec4 LinearToRGBD( in vec4 value, in float maxRange ) {
	float maxRGB = max( value.r, max( value.g, value.b ) );
	float D = max( maxRange / maxRGB, 1.0 );
	D = clamp( floor( D ) / 255.0, 0.0, 1.0 );
	return vec4( value.rgb * ( D * ( 255.0 / maxRange ) ), D );
}
const mat3 cLogLuvM = mat3( 0.2209, 0.3390, 0.4184, 0.1138, 0.6780, 0.7319, 0.0102, 0.1130, 0.2969 );
vec4 LinearToLogLuv( in vec4 value ) {
	vec3 Xp_Y_XYZp = cLogLuvM * value.rgb;
	Xp_Y_XYZp = max( Xp_Y_XYZp, vec3( 1e-6, 1e-6, 1e-6 ) );
	vec4 vResult;
	vResult.xy = Xp_Y_XYZp.xy / Xp_Y_XYZp.z;
	float Le = 2.0 * log2(Xp_Y_XYZp.y) + 127.0;
	vResult.w = fract( Le );
	vResult.z = ( Le - ( floor( vResult.w * 255.0 ) ) / 255.0 ) / 255.0;
	return vResult;
}
const mat3 cLogLuvInverseM = mat3( 6.0014, -2.7008, -1.7996, -1.3320, 3.1029, -5.7721, 0.3008, -1.0882, 5.6268 );
vec4 LogLuvToLinear( in vec4 value ) {
	float Le = value.z * 255.0 + value.w;
	vec3 Xp_Y_XYZp;
	Xp_Y_XYZp.y = exp2( ( Le - 127.0 ) / 2.0 );
	Xp_Y_XYZp.z = Xp_Y_XYZp.y / value.y;
	Xp_Y_XYZp.x = value.x * Xp_Y_XYZp.z;
	vec3 vRGB = cLogLuvInverseM * Xp_Y_XYZp.rgb;
	return vec4( max( vRGB, 0.0 ), 1.0 );
}`,eee=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
		envColor = envMapTexelToLinear( envColor );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 envColor = textureCubeUV( envMap, reflectVec, 0.0 );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,tee=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	uniform int maxMipLevel;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,nee=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,iee=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) ||defined( PHONG )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,ree=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,see=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,oee=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,aee=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,lee=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,cee=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return texture2D( gradientMap, coord ).rgb;
	#else
		return ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );
	#endif
}`,uee=`#ifdef USE_LIGHTMAP
	vec4 lightMapTexel = texture2D( lightMap, vUv2 );
	vec3 lightMapIrradiance = lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;
	#ifndef PHYSICALLY_CORRECT_LIGHTS
		lightMapIrradiance *= PI;
	#endif
	reflectedLight.indirectDiffuse += lightMapIrradiance;
#endif`,fee=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,hee=`vec3 diffuse = vec3( 1.0 );
GeometricContext geometry;
geometry.position = mvPosition.xyz;
geometry.normal = normalize( transformedNormal );
geometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( -mvPosition.xyz );
GeometricContext backGeometry;
backGeometry.position = geometry.position;
backGeometry.normal = -geometry.normal;
backGeometry.viewDir = geometry.viewDir;
vLightFront = vec3( 0.0 );
vIndirectFront = vec3( 0.0 );
#ifdef DOUBLE_SIDED
	vLightBack = vec3( 0.0 );
	vIndirectBack = vec3( 0.0 );
#endif
IncidentLight directLight;
float dotNL;
vec3 directLightColor_Diffuse;
vIndirectFront += getAmbientLightIrradiance( ambientLightColor );
vIndirectFront += getLightProbeIrradiance( lightProbe, geometry );
#ifdef DOUBLE_SIDED
	vIndirectBack += getAmbientLightIrradiance( ambientLightColor );
	vIndirectBack += getLightProbeIrradiance( lightProbe, backGeometry );
#endif
#if NUM_POINT_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		getPointLightInfo( pointLights[ i ], geometry, directLight );
		dotNL = dot( geometry.normal, directLight.direction );
		directLightColor_Diffuse = directLight.color;
		vLightFront += saturate( dotNL ) * directLightColor_Diffuse;
		#ifdef DOUBLE_SIDED
			vLightBack += saturate( - dotNL ) * directLightColor_Diffuse;
		#endif
	}
	#pragma unroll_loop_end
#endif
#if NUM_SPOT_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		getSpotLightInfo( spotLights[ i ], geometry, directLight );
		dotNL = dot( geometry.normal, directLight.direction );
		directLightColor_Diffuse = directLight.color;
		vLightFront += saturate( dotNL ) * directLightColor_Diffuse;
		#ifdef DOUBLE_SIDED
			vLightBack += saturate( - dotNL ) * directLightColor_Diffuse;
		#endif
	}
	#pragma unroll_loop_end
#endif
#if NUM_DIR_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		getDirectionalLightInfo( directionalLights[ i ], geometry, directLight );
		dotNL = dot( geometry.normal, directLight.direction );
		directLightColor_Diffuse = directLight.color;
		vLightFront += saturate( dotNL ) * directLightColor_Diffuse;
		#ifdef DOUBLE_SIDED
			vLightBack += saturate( - dotNL ) * directLightColor_Diffuse;
		#endif
	}
	#pragma unroll_loop_end
#endif
#if NUM_HEMI_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
		vIndirectFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );
		#ifdef DOUBLE_SIDED
			vIndirectBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry );
		#endif
	}
	#pragma unroll_loop_end
#endif`,dee=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
uniform vec3 lightProbe[ 9 ];
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in GeometricContext geometry ) {
	vec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	#if defined ( PHYSICALLY_CORRECT_LIGHTS )
		float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
		if ( cutoffDistance > 0.0 ) {
			distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
		}
		return distanceFalloff;
	#else
		if ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {
			return pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );
		}
		return 1.0;
	#endif
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometry.position;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometry.position;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in GeometricContext geometry ) {
		float dotNL = dot( geometry.normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,pee=`#if defined( USE_ENVMAP )
	#ifdef ENVMAP_MODE_REFRACTION
		uniform float refractionRatio;
	#endif
	vec3 getIBLIrradiance( const in GeometricContext geometry ) {
		#if defined( ENVMAP_TYPE_CUBE_UV )
			vec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#if defined( ENVMAP_TYPE_CUBE_UV )
			vec3 reflectVec;
			#ifdef ENVMAP_MODE_REFLECTION
				reflectVec = reflect( - viewDir, normal );
				reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			#else
				reflectVec = refract( - viewDir, normal, refractionRatio );
			#endif
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
#endif`,mee=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,gee=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon
#define Material_LightProbeLOD( material )	(0)`,vee=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,xee=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight, geometry, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong
#define Material_LightProbeLOD( material )	(0)`,yee=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	#ifdef SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularTintFactor = specularTint;
		#ifdef USE_SPECULARINTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vUv ).a;
		#endif
		#ifdef USE_SPECULARTINTMAP
			specularTintFactor *= specularTintMapTexelToLinear( texture2D( specularTintMap, vUv ) ).rgb;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularTintFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( ior - 1.0 ) / ( ior + 1.0 ) ) * specularTintFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_SHEEN
	material.sheenTint = sheenTint;
#endif`,_ee=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenTint;
	#endif
};
vec3 clearcoatSpecular = vec3( 0.0 );
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	vec3 FssEss = specularColor * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = specularColor + ( 1.0 - specularColor ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometry.normal;
		vec3 viewDir = geometry.viewDir;
		vec3 position = geometry.position;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecular += ccIrradiance * BRDF_GGX( directLight, geometry.viewDir, geometry.clearcoatNormal, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		reflectedLight.directSpecular += irradiance * BRDF_Sheen( material.roughness, directLight.direction, geometry, material.sheenTint );
	#else
		reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.roughness );
	#endif
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecular += clearcoatRadiance * EnvironmentBRDF( geometry.clearcoatNormal, geometry.viewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	computeMultiscattering( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	vec3 diffuse = material.diffuseColor * ( 1.0 - ( singleScattering + multiScattering ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,bee=`
GeometricContext geometry;
geometry.position = - vViewPosition;
geometry.normal = normal;
geometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
#ifdef USE_CLEARCOAT
	geometry.clearcoatNormal = clearcoatNormal;
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	irradiance += getLightProbeIrradiance( lightProbe, geometry );
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,wee=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vUv2 );
		vec3 lightMapIrradiance = lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;
		#ifndef PHYSICALLY_CORRECT_LIGHTS
			lightMapIrradiance *= PI;
		#endif
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometry );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	radiance += getIBLRadiance( geometry.viewDir, geometry.normal, material.roughness );
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,Mee=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );
#endif`,See=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	gl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,Aee=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,Tee=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		varying float vFragDepth;
		varying float vIsPerspective;
	#else
		uniform float logDepthBufFC;
	#endif
#endif`,Eee=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		vFragDepth = 1.0 + gl_Position.w;
		vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
	#else
		if ( isPerspectiveMatrix( projectionMatrix ) ) {
			gl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;
			gl_Position.z *= gl_Position.w;
		}
	#endif
#endif`,Lee=`#ifdef USE_MAP
	vec4 texelColor = texture2D( map, vUv );
	texelColor = mapTexelToLinear( texelColor );
	diffuseColor *= texelColor;
#endif`,Cee=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,Pee=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
#endif
#ifdef USE_MAP
	vec4 mapTexel = texture2D( map, uv );
	diffuseColor *= mapTexelToLinear( mapTexel );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,Ree=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	uniform mat3 uvTransform;
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,Fee=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vUv );
	metalnessFactor *= texelMetalness.b;
#endif`,Iee=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,Dee=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	objectNormal += morphNormal0 * morphTargetInfluences[ 0 ];
	objectNormal += morphNormal1 * morphTargetInfluences[ 1 ];
	objectNormal += morphNormal2 * morphTargetInfluences[ 2 ];
	objectNormal += morphNormal3 * morphTargetInfluences[ 3 ];
#endif`,Nee=`#ifdef USE_MORPHTARGETS
	uniform float morphTargetBaseInfluence;
	#ifndef USE_MORPHNORMALS
		uniform float morphTargetInfluences[ 8 ];
	#else
		uniform float morphTargetInfluences[ 4 ];
	#endif
#endif`,Oee=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	transformed += morphTarget0 * morphTargetInfluences[ 0 ];
	transformed += morphTarget1 * morphTargetInfluences[ 1 ];
	transformed += morphTarget2 * morphTargetInfluences[ 2 ];
	transformed += morphTarget3 * morphTargetInfluences[ 3 ];
	#ifndef USE_MORPHNORMALS
		transformed += morphTarget4 * morphTargetInfluences[ 4 ];
		transformed += morphTarget5 * morphTargetInfluences[ 5 ];
		transformed += morphTarget6 * morphTargetInfluences[ 6 ];
		transformed += morphTarget7 * morphTargetInfluences[ 7 ];
	#endif
#endif`,Bee=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );
	vec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	#ifdef USE_TANGENT
		vec3 tangent = normalize( vTangent );
		vec3 bitangent = normalize( vBitangent );
		#ifdef DOUBLE_SIDED
			tangent = tangent * faceDirection;
			bitangent = bitangent * faceDirection;
		#endif
		#if defined( TANGENTSPACE_NORMALMAP ) || defined( USE_CLEARCOAT_NORMALMAP )
			mat3 vTBN = mat3( tangent, bitangent, normal );
		#endif
	#endif
#endif
vec3 geometryNormal = normal;`,Uee=`#ifdef OBJECTSPACE_NORMALMAP
	normal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( TANGENTSPACE_NORMALMAP )
	vec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	#ifdef USE_TANGENT
		normal = normalize( vTBN * mapN );
	#else
		normal = perturbNormal2Arb( - vViewPosition, normal, mapN, faceDirection );
	#endif
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,zee=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,kee=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,Hee=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,Gee=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef OBJECTSPACE_NORMALMAP
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )
	vec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 mapN, float faceDirection ) {
		vec3 q0 = vec3( dFdx( eye_pos.x ), dFdx( eye_pos.y ), dFdx( eye_pos.z ) );
		vec3 q1 = vec3( dFdy( eye_pos.x ), dFdy( eye_pos.y ), dFdy( eye_pos.z ) );
		vec2 st0 = dFdx( vUv.st );
		vec2 st1 = dFdy( vUv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : faceDirection * inversesqrt( det );
		return normalize( T * ( mapN.x * scale ) + B * ( mapN.y * scale ) + N * mapN.z );
	}
#endif`,Vee=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = geometryNormal;
#endif`,Wee=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	#ifdef USE_TANGENT
		clearcoatNormal = normalize( vTBN * clearcoatMapN );
	#else
		clearcoatNormal = perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatMapN, faceDirection );
	#endif
#endif`,Xee=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif`,Yee=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= transmissionAlpha + 0.1;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,$ee=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;
const vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );
const vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );
const float ShiftRight8 = 1. / 256.;
vec4 packDepthToRGBA( const in float v ) {
	vec4 r = vec4( fract( v * PackFactors ), v );
	r.yzw -= r.xyz * ShiftRight8;	return r * PackUpscale;
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors );
}
vec4 pack2HalfToRGBA( vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {
	return linearClipZ * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * invClipZ - far );
}`,qee=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,jee=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,Zee=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,Qee=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,Jee=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vUv );
	roughnessFactor *= texelRoughness.g;
#endif`,Kee=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,ete=`#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		varying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );
		bool inFrustum = all( inFrustumVec );
		bvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );
		bool frustumTest = all( frustumTestVec );
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ), 
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ), 
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return shadow;
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
		vec3 lightToPosition = shadowCoord.xyz;
		float dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );		dp += shadowBias;
		vec3 bd3D = normalize( lightToPosition );
		#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
			vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
			return (
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
			) * ( 1.0 / 9.0 );
		#else
			return texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
		#endif
	}
#endif`,tte=`#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHT_SHADOWS ];
		varying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,nte=`#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0 || NUM_SPOT_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0
		vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		vec4 shadowWorldPosition;
	#endif
	#if NUM_DIR_LIGHT_SHADOWS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
		vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias, 0 );
		vSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
		vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
#endif`,ite=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,rte=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,ste=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	#ifdef BONE_TEXTURE
		uniform highp sampler2D boneTexture;
		uniform int boneTextureSize;
		mat4 getBoneMatrix( const in float i ) {
			float j = i * 4.0;
			float x = mod( j, float( boneTextureSize ) );
			float y = floor( j / float( boneTextureSize ) );
			float dx = 1.0 / float( boneTextureSize );
			float dy = 1.0 / float( boneTextureSize );
			y = dy * ( y + 0.5 );
			vec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );
			vec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );
			vec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );
			vec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );
			mat4 bone = mat4( v1, v2, v3, v4 );
			return bone;
		}
	#else
		uniform mat4 boneMatrices[ MAX_BONES ];
		mat4 getBoneMatrix( const in float i ) {
			mat4 bone = boneMatrices[ int(i) ];
			return bone;
		}
	#endif
#endif`,ote=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,ate=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,lte=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,cte=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,ute=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,fte=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return toneMappingExposure * color;
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 OptimizedCineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,hte=`#ifdef USE_TRANSMISSION
	float transmissionAlpha = 1.0;
	float transmissionFactor = transmission;
	float thicknessFactor = thickness;
	#ifdef USE_TRANSMISSIONMAP
		transmissionFactor *= texture2D( transmissionMap, vUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		thicknessFactor *= texture2D( thicknessMap, vUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmission = getIBLVolumeRefraction(
		n, v, roughnessFactor, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, ior, thicknessFactor,
		attenuationTint, attenuationDistance );
	totalDiffuse = mix( totalDiffuse, transmission.rgb, transmissionFactor );
	transmissionAlpha = transmission.a;
#endif`,dte=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationTint;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	vec3 getVolumeTransmissionRay( vec3 n, vec3 v, float thickness, float ior, mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( float roughness, float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( vec2 fragCoord, float roughness, float ior ) {
		float framebufferLod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		#ifdef TEXTURE_LOD_EXT
			return texture2DLodEXT( transmissionSamplerMap, fragCoord.xy, framebufferLod );
		#else
			return texture2D( transmissionSamplerMap, fragCoord.xy, framebufferLod );
		#endif
	}
	vec3 applyVolumeAttenuation( vec3 radiance, float transmissionDistance, vec3 attenuationColor, float attenuationDistance ) {
		if ( attenuationDistance == 0.0 ) {
			return radiance;
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance * radiance;
		}
	}
	vec4 getIBLVolumeRefraction( vec3 n, vec3 v, float roughness, vec3 diffuseColor, vec3 specularColor, float specularF90,
		vec3 position, mat4 modelMatrix, mat4 viewMatrix, mat4 projMatrix, float ior, float thickness,
		vec3 attenuationColor, float attenuationDistance ) {
		vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
		vec3 refractedRayExit = position + transmissionRay;
		vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
		vec2 refractionCoords = ndcPos.xy / ndcPos.w;
		refractionCoords += 1.0;
		refractionCoords /= 2.0;
		vec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
		vec3 attenuatedColor = applyVolumeAttenuation( transmittedLight.rgb, length( transmissionRay ), attenuationColor, attenuationDistance );
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		return vec4( ( 1.0 - F ) * attenuatedColor * diffuseColor, transmittedLight.a );
	}
#endif`,pte=`#if ( defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ) )
	varying vec2 vUv;
#endif`,mte=`#ifdef USE_UV
	#ifdef UVS_VERTEX_ONLY
		vec2 vUv;
	#else
		varying vec2 vUv;
	#endif
	uniform mat3 uvTransform;
#endif`,gte=`#ifdef USE_UV
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
#endif`,vte=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	varying vec2 vUv2;
#endif`,xte=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	attribute vec2 uv2;
	varying vec2 vUv2;
	uniform mat3 uv2Transform;
#endif`,yte=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	vUv2 = ( uv2Transform * vec3( uv2, 1 ) ).xy;
#endif`,_te=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION )
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`,bte=`uniform sampler2D t2D;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	gl_FragColor = mapTexelToLinear( texColor );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,wte=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,Mte=`#include <envmap_common_pars_fragment>
uniform float opacity;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	vec3 vReflect = vWorldDirection;
	#include <envmap_fragment>
	gl_FragColor = envColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,Ste=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,Ate=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#endif
}`,Tte=`#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,Ete=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,Lte=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,Cte=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	vec4 texColor = texture2D( tEquirect, sampleUV );
	gl_FragColor = mapTexelToLinear( texColor );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,Pte=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,Rte=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,Fte=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <color_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,Ite=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <cube_uv_reflection_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel= texture2D( lightMap, vUv2 );
		reflectedLight.indirectDiffuse += lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Dte=`#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,Nte=`uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
varying vec3 vLightFront;
varying vec3 vIndirectFront;
#ifdef DOUBLE_SIDED
	varying vec3 vLightBack;
	varying vec3 vIndirectBack;
#endif
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <cube_uv_reflection_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <fog_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <emissivemap_fragment>
	#ifdef DOUBLE_SIDED
		reflectedLight.indirectDiffuse += ( gl_FrontFacing ) ? vIndirectFront : vIndirectBack;
	#else
		reflectedLight.indirectDiffuse += vIndirectFront;
	#endif
	#include <lightmap_fragment>
	reflectedLight.indirectDiffuse *= BRDF_Lambert( diffuseColor.rgb );
	#ifdef DOUBLE_SIDED
		reflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;
	#else
		reflectedLight.directDiffuse = vLightFront;
	#endif
	reflectedLight.directDiffuse *= BRDF_Lambert( diffuseColor.rgb ) * getShadowMask();
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Ote=`#define LAMBERT
varying vec3 vLightFront;
varying vec3 vIndirectFront;
#ifdef DOUBLE_SIDED
	varying vec3 vLightBack;
	varying vec3 vIndirectBack;
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <envmap_pars_vertex>
#include <bsdfs>
#include <lights_pars_begin>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <lights_lambert_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Bte=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
		matcapColor = matcapTexelToLinear( matcapColor );
	#else
		vec4 matcapColor = vec4( 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Ute=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,zte=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), opacity );
}`,kte=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	vViewPosition = - mvPosition.xyz;
#endif
}`,Hte=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <cube_uv_reflection_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Gte=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Vte=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularTint;
	#ifdef USE_SPECULARINTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
	#ifdef USE_SPECULARTINTMAP
		uniform sampler2D specularTintMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenTint;
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <bsdfs>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - clearcoat * Fcc ) + clearcoatSpecular * clearcoat;
	#endif
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Wte=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,Xte=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Yte=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,$te=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,qte=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <color_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,jte=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,Zte=`#include <common>
#include <fog_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <begin_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Qte=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,Jte=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
	vec2 scale;
	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`;const Mt={alphamap_fragment:EK,alphamap_pars_fragment:LK,alphatest_fragment:CK,alphatest_pars_fragment:PK,aomap_fragment:RK,aomap_pars_fragment:FK,begin_vertex:IK,beginnormal_vertex:DK,bsdfs:NK,bumpmap_pars_fragment:OK,clipping_planes_fragment:BK,clipping_planes_pars_fragment:UK,clipping_planes_pars_vertex:zK,clipping_planes_vertex:kK,color_fragment:HK,color_pars_fragment:GK,color_pars_vertex:VK,color_vertex:WK,common:XK,cube_uv_reflection_fragment:YK,defaultnormal_vertex:$K,displacementmap_pars_vertex:qK,displacementmap_vertex:jK,emissivemap_fragment:ZK,emissivemap_pars_fragment:QK,encodings_fragment:JK,encodings_pars_fragment:KK,envmap_fragment:eee,envmap_common_pars_fragment:tee,envmap_pars_fragment:nee,envmap_pars_vertex:iee,envmap_physical_pars_fragment:pee,envmap_vertex:ree,fog_vertex:see,fog_pars_vertex:oee,fog_fragment:aee,fog_pars_fragment:lee,gradientmap_pars_fragment:cee,lightmap_fragment:uee,lightmap_pars_fragment:fee,lights_lambert_vertex:hee,lights_pars_begin:dee,lights_toon_fragment:mee,lights_toon_pars_fragment:gee,lights_phong_fragment:vee,lights_phong_pars_fragment:xee,lights_physical_fragment:yee,lights_physical_pars_fragment:_ee,lights_fragment_begin:bee,lights_fragment_maps:wee,lights_fragment_end:Mee,logdepthbuf_fragment:See,logdepthbuf_pars_fragment:Aee,logdepthbuf_pars_vertex:Tee,logdepthbuf_vertex:Eee,map_fragment:Lee,map_pars_fragment:Cee,map_particle_fragment:Pee,map_particle_pars_fragment:Ree,metalnessmap_fragment:Fee,metalnessmap_pars_fragment:Iee,morphnormal_vertex:Dee,morphtarget_pars_vertex:Nee,morphtarget_vertex:Oee,normal_fragment_begin:Bee,normal_fragment_maps:Uee,normal_pars_fragment:zee,normal_pars_vertex:kee,normal_vertex:Hee,normalmap_pars_fragment:Gee,clearcoat_normal_fragment_begin:Vee,clearcoat_normal_fragment_maps:Wee,clearcoat_pars_fragment:Xee,output_fragment:Yee,packing:$ee,premultiplied_alpha_fragment:qee,project_vertex:jee,dithering_fragment:Zee,dithering_pars_fragment:Qee,roughnessmap_fragment:Jee,roughnessmap_pars_fragment:Kee,shadowmap_pars_fragment:ete,shadowmap_pars_vertex:tte,shadowmap_vertex:nte,shadowmask_pars_fragment:ite,skinbase_vertex:rte,skinning_pars_vertex:ste,skinning_vertex:ote,skinnormal_vertex:ate,specularmap_fragment:lte,specularmap_pars_fragment:cte,tonemapping_fragment:ute,tonemapping_pars_fragment:fte,transmission_fragment:hte,transmission_pars_fragment:dte,uv_pars_fragment:pte,uv_pars_vertex:mte,uv_vertex:gte,uv2_pars_fragment:vte,uv2_pars_vertex:xte,uv2_vertex:yte,worldpos_vertex:_te,background_frag:bte,background_vert:wte,cube_frag:Mte,cube_vert:Ste,depth_frag:Ate,depth_vert:Tte,distanceRGBA_frag:Ete,distanceRGBA_vert:Lte,equirect_frag:Cte,equirect_vert:Pte,linedashed_frag:Rte,linedashed_vert:Fte,meshbasic_frag:Ite,meshbasic_vert:Dte,meshlambert_frag:Nte,meshlambert_vert:Ote,meshmatcap_frag:Bte,meshmatcap_vert:Ute,meshnormal_frag:zte,meshnormal_vert:kte,meshphong_frag:Hte,meshphong_vert:Gte,meshphysical_frag:Vte,meshphysical_vert:Wte,meshtoon_frag:Xte,meshtoon_vert:Yte,points_frag:$te,points_vert:qte,shadow_frag:jte,shadow_vert:Zte,sprite_frag:Qte,sprite_vert:Jte},Ze={common:{diffuse:{value:new We(16777215)},opacity:{value:1},map:{value:null},uvTransform:{value:new Gn},uv2Transform:{value:new Gn},alphaMap:{value:null},alphaTest:{value:0}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98},maxMipLevel:{value:0}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new Ie(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new We(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotShadowMap:{value:[]},spotShadowMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new We(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new Gn}},sprite:{diffuse:{value:new We(16777215)},opacity:{value:1},center:{value:new Ie(.5,.5)},rotation:{value:0},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new Gn}}},Es={basic:{uniforms:Vi([Ze.common,Ze.specularmap,Ze.envmap,Ze.aomap,Ze.lightmap,Ze.fog]),vertexShader:Mt.meshbasic_vert,fragmentShader:Mt.meshbasic_frag},lambert:{uniforms:Vi([Ze.common,Ze.specularmap,Ze.envmap,Ze.aomap,Ze.lightmap,Ze.emissivemap,Ze.fog,Ze.lights,{emissive:{value:new We(0)}}]),vertexShader:Mt.meshlambert_vert,fragmentShader:Mt.meshlambert_frag},phong:{uniforms:Vi([Ze.common,Ze.specularmap,Ze.envmap,Ze.aomap,Ze.lightmap,Ze.emissivemap,Ze.bumpmap,Ze.normalmap,Ze.displacementmap,Ze.fog,Ze.lights,{emissive:{value:new We(0)},specular:{value:new We(1118481)},shininess:{value:30}}]),vertexShader:Mt.meshphong_vert,fragmentShader:Mt.meshphong_frag},standard:{uniforms:Vi([Ze.common,Ze.envmap,Ze.aomap,Ze.lightmap,Ze.emissivemap,Ze.bumpmap,Ze.normalmap,Ze.displacementmap,Ze.roughnessmap,Ze.metalnessmap,Ze.fog,Ze.lights,{emissive:{value:new We(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:Mt.meshphysical_vert,fragmentShader:Mt.meshphysical_frag},toon:{uniforms:Vi([Ze.common,Ze.aomap,Ze.lightmap,Ze.emissivemap,Ze.bumpmap,Ze.normalmap,Ze.displacementmap,Ze.gradientmap,Ze.fog,Ze.lights,{emissive:{value:new We(0)}}]),vertexShader:Mt.meshtoon_vert,fragmentShader:Mt.meshtoon_frag},matcap:{uniforms:Vi([Ze.common,Ze.bumpmap,Ze.normalmap,Ze.displacementmap,Ze.fog,{matcap:{value:null}}]),vertexShader:Mt.meshmatcap_vert,fragmentShader:Mt.meshmatcap_frag},points:{uniforms:Vi([Ze.points,Ze.fog]),vertexShader:Mt.points_vert,fragmentShader:Mt.points_frag},dashed:{uniforms:Vi([Ze.common,Ze.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:Mt.linedashed_vert,fragmentShader:Mt.linedashed_frag},depth:{uniforms:Vi([Ze.common,Ze.displacementmap]),vertexShader:Mt.depth_vert,fragmentShader:Mt.depth_frag},normal:{uniforms:Vi([Ze.common,Ze.bumpmap,Ze.normalmap,Ze.displacementmap,{opacity:{value:1}}]),vertexShader:Mt.meshnormal_vert,fragmentShader:Mt.meshnormal_frag},sprite:{uniforms:Vi([Ze.sprite,Ze.fog]),vertexShader:Mt.sprite_vert,fragmentShader:Mt.sprite_frag},background:{uniforms:{uvTransform:{value:new Gn},t2D:{value:null}},vertexShader:Mt.background_vert,fragmentShader:Mt.background_frag},cube:{uniforms:Vi([Ze.envmap,{opacity:{value:1}}]),vertexShader:Mt.cube_vert,fragmentShader:Mt.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:Mt.equirect_vert,fragmentShader:Mt.equirect_frag},distanceRGBA:{uniforms:Vi([Ze.common,Ze.displacementmap,{referencePosition:{value:new Z},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:Mt.distanceRGBA_vert,fragmentShader:Mt.distanceRGBA_frag},shadow:{uniforms:Vi([Ze.lights,Ze.fog,{color:{value:new We(0)},opacity:{value:1}}]),vertexShader:Mt.shadow_vert,fragmentShader:Mt.shadow_frag}};Es.physical={uniforms:Vi([Es.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatNormalScale:{value:new Ie(1,1)},clearcoatNormalMap:{value:null},sheenTint:{value:new We(0)},transmission:{value:0},transmissionMap:{value:null},transmissionSamplerSize:{value:new Ie},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},attenuationDistance:{value:0},attenuationTint:{value:new We(0)},specularIntensity:{value:0},specularIntensityMap:{value:null},specularTint:{value:new We(1,1,1)},specularTintMap:{value:null}}]),vertexShader:Mt.meshphysical_vert,fragmentShader:Mt.meshphysical_frag};function Kte(n,e,t,i,r){const s=new We(0);let o=0,a,l,c=null,u=0,f=null;function h(m,v){let _=!1,g=v.isScene===!0?v.background:null;g&&g.isTexture&&(g=e.get(g));const x=n.xr,b=x.getSession&&x.getSession();b&&b.environmentBlendMode==="additive"&&(g=null),g===null?d(s,o):g&&g.isColor&&(d(g,1),_=!0),(n.autoClear||_)&&n.clear(n.autoClearColor,n.autoClearDepth,n.autoClearStencil),g&&(g.isCubeTexture||g.mapping===Ju)?(l===void 0&&(l=new En(new n0(1,1,1),new cn({name:"BackgroundCubeMaterial",uniforms:xf(Es.cube.uniforms),vertexShader:Es.cube.vertexShader,fragmentShader:Es.cube.fragmentShader,side:Hn,depthTest:!1,depthWrite:!1,fog:!1})),l.geometry.deleteAttribute("normal"),l.geometry.deleteAttribute("uv"),l.onBeforeRender=function(w,S,A){this.matrixWorld.copyPosition(A.matrixWorld)},Object.defineProperty(l.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),i.update(l)),l.material.uniforms.envMap.value=g,l.material.uniforms.flipEnvMap.value=g.isCubeTexture&&g.isRenderTargetTexture===!1?-1:1,(c!==g||u!==g.version||f!==n.toneMapping)&&(l.material.needsUpdate=!0,c=g,u=g.version,f=n.toneMapping),m.unshift(l,l.geometry,l.material,0,0,null)):g&&g.isTexture&&(a===void 0&&(a=new En(new Po(2,2),new cn({name:"BackgroundMaterial",uniforms:xf(Es.background.uniforms),vertexShader:Es.background.vertexShader,fragmentShader:Es.background.fragmentShader,side:xa,depthTest:!1,depthWrite:!1,fog:!1})),a.geometry.deleteAttribute("normal"),Object.defineProperty(a.material,"map",{get:function(){return this.uniforms.t2D.value}}),i.update(a)),a.material.uniforms.t2D.value=g,g.matrixAutoUpdate===!0&&g.updateMatrix(),a.material.uniforms.uvTransform.value.copy(g.matrix),(c!==g||u!==g.version||f!==n.toneMapping)&&(a.material.needsUpdate=!0,c=g,u=g.version,f=n.toneMapping),m.unshift(a,a.geometry,a.material,0,0,null))}function d(m,v){t.buffers.color.setClear(m.r,m.g,m.b,v,r)}return{getClearColor:function(){return s},setClearColor:function(m,v=1){s.set(m),o=v,d(s,o)},getClearAlpha:function(){return o},setClearAlpha:function(m){o=m,d(s,o)},render:h}}function ene(n,e,t,i){const r=n.getParameter(34921),s=i.isWebGL2?null:e.get("OES_vertex_array_object"),o=i.isWebGL2||s!==null,a={},l=v(null);let c=l;function u(D,P,I,C,B){let Y=!1;if(o){const j=m(C,I,P);c!==j&&(c=j,h(c.object)),Y=_(C,B),Y&&g(C,B)}else{const j=P.wireframe===!0;(c.geometry!==C.id||c.program!==I.id||c.wireframe!==j)&&(c.geometry=C.id,c.program=I.id,c.wireframe=j,Y=!0)}D.isInstancedMesh===!0&&(Y=!0),B!==null&&t.update(B,34963),Y&&(T(D,P,I,C),B!==null&&n.bindBuffer(34963,t.get(B).buffer))}function f(){return i.isWebGL2?n.createVertexArray():s.createVertexArrayOES()}function h(D){return i.isWebGL2?n.bindVertexArray(D):s.bindVertexArrayOES(D)}function d(D){return i.isWebGL2?n.deleteVertexArray(D):s.deleteVertexArrayOES(D)}function m(D,P,I){const C=I.wireframe===!0;let B=a[D.id];B===void 0&&(B={},a[D.id]=B);let Y=B[P.id];Y===void 0&&(Y={},B[P.id]=Y);let j=Y[C];return j===void 0&&(j=v(f()),Y[C]=j),j}function v(D){const P=[],I=[],C=[];for(let B=0;B<r;B++)P[B]=0,I[B]=0,C[B]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:P,enabledAttributes:I,attributeDivisors:C,object:D,attributes:{},index:null}}function _(D,P){const I=c.attributes,C=D.attributes;let B=0;for(const Y in C){const j=I[Y],re=C[Y];if(j===void 0||j.attribute!==re||j.data!==re.data)return!0;B++}return c.attributesNum!==B||c.index!==P}function g(D,P){const I={},C=D.attributes;let B=0;for(const Y in C){const j=C[Y],re={};re.attribute=j,j.data&&(re.data=j.data),I[Y]=re,B++}c.attributes=I,c.attributesNum=B,c.index=P}function x(){const D=c.newAttributes;for(let P=0,I=D.length;P<I;P++)D[P]=0}function b(D){w(D,0)}function w(D,P){const I=c.newAttributes,C=c.enabledAttributes,B=c.attributeDivisors;I[D]=1,C[D]===0&&(n.enableVertexAttribArray(D),C[D]=1),B[D]!==P&&((i.isWebGL2?n:e.get("ANGLE_instanced_arrays"))[i.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](D,P),B[D]=P)}function S(){const D=c.newAttributes,P=c.enabledAttributes;for(let I=0,C=P.length;I<C;I++)P[I]!==D[I]&&(n.disableVertexAttribArray(I),P[I]=0)}function A(D,P,I,C,B,Y){i.isWebGL2===!0&&(I===5124||I===5125)?n.vertexAttribIPointer(D,P,I,B,Y):n.vertexAttribPointer(D,P,I,C,B,Y)}function T(D,P,I,C){if(i.isWebGL2===!1&&(D.isInstancedMesh||C.isInstancedBufferGeometry)&&e.get("ANGLE_instanced_arrays")===null)return;x();const B=C.attributes,Y=I.getAttributes(),j=P.defaultAttributeValues;for(const re in Y){const ie=Y[re];if(ie.location>=0){let ve=B[re];if(ve===void 0&&(re==="instanceMatrix"&&D.instanceMatrix&&(ve=D.instanceMatrix),re==="instanceColor"&&D.instanceColor&&(ve=D.instanceColor)),ve!==void 0){const de=ve.normalized,ye=ve.itemSize,te=t.get(ve);if(te===void 0)continue;const $=te.buffer,ge=te.type,be=te.bytesPerElement;if(ve.isInterleavedBufferAttribute){const ue=ve.data,_e=ue.stride,Te=ve.offset;if(ue&&ue.isInstancedInterleavedBuffer){for(let X=0;X<ie.locationSize;X++)w(ie.location+X,ue.meshPerAttribute);D.isInstancedMesh!==!0&&C._maxInstanceCount===void 0&&(C._maxInstanceCount=ue.meshPerAttribute*ue.count)}else for(let X=0;X<ie.locationSize;X++)b(ie.location+X);n.bindBuffer(34962,$);for(let X=0;X<ie.locationSize;X++)A(ie.location+X,ye/ie.locationSize,ge,de,_e*be,(Te+ye/ie.locationSize*X)*be)}else{if(ve.isInstancedBufferAttribute){for(let ue=0;ue<ie.locationSize;ue++)w(ie.location+ue,ve.meshPerAttribute);D.isInstancedMesh!==!0&&C._maxInstanceCount===void 0&&(C._maxInstanceCount=ve.meshPerAttribute*ve.count)}else for(let ue=0;ue<ie.locationSize;ue++)b(ie.location+ue);n.bindBuffer(34962,$);for(let ue=0;ue<ie.locationSize;ue++)A(ie.location+ue,ye/ie.locationSize,ge,de,ye*be,ye/ie.locationSize*ue*be)}}else if(j!==void 0){const de=j[re];if(de!==void 0)switch(de.length){case 2:n.vertexAttrib2fv(ie.location,de);break;case 3:n.vertexAttrib3fv(ie.location,de);break;case 4:n.vertexAttrib4fv(ie.location,de);break;default:n.vertexAttrib1fv(ie.location,de)}}}}S()}function F(){O();for(const D in a){const P=a[D];for(const I in P){const C=P[I];for(const B in C)d(C[B].object),delete C[B];delete P[I]}delete a[D]}}function U(D){if(a[D.id]===void 0)return;const P=a[D.id];for(const I in P){const C=P[I];for(const B in C)d(C[B].object),delete C[B];delete P[I]}delete a[D.id]}function N(D){for(const P in a){const I=a[P];if(I[D.id]===void 0)continue;const C=I[D.id];for(const B in C)d(C[B].object),delete C[B];delete I[D.id]}}function O(){G(),c!==l&&(c=l,h(c.object))}function G(){l.geometry=null,l.program=null,l.wireframe=!1}return{setup:u,reset:O,resetDefaultState:G,dispose:F,releaseStatesOfGeometry:U,releaseStatesOfProgram:N,initAttributes:x,enableAttribute:b,disableUnusedAttributes:S}}function tne(n,e,t,i){const r=i.isWebGL2;let s;function o(c){s=c}function a(c,u){n.drawArrays(s,c,u),t.update(u,s,1)}function l(c,u,f){if(f===0)return;let h,d;if(r)h=n,d="drawArraysInstanced";else if(h=e.get("ANGLE_instanced_arrays"),d="drawArraysInstancedANGLE",h===null){console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}h[d](s,c,u,f),t.update(u,s,f)}this.setMode=o,this.render=a,this.renderInstances=l}function nne(n,e,t){let i;function r(){if(i!==void 0)return i;if(e.has("EXT_texture_filter_anisotropic")===!0){const T=e.get("EXT_texture_filter_anisotropic");i=n.getParameter(T.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else i=0;return i}function s(T){if(T==="highp"){if(n.getShaderPrecisionFormat(35633,36338).precision>0&&n.getShaderPrecisionFormat(35632,36338).precision>0)return"highp";T="mediump"}return T==="mediump"&&n.getShaderPrecisionFormat(35633,36337).precision>0&&n.getShaderPrecisionFormat(35632,36337).precision>0?"mediump":"lowp"}const o=typeof WebGL2RenderingContext!="undefined"&&n instanceof WebGL2RenderingContext||typeof WebGL2ComputeRenderingContext!="undefined"&&n instanceof WebGL2ComputeRenderingContext;let a=t.precision!==void 0?t.precision:"highp";const l=s(a);l!==a&&(console.warn("THREE.WebGLRenderer:",a,"not supported, using",l,"instead."),a=l);const c=o||e.has("WEBGL_draw_buffers"),u=t.logarithmicDepthBuffer===!0,f=n.getParameter(34930),h=n.getParameter(35660),d=n.getParameter(3379),m=n.getParameter(34076),v=n.getParameter(34921),_=n.getParameter(36347),g=n.getParameter(36348),x=n.getParameter(36349),b=h>0,w=o||e.has("OES_texture_float"),S=b&&w,A=o?n.getParameter(36183):0;return{isWebGL2:o,drawBuffers:c,getMaxAnisotropy:r,getMaxPrecision:s,precision:a,logarithmicDepthBuffer:u,maxTextures:f,maxVertexTextures:h,maxTextureSize:d,maxCubemapSize:m,maxAttributes:v,maxVertexUniforms:_,maxVaryings:g,maxFragmentUniforms:x,vertexTextures:b,floatFragmentTextures:w,floatVertexTextures:S,maxSamples:A}}function ine(n){const e=this;let t=null,i=0,r=!1,s=!1;const o=new Ts,a=new Gn,l={value:null,needsUpdate:!1};this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(f,h,d){const m=f.length!==0||h||i!==0||r;return r=h,t=u(f,d,0),i=f.length,m},this.beginShadows=function(){s=!0,u(null)},this.endShadows=function(){s=!1,c()},this.setState=function(f,h,d){const m=f.clippingPlanes,v=f.clipIntersection,_=f.clipShadows,g=n.get(f);if(!r||m===null||m.length===0||s&&!_)s?u(null):c();else{const x=s?0:i,b=x*4;let w=g.clippingState||null;l.value=w,w=u(m,h,b,d);for(let S=0;S!==b;++S)w[S]=t[S];g.clippingState=w,this.numIntersection=v?this.numPlanes:0,this.numPlanes+=x}};function c(){l.value!==t&&(l.value=t,l.needsUpdate=i>0),e.numPlanes=i,e.numIntersection=0}function u(f,h,d,m){const v=f!==null?f.length:0;let _=null;if(v!==0){if(_=l.value,m!==!0||_===null){const g=d+v*4,x=h.matrixWorldInverse;a.getNormalMatrix(x),(_===null||_.length<g)&&(_=new Float32Array(g));for(let b=0,w=d;b!==v;++b,w+=4)o.copy(f[b]).applyMatrix4(x,a),o.normal.toArray(_,w),_[w+3]=o.constant}l.value=_,l.needsUpdate=!0}return e.numPlanes=v,e.numIntersection=0,_}}function rne(n){let e=new WeakMap;function t(o,a){return a===Qu?o.mapping=Ql:a===Jd&&(o.mapping=Zu),o}function i(o){if(o&&o.isTexture&&o.isRenderTargetTexture===!1){const a=o.mapping;if(a===Qu||a===Jd)if(e.has(o)){const l=e.get(o).texture;return t(l,o.mapping)}else{const l=o.image;if(l&&l.height>0){const c=n.getRenderTarget(),u=new d1(l.height/2);return u.fromEquirectangularTexture(n,o),e.set(o,u),n.setRenderTarget(c),o.addEventListener("dispose",r),t(u.texture,o.mapping)}else return null}}return o}function r(o){const a=o.target;a.removeEventListener("dispose",r);const l=e.get(a);l!==void 0&&(e.delete(a),l.dispose())}function s(){e=new WeakMap}return{get:i,dispose:s}}class F0 extends f1{constructor(e=-1,t=1,i=1,r=-1,s=.1,o=2e3){super();this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=i,this.bottom=r,this.near=s,this.far=o,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,t,i,r,s,o){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=i,this.view.offsetY=r,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),i=(this.right+this.left)/2,r=(this.top+this.bottom)/2;let s=i-e,o=i+e,a=r+t,l=r-t;if(this.view!==null&&this.view.enabled){const c=(this.right-this.left)/this.view.fullWidth/this.zoom,u=(this.top-this.bottom)/this.view.fullHeight/this.zoom;s+=c*this.view.offsetX,o=s+c*this.view.width,a-=u*this.view.offsetY,l=a-u*this.view.height}this.projectionMatrix.makeOrthographic(s,o,a,l,this.near,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,this.view!==null&&(t.object.view=Object.assign({},this.view)),t}}F0.prototype.isOrthographicCamera=!0;class Mf extends cn{constructor(e){super(e);this.type="RawShaderMaterial"}}Mf.prototype.isRawShaderMaterial=!0;const Sf=4,Pa=8,I0=Math.pow(2,Pa),ZL=[.125,.215,.35,.446,.526,.582],QL=Pa-Sf+1+ZL.length,Af=20,D0={[cr]:0,[Ms]:1,[f3]:2,[r7]:3,[s7]:4,[o7]:5,[u3]:6},O7=new F0,{_lodPlanes:m1,_sizeLods:JL,_sigmas:F3}=one(),KL=new We;let B7=null;const ac=(1+Math.sqrt(5))/2,Tf=1/ac,eC=[new Z(1,1,1),new Z(-1,1,1),new Z(1,1,-1),new Z(-1,1,-1),new Z(0,ac,Tf),new Z(0,ac,-Tf),new Z(Tf,0,ac),new Z(-Tf,0,ac),new Z(ac,Tf,0),new Z(-ac,Tf,0)];class tC{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._blurMaterial=ane(Af),this._equirectShader=null,this._cubemapShader=null,this._compileMaterial(this._blurMaterial)}fromScene(e,t=0,i=.1,r=100){B7=this._renderer.getRenderTarget();const s=this._allocateTargets();return this._sceneToCubeUV(e,i,r,s),t>0&&this._blur(s,0,0,t),this._applyPMREM(s),this._cleanup(s),s}fromEquirectangular(e){return this._fromTexture(e)}fromCubemap(e){return this._fromTexture(e)}compileCubemapShader(){this._cubemapShader===null&&(this._cubemapShader=rC(),this._compileMaterial(this._cubemapShader))}compileEquirectangularShader(){this._equirectShader===null&&(this._equirectShader=iC(),this._compileMaterial(this._equirectShader))}dispose(){this._blurMaterial.dispose(),this._cubemapShader!==null&&this._cubemapShader.dispose(),this._equirectShader!==null&&this._equirectShader.dispose();for(let e=0;e<m1.length;e++)m1[e].dispose()}_cleanup(e){this._pingPongRenderTarget.dispose(),this._renderer.setRenderTarget(B7),e.scissorTest=!1,I3(e,0,0,e.width,e.height)}_fromTexture(e){B7=this._renderer.getRenderTarget();const t=this._allocateTargets(e);return this._textureToCubeUV(e,t),this._applyPMREM(t),this._cleanup(t),t}_allocateTargets(e){const t={magFilter:Qt,minFilter:Qt,generateMipmaps:!1,type:Jl,format:DE,encoding:sne(e)?e.encoding:f3,depthBuffer:!1},i=nC(t);return i.depthBuffer=!e,this._pingPongRenderTarget=nC(t),i}_compileMaterial(e){const t=new En(m1[0],e);this._renderer.compile(t,O7)}_sceneToCubeUV(e,t,i,r){const s=90,o=1,a=new Qn(s,o,t,i),l=[1,-1,1,1,1,1],c=[1,1,1,-1,-1,-1],u=this._renderer,f=u.autoClear,h=u.outputEncoding,d=u.toneMapping;u.getClearColor(KL),u.toneMapping=ya,u.outputEncoding=cr,u.autoClear=!1;const m=new mi({name:"PMREM.Background",side:Hn,depthWrite:!1,depthTest:!1}),v=new En(new n0,m);let _=!1;const g=e.background;g?g.isColor&&(m.color.copy(g),e.background=null,_=!0):(m.color.copy(KL),_=!0);for(let x=0;x<6;x++){const b=x%3;b==0?(a.up.set(0,l[x],0),a.lookAt(c[x],0,0)):b==1?(a.up.set(0,0,l[x]),a.lookAt(0,c[x],0)):(a.up.set(0,l[x],0),a.lookAt(0,0,c[x])),I3(r,b*I0,x>2?I0:0,I0,I0),u.setRenderTarget(r),_&&u.render(v,a),u.render(e,a)}v.geometry.dispose(),v.material.dispose(),u.toneMapping=d,u.outputEncoding=h,u.autoClear=f,e.background=g}_textureToCubeUV(e,t){const i=this._renderer;e.isCubeTexture?this._cubemapShader==null&&(this._cubemapShader=rC()):this._equirectShader==null&&(this._equirectShader=iC());const r=e.isCubeTexture?this._cubemapShader:this._equirectShader,s=new En(m1[0],r),o=r.uniforms;o.envMap.value=e,e.isCubeTexture||o.texelSize.value.set(1/e.image.width,1/e.image.height),o.inputEncoding.value=D0[e.encoding],o.outputEncoding.value=D0[t.texture.encoding],I3(t,0,0,3*I0,2*I0),i.setRenderTarget(t),i.render(s,O7)}_applyPMREM(e){const t=this._renderer,i=t.autoClear;t.autoClear=!1;for(let r=1;r<QL;r++){const s=Math.sqrt(F3[r]*F3[r]-F3[r-1]*F3[r-1]),o=eC[(r-1)%eC.length];this._blur(e,r-1,r,s,o)}t.autoClear=i}_blur(e,t,i,r,s){const o=this._pingPongRenderTarget;this._halfBlur(e,o,t,i,r,"latitudinal",s),this._halfBlur(o,e,i,i,r,"longitudinal",s)}_halfBlur(e,t,i,r,s,o,a){const l=this._renderer,c=this._blurMaterial;o!=="latitudinal"&&o!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const u=3,f=new En(m1[r],c),h=c.uniforms,d=JL[i]-1,m=isFinite(s)?Math.PI/(2*d):2*Math.PI/(2*Af-1),v=s/m,_=isFinite(s)?1+Math.floor(u*v):Af;_>Af&&console.warn(`sigmaRadians, ${s}, is too large and will clip, as it requested ${_} samples when the maximum is set to ${Af}`);const g=[];let x=0;for(let A=0;A<Af;++A){const T=A/v,F=Math.exp(-T*T/2);g.push(F),A==0?x+=F:A<_&&(x+=2*F)}for(let A=0;A<g.length;A++)g[A]=g[A]/x;h.envMap.value=e.texture,h.samples.value=_,h.weights.value=g,h.latitudinal.value=o==="latitudinal",a&&(h.poleAxis.value=a),h.dTheta.value=m,h.mipInt.value=Pa-i,h.inputEncoding.value=D0[e.texture.encoding],h.outputEncoding.value=D0[e.texture.encoding];const b=JL[r],w=3*Math.max(0,I0-2*b),S=(r===0?0:2*I0)+2*b*(r>Pa-Sf?r-Pa+Sf:0);I3(t,w,S,3*b,2*b),l.setRenderTarget(t),l.render(f,O7)}}function sne(n){return n===void 0||n.type!==Jl?!1:n.encoding===cr||n.encoding===Ms||n.encoding===u3}function one(){const n=[],e=[],t=[];let i=Pa;for(let r=0;r<QL;r++){const s=Math.pow(2,i);e.push(s);let o=1/s;r>Pa-Sf?o=ZL[r-Pa+Sf-1]:r==0&&(o=0),t.push(o);const a=1/(s-1),l=-a/2,c=1+a/2,u=[l,l,c,l,c,c,l,l,c,c,l,c],f=6,h=6,d=3,m=2,v=1,_=new Float32Array(d*h*f),g=new Float32Array(m*h*f),x=new Float32Array(v*h*f);for(let w=0;w<f;w++){const S=w%3*2/3-1,A=w>2?0:-1,T=[S,A,0,S+2/3,A,0,S+2/3,A+1,0,S,A,0,S+2/3,A+1,0,S,A+1,0];_.set(T,d*h*w),g.set(u,m*h*w);const F=[w,w,w,w,w,w];x.set(F,v*h*w)}const b=new ot;b.setAttribute("position",new Tt(_,d)),b.setAttribute("uv",new Tt(g,m)),b.setAttribute("faceIndex",new Tt(x,v)),n.push(b),i>Sf&&i--}return{_lodPlanes:n,_sizeLods:e,_sigmas:t}}function nC(n){const e=new jn(3*I0,3*I0,n);return e.texture.mapping=Ju,e.texture.name="PMREM.cubeUv",e.scissorTest=!0,e}function I3(n,e,t,i,r){n.viewport.set(e,t,i,r),n.scissor.set(e,t,i,r)}function ane(n){const e=new Float32Array(n),t=new Z(0,1,0);return new Mf({name:"SphericalGaussianBlur",defines:{n},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:e},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:t},inputEncoding:{value:D0[cr]},outputEncoding:{value:D0[cr]}},vertexShader:U7(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			${z7()}

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

				gl_FragColor = linearToOutputTexel( gl_FragColor );

			}
		`,blending:pi,depthTest:!1,depthWrite:!1})}function iC(){const n=new Ie(1,1);return new Mf({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null},texelSize:{value:n},inputEncoding:{value:D0[cr]},outputEncoding:{value:D0[cr]}},vertexShader:U7(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform vec2 texelSize;

			${z7()}

			#include <common>

			void main() {

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				vec2 f = fract( uv / texelSize - 0.5 );
				uv -= f * texelSize;
				vec3 tl = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;
				uv.x += texelSize.x;
				vec3 tr = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;
				uv.y += texelSize.y;
				vec3 br = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;
				uv.x -= texelSize.x;
				vec3 bl = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;

				vec3 tm = mix( tl, tr, f.x );
				vec3 bm = mix( bl, br, f.x );
				gl_FragColor.rgb = mix( tm, bm, f.y );

				gl_FragColor = linearToOutputTexel( gl_FragColor );

			}
		`,blending:pi,depthTest:!1,depthWrite:!1})}function rC(){return new Mf({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},inputEncoding:{value:D0[cr]},outputEncoding:{value:D0[cr]}},vertexShader:U7(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			${z7()}

			void main() {

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb = envMapTexelToLinear( textureCube( envMap, vec3( - vOutputDirection.x, vOutputDirection.yz ) ) ).rgb;
				gl_FragColor = linearToOutputTexel( gl_FragColor );

			}
		`,blending:pi,depthTest:!1,depthWrite:!1})}function U7(){return`

		precision mediump float;
		precision mediump int;

		attribute vec3 position;
		attribute vec2 uv;
		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function z7(){return`

		uniform int inputEncoding;
		uniform int outputEncoding;

		#include <encodings_pars_fragment>

		vec4 inputTexelToLinear( vec4 value ) {

			if ( inputEncoding == 0 ) {

				return value;

			} else if ( inputEncoding == 1 ) {

				return sRGBToLinear( value );

			} else if ( inputEncoding == 2 ) {

				return RGBEToLinear( value );

			} else if ( inputEncoding == 3 ) {

				return RGBMToLinear( value, 7.0 );

			} else if ( inputEncoding == 4 ) {

				return RGBMToLinear( value, 16.0 );

			} else if ( inputEncoding == 5 ) {

				return RGBDToLinear( value, 256.0 );

			} else {

				return GammaToLinear( value, 2.2 );

			}

		}

		vec4 linearToOutputTexel( vec4 value ) {

			if ( outputEncoding == 0 ) {

				return value;

			} else if ( outputEncoding == 1 ) {

				return LinearTosRGB( value );

			} else if ( outputEncoding == 2 ) {

				return LinearToRGBE( value );

			} else if ( outputEncoding == 3 ) {

				return LinearToRGBM( value, 7.0 );

			} else if ( outputEncoding == 4 ) {

				return LinearToRGBM( value, 16.0 );

			} else if ( outputEncoding == 5 ) {

				return LinearToRGBD( value, 256.0 );

			} else {

				return LinearToGamma( value, 2.2 );

			}

		}

		vec4 envMapTexelToLinear( vec4 color ) {

			return inputTexelToLinear( color );

		}
	`}function lne(n){let e=new WeakMap,t=null;function i(a){if(a&&a.isTexture&&a.isRenderTargetTexture===!1){const l=a.mapping,c=l===Qu||l===Jd,u=l===Ql||l===Zu;if(c||u){if(e.has(a))return e.get(a).texture;{const f=a.image;if(c&&f&&f.height>0||u&&f&&r(f)){const h=n.getRenderTarget();t===null&&(t=new tC(n));const d=c?t.fromEquirectangular(a):t.fromCubemap(a);return e.set(a,d),n.setRenderTarget(h),a.addEventListener("dispose",s),d.texture}else return null}}}return a}function r(a){let l=0;const c=6;for(let u=0;u<c;u++)a[u]!==void 0&&l++;return l===c}function s(a){const l=a.target;l.removeEventListener("dispose",s);const c=e.get(l);c!==void 0&&(e.delete(l),c.dispose())}function o(){e=new WeakMap,t!==null&&(t.dispose(),t=null)}return{get:i,dispose:o}}function cne(n){const e={};function t(i){if(e[i]!==void 0)return e[i];let r;switch(i){case"WEBGL_depth_texture":r=n.getExtension("WEBGL_depth_texture")||n.getExtension("MOZ_WEBGL_depth_texture")||n.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":r=n.getExtension("EXT_texture_filter_anisotropic")||n.getExtension("MOZ_EXT_texture_filter_anisotropic")||n.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":r=n.getExtension("WEBGL_compressed_texture_s3tc")||n.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":r=n.getExtension("WEBGL_compressed_texture_pvrtc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:r=n.getExtension(i)}return e[i]=r,r}return{has:function(i){return t(i)!==null},init:function(i){i.isWebGL2?t("EXT_color_buffer_float"):(t("WEBGL_depth_texture"),t("OES_texture_float"),t("OES_texture_half_float"),t("OES_texture_half_float_linear"),t("OES_standard_derivatives"),t("OES_element_index_uint"),t("OES_vertex_array_object"),t("ANGLE_instanced_arrays")),t("OES_texture_float_linear"),t("EXT_color_buffer_half_float")},get:function(i){const r=t(i);return r===null&&console.warn("THREE.WebGLRenderer: "+i+" extension not supported."),r}}}function une(n,e,t,i){const r={},s=new WeakMap;function o(f){const h=f.target;h.index!==null&&e.remove(h.index);for(const m in h.attributes)e.remove(h.attributes[m]);h.removeEventListener("dispose",o),delete r[h.id];const d=s.get(h);d&&(e.remove(d),s.delete(h)),i.releaseStatesOfGeometry(h),h.isInstancedBufferGeometry===!0&&delete h._maxInstanceCount,t.memory.geometries--}function a(f,h){return r[h.id]===!0||(h.addEventListener("dispose",o),r[h.id]=!0,t.memory.geometries++),h}function l(f){const h=f.attributes;for(const m in h)e.update(h[m],34962);const d=f.morphAttributes;for(const m in d){const v=d[m];for(let _=0,g=v.length;_<g;_++)e.update(v[_],34962)}}function c(f){const h=[],d=f.index,m=f.attributes.position;let v=0;if(d!==null){const x=d.array;v=d.version;for(let b=0,w=x.length;b<w;b+=3){const S=x[b+0],A=x[b+1],T=x[b+2];h.push(S,A,A,T,T,S)}}else{const x=m.array;v=m.version;for(let b=0,w=x.length/3-1;b<w;b+=3){const S=b+0,A=b+1,T=b+2;h.push(S,A,A,T,T,S)}}const _=new($L(h)>65535?w3:c1)(h,1);_.version=v;const g=s.get(f);g&&e.remove(g),s.set(f,_)}function u(f){const h=s.get(f);if(h){const d=f.index;d!==null&&h.version<d.version&&c(f)}else c(f);return s.get(f)}return{get:a,update:l,getWireframeAttribute:u}}function fne(n,e,t,i){const r=i.isWebGL2;let s;function o(h){s=h}let a,l;function c(h){a=h.type,l=h.bytesPerElement}function u(h,d){n.drawElements(s,d,a,h*l),t.update(d,s,1)}function f(h,d,m){if(m===0)return;let v,_;if(r)v=n,_="drawElementsInstanced";else if(v=e.get("ANGLE_instanced_arrays"),_="drawElementsInstancedANGLE",v===null){console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}v[_](s,d,a,h*l,m),t.update(d,s,m)}this.setMode=o,this.setIndex=c,this.render=u,this.renderInstances=f}function hne(n){const e={geometries:0,textures:0},t={frame:0,calls:0,triangles:0,points:0,lines:0};function i(s,o,a){switch(t.calls++,o){case 4:t.triangles+=a*(s/3);break;case 1:t.lines+=a*(s/2);break;case 3:t.lines+=a*(s-1);break;case 2:t.lines+=a*s;break;case 0:t.points+=a*s;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",o);break}}function r(){t.frame++,t.calls=0,t.triangles=0,t.points=0,t.lines=0}return{memory:e,render:t,programs:null,autoReset:!0,reset:r,update:i}}function dne(n,e){return n[0]-e[0]}function pne(n,e){return Math.abs(e[1])-Math.abs(n[1])}function mne(n){const e={},t=new Float32Array(8),i=[];for(let s=0;s<8;s++)i[s]=[s,0];function r(s,o,a,l){const c=s.morphTargetInfluences,u=c===void 0?0:c.length;let f=e[o.id];if(f===void 0||f.length!==u){f=[];for(let _=0;_<u;_++)f[_]=[_,0];e[o.id]=f}for(let _=0;_<u;_++){const g=f[_];g[0]=_,g[1]=c[_]}f.sort(pne);for(let _=0;_<8;_++)_<u&&f[_][1]?(i[_][0]=f[_][0],i[_][1]=f[_][1]):(i[_][0]=Number.MAX_SAFE_INTEGER,i[_][1]=0);i.sort(dne);const h=o.morphAttributes.position,d=o.morphAttributes.normal;let m=0;for(let _=0;_<8;_++){const g=i[_],x=g[0],b=g[1];x!==Number.MAX_SAFE_INTEGER&&b?(h&&o.getAttribute("morphTarget"+_)!==h[x]&&o.setAttribute("morphTarget"+_,h[x]),d&&o.getAttribute("morphNormal"+_)!==d[x]&&o.setAttribute("morphNormal"+_,d[x]),t[_]=b,m+=b):(h&&o.hasAttribute("morphTarget"+_)===!0&&o.deleteAttribute("morphTarget"+_),d&&o.hasAttribute("morphNormal"+_)===!0&&o.deleteAttribute("morphNormal"+_),t[_]=0)}const v=o.morphTargetsRelative?1:1-m;l.getUniforms().setValue(n,"morphTargetBaseInfluence",v),l.getUniforms().setValue(n,"morphTargetInfluences",t)}return{update:r}}function gne(n,e,t,i){let r=new WeakMap;function s(l){const c=i.render.frame,u=l.geometry,f=e.get(l,u);return r.get(f)!==c&&(e.update(f),r.set(f,c)),l.isInstancedMesh&&(l.hasEventListener("dispose",a)===!1&&l.addEventListener("dispose",a),t.update(l.instanceMatrix,34962),l.instanceColor!==null&&t.update(l.instanceColor,34962)),f}function o(){r=new WeakMap}function a(l){const c=l.target;c.removeEventListener("dispose",a),t.remove(c.instanceMatrix),c.instanceColor!==null&&t.remove(c.instanceColor)}return{update:s,dispose:o}}class k7 extends Tn{constructor(e=null,t=1,i=1,r=1){super(null);this.image={data:e,width:t,height:i,depth:r},this.magFilter=Qt,this.minFilter=Qt,this.wrapR=ln,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.needsUpdate=!0}}k7.prototype.isDataTexture2DArray=!0;class H7 extends Tn{constructor(e=null,t=1,i=1,r=1){super(null);this.image={data:e,width:t,height:i,depth:r},this.magFilter=Qt,this.minFilter=Qt,this.wrapR=ln,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.needsUpdate=!0}}H7.prototype.isDataTexture3D=!0;const sC=new Tn,vne=new k7,xne=new H7,oC=new bf,aC=[],lC=[],cC=new Float32Array(16),uC=new Float32Array(9),fC=new Float32Array(4);function Ef(n,e,t){const i=n[0];if(i<=0||i>0)return n;const r=e*t;let s=aC[r];if(s===void 0&&(s=new Float32Array(r),aC[r]=s),e!==0){i.toArray(s,0);for(let o=1,a=0;o!==e;++o)a+=t,n[o].toArray(s,a)}return s}function hr(n,e){if(n.length!==e.length)return!1;for(let t=0,i=n.length;t<i;t++)if(n[t]!==e[t])return!1;return!0}function Wi(n,e){for(let t=0,i=e.length;t<i;t++)n[t]=e[t]}function hC(n,e){let t=lC[e];t===void 0&&(t=new Int32Array(e),lC[e]=t);for(let i=0;i!==e;++i)t[i]=n.allocateTextureUnit();return t}function yne(n,e){const t=this.cache;t[0]!==e&&(n.uniform1f(this.addr,e),t[0]=e)}function _ne(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2f(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(hr(t,e))return;n.uniform2fv(this.addr,e),Wi(t,e)}}function bne(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3f(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else if(e.r!==void 0)(t[0]!==e.r||t[1]!==e.g||t[2]!==e.b)&&(n.uniform3f(this.addr,e.r,e.g,e.b),t[0]=e.r,t[1]=e.g,t[2]=e.b);else{if(hr(t,e))return;n.uniform3fv(this.addr,e),Wi(t,e)}}function wne(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4f(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(hr(t,e))return;n.uniform4fv(this.addr,e),Wi(t,e)}}function Mne(n,e){const t=this.cache,i=e.elements;if(i===void 0){if(hr(t,e))return;n.uniformMatrix2fv(this.addr,!1,e),Wi(t,e)}else{if(hr(t,i))return;fC.set(i),n.uniformMatrix2fv(this.addr,!1,fC),Wi(t,i)}}function Sne(n,e){const t=this.cache,i=e.elements;if(i===void 0){if(hr(t,e))return;n.uniformMatrix3fv(this.addr,!1,e),Wi(t,e)}else{if(hr(t,i))return;uC.set(i),n.uniformMatrix3fv(this.addr,!1,uC),Wi(t,i)}}function Ane(n,e){const t=this.cache,i=e.elements;if(i===void 0){if(hr(t,e))return;n.uniformMatrix4fv(this.addr,!1,e),Wi(t,e)}else{if(hr(t,i))return;cC.set(i),n.uniformMatrix4fv(this.addr,!1,cC),Wi(t,i)}}function Tne(n,e){const t=this.cache;t[0]!==e&&(n.uniform1i(this.addr,e),t[0]=e)}function Ene(n,e){const t=this.cache;hr(t,e)||(n.uniform2iv(this.addr,e),Wi(t,e))}function Lne(n,e){const t=this.cache;hr(t,e)||(n.uniform3iv(this.addr,e),Wi(t,e))}function Cne(n,e){const t=this.cache;hr(t,e)||(n.uniform4iv(this.addr,e),Wi(t,e))}function Pne(n,e){const t=this.cache;t[0]!==e&&(n.uniform1ui(this.addr,e),t[0]=e)}function Rne(n,e){const t=this.cache;hr(t,e)||(n.uniform2uiv(this.addr,e),Wi(t,e))}function Fne(n,e){const t=this.cache;hr(t,e)||(n.uniform3uiv(this.addr,e),Wi(t,e))}function Ine(n,e){const t=this.cache;hr(t,e)||(n.uniform4uiv(this.addr,e),Wi(t,e))}function Dne(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),t.safeSetTexture2D(e||sC,r)}function Nne(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),t.setTexture3D(e||xne,r)}function One(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),t.safeSetTextureCube(e||oC,r)}function Bne(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),t.setTexture2DArray(e||vne,r)}function Une(n){switch(n){case 5126:return yne;case 35664:return _ne;case 35665:return bne;case 35666:return wne;case 35674:return Mne;case 35675:return Sne;case 35676:return Ane;case 5124:case 35670:return Tne;case 35667:case 35671:return Ene;case 35668:case 35672:return Lne;case 35669:case 35673:return Cne;case 5125:return Pne;case 36294:return Rne;case 36295:return Fne;case 36296:return Ine;case 35678:case 36198:case 36298:case 36306:case 35682:return Dne;case 35679:case 36299:case 36307:return Nne;case 35680:case 36300:case 36308:case 36293:return One;case 36289:case 36303:case 36311:case 36292:return Bne}}function zne(n,e){n.uniform1fv(this.addr,e)}function kne(n,e){const t=Ef(e,this.size,2);n.uniform2fv(this.addr,t)}function Hne(n,e){const t=Ef(e,this.size,3);n.uniform3fv(this.addr,t)}function Gne(n,e){const t=Ef(e,this.size,4);n.uniform4fv(this.addr,t)}function Vne(n,e){const t=Ef(e,this.size,4);n.uniformMatrix2fv(this.addr,!1,t)}function Wne(n,e){const t=Ef(e,this.size,9);n.uniformMatrix3fv(this.addr,!1,t)}function Xne(n,e){const t=Ef(e,this.size,16);n.uniformMatrix4fv(this.addr,!1,t)}function Yne(n,e){n.uniform1iv(this.addr,e)}function $ne(n,e){n.uniform2iv(this.addr,e)}function qne(n,e){n.uniform3iv(this.addr,e)}function jne(n,e){n.uniform4iv(this.addr,e)}function Zne(n,e){n.uniform1uiv(this.addr,e)}function Qne(n,e){n.uniform2uiv(this.addr,e)}function Jne(n,e){n.uniform3uiv(this.addr,e)}function Kne(n,e){n.uniform4uiv(this.addr,e)}function eie(n,e,t){const i=e.length,r=hC(t,i);n.uniform1iv(this.addr,r);for(let s=0;s!==i;++s)t.safeSetTexture2D(e[s]||sC,r[s])}function tie(n,e,t){const i=e.length,r=hC(t,i);n.uniform1iv(this.addr,r);for(let s=0;s!==i;++s)t.safeSetTextureCube(e[s]||oC,r[s])}function nie(n){switch(n){case 5126:return zne;case 35664:return kne;case 35665:return Hne;case 35666:return Gne;case 35674:return Vne;case 35675:return Wne;case 35676:return Xne;case 5124:case 35670:return Yne;case 35667:case 35671:return $ne;case 35668:case 35672:return qne;case 35669:case 35673:return jne;case 5125:return Zne;case 36294:return Qne;case 36295:return Jne;case 36296:return Kne;case 35678:case 36198:case 36298:case 36306:case 35682:return eie;case 35680:case 36300:case 36308:case 36293:return tie}}function iie(n,e,t){this.id=n,this.addr=t,this.cache=[],this.setValue=Une(e.type)}function dC(n,e,t){this.id=n,this.addr=t,this.cache=[],this.size=e.size,this.setValue=nie(e.type)}dC.prototype.updateCache=function(n){const e=this.cache;n instanceof Float32Array&&e.length!==n.length&&(this.cache=new Float32Array(n.length)),Wi(e,n)};function pC(n){this.id=n,this.seq=[],this.map={}}pC.prototype.setValue=function(n,e,t){const i=this.seq;for(let r=0,s=i.length;r!==s;++r){const o=i[r];o.setValue(n,e[o.id],t)}};const G7=/(\w+)(\])?(\[|\.)?/g;function mC(n,e){n.seq.push(e),n.map[e.id]=e}function rie(n,e,t){const i=n.name,r=i.length;for(G7.lastIndex=0;;){const s=G7.exec(i),o=G7.lastIndex;let a=s[1];const l=s[2]==="]",c=s[3];if(l&&(a=a|0),c===void 0||c==="["&&o+2===r){mC(t,c===void 0?new iie(a,n,e):new dC(a,n,e));break}else{let f=t.map[a];f===void 0&&(f=new pC(a),mC(t,f)),t=f}}}function Ra(n,e){this.seq=[],this.map={};const t=n.getProgramParameter(e,35718);for(let i=0;i<t;++i){const r=n.getActiveUniform(e,i),s=n.getUniformLocation(e,r.name);rie(r,s,this)}}Ra.prototype.setValue=function(n,e,t,i){const r=this.map[e];r!==void 0&&r.setValue(n,t,i)};Ra.prototype.setOptional=function(n,e,t){const i=e[t];i!==void 0&&this.setValue(n,t,i)};Ra.upload=function(n,e,t,i){for(let r=0,s=e.length;r!==s;++r){const o=e[r],a=t[o.id];a.needsUpdate!==!1&&o.setValue(n,a.value,i)}};Ra.seqWithValue=function(n,e){const t=[];for(let i=0,r=n.length;i!==r;++i){const s=n[i];s.id in e&&t.push(s)}return t};function gC(n,e,t){const i=n.createShader(e);return n.shaderSource(i,t),n.compileShader(i),i}let sie=0;function oie(n){const e=n.split(`
`);for(let t=0;t<e.length;t++)e[t]=t+1+": "+e[t];return e.join(`
`)}function vC(n){switch(n){case cr:return["Linear","( value )"];case Ms:return["sRGB","( value )"];case f3:return["RGBE","( value )"];case r7:return["RGBM","( value, 7.0 )"];case s7:return["RGBM","( value, 16.0 )"];case o7:return["RGBD","( value, 256.0 )"];case u3:return["Gamma","( value, float( GAMMA_FACTOR ) )"];case wL:return["LogLuv","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported encoding:",n),["Linear","( value )"]}}function xC(n,e,t){const i=n.getShaderParameter(e,35713),r=n.getShaderInfoLog(e).trim();return i&&r===""?"":t.toUpperCase()+`

`+r+`

`+oie(n.getShaderSource(e))}function Lf(n,e){const t=vC(e);return"vec4 "+n+"( vec4 value ) { return "+t[0]+"ToLinear"+t[1]+"; }"}function aie(n,e){const t=vC(e);return"vec4 "+n+"( vec4 value ) { return LinearTo"+t[0]+t[1]+"; }"}function lie(n,e){let t;switch(e){case _E:t="Linear";break;case bE:t="Reinhard";break;case wE:t="OptimizedCineon";break;case ME:t="ACESFilmic";break;case SE:t="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),t="Linear"}return"vec3 "+n+"( vec3 color ) { return "+t+"ToneMapping( color ); }"}function cie(n){return[n.extensionDerivatives||n.envMapCubeUV||n.bumpMap||n.tangentSpaceNormalMap||n.clearcoatNormalMap||n.flatShading||n.shaderID==="physical"?"#extension GL_OES_standard_derivatives : enable":"",(n.extensionFragDepth||n.logarithmicDepthBuffer)&&n.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",n.extensionDrawBuffers&&n.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(n.extensionShaderTextureLOD||n.envMap||n.transmission)&&n.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(g1).join(`
`)}function uie(n){const e=[];for(const t in n){const i=n[t];i!==!1&&e.push("#define "+t+" "+i)}return e.join(`
`)}function fie(n,e){const t={},i=n.getProgramParameter(e,35721);for(let r=0;r<i;r++){const s=n.getActiveAttrib(e,r),o=s.name;let a=1;s.type===35674&&(a=2),s.type===35675&&(a=3),s.type===35676&&(a=4),t[o]={type:s.type,location:n.getAttribLocation(e,o),locationSize:a}}return t}function g1(n){return n!==""}function yC(n,e){return n.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function _C(n,e){return n.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const hie=/^[ \t]*#include +<([\w\d./]+)>/gm;function V7(n){return n.replace(hie,die)}function die(n,e){const t=Mt[e];if(t===void 0)throw new Error("Can not resolve #include <"+e+">");return V7(t)}const pie=/#pragma unroll_loop[\s]+?for \( int i \= (\d+)\; i < (\d+)\; i \+\+ \) \{([\s\S]+?)(?=\})\}/g,mie=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function bC(n){return n.replace(mie,wC).replace(pie,gie)}function gie(n,e,t,i){return console.warn("WebGLProgram: #pragma unroll_loop shader syntax is deprecated. Please use #pragma unroll_loop_start syntax instead."),wC(n,e,t,i)}function wC(n,e,t,i){let r="";for(let s=parseInt(e);s<parseInt(t);s++)r+=i.replace(/\[\s*i\s*\]/g,"[ "+s+" ]").replace(/UNROLLED_LOOP_INDEX/g,s);return r}function MC(n){let e="precision "+n.precision+` float;
precision `+n.precision+" int;";return n.precision==="highp"?e+=`
#define HIGH_PRECISION`:n.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:n.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function vie(n){let e="SHADOWMAP_TYPE_BASIC";return n.shadowMapType===N6?e="SHADOWMAP_TYPE_PCF":n.shadowMapType===nE?e="SHADOWMAP_TYPE_PCF_SOFT":n.shadowMapType===qu&&(e="SHADOWMAP_TYPE_VSM"),e}function xie(n){let e="ENVMAP_TYPE_CUBE";if(n.envMap)switch(n.envMapMode){case Ql:case Zu:e="ENVMAP_TYPE_CUBE";break;case Ju:case Kd:e="ENVMAP_TYPE_CUBE_UV";break}return e}function yie(n){let e="ENVMAP_MODE_REFLECTION";if(n.envMap)switch(n.envMapMode){case Zu:case Kd:e="ENVMAP_MODE_REFRACTION";break}return e}function _ie(n){let e="ENVMAP_BLENDING_NONE";if(n.envMap)switch(n.combine){case Qd:e="ENVMAP_BLENDING_MULTIPLY";break;case xE:e="ENVMAP_BLENDING_MIX";break;case yE:e="ENVMAP_BLENDING_ADD";break}return e}function bie(n,e,t,i){const r=n.getContext(),s=t.defines;let o=t.vertexShader,a=t.fragmentShader;const l=vie(t),c=xie(t),u=yie(t),f=_ie(t),h=n.gammaFactor>0?n.gammaFactor:1,d=t.isWebGL2?"":cie(t),m=uie(s),v=r.createProgram();let _,g,x=t.glslVersion?"#version "+t.glslVersion+`
`:"";t.isRawShaderMaterial?(_=[m].filter(g1).join(`
`),_.length>0&&(_+=`
`),g=[d,m].filter(g1).join(`
`),g.length>0&&(g+=`
`)):(_=[MC(t),"#define SHADER_NAME "+t.shaderName,m,t.instancing?"#define USE_INSTANCING":"",t.instancingColor?"#define USE_INSTANCING_COLOR":"",t.supportsVertexTextures?"#define VERTEX_TEXTURES":"","#define GAMMA_FACTOR "+h,"#define MAX_BONES "+t.maxBones,t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+u:"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMap&&t.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",t.normalMap&&t.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.displacementMap&&t.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",t.specularTintMap?"#define USE_SPECULARTINTMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.vertexTangents?"#define USE_TANGENT":"",t.vertexColors?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUvs?"#define USE_UV":"",t.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",t.flatShading?"#define FLAT_SHADED":"",t.skinning?"#define USE_SKINNING":"",t.useVertexTexture?"#define BONE_TEXTURE":"",t.morphTargets?"#define USE_MORPHTARGETS":"",t.morphNormals&&t.flatShading===!1?"#define USE_MORPHNORMALS":"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+l:"",t.sizeAttenuation?"#define USE_SIZEATTENUATION":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.logarithmicDepthBuffer&&t.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#ifdef USE_MORPHTARGETS","	attribute vec3 morphTarget0;","	attribute vec3 morphTarget1;","	attribute vec3 morphTarget2;","	attribute vec3 morphTarget3;","	#ifdef USE_MORPHNORMALS","		attribute vec3 morphNormal0;","		attribute vec3 morphNormal1;","		attribute vec3 morphNormal2;","		attribute vec3 morphNormal3;","	#else","		attribute vec3 morphTarget4;","		attribute vec3 morphTarget5;","		attribute vec3 morphTarget6;","		attribute vec3 morphTarget7;","	#endif","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(g1).join(`
`),g=[d,MC(t),"#define SHADER_NAME "+t.shaderName,m,"#define GAMMA_FACTOR "+h,t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.matcap?"#define USE_MATCAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+c:"",t.envMap?"#define "+u:"",t.envMap?"#define "+f:"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMap&&t.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",t.normalMap&&t.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",t.clearcoat?"#define USE_CLEARCOAT":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",t.specularTintMap?"#define USE_SPECULARTINTMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaTest?"#define USE_ALPHATEST":"",t.sheenTint?"#define USE_SHEEN":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.vertexTangents?"#define USE_TANGENT":"",t.vertexColors||t.instancingColor?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUvs?"#define USE_UV":"",t.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",t.gradientMap?"#define USE_GRADIENTMAP":"",t.flatShading?"#define FLAT_SHADED":"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+l:"",t.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",t.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.logarithmicDepthBuffer&&t.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"",(t.extensionShaderTextureLOD||t.envMap)&&t.rendererExtensionShaderTextureLod?"#define TEXTURE_LOD_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",t.toneMapping!==ya?"#define TONE_MAPPING":"",t.toneMapping!==ya?Mt.tonemapping_pars_fragment:"",t.toneMapping!==ya?lie("toneMapping",t.toneMapping):"",t.dithering?"#define DITHERING":"",t.format===Or?"#define OPAQUE":"",Mt.encodings_pars_fragment,t.map?Lf("mapTexelToLinear",t.mapEncoding):"",t.matcap?Lf("matcapTexelToLinear",t.matcapEncoding):"",t.envMap?Lf("envMapTexelToLinear",t.envMapEncoding):"",t.emissiveMap?Lf("emissiveMapTexelToLinear",t.emissiveMapEncoding):"",t.specularTintMap?Lf("specularTintMapTexelToLinear",t.specularTintMapEncoding):"",t.lightMap?Lf("lightMapTexelToLinear",t.lightMapEncoding):"",aie("linearToOutputTexel",t.outputEncoding),t.depthPacking?"#define DEPTH_PACKING "+t.depthPacking:"",`
`].filter(g1).join(`
`)),o=V7(o),o=yC(o,t),o=_C(o,t),a=V7(a),a=yC(a,t),a=_C(a,t),o=bC(o),a=bC(a),t.isWebGL2&&t.isRawShaderMaterial!==!0&&(x=`#version 300 es
`,_=["#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+_,g=["#define varying in",t.glslVersion===l7?"":"out highp vec4 pc_fragColor;",t.glslVersion===l7?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+g);const b=x+_+o,w=x+g+a,S=gC(r,35633,b),A=gC(r,35632,w);if(r.attachShader(v,S),r.attachShader(v,A),t.index0AttributeName!==void 0?r.bindAttribLocation(v,0,t.index0AttributeName):t.morphTargets===!0&&r.bindAttribLocation(v,0,"position"),r.linkProgram(v),n.debug.checkShaderErrors){const U=r.getProgramInfoLog(v).trim(),N=r.getShaderInfoLog(S).trim(),O=r.getShaderInfoLog(A).trim();let G=!0,D=!0;if(r.getProgramParameter(v,35714)===!1){G=!1;const P=xC(r,S,"vertex"),I=xC(r,A,"fragment");console.error("THREE.WebGLProgram: Shader Error "+r.getError()+" - VALIDATE_STATUS "+r.getProgramParameter(v,35715)+`

Program Info Log: `+U+`
`+P+`
`+I)}else U!==""?console.warn("THREE.WebGLProgram: Program Info Log:",U):(N===""||O==="")&&(D=!1);D&&(this.diagnostics={runnable:G,programLog:U,vertexShader:{log:N,prefix:_},fragmentShader:{log:O,prefix:g}})}r.deleteShader(S),r.deleteShader(A);let T;this.getUniforms=function(){return T===void 0&&(T=new Ra(r,v)),T};let F;return this.getAttributes=function(){return F===void 0&&(F=fie(r,v)),F},this.destroy=function(){i.releaseStatesOfProgram(this),r.deleteProgram(v),this.program=void 0},this.name=t.shaderName,this.id=sie++,this.cacheKey=e,this.usedTimes=1,this.program=v,this.vertexShader=S,this.fragmentShader=A,this}function wie(n,e,t,i,r,s,o){const a=[],l=r.isWebGL2,c=r.logarithmicDepthBuffer,u=r.floatVertexTextures,f=r.maxVertexUniforms,h=r.vertexTextures;let d=r.precision;const m={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"},v=["precision","isWebGL2","supportsVertexTextures","outputEncoding","instancing","instancingColor","map","mapEncoding","matcap","matcapEncoding","envMap","envMapMode","envMapEncoding","envMapCubeUV","lightMap","lightMapEncoding","aoMap","emissiveMap","emissiveMapEncoding","bumpMap","normalMap","objectSpaceNormalMap","tangentSpaceNormalMap","clearcoat","clearcoatMap","clearcoatRoughnessMap","clearcoatNormalMap","displacementMap","specularMap","specularIntensityMap","specularTintMap","specularTintMapEncoding","roughnessMap","metalnessMap","gradientMap","alphaMap","alphaTest","combine","vertexColors","vertexAlphas","vertexTangents","vertexUvs","uvsVertexOnly","fog","useFog","fogExp2","flatShading","sizeAttenuation","logarithmicDepthBuffer","skinning","maxBones","useVertexTexture","morphTargets","morphNormals","premultipliedAlpha","numDirLights","numPointLights","numSpotLights","numHemiLights","numRectAreaLights","numDirLightShadows","numPointLightShadows","numSpotLightShadows","shadowMapEnabled","shadowMapType","toneMapping","physicallyCorrectLights","doubleSided","flipSided","numClippingPlanes","numClipIntersection","depthPacking","dithering","format","sheenTint","transmission","transmissionMap","thicknessMap"];function _(T){const U=T.skeleton.bones;if(u)return 1024;{const O=Math.floor((f-20)/4),G=Math.min(O,U.length);return G<U.length?(console.warn("THREE.WebGLRenderer: Skeleton has "+U.length+" bones. This GPU supports "+G+"."),0):G}}function g(T){let F;return T&&T.isTexture?F=T.encoding:T&&T.isWebGLRenderTarget?(console.warn("THREE.WebGLPrograms.getTextureEncodingFromMap: don't use render targets as textures. Use their .texture property instead."),F=T.texture.encoding):F=cr,F}function x(T,F,U,N,O){const G=N.fog,D=T.isMeshStandardMaterial?N.environment:null,P=(T.isMeshStandardMaterial?t:e).get(T.envMap||D),I=m[T.type],C=O.isSkinnedMesh?_(O):0;T.precision!==null&&(d=r.getMaxPrecision(T.precision),d!==T.precision&&console.warn("THREE.WebGLProgram.getParameters:",T.precision,"not supported, using",d,"instead."));let B,Y;if(I){const de=Es[I];B=de.vertexShader,Y=de.fragmentShader}else B=T.vertexShader,Y=T.fragmentShader;const j=n.getRenderTarget(),re=T.alphaTest>0,ie=T.clearcoat>0;return{isWebGL2:l,shaderID:I,shaderName:T.type,vertexShader:B,fragmentShader:Y,defines:T.defines,isRawShaderMaterial:T.isRawShaderMaterial===!0,glslVersion:T.glslVersion,precision:d,instancing:O.isInstancedMesh===!0,instancingColor:O.isInstancedMesh===!0&&O.instanceColor!==null,supportsVertexTextures:h,outputEncoding:j!==null?g(j.texture):n.outputEncoding,map:!!T.map,mapEncoding:g(T.map),matcap:!!T.matcap,matcapEncoding:g(T.matcap),envMap:!!P,envMapMode:P&&P.mapping,envMapEncoding:g(P),envMapCubeUV:!!P&&(P.mapping===Ju||P.mapping===Kd),lightMap:!!T.lightMap,lightMapEncoding:g(T.lightMap),aoMap:!!T.aoMap,emissiveMap:!!T.emissiveMap,emissiveMapEncoding:g(T.emissiveMap),bumpMap:!!T.bumpMap,normalMap:!!T.normalMap,objectSpaceNormalMap:T.normalMapType===SL,tangentSpaceNormalMap:T.normalMapType===ba,clearcoat:ie,clearcoatMap:ie&&!!T.clearcoatMap,clearcoatRoughnessMap:ie&&!!T.clearcoatRoughnessMap,clearcoatNormalMap:ie&&!!T.clearcoatNormalMap,displacementMap:!!T.displacementMap,roughnessMap:!!T.roughnessMap,metalnessMap:!!T.metalnessMap,specularMap:!!T.specularMap,specularIntensityMap:!!T.specularIntensityMap,specularTintMap:!!T.specularTintMap,specularTintMapEncoding:g(T.specularTintMap),alphaMap:!!T.alphaMap,alphaTest:re,gradientMap:!!T.gradientMap,sheenTint:!!T.sheenTint&&(T.sheenTint.r>0||T.sheenTint.g>0||T.sheenTint.b>0),transmission:T.transmission>0,transmissionMap:!!T.transmissionMap,thicknessMap:!!T.thicknessMap,combine:T.combine,vertexTangents:!!T.normalMap&&!!O.geometry&&!!O.geometry.attributes.tangent,vertexColors:T.vertexColors,vertexAlphas:T.vertexColors===!0&&!!O.geometry&&!!O.geometry.attributes.color&&O.geometry.attributes.color.itemSize===4,vertexUvs:!!T.map||!!T.bumpMap||!!T.normalMap||!!T.specularMap||!!T.alphaMap||!!T.emissiveMap||!!T.roughnessMap||!!T.metalnessMap||!!T.clearcoatMap||!!T.clearcoatRoughnessMap||!!T.clearcoatNormalMap||!!T.displacementMap||!!T.transmissionMap||!!T.thicknessMap||!!T.specularIntensityMap||!!T.specularTintMap,uvsVertexOnly:!(!!T.map||!!T.bumpMap||!!T.normalMap||!!T.specularMap||!!T.alphaMap||!!T.emissiveMap||!!T.roughnessMap||!!T.metalnessMap||!!T.clearcoatNormalMap||T.transmission>0||!!T.transmissionMap||!!T.thicknessMap||!!T.specularIntensityMap||!!T.specularTintMap)&&!!T.displacementMap,fog:!!G,useFog:T.fog,fogExp2:G&&G.isFogExp2,flatShading:!!T.flatShading,sizeAttenuation:T.sizeAttenuation,logarithmicDepthBuffer:c,skinning:O.isSkinnedMesh===!0&&C>0,maxBones:C,useVertexTexture:u,morphTargets:!!O.geometry&&!!O.geometry.morphAttributes.position,morphNormals:!!O.geometry&&!!O.geometry.morphAttributes.normal,numDirLights:F.directional.length,numPointLights:F.point.length,numSpotLights:F.spot.length,numRectAreaLights:F.rectArea.length,numHemiLights:F.hemi.length,numDirLightShadows:F.directionalShadowMap.length,numPointLightShadows:F.pointShadowMap.length,numSpotLightShadows:F.spotShadowMap.length,numClippingPlanes:o.numPlanes,numClipIntersection:o.numIntersection,format:T.format,dithering:T.dithering,shadowMapEnabled:n.shadowMap.enabled&&U.length>0,shadowMapType:n.shadowMap.type,toneMapping:T.toneMapped?n.toneMapping:ya,physicallyCorrectLights:n.physicallyCorrectLights,premultipliedAlpha:T.premultipliedAlpha,doubleSided:T.side===wo,flipSided:T.side===Hn,depthPacking:T.depthPacking!==void 0?T.depthPacking:!1,index0AttributeName:T.index0AttributeName,extensionDerivatives:T.extensions&&T.extensions.derivatives,extensionFragDepth:T.extensions&&T.extensions.fragDepth,extensionDrawBuffers:T.extensions&&T.extensions.drawBuffers,extensionShaderTextureLOD:T.extensions&&T.extensions.shaderTextureLOD,rendererExtensionFragDepth:l||i.has("EXT_frag_depth"),rendererExtensionDrawBuffers:l||i.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:l||i.has("EXT_shader_texture_lod"),customProgramCacheKey:T.customProgramCacheKey()}}function b(T){const F=[];if(T.shaderID?F.push(T.shaderID):(F.push(T.fragmentShader),F.push(T.vertexShader)),T.defines!==void 0)for(const U in T.defines)F.push(U),F.push(T.defines[U]);if(T.isRawShaderMaterial===!1){for(let U=0;U<v.length;U++)F.push(T[v[U]]);F.push(n.outputEncoding),F.push(n.gammaFactor)}return F.push(T.customProgramCacheKey),F.join()}function w(T){const F=m[T.type];let U;if(F){const N=Es[F];U=Ii.clone(N.uniforms)}else U=T.uniforms;return U}function S(T,F){let U;for(let N=0,O=a.length;N<O;N++){const G=a[N];if(G.cacheKey===F){U=G,++U.usedTimes;break}}return U===void 0&&(U=new bie(n,F,T,s),a.push(U)),U}function A(T){if(--T.usedTimes==0){const F=a.indexOf(T);a[F]=a[a.length-1],a.pop(),T.destroy()}}return{getParameters:x,getProgramCacheKey:b,getUniforms:w,acquireProgram:S,releaseProgram:A,programs:a}}function Mie(){let n=new WeakMap;function e(s){let o=n.get(s);return o===void 0&&(o={},n.set(s,o)),o}function t(s){n.delete(s)}function i(s,o,a){n.get(s)[o]=a}function r(){n=new WeakMap}return{get:e,remove:t,update:i,dispose:r}}function Sie(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.program!==e.program?n.program.id-e.program.id:n.material.id!==e.material.id?n.material.id-e.material.id:n.z!==e.z?n.z-e.z:n.id-e.id}function SC(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.z!==e.z?e.z-n.z:n.id-e.id}function AC(n){const e=[];let t=0;const i=[],r=[],s=[],o={id:-1};function a(){t=0,i.length=0,r.length=0,s.length=0}function l(d,m,v,_,g,x){let b=e[t];const w=n.get(v);return b===void 0?(b={id:d.id,object:d,geometry:m,material:v,program:w.program||o,groupOrder:_,renderOrder:d.renderOrder,z:g,group:x},e[t]=b):(b.id=d.id,b.object=d,b.geometry=m,b.material=v,b.program=w.program||o,b.groupOrder=_,b.renderOrder=d.renderOrder,b.z=g,b.group=x),t++,b}function c(d,m,v,_,g,x){const b=l(d,m,v,_,g,x);v.transmission>0?r.push(b):v.transparent===!0?s.push(b):i.push(b)}function u(d,m,v,_,g,x){const b=l(d,m,v,_,g,x);v.transmission>0?r.unshift(b):v.transparent===!0?s.unshift(b):i.unshift(b)}function f(d,m){i.length>1&&i.sort(d||Sie),r.length>1&&r.sort(m||SC),s.length>1&&s.sort(m||SC)}function h(){for(let d=t,m=e.length;d<m;d++){const v=e[d];if(v.id===null)break;v.id=null,v.object=null,v.geometry=null,v.material=null,v.program=null,v.group=null}}return{opaque:i,transmissive:r,transparent:s,init:a,push:c,unshift:u,finish:h,sort:f}}function Aie(n){let e=new WeakMap;function t(r,s){let o;return e.has(r)===!1?(o=new AC(n),e.set(r,[o])):s>=e.get(r).length?(o=new AC(n),e.get(r).push(o)):o=e.get(r)[s],o}function i(){e=new WeakMap}return{get:t,dispose:i}}function Tie(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={direction:new Z,color:new We};break;case"SpotLight":t={position:new Z,direction:new Z,color:new We,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":t={position:new Z,color:new We,distance:0,decay:0};break;case"HemisphereLight":t={direction:new Z,skyColor:new We,groundColor:new We};break;case"RectAreaLight":t={color:new We,position:new Z,halfWidth:new Z,halfHeight:new Z};break}return n[e.id]=t,t}}}function Eie(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Ie};break;case"SpotLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Ie};break;case"PointLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Ie,shadowCameraNear:1,shadowCameraFar:1e3};break}return n[e.id]=t,t}}}let Lie=0;function Cie(n,e){return(e.castShadow?1:0)-(n.castShadow?1:0)}function Pie(n,e){const t=new Tie,i=Eie(),r={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotShadow:[],spotShadowMap:[],spotShadowMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[]};for(let u=0;u<9;u++)r.probe.push(new Z);const s=new Z,o=new $e,a=new $e;function l(u,f){let h=0,d=0,m=0;for(let U=0;U<9;U++)r.probe[U].set(0,0,0);let v=0,_=0,g=0,x=0,b=0,w=0,S=0,A=0;u.sort(Cie);const T=f!==!0?Math.PI:1;for(let U=0,N=u.length;U<N;U++){const O=u[U],G=O.color,D=O.intensity,P=O.distance,I=O.shadow&&O.shadow.map?O.shadow.map.texture:null;if(O.isAmbientLight)h+=G.r*D*T,d+=G.g*D*T,m+=G.b*D*T;else if(O.isLightProbe)for(let C=0;C<9;C++)r.probe[C].addScaledVector(O.sh.coefficients[C],D);else if(O.isDirectionalLight){const C=t.get(O);if(C.color.copy(O.color).multiplyScalar(O.intensity*T),O.castShadow){const B=O.shadow,Y=i.get(O);Y.shadowBias=B.bias,Y.shadowNormalBias=B.normalBias,Y.shadowRadius=B.radius,Y.shadowMapSize=B.mapSize,r.directionalShadow[v]=Y,r.directionalShadowMap[v]=I,r.directionalShadowMatrix[v]=O.shadow.matrix,w++}r.directional[v]=C,v++}else if(O.isSpotLight){const C=t.get(O);if(C.position.setFromMatrixPosition(O.matrixWorld),C.color.copy(G).multiplyScalar(D*T),C.distance=P,C.coneCos=Math.cos(O.angle),C.penumbraCos=Math.cos(O.angle*(1-O.penumbra)),C.decay=O.decay,O.castShadow){const B=O.shadow,Y=i.get(O);Y.shadowBias=B.bias,Y.shadowNormalBias=B.normalBias,Y.shadowRadius=B.radius,Y.shadowMapSize=B.mapSize,r.spotShadow[g]=Y,r.spotShadowMap[g]=I,r.spotShadowMatrix[g]=O.shadow.matrix,A++}r.spot[g]=C,g++}else if(O.isRectAreaLight){const C=t.get(O);C.color.copy(G).multiplyScalar(D),C.halfWidth.set(O.width*.5,0,0),C.halfHeight.set(0,O.height*.5,0),r.rectArea[x]=C,x++}else if(O.isPointLight){const C=t.get(O);if(C.color.copy(O.color).multiplyScalar(O.intensity*T),C.distance=O.distance,C.decay=O.decay,O.castShadow){const B=O.shadow,Y=i.get(O);Y.shadowBias=B.bias,Y.shadowNormalBias=B.normalBias,Y.shadowRadius=B.radius,Y.shadowMapSize=B.mapSize,Y.shadowCameraNear=B.camera.near,Y.shadowCameraFar=B.camera.far,r.pointShadow[_]=Y,r.pointShadowMap[_]=I,r.pointShadowMatrix[_]=O.shadow.matrix,S++}r.point[_]=C,_++}else if(O.isHemisphereLight){const C=t.get(O);C.skyColor.copy(O.color).multiplyScalar(D*T),C.groundColor.copy(O.groundColor).multiplyScalar(D*T),r.hemi[b]=C,b++}}x>0&&(e.isWebGL2||n.has("OES_texture_float_linear")===!0?(r.rectAreaLTC1=Ze.LTC_FLOAT_1,r.rectAreaLTC2=Ze.LTC_FLOAT_2):n.has("OES_texture_half_float_linear")===!0?(r.rectAreaLTC1=Ze.LTC_HALF_1,r.rectAreaLTC2=Ze.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),r.ambient[0]=h,r.ambient[1]=d,r.ambient[2]=m;const F=r.hash;(F.directionalLength!==v||F.pointLength!==_||F.spotLength!==g||F.rectAreaLength!==x||F.hemiLength!==b||F.numDirectionalShadows!==w||F.numPointShadows!==S||F.numSpotShadows!==A)&&(r.directional.length=v,r.spot.length=g,r.rectArea.length=x,r.point.length=_,r.hemi.length=b,r.directionalShadow.length=w,r.directionalShadowMap.length=w,r.pointShadow.length=S,r.pointShadowMap.length=S,r.spotShadow.length=A,r.spotShadowMap.length=A,r.directionalShadowMatrix.length=w,r.pointShadowMatrix.length=S,r.spotShadowMatrix.length=A,F.directionalLength=v,F.pointLength=_,F.spotLength=g,F.rectAreaLength=x,F.hemiLength=b,F.numDirectionalShadows=w,F.numPointShadows=S,F.numSpotShadows=A,r.version=Lie++)}function c(u,f){let h=0,d=0,m=0,v=0,_=0;const g=f.matrixWorldInverse;for(let x=0,b=u.length;x<b;x++){const w=u[x];if(w.isDirectionalLight){const S=r.directional[h];S.direction.setFromMatrixPosition(w.matrixWorld),s.setFromMatrixPosition(w.target.matrixWorld),S.direction.sub(s),S.direction.transformDirection(g),h++}else if(w.isSpotLight){const S=r.spot[m];S.position.setFromMatrixPosition(w.matrixWorld),S.position.applyMatrix4(g),S.direction.setFromMatrixPosition(w.matrixWorld),s.setFromMatrixPosition(w.target.matrixWorld),S.direction.sub(s),S.direction.transformDirection(g),m++}else if(w.isRectAreaLight){const S=r.rectArea[v];S.position.setFromMatrixPosition(w.matrixWorld),S.position.applyMatrix4(g),a.identity(),o.copy(w.matrixWorld),o.premultiply(g),a.extractRotation(o),S.halfWidth.set(w.width*.5,0,0),S.halfHeight.set(0,w.height*.5,0),S.halfWidth.applyMatrix4(a),S.halfHeight.applyMatrix4(a),v++}else if(w.isPointLight){const S=r.point[d];S.position.setFromMatrixPosition(w.matrixWorld),S.position.applyMatrix4(g),d++}else if(w.isHemisphereLight){const S=r.hemi[_];S.direction.setFromMatrixPosition(w.matrixWorld),S.direction.transformDirection(g),S.direction.normalize(),_++}}}return{setup:l,setupView:c,state:r}}function TC(n,e){const t=new Pie(n,e),i=[],r=[];function s(){i.length=0,r.length=0}function o(f){i.push(f)}function a(f){r.push(f)}function l(f){t.setup(i,f)}function c(f){t.setupView(i,f)}return{init:s,state:{lightsArray:i,shadowsArray:r,lights:t},setupLights:l,setupLightsView:c,pushLight:o,pushShadow:a}}function Rie(n,e){let t=new WeakMap;function i(s,o=0){let a;return t.has(s)===!1?(a=new TC(n,e),t.set(s,[a])):o>=t.get(s).length?(a=new TC(n,e),t.get(s).push(a)):a=t.get(s)[o],a}function r(){t=new WeakMap}return{get:i,dispose:r}}class v1 extends si{constructor(e){super();this.type="MeshDepthMaterial",this.depthPacking=ML,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}v1.prototype.isMeshDepthMaterial=!0;class D3 extends si{constructor(e){super();this.type="MeshDistanceMaterial",this.referencePosition=new Z,this.nearDistance=1,this.farDistance=1e3,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.fog=!1,this.setValues(e)}copy(e){return super.copy(e),this.referencePosition.copy(e.referencePosition),this.nearDistance=e.nearDistance,this.farDistance=e.farDistance,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}D3.prototype.isMeshDistanceMaterial=!0;var Fie=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
uniform float samples;
#include <packing>
void main() {
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`,Iie=`void main() {
	gl_Position = vec4( position, 1.0 );
}`;function EC(n,e,t){let i=new p1;const r=new Ie,s=new Ie,o=new $t,a=new v1({depthPacking:a7}),l=new D3,c={},u=t.maxTextureSize,f={0:Hn,1:xa,2:wo},h=new cn({uniforms:{shadow_pass:{value:null},resolution:{value:new Ie},radius:{value:4},samples:{value:8}},vertexShader:Iie,fragmentShader:Fie}),d=h.clone();d.defines.HORIZONTAL_PASS=1;const m=new ot;m.setAttribute("position",new Tt(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const v=new En(m,h),_=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=N6,this.render=function(w,S,A){if(_.enabled===!1||_.autoUpdate===!1&&_.needsUpdate===!1||w.length===0)return;const T=n.getRenderTarget(),F=n.getActiveCubeFace(),U=n.getActiveMipmapLevel(),N=n.state;N.setBlending(pi),N.buffers.color.setClear(1,1,1,1),N.buffers.depth.setTest(!0),N.setScissorTest(!1);for(let O=0,G=w.length;O<G;O++){const D=w[O],P=D.shadow;if(P===void 0){console.warn("THREE.WebGLShadowMap:",D,"has no shadow.");continue}if(P.autoUpdate===!1&&P.needsUpdate===!1)continue;r.copy(P.mapSize);const I=P.getFrameExtents();if(r.multiply(I),s.copy(P.mapSize),(r.x>u||r.y>u)&&(r.x>u&&(s.x=Math.floor(u/I.x),r.x=s.x*I.x,P.mapSize.x=s.x),r.y>u&&(s.y=Math.floor(u/I.y),r.y=s.y*I.y,P.mapSize.y=s.y)),P.map===null&&!P.isPointLightShadow&&this.type===qu){const B={minFilter:Ht,magFilter:Ht,format:yn};P.map=new jn(r.x,r.y,B),P.map.texture.name=D.name+".shadowMap",P.mapPass=new jn(r.x,r.y,B),P.camera.updateProjectionMatrix()}if(P.map===null){const B={minFilter:Qt,magFilter:Qt,format:yn};P.map=new jn(r.x,r.y,B),P.map.texture.name=D.name+".shadowMap",P.camera.updateProjectionMatrix()}n.setRenderTarget(P.map),n.clear();const C=P.getViewportCount();for(let B=0;B<C;B++){const Y=P.getViewport(B);o.set(s.x*Y.x,s.y*Y.y,s.x*Y.z,s.y*Y.w),N.viewport(o),P.updateMatrices(D,B),i=P.getFrustum(),b(S,A,P.camera,D,this.type)}!P.isPointLightShadow&&this.type===qu&&g(P,A),P.needsUpdate=!1}_.needsUpdate=!1,n.setRenderTarget(T,F,U)};function g(w,S){const A=e.update(v);h.uniforms.shadow_pass.value=w.map.texture,h.uniforms.resolution.value=w.mapSize,h.uniforms.radius.value=w.radius,h.uniforms.samples.value=w.blurSamples,n.setRenderTarget(w.mapPass),n.clear(),n.renderBufferDirect(S,null,A,h,v,null),d.uniforms.shadow_pass.value=w.mapPass.texture,d.uniforms.resolution.value=w.mapSize,d.uniforms.radius.value=w.radius,d.uniforms.samples.value=w.blurSamples,n.setRenderTarget(w.map),n.clear(),n.renderBufferDirect(S,null,A,d,v,null)}function x(w,S,A,T,F,U,N){let O=null;const G=T.isPointLight===!0?w.customDistanceMaterial:w.customDepthMaterial;if(G!==void 0?O=G:O=T.isPointLight===!0?l:a,n.localClippingEnabled&&A.clipShadows===!0&&A.clippingPlanes.length!==0||A.displacementMap&&A.displacementScale!==0||A.alphaMap&&A.alphaTest>0){const D=O.uuid,P=A.uuid;let I=c[D];I===void 0&&(I={},c[D]=I);let C=I[P];C===void 0&&(C=O.clone(),I[P]=C),O=C}return O.visible=A.visible,O.wireframe=A.wireframe,N===qu?O.side=A.shadowSide!==null?A.shadowSide:A.side:O.side=A.shadowSide!==null?A.shadowSide:f[A.side],O.alphaMap=A.alphaMap,O.alphaTest=A.alphaTest,O.clipShadows=A.clipShadows,O.clippingPlanes=A.clippingPlanes,O.clipIntersection=A.clipIntersection,O.displacementMap=A.displacementMap,O.displacementScale=A.displacementScale,O.displacementBias=A.displacementBias,O.wireframeLinewidth=A.wireframeLinewidth,O.linewidth=A.linewidth,T.isPointLight===!0&&O.isMeshDistanceMaterial===!0&&(O.referencePosition.setFromMatrixPosition(T.matrixWorld),O.nearDistance=F,O.farDistance=U),O}function b(w,S,A,T,F){if(w.visible===!1)return;if(w.layers.test(S.layers)&&(w.isMesh||w.isLine||w.isPoints)&&(w.castShadow||w.receiveShadow&&F===qu)&&(!w.frustumCulled||i.intersectsObject(w))){w.modelViewMatrix.multiplyMatrices(A.matrixWorldInverse,w.matrixWorld);const O=e.update(w),G=w.material;if(Array.isArray(G)){const D=O.groups;for(let P=0,I=D.length;P<I;P++){const C=D[P],B=G[C.materialIndex];if(B&&B.visible){const Y=x(w,O,B,T,A.near,A.far,F);n.renderBufferDirect(A,null,O,Y,w,C)}}}else if(G.visible){const D=x(w,O,G,T,A.near,A.far,F);n.renderBufferDirect(A,null,O,D,w,null)}}const N=w.children;for(let O=0,G=N.length;O<G;O++)b(N[O],S,A,T,F)}}function Die(n,e,t){const i=t.isWebGL2;function r(){let V=!1;const we=new $t;let le=null;const Pe=new $t(0,0,0,0);return{setMask:function(ee){le!==ee&&!V&&(n.colorMask(ee,ee,ee,ee),le=ee)},setLocked:function(ee){V=ee},setClear:function(ee,Ue,lt,at,Ot){Ot===!0&&(ee*=at,Ue*=at,lt*=at),we.set(ee,Ue,lt,at),Pe.equals(we)===!1&&(n.clearColor(ee,Ue,lt,at),Pe.copy(we))},reset:function(){V=!1,le=null,Pe.set(-1,0,0,0)}}}function s(){let V=!1,we=null,le=null,Pe=null;return{setTest:function(ee){ee?ye(2929):te(2929)},setMask:function(ee){we!==ee&&!V&&(n.depthMask(ee),we=ee)},setFunc:function(ee){if(le!==ee){if(ee)switch(ee){case fE:n.depthFunc(512);break;case hE:n.depthFunc(519);break;case dE:n.depthFunc(513);break;case o3:n.depthFunc(515);break;case pE:n.depthFunc(514);break;case mE:n.depthFunc(518);break;case gE:n.depthFunc(516);break;case vE:n.depthFunc(517);break;default:n.depthFunc(515)}else n.depthFunc(515);le=ee}},setLocked:function(ee){V=ee},setClear:function(ee){Pe!==ee&&(n.clearDepth(ee),Pe=ee)},reset:function(){V=!1,we=null,le=null,Pe=null}}}function o(){let V=!1,we=null,le=null,Pe=null,ee=null,Ue=null,lt=null,at=null,Ot=null;return{setTest:function(tt){V||(tt?ye(2960):te(2960))},setMask:function(tt){we!==tt&&!V&&(n.stencilMask(tt),we=tt)},setFunc:function(tt,_t,Vt){(le!==tt||Pe!==_t||ee!==Vt)&&(n.stencilFunc(tt,_t,Vt),le=tt,Pe=_t,ee=Vt)},setOp:function(tt,_t,Vt){(Ue!==tt||lt!==_t||at!==Vt)&&(n.stencilOp(tt,_t,Vt),Ue=tt,lt=_t,at=Vt)},setLocked:function(tt){V=tt},setClear:function(tt){Ot!==tt&&(n.clearStencil(tt),Ot=tt)},reset:function(){V=!1,we=null,le=null,Pe=null,ee=null,Ue=null,lt=null,at=null,Ot=null}}}const a=new r,l=new s,c=new o;let u={},f=null,h={},d=null,m=!1,v=null,_=null,g=null,x=null,b=null,w=null,S=null,A=!1,T=null,F=null,U=null,N=null,O=null;const G=n.getParameter(35661);let D=!1,P=0;const I=n.getParameter(7938);I.indexOf("WebGL")!==-1?(P=parseFloat(/^WebGL (\d)/.exec(I)[1]),D=P>=1):I.indexOf("OpenGL ES")!==-1&&(P=parseFloat(/^OpenGL ES (\d)/.exec(I)[1]),D=P>=2);let C=null,B={};const Y=n.getParameter(3088),j=n.getParameter(2978),re=new $t().fromArray(Y),ie=new $t().fromArray(j);function ve(V,we,le){const Pe=new Uint8Array(4),ee=n.createTexture();n.bindTexture(V,ee),n.texParameteri(V,10241,9728),n.texParameteri(V,10240,9728);for(let Ue=0;Ue<le;Ue++)n.texImage2D(we+Ue,0,6408,1,1,0,6408,5121,Pe);return ee}const de={};de[3553]=ve(3553,3553,1),de[34067]=ve(34067,34069,6),a.setClear(0,0,0,1),l.setClear(1),c.setClear(0),ye(2929),l.setFunc(o3),z(!1),W(D6),ye(2884),Te(pi);function ye(V){u[V]!==!0&&(n.enable(V),u[V]=!0)}function te(V){u[V]!==!1&&(n.disable(V),u[V]=!1)}function $(V){V!==f&&(n.bindFramebuffer(36160,V),f=V)}function ge(V,we){return we===null&&f!==null&&(we=f),h[V]!==we?(n.bindFramebuffer(V,we),h[V]=we,i&&(V===36009&&(h[36160]=we),V===36160&&(h[36009]=we)),!0):!1}function be(V){return d!==V?(n.useProgram(V),d=V,!0):!1}const ue={[Mo]:32774,[iE]:32778,[rE]:32779};if(i)ue[k6]=32775,ue[H6]=32776;else{const V=e.get("EXT_blend_minmax");V!==null&&(ue[k6]=V.MIN_EXT,ue[H6]=V.MAX_EXT)}const _e={[s3]:0,[sE]:1,[oE]:768,[G6]:770,[uE]:776,[X6]:774,[W6]:772,[aE]:769,[V6]:771,[cE]:775,[lE]:773};function Te(V,we,le,Pe,ee,Ue,lt,at){if(V===pi){m===!0&&(te(3042),m=!1);return}if(m===!1&&(ye(3042),m=!0),V!==z6){if(V!==v||at!==A){if((_!==Mo||b!==Mo)&&(n.blendEquation(32774),_=Mo,b=Mo),at)switch(V){case ju:n.blendFuncSeparate(1,771,1,771);break;case r3:n.blendFunc(1,1);break;case B6:n.blendFuncSeparate(0,0,769,771);break;case U6:n.blendFuncSeparate(0,768,0,770);break;default:console.error("THREE.WebGLState: Invalid blending: ",V);break}else switch(V){case ju:n.blendFuncSeparate(770,771,1,771);break;case r3:n.blendFunc(770,1);break;case B6:n.blendFunc(0,769);break;case U6:n.blendFunc(0,768);break;default:console.error("THREE.WebGLState: Invalid blending: ",V);break}g=null,x=null,w=null,S=null,v=V,A=at}return}ee=ee||we,Ue=Ue||le,lt=lt||Pe,(we!==_||ee!==b)&&(n.blendEquationSeparate(ue[we],ue[ee]),_=we,b=ee),(le!==g||Pe!==x||Ue!==w||lt!==S)&&(n.blendFuncSeparate(_e[le],_e[Pe],_e[Ue],_e[lt]),g=le,x=Pe,w=Ue,S=lt),v=V,A=null}function X(V,we){V.side===wo?te(2884):ye(2884);let le=V.side===Hn;we&&(le=!le),z(le),V.blending===ju&&V.transparent===!1?Te(pi):Te(V.blending,V.blendEquation,V.blendSrc,V.blendDst,V.blendEquationAlpha,V.blendSrcAlpha,V.blendDstAlpha,V.premultipliedAlpha),l.setFunc(V.depthFunc),l.setTest(V.depthTest),l.setMask(V.depthWrite),a.setMask(V.colorWrite);const Pe=V.stencilWrite;c.setTest(Pe),Pe&&(c.setMask(V.stencilWriteMask),c.setFunc(V.stencilFunc,V.stencilRef,V.stencilFuncMask),c.setOp(V.stencilFail,V.stencilZFail,V.stencilZPass)),ae(V.polygonOffset,V.polygonOffsetFactor,V.polygonOffsetUnits),V.alphaToCoverage===!0?ye(32926):te(32926)}function z(V){T!==V&&(V?n.frontFace(2304):n.frontFace(2305),T=V)}function W(V){V!==eE?(ye(2884),V!==F&&(V===D6?n.cullFace(1029):V===tE?n.cullFace(1028):n.cullFace(1032))):te(2884),F=V}function se(V){V!==U&&(D&&n.lineWidth(V),U=V)}function ae(V,we,le){V?(ye(32823),(N!==we||O!==le)&&(n.polygonOffset(we,le),N=we,O=le)):te(32823)}function L(V){V?ye(3089):te(3089)}function E(V){V===void 0&&(V=33984+G-1),C!==V&&(n.activeTexture(V),C=V)}function J(V,we){C===null&&E();let le=B[C];le===void 0&&(le={type:void 0,texture:void 0},B[C]=le),(le.type!==V||le.texture!==we)&&(n.bindTexture(V,we||de[V]),le.type=V,le.texture=we)}function K(){const V=B[C];V!==void 0&&V.type!==void 0&&(n.bindTexture(V.type,null),V.type=void 0,V.texture=void 0)}function ce(){try{n.compressedTexImage2D.apply(n,arguments)}catch(V){console.error("THREE.WebGLState:",V)}}function pe(){try{n.texImage2D.apply(n,arguments)}catch(V){console.error("THREE.WebGLState:",V)}}function Ce(){try{n.texImage3D.apply(n,arguments)}catch(V){console.error("THREE.WebGLState:",V)}}function Ae(V){re.equals(V)===!1&&(n.scissor(V.x,V.y,V.z,V.w),re.copy(V))}function Re(V){ie.equals(V)===!1&&(n.viewport(V.x,V.y,V.z,V.w),ie.copy(V))}function Ee(){n.disable(3042),n.disable(2884),n.disable(2929),n.disable(32823),n.disable(3089),n.disable(2960),n.disable(32926),n.blendEquation(32774),n.blendFunc(1,0),n.blendFuncSeparate(1,0,1,0),n.colorMask(!0,!0,!0,!0),n.clearColor(0,0,0,0),n.depthMask(!0),n.depthFunc(513),n.clearDepth(1),n.stencilMask(4294967295),n.stencilFunc(519,0,4294967295),n.stencilOp(7680,7680,7680),n.clearStencil(0),n.cullFace(1029),n.frontFace(2305),n.polygonOffset(0,0),n.activeTexture(33984),n.bindFramebuffer(36160,null),i===!0&&(n.bindFramebuffer(36009,null),n.bindFramebuffer(36008,null)),n.useProgram(null),n.lineWidth(1),n.scissor(0,0,n.canvas.width,n.canvas.height),n.viewport(0,0,n.canvas.width,n.canvas.height),u={},C=null,B={},f=null,h={},d=null,m=!1,v=null,_=null,g=null,x=null,b=null,w=null,S=null,A=!1,T=null,F=null,U=null,N=null,O=null,re.set(0,0,n.canvas.width,n.canvas.height),ie.set(0,0,n.canvas.width,n.canvas.height),a.reset(),l.reset(),c.reset()}return{buffers:{color:a,depth:l,stencil:c},enable:ye,disable:te,bindFramebuffer:ge,bindXRFramebuffer:$,useProgram:be,setBlending:Te,setMaterial:X,setFlipSided:z,setCullFace:W,setLineWidth:se,setPolygonOffset:ae,setScissorTest:L,activeTexture:E,bindTexture:J,unbindTexture:K,compressedTexImage2D:ce,texImage2D:pe,texImage3D:Ce,scissor:Ae,viewport:Re,reset:Ee}}function Nie(n,e,t,i,r,s,o){const a=r.isWebGL2,l=r.maxTextures,c=r.maxCubemapSize,u=r.maxTextureSize,f=r.maxSamples,h=new WeakMap;let d,m=!1;try{m=typeof OffscreenCanvas!="undefined"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function v(L,E){return m?new OffscreenCanvas(L,E):document.createElementNS("http://www.w3.org/1999/xhtml","canvas")}function _(L,E,J,K){let ce=1;if((L.width>K||L.height>K)&&(ce=K/Math.max(L.width,L.height)),ce<1||E===!0)if(typeof HTMLImageElement!="undefined"&&L instanceof HTMLImageElement||typeof HTMLCanvasElement!="undefined"&&L instanceof HTMLCanvasElement||typeof ImageBitmap!="undefined"&&L instanceof ImageBitmap){const pe=E?EL:Math.floor,Ce=pe(ce*L.width),Ae=pe(ce*L.height);d===void 0&&(d=v(Ce,Ae));const Re=J?v(Ce,Ae):d;return Re.width=Ce,Re.height=Ae,Re.getContext("2d").drawImage(L,0,0,Ce,Ae),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+L.width+"x"+L.height+") to ("+Ce+"x"+Ae+")."),Re}else return"data"in L&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+L.width+"x"+L.height+")."),L;return L}function g(L){return u7(L.width)&&u7(L.height)}function x(L){return a?!1:L.wrapS!==ln||L.wrapT!==ln||L.minFilter!==Qt&&L.minFilter!==Ht}function b(L,E){return L.generateMipmaps&&E&&L.minFilter!==Qt&&L.minFilter!==Ht}function w(L,E,J,K,ce=1){n.generateMipmap(L);const pe=i.get(E);pe.__maxMipLevel=Math.log2(Math.max(J,K,ce))}function S(L,E,J){if(a===!1)return E;if(L!==null){if(n[L]!==void 0)return n[L];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+L+"'")}let K=E;return E===6403&&(J===5126&&(K=33326),J===5131&&(K=33325),J===5121&&(K=33321)),E===6407&&(J===5126&&(K=34837),J===5131&&(K=34843),J===5121&&(K=32849)),E===6408&&(J===5126&&(K=34836),J===5131&&(K=34842),J===5121&&(K=32856)),(K===33325||K===33326||K===34842||K===34836)&&e.get("EXT_color_buffer_float"),K}function A(L){return L===Qt||L===e1||L===t1?9728:9729}function T(L){const E=L.target;E.removeEventListener("dispose",T),U(E),E.isVideoTexture&&h.delete(E),o.memory.textures--}function F(L){const E=L.target;E.removeEventListener("dispose",F),N(E)}function U(L){const E=i.get(L);E.__webglInit!==void 0&&(n.deleteTexture(E.__webglTexture),i.remove(L))}function N(L){const E=L.texture,J=i.get(L),K=i.get(E);if(!!L){if(K.__webglTexture!==void 0&&(n.deleteTexture(K.__webglTexture),o.memory.textures--),L.depthTexture&&L.depthTexture.dispose(),L.isWebGLCubeRenderTarget)for(let ce=0;ce<6;ce++)n.deleteFramebuffer(J.__webglFramebuffer[ce]),J.__webglDepthbuffer&&n.deleteRenderbuffer(J.__webglDepthbuffer[ce]);else n.deleteFramebuffer(J.__webglFramebuffer),J.__webglDepthbuffer&&n.deleteRenderbuffer(J.__webglDepthbuffer),J.__webglMultisampledFramebuffer&&n.deleteFramebuffer(J.__webglMultisampledFramebuffer),J.__webglColorRenderbuffer&&n.deleteRenderbuffer(J.__webglColorRenderbuffer),J.__webglDepthRenderbuffer&&n.deleteRenderbuffer(J.__webglDepthRenderbuffer);if(L.isWebGLMultipleRenderTargets)for(let ce=0,pe=E.length;ce<pe;ce++){const Ce=i.get(E[ce]);Ce.__webglTexture&&(n.deleteTexture(Ce.__webglTexture),o.memory.textures--),i.remove(E[ce])}i.remove(E),i.remove(L)}}let O=0;function G(){O=0}function D(){const L=O;return L>=l&&console.warn("THREE.WebGLTextures: Trying to use "+L+" texture units while this GPU supports only "+l),O+=1,L}function P(L,E){const J=i.get(L);if(L.isVideoTexture&&X(L),L.version>0&&J.__version!==L.version){const K=L.image;if(K===void 0)console.warn("THREE.WebGLRenderer: Texture marked for update but image is undefined");else if(K.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{ve(J,L,E);return}}t.activeTexture(33984+E),t.bindTexture(3553,J.__webglTexture)}function I(L,E){const J=i.get(L);if(L.version>0&&J.__version!==L.version){ve(J,L,E);return}t.activeTexture(33984+E),t.bindTexture(35866,J.__webglTexture)}function C(L,E){const J=i.get(L);if(L.version>0&&J.__version!==L.version){ve(J,L,E);return}t.activeTexture(33984+E),t.bindTexture(32879,J.__webglTexture)}function B(L,E){const J=i.get(L);if(L.version>0&&J.__version!==L.version){de(J,L,E);return}t.activeTexture(33984+E),t.bindTexture(34067,J.__webglTexture)}const Y={[bs]:10497,[ln]:33071,[Ku]:33648},j={[Qt]:9728,[e1]:9984,[t1]:9986,[Ht]:9729,[a3]:9985,[C0]:9987};function re(L,E,J){if(J?(n.texParameteri(L,10242,Y[E.wrapS]),n.texParameteri(L,10243,Y[E.wrapT]),(L===32879||L===35866)&&n.texParameteri(L,32882,Y[E.wrapR]),n.texParameteri(L,10240,j[E.magFilter]),n.texParameteri(L,10241,j[E.minFilter])):(n.texParameteri(L,10242,33071),n.texParameteri(L,10243,33071),(L===32879||L===35866)&&n.texParameteri(L,32882,33071),(E.wrapS!==ln||E.wrapT!==ln)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),n.texParameteri(L,10240,A(E.magFilter)),n.texParameteri(L,10241,A(E.minFilter)),E.minFilter!==Qt&&E.minFilter!==Ht&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),e.has("EXT_texture_filter_anisotropic")===!0){const K=e.get("EXT_texture_filter_anisotropic");if(E.type===ws&&e.has("OES_texture_float_linear")===!1||a===!1&&E.type===So&&e.has("OES_texture_half_float_linear")===!1)return;(E.anisotropy>1||i.get(E).__currentAnisotropy)&&(n.texParameterf(L,K.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(E.anisotropy,r.getMaxAnisotropy())),i.get(E).__currentAnisotropy=E.anisotropy)}}function ie(L,E){L.__webglInit===void 0&&(L.__webglInit=!0,E.addEventListener("dispose",T),L.__webglTexture=n.createTexture(),o.memory.textures++)}function ve(L,E,J){let K=3553;E.isDataTexture2DArray&&(K=35866),E.isDataTexture3D&&(K=32879),ie(L,E),t.activeTexture(33984+J),t.bindTexture(K,L.__webglTexture),n.pixelStorei(37440,E.flipY),n.pixelStorei(37441,E.premultiplyAlpha),n.pixelStorei(3317,E.unpackAlignment),n.pixelStorei(37443,0);const ce=x(E)&&g(E.image)===!1,pe=_(E.image,ce,!1,u),Ce=g(pe)||a,Ae=s.convert(E.format);let Re=s.convert(E.type),Ee=S(E.internalFormat,Ae,Re);re(K,E,Ce);let V;const we=E.mipmaps;if(E.isDepthTexture)Ee=6402,a?E.type===ws?Ee=36012:E.type===n1?Ee=33190:E.type===tf?Ee=35056:Ee=33189:E.type===ws&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),E.format===Kl&&Ee===6402&&E.type!==ef&&E.type!==n1&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),E.type=ef,Re=s.convert(E.type)),E.format===nf&&Ee===6402&&(Ee=34041,E.type!==tf&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),E.type=tf,Re=s.convert(E.type))),t.texImage2D(3553,0,Ee,pe.width,pe.height,0,Ae,Re,null);else if(E.isDataTexture)if(we.length>0&&Ce){for(let le=0,Pe=we.length;le<Pe;le++)V=we[le],t.texImage2D(3553,le,Ee,V.width,V.height,0,Ae,Re,V.data);E.generateMipmaps=!1,L.__maxMipLevel=we.length-1}else t.texImage2D(3553,0,Ee,pe.width,pe.height,0,Ae,Re,pe.data),L.__maxMipLevel=0;else if(E.isCompressedTexture){for(let le=0,Pe=we.length;le<Pe;le++)V=we[le],E.format!==yn&&E.format!==Or?Ae!==null?t.compressedTexImage2D(3553,le,Ee,V.width,V.height,0,V.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):t.texImage2D(3553,le,Ee,V.width,V.height,0,Ae,Re,V.data);L.__maxMipLevel=we.length-1}else if(E.isDataTexture2DArray)t.texImage3D(35866,0,Ee,pe.width,pe.height,pe.depth,0,Ae,Re,pe.data),L.__maxMipLevel=0;else if(E.isDataTexture3D)t.texImage3D(32879,0,Ee,pe.width,pe.height,pe.depth,0,Ae,Re,pe.data),L.__maxMipLevel=0;else if(we.length>0&&Ce){for(let le=0,Pe=we.length;le<Pe;le++)V=we[le],t.texImage2D(3553,le,Ee,Ae,Re,V);E.generateMipmaps=!1,L.__maxMipLevel=we.length-1}else t.texImage2D(3553,0,Ee,Ae,Re,pe),L.__maxMipLevel=0;b(E,Ce)&&w(K,E,pe.width,pe.height),L.__version=E.version,E.onUpdate&&E.onUpdate(E)}function de(L,E,J){if(E.image.length!==6)return;ie(L,E),t.activeTexture(33984+J),t.bindTexture(34067,L.__webglTexture),n.pixelStorei(37440,E.flipY),n.pixelStorei(37441,E.premultiplyAlpha),n.pixelStorei(3317,E.unpackAlignment),n.pixelStorei(37443,0);const K=E&&(E.isCompressedTexture||E.image[0].isCompressedTexture),ce=E.image[0]&&E.image[0].isDataTexture,pe=[];for(let le=0;le<6;le++)!K&&!ce?pe[le]=_(E.image[le],!1,!0,c):pe[le]=ce?E.image[le].image:E.image[le];const Ce=pe[0],Ae=g(Ce)||a,Re=s.convert(E.format),Ee=s.convert(E.type),V=S(E.internalFormat,Re,Ee);re(34067,E,Ae);let we;if(K){for(let le=0;le<6;le++){we=pe[le].mipmaps;for(let Pe=0;Pe<we.length;Pe++){const ee=we[Pe];E.format!==yn&&E.format!==Or?Re!==null?t.compressedTexImage2D(34069+le,Pe,V,ee.width,ee.height,0,ee.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):t.texImage2D(34069+le,Pe,V,ee.width,ee.height,0,Re,Ee,ee.data)}}L.__maxMipLevel=we.length-1}else{we=E.mipmaps;for(let le=0;le<6;le++)if(ce){t.texImage2D(34069+le,0,V,pe[le].width,pe[le].height,0,Re,Ee,pe[le].data);for(let Pe=0;Pe<we.length;Pe++){const Ue=we[Pe].image[le].image;t.texImage2D(34069+le,Pe+1,V,Ue.width,Ue.height,0,Re,Ee,Ue.data)}}else{t.texImage2D(34069+le,0,V,Re,Ee,pe[le]);for(let Pe=0;Pe<we.length;Pe++){const ee=we[Pe];t.texImage2D(34069+le,Pe+1,V,Re,Ee,ee.image[le])}}L.__maxMipLevel=we.length}b(E,Ae)&&w(34067,E,Ce.width,Ce.height),L.__version=E.version,E.onUpdate&&E.onUpdate(E)}function ye(L,E,J,K,ce){const pe=s.convert(J.format),Ce=s.convert(J.type),Ae=S(J.internalFormat,pe,Ce);ce===32879||ce===35866?t.texImage3D(ce,0,Ae,E.width,E.height,E.depth,0,pe,Ce,null):t.texImage2D(ce,0,Ae,E.width,E.height,0,pe,Ce,null),t.bindFramebuffer(36160,L),n.framebufferTexture2D(36160,K,ce,i.get(J).__webglTexture,0),t.bindFramebuffer(36160,null)}function te(L,E,J){if(n.bindRenderbuffer(36161,L),E.depthBuffer&&!E.stencilBuffer){let K=33189;if(J){const ce=E.depthTexture;ce&&ce.isDepthTexture&&(ce.type===ws?K=36012:ce.type===n1&&(K=33190));const pe=Te(E);n.renderbufferStorageMultisample(36161,pe,K,E.width,E.height)}else n.renderbufferStorage(36161,K,E.width,E.height);n.framebufferRenderbuffer(36160,36096,36161,L)}else if(E.depthBuffer&&E.stencilBuffer){if(J){const K=Te(E);n.renderbufferStorageMultisample(36161,K,35056,E.width,E.height)}else n.renderbufferStorage(36161,34041,E.width,E.height);n.framebufferRenderbuffer(36160,33306,36161,L)}else{const K=E.isWebGLMultipleRenderTargets===!0?E.texture[0]:E.texture,ce=s.convert(K.format),pe=s.convert(K.type),Ce=S(K.internalFormat,ce,pe);if(J){const Ae=Te(E);n.renderbufferStorageMultisample(36161,Ae,Ce,E.width,E.height)}else n.renderbufferStorage(36161,Ce,E.width,E.height)}n.bindRenderbuffer(36161,null)}function $(L,E){if(E&&E.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(t.bindFramebuffer(36160,L),!(E.depthTexture&&E.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!i.get(E.depthTexture).__webglTexture||E.depthTexture.image.width!==E.width||E.depthTexture.image.height!==E.height)&&(E.depthTexture.image.width=E.width,E.depthTexture.image.height=E.height,E.depthTexture.needsUpdate=!0),P(E.depthTexture,0);const K=i.get(E.depthTexture).__webglTexture;if(E.depthTexture.format===Kl)n.framebufferTexture2D(36160,36096,3553,K,0);else if(E.depthTexture.format===nf)n.framebufferTexture2D(36160,33306,3553,K,0);else throw new Error("Unknown depthTexture format")}function ge(L){const E=i.get(L),J=L.isWebGLCubeRenderTarget===!0;if(L.depthTexture){if(J)throw new Error("target.depthTexture not supported in Cube render targets");$(E.__webglFramebuffer,L)}else if(J){E.__webglDepthbuffer=[];for(let K=0;K<6;K++)t.bindFramebuffer(36160,E.__webglFramebuffer[K]),E.__webglDepthbuffer[K]=n.createRenderbuffer(),te(E.__webglDepthbuffer[K],L,!1)}else t.bindFramebuffer(36160,E.__webglFramebuffer),E.__webglDepthbuffer=n.createRenderbuffer(),te(E.__webglDepthbuffer,L,!1);t.bindFramebuffer(36160,null)}function be(L){const E=L.texture,J=i.get(L),K=i.get(E);L.addEventListener("dispose",F),L.isWebGLMultipleRenderTargets!==!0&&(K.__webglTexture=n.createTexture(),K.__version=E.version,o.memory.textures++);const ce=L.isWebGLCubeRenderTarget===!0,pe=L.isWebGLMultipleRenderTargets===!0,Ce=L.isWebGLMultisampleRenderTarget===!0,Ae=E.isDataTexture3D||E.isDataTexture2DArray,Re=g(L)||a;if(a&&E.format===Or&&(E.type===ws||E.type===So)&&(E.format=yn,console.warn("THREE.WebGLRenderer: Rendering to textures with RGB format is not supported. Using RGBA format instead.")),ce){J.__webglFramebuffer=[];for(let Ee=0;Ee<6;Ee++)J.__webglFramebuffer[Ee]=n.createFramebuffer()}else if(J.__webglFramebuffer=n.createFramebuffer(),pe)if(r.drawBuffers){const Ee=L.texture;for(let V=0,we=Ee.length;V<we;V++){const le=i.get(Ee[V]);le.__webglTexture===void 0&&(le.__webglTexture=n.createTexture(),o.memory.textures++)}}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");else if(Ce)if(a){J.__webglMultisampledFramebuffer=n.createFramebuffer(),J.__webglColorRenderbuffer=n.createRenderbuffer(),n.bindRenderbuffer(36161,J.__webglColorRenderbuffer);const Ee=s.convert(E.format),V=s.convert(E.type),we=S(E.internalFormat,Ee,V),le=Te(L);n.renderbufferStorageMultisample(36161,le,we,L.width,L.height),t.bindFramebuffer(36160,J.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(36160,36064,36161,J.__webglColorRenderbuffer),n.bindRenderbuffer(36161,null),L.depthBuffer&&(J.__webglDepthRenderbuffer=n.createRenderbuffer(),te(J.__webglDepthRenderbuffer,L,!0)),t.bindFramebuffer(36160,null)}else console.warn("THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.");if(ce){t.bindTexture(34067,K.__webglTexture),re(34067,E,Re);for(let Ee=0;Ee<6;Ee++)ye(J.__webglFramebuffer[Ee],L,E,36064,34069+Ee);b(E,Re)&&w(34067,E,L.width,L.height),t.unbindTexture()}else if(pe){const Ee=L.texture;for(let V=0,we=Ee.length;V<we;V++){const le=Ee[V],Pe=i.get(le);t.bindTexture(3553,Pe.__webglTexture),re(3553,le,Re),ye(J.__webglFramebuffer,L,le,36064+V,3553),b(le,Re)&&w(3553,le,L.width,L.height)}t.unbindTexture()}else{let Ee=3553;Ae&&(a?Ee=E.isDataTexture3D?32879:35866:console.warn("THREE.DataTexture3D and THREE.DataTexture2DArray only supported with WebGL2.")),t.bindTexture(Ee,K.__webglTexture),re(Ee,E,Re),ye(J.__webglFramebuffer,L,E,36064,Ee),b(E,Re)&&w(Ee,E,L.width,L.height,L.depth),t.unbindTexture()}L.depthBuffer&&ge(L)}function ue(L){const E=g(L)||a,J=L.isWebGLMultipleRenderTargets===!0?L.texture:[L.texture];for(let K=0,ce=J.length;K<ce;K++){const pe=J[K];if(b(pe,E)){const Ce=L.isWebGLCubeRenderTarget?34067:3553,Ae=i.get(pe).__webglTexture;t.bindTexture(Ce,Ae),w(Ce,pe,L.width,L.height),t.unbindTexture()}}}function _e(L){if(L.isWebGLMultisampleRenderTarget)if(a){const E=L.width,J=L.height;let K=16384;L.depthBuffer&&(K|=256),L.stencilBuffer&&(K|=1024);const ce=i.get(L);t.bindFramebuffer(36008,ce.__webglMultisampledFramebuffer),t.bindFramebuffer(36009,ce.__webglFramebuffer),n.blitFramebuffer(0,0,E,J,0,0,E,J,K,9728),t.bindFramebuffer(36008,null),t.bindFramebuffer(36009,ce.__webglMultisampledFramebuffer)}else console.warn("THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.")}function Te(L){return a&&L.isWebGLMultisampleRenderTarget?Math.min(f,L.samples):0}function X(L){const E=o.render.frame;h.get(L)!==E&&(h.set(L,E),L.update())}let z=!1,W=!1;function se(L,E){L&&L.isWebGLRenderTarget&&(z===!1&&(console.warn("THREE.WebGLTextures.safeSetTexture2D: don't use render targets as textures. Use their .texture property instead."),z=!0),L=L.texture),P(L,E)}function ae(L,E){L&&L.isWebGLCubeRenderTarget&&(W===!1&&(console.warn("THREE.WebGLTextures.safeSetTextureCube: don't use cube render targets as textures. Use their .texture property instead."),W=!0),L=L.texture),B(L,E)}this.allocateTextureUnit=D,this.resetTextureUnits=G,this.setTexture2D=P,this.setTexture2DArray=I,this.setTexture3D=C,this.setTextureCube=B,this.setupRenderTarget=be,this.updateRenderTargetMipmap=ue,this.updateMultisampleRenderTarget=_e,this.safeSetTexture2D=se,this.safeSetTextureCube=ae}function LC(n,e,t){const i=t.isWebGL2;function r(s){let o;if(s===Jl)return 5121;if(s===LE)return 32819;if(s===CE)return 32820;if(s===PE)return 33635;if(s===AE)return 5120;if(s===TE)return 5122;if(s===ef)return 5123;if(s===EE)return 5124;if(s===n1)return 5125;if(s===ws)return 5126;if(s===So)return i?5131:(o=e.get("OES_texture_half_float"),o!==null?o.HALF_FLOAT_OES:null);if(s===RE)return 6406;if(s===Or)return 6407;if(s===yn)return 6408;if(s===FE)return 6409;if(s===IE)return 6410;if(s===Kl)return 6402;if(s===nf)return 34041;if(s===NE)return 6403;if(s===OE)return 36244;if(s===BE)return 33319;if(s===UE)return 33320;if(s===zE)return 36248;if(s===kE)return 36249;if(s===Y6||s===$6||s===q6||s===j6)if(o=e.get("WEBGL_compressed_texture_s3tc"),o!==null){if(s===Y6)return o.COMPRESSED_RGB_S3TC_DXT1_EXT;if(s===$6)return o.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(s===q6)return o.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(s===j6)return o.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(s===Z6||s===Q6||s===J6||s===K6)if(o=e.get("WEBGL_compressed_texture_pvrtc"),o!==null){if(s===Z6)return o.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(s===Q6)return o.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(s===J6)return o.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(s===K6)return o.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(s===HE)return o=e.get("WEBGL_compressed_texture_etc1"),o!==null?o.COMPRESSED_RGB_ETC1_WEBGL:null;if((s===e7||s===t7)&&(o=e.get("WEBGL_compressed_texture_etc"),o!==null)){if(s===e7)return o.COMPRESSED_RGB8_ETC2;if(s===t7)return o.COMPRESSED_RGBA8_ETC2_EAC}if(s===GE||s===VE||s===WE||s===XE||s===YE||s===$E||s===qE||s===jE||s===ZE||s===QE||s===JE||s===KE||s===eL||s===tL||s===iL||s===rL||s===sL||s===oL||s===aL||s===lL||s===cL||s===uL||s===fL||s===hL||s===dL||s===pL||s===mL||s===gL)return o=e.get("WEBGL_compressed_texture_astc"),o!==null?s:null;if(s===nL)return o=e.get("EXT_texture_compression_bptc"),o!==null?s:null;if(s===tf)return i?34042:(o=e.get("WEBGL_depth_texture"),o!==null?o.UNSIGNED_INT_24_8_WEBGL:null)}return{convert:r}}class W7 extends Qn{constructor(e=[]){super();this.cameras=e}}W7.prototype.isArrayCamera=!0;class es extends At{constructor(){super();this.type="Group"}}es.prototype.isGroup=!0;const Oie={type:"move"};class X7{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new es,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new es,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new Z,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new Z),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new es,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new Z,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new Z),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,t,i){let r=null,s=null,o=null;const a=this._targetRay,l=this._grip,c=this._hand;if(e&&t.session.visibilityState!=="visible-blurred")if(a!==null&&(r=t.getPose(e.targetRaySpace,i),r!==null&&(a.matrix.fromArray(r.transform.matrix),a.matrix.decompose(a.position,a.rotation,a.scale),r.linearVelocity?(a.hasLinearVelocity=!0,a.linearVelocity.copy(r.linearVelocity)):a.hasLinearVelocity=!1,r.angularVelocity?(a.hasAngularVelocity=!0,a.angularVelocity.copy(r.angularVelocity)):a.hasAngularVelocity=!1,this.dispatchEvent(Oie))),c&&e.hand){o=!0;for(const v of e.hand.values()){const _=t.getJointPose(v,i);if(c.joints[v.jointName]===void 0){const x=new es;x.matrixAutoUpdate=!1,x.visible=!1,c.joints[v.jointName]=x,c.add(x)}const g=c.joints[v.jointName];_!==null&&(g.matrix.fromArray(_.transform.matrix),g.matrix.decompose(g.position,g.rotation,g.scale),g.jointRadius=_.radius),g.visible=_!==null}const u=c.joints["index-finger-tip"],f=c.joints["thumb-tip"],h=u.position.distanceTo(f.position),d=.02,m=.005;c.inputState.pinching&&h>d+m?(c.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!c.inputState.pinching&&h<=d-m&&(c.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else l!==null&&e.gripSpace&&(s=t.getPose(e.gripSpace,i),s!==null&&(l.matrix.fromArray(s.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),s.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(s.linearVelocity)):l.hasLinearVelocity=!1,s.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(s.angularVelocity)):l.hasAngularVelocity=!1));return a!==null&&(a.visible=r!==null),l!==null&&(l.visible=s!==null),c!==null&&(c.visible=o!==null),this}}class Bie extends P0{constructor(e,t){super();const i=this,r=e.state;let s=null,o=1,a=null,l="local-floor",c=null,u=null,f=null,h=null,d=null,m=!1,v=null,_=null,g=null,x=null,b=null,w=null;const S=[],A=new Map,T=new Qn;T.layers.enable(1),T.viewport=new $t;const F=new Qn;F.layers.enable(2),F.viewport=new $t;const U=[T,F],N=new W7;N.layers.enable(1),N.layers.enable(2);let O=null,G=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(de){let ye=S[de];return ye===void 0&&(ye=new X7,S[de]=ye),ye.getTargetRaySpace()},this.getControllerGrip=function(de){let ye=S[de];return ye===void 0&&(ye=new X7,S[de]=ye),ye.getGripSpace()},this.getHand=function(de){let ye=S[de];return ye===void 0&&(ye=new X7,S[de]=ye),ye.getHandSpace()};function D(de){const ye=A.get(de.inputSource);ye&&ye.dispatchEvent({type:de.type,data:de.inputSource})}function P(){A.forEach(function(de,ye){de.disconnect(ye)}),A.clear(),O=null,G=null,r.bindXRFramebuffer(null),e.setRenderTarget(e.getRenderTarget()),f&&t.deleteFramebuffer(f),v&&t.deleteFramebuffer(v),_&&t.deleteRenderbuffer(_),g&&t.deleteRenderbuffer(g),f=null,v=null,_=null,g=null,d=null,h=null,u=null,s=null,ve.stop(),i.isPresenting=!1,i.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(de){o=de,i.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(de){l=de,i.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return a},this.getBaseLayer=function(){return h!==null?h:d},this.getBinding=function(){return u},this.getFrame=function(){return x},this.getSession=function(){return s},this.setSession=async function(de){if(s=de,s!==null){s.addEventListener("select",D),s.addEventListener("selectstart",D),s.addEventListener("selectend",D),s.addEventListener("squeeze",D),s.addEventListener("squeezestart",D),s.addEventListener("squeezeend",D),s.addEventListener("end",P),s.addEventListener("inputsourceschange",I);const ye=t.getContextAttributes();if(ye.xrCompatible!==!0&&await t.makeXRCompatible(),s.renderState.layers===void 0){const te={antialias:ye.antialias,alpha:ye.alpha,depth:ye.depth,stencil:ye.stencil,framebufferScaleFactor:o};d=new XRWebGLLayer(s,t,te),s.updateRenderState({baseLayer:d})}else if(t instanceof WebGLRenderingContext){const te={antialias:!0,alpha:ye.alpha,depth:ye.depth,stencil:ye.stencil,framebufferScaleFactor:o};d=new XRWebGLLayer(s,t,te),s.updateRenderState({layers:[d]})}else{m=ye.antialias;let te=null;ye.depth&&(w=256,ye.stencil&&(w|=1024),b=ye.stencil?33306:36096,te=ye.stencil?35056:33190);const $={colorFormat:ye.alpha?32856:32849,depthFormat:te,scaleFactor:o};u=new XRWebGLBinding(s,t),h=u.createProjectionLayer($),f=t.createFramebuffer(),s.updateRenderState({layers:[h]}),m&&(v=t.createFramebuffer(),_=t.createRenderbuffer(),t.bindRenderbuffer(36161,_),t.renderbufferStorageMultisample(36161,4,32856,h.textureWidth,h.textureHeight),r.bindFramebuffer(36160,v),t.framebufferRenderbuffer(36160,36064,36161,_),t.bindRenderbuffer(36161,null),te!==null&&(g=t.createRenderbuffer(),t.bindRenderbuffer(36161,g),t.renderbufferStorageMultisample(36161,4,te,h.textureWidth,h.textureHeight),t.framebufferRenderbuffer(36160,b,36161,g),t.bindRenderbuffer(36161,null)),r.bindFramebuffer(36160,null))}a=await s.requestReferenceSpace(l),ve.setContext(s),ve.start(),i.isPresenting=!0,i.dispatchEvent({type:"sessionstart"})}};function I(de){const ye=s.inputSources;for(let te=0;te<S.length;te++)A.set(ye[te],S[te]);for(let te=0;te<de.removed.length;te++){const $=de.removed[te],ge=A.get($);ge&&(ge.dispatchEvent({type:"disconnected",data:$}),A.delete($))}for(let te=0;te<de.added.length;te++){const $=de.added[te],ge=A.get($);ge&&ge.dispatchEvent({type:"connected",data:$})}}const C=new Z,B=new Z;function Y(de,ye,te){C.setFromMatrixPosition(ye.matrixWorld),B.setFromMatrixPosition(te.matrixWorld);const $=C.distanceTo(B),ge=ye.projectionMatrix.elements,be=te.projectionMatrix.elements,ue=ge[14]/(ge[10]-1),_e=ge[14]/(ge[10]+1),Te=(ge[9]+1)/ge[5],X=(ge[9]-1)/ge[5],z=(ge[8]-1)/ge[0],W=(be[8]+1)/be[0],se=ue*z,ae=ue*W,L=$/(-z+W),E=L*-z;ye.matrixWorld.decompose(de.position,de.quaternion,de.scale),de.translateX(E),de.translateZ(L),de.matrixWorld.compose(de.position,de.quaternion,de.scale),de.matrixWorldInverse.copy(de.matrixWorld).invert();const J=ue+L,K=_e+L,ce=se-E,pe=ae+($-E),Ce=Te*_e/K*J,Ae=X*_e/K*J;de.projectionMatrix.makePerspective(ce,pe,Ce,Ae,J,K)}function j(de,ye){ye===null?de.matrixWorld.copy(de.matrix):de.matrixWorld.multiplyMatrices(ye.matrixWorld,de.matrix),de.matrixWorldInverse.copy(de.matrixWorld).invert()}this.updateCamera=function(de){if(s===null)return;N.near=F.near=T.near=de.near,N.far=F.far=T.far=de.far,(O!==N.near||G!==N.far)&&(s.updateRenderState({depthNear:N.near,depthFar:N.far}),O=N.near,G=N.far);const ye=de.parent,te=N.cameras;j(N,ye);for(let ge=0;ge<te.length;ge++)j(te[ge],ye);N.matrixWorld.decompose(N.position,N.quaternion,N.scale),de.position.copy(N.position),de.quaternion.copy(N.quaternion),de.scale.copy(N.scale),de.matrix.copy(N.matrix),de.matrixWorld.copy(N.matrixWorld);const $=de.children;for(let ge=0,be=$.length;ge<be;ge++)$[ge].updateMatrixWorld(!0);te.length===2?Y(N,T,F):N.projectionMatrix.copy(T.projectionMatrix)},this.getCamera=function(){return N},this.getFoveation=function(){if(h!==null)return h.fixedFoveation;if(d!==null)return d.fixedFoveation},this.setFoveation=function(de){h!==null&&(h.fixedFoveation=de),d!==null&&d.fixedFoveation!==void 0&&(d.fixedFoveation=de)};let re=null;function ie(de,ye){if(c=ye.getViewerPose(a),x=ye,c!==null){const $=c.views;d!==null&&r.bindXRFramebuffer(d.framebuffer);let ge=!1;$.length!==N.cameras.length&&(N.cameras.length=0,ge=!0);for(let be=0;be<$.length;be++){const ue=$[be];let _e=null;if(d!==null)_e=d.getViewport(ue);else{const X=u.getViewSubImage(h,ue);r.bindXRFramebuffer(f),X.depthStencilTexture!==void 0&&t.framebufferTexture2D(36160,b,3553,X.depthStencilTexture,0),t.framebufferTexture2D(36160,36064,3553,X.colorTexture,0),_e=X.viewport}const Te=U[be];Te.matrix.fromArray(ue.transform.matrix),Te.projectionMatrix.fromArray(ue.projectionMatrix),Te.viewport.set(_e.x,_e.y,_e.width,_e.height),be===0&&N.matrix.copy(Te.matrix),ge===!0&&N.cameras.push(Te)}m&&(r.bindXRFramebuffer(v),w!==null&&t.clear(w))}const te=s.inputSources;for(let $=0;$<S.length;$++){const ge=S[$],be=te[$];ge.update(be,ye,a)}if(re&&re(de,ye),m){const $=h.textureWidth,ge=h.textureHeight;r.bindFramebuffer(36008,v),r.bindFramebuffer(36009,f),t.invalidateFramebuffer(36008,[b]),t.invalidateFramebuffer(36009,[b]),t.blitFramebuffer(0,0,$,ge,0,0,$,ge,16384,9728),t.invalidateFramebuffer(36008,[36064]),r.bindFramebuffer(36008,null),r.bindFramebuffer(36009,null),r.bindFramebuffer(36160,v)}x=null}const ve=new jL;ve.setAnimationLoop(ie),this.setAnimationLoop=function(de){re=de},this.dispose=function(){}}}function Uie(n){function e(g,x){g.fogColor.value.copy(x.color),x.isFog?(g.fogNear.value=x.near,g.fogFar.value=x.far):x.isFogExp2&&(g.fogDensity.value=x.density)}function t(g,x,b,w,S){x.isMeshBasicMaterial?i(g,x):x.isMeshLambertMaterial?(i(g,x),l(g,x)):x.isMeshToonMaterial?(i(g,x),u(g,x)):x.isMeshPhongMaterial?(i(g,x),c(g,x)):x.isMeshStandardMaterial?(i(g,x),x.isMeshPhysicalMaterial?h(g,x,S):f(g,x)):x.isMeshMatcapMaterial?(i(g,x),d(g,x)):x.isMeshDepthMaterial?(i(g,x),m(g,x)):x.isMeshDistanceMaterial?(i(g,x),v(g,x)):x.isMeshNormalMaterial?(i(g,x),_(g,x)):x.isLineBasicMaterial?(r(g,x),x.isLineDashedMaterial&&s(g,x)):x.isPointsMaterial?o(g,x,b,w):x.isSpriteMaterial?a(g,x):x.isShadowMaterial?(g.color.value.copy(x.color),g.opacity.value=x.opacity):x.isShaderMaterial&&(x.uniformsNeedUpdate=!1)}function i(g,x){g.opacity.value=x.opacity,x.color&&g.diffuse.value.copy(x.color),x.emissive&&g.emissive.value.copy(x.emissive).multiplyScalar(x.emissiveIntensity),x.map&&(g.map.value=x.map),x.alphaMap&&(g.alphaMap.value=x.alphaMap),x.specularMap&&(g.specularMap.value=x.specularMap),x.alphaTest>0&&(g.alphaTest.value=x.alphaTest);const b=n.get(x).envMap;if(b){g.envMap.value=b,g.flipEnvMap.value=b.isCubeTexture&&b.isRenderTargetTexture===!1?-1:1,g.reflectivity.value=x.reflectivity,g.ior.value=x.ior,g.refractionRatio.value=x.refractionRatio;const A=n.get(b).__maxMipLevel;A!==void 0&&(g.maxMipLevel.value=A)}x.lightMap&&(g.lightMap.value=x.lightMap,g.lightMapIntensity.value=x.lightMapIntensity),x.aoMap&&(g.aoMap.value=x.aoMap,g.aoMapIntensity.value=x.aoMapIntensity);let w;x.map?w=x.map:x.specularMap?w=x.specularMap:x.displacementMap?w=x.displacementMap:x.normalMap?w=x.normalMap:x.bumpMap?w=x.bumpMap:x.roughnessMap?w=x.roughnessMap:x.metalnessMap?w=x.metalnessMap:x.alphaMap?w=x.alphaMap:x.emissiveMap?w=x.emissiveMap:x.clearcoatMap?w=x.clearcoatMap:x.clearcoatNormalMap?w=x.clearcoatNormalMap:x.clearcoatRoughnessMap?w=x.clearcoatRoughnessMap:x.specularIntensityMap?w=x.specularIntensityMap:x.specularTintMap?w=x.specularTintMap:x.transmissionMap?w=x.transmissionMap:x.thicknessMap&&(w=x.thicknessMap),w!==void 0&&(w.isWebGLRenderTarget&&(w=w.texture),w.matrixAutoUpdate===!0&&w.updateMatrix(),g.uvTransform.value.copy(w.matrix));let S;x.aoMap?S=x.aoMap:x.lightMap&&(S=x.lightMap),S!==void 0&&(S.isWebGLRenderTarget&&(S=S.texture),S.matrixAutoUpdate===!0&&S.updateMatrix(),g.uv2Transform.value.copy(S.matrix))}function r(g,x){g.diffuse.value.copy(x.color),g.opacity.value=x.opacity}function s(g,x){g.dashSize.value=x.dashSize,g.totalSize.value=x.dashSize+x.gapSize,g.scale.value=x.scale}function o(g,x,b,w){g.diffuse.value.copy(x.color),g.opacity.value=x.opacity,g.size.value=x.size*b,g.scale.value=w*.5,x.map&&(g.map.value=x.map),x.alphaMap&&(g.alphaMap.value=x.alphaMap),x.alphaTest>0&&(g.alphaTest.value=x.alphaTest);let S;x.map?S=x.map:x.alphaMap&&(S=x.alphaMap),S!==void 0&&(S.matrixAutoUpdate===!0&&S.updateMatrix(),g.uvTransform.value.copy(S.matrix))}function a(g,x){g.diffuse.value.copy(x.color),g.opacity.value=x.opacity,g.rotation.value=x.rotation,x.map&&(g.map.value=x.map),x.alphaMap&&(g.alphaMap.value=x.alphaMap),x.alphaTest>0&&(g.alphaTest.value=x.alphaTest);let b;x.map?b=x.map:x.alphaMap&&(b=x.alphaMap),b!==void 0&&(b.matrixAutoUpdate===!0&&b.updateMatrix(),g.uvTransform.value.copy(b.matrix))}function l(g,x){x.emissiveMap&&(g.emissiveMap.value=x.emissiveMap)}function c(g,x){g.specular.value.copy(x.specular),g.shininess.value=Math.max(x.shininess,1e-4),x.emissiveMap&&(g.emissiveMap.value=x.emissiveMap),x.bumpMap&&(g.bumpMap.value=x.bumpMap,g.bumpScale.value=x.bumpScale,x.side===Hn&&(g.bumpScale.value*=-1)),x.normalMap&&(g.normalMap.value=x.normalMap,g.normalScale.value.copy(x.normalScale),x.side===Hn&&g.normalScale.value.negate()),x.displacementMap&&(g.displacementMap.value=x.displacementMap,g.displacementScale.value=x.displacementScale,g.displacementBias.value=x.displacementBias)}function u(g,x){x.gradientMap&&(g.gradientMap.value=x.gradientMap),x.emissiveMap&&(g.emissiveMap.value=x.emissiveMap),x.bumpMap&&(g.bumpMap.value=x.bumpMap,g.bumpScale.value=x.bumpScale,x.side===Hn&&(g.bumpScale.value*=-1)),x.normalMap&&(g.normalMap.value=x.normalMap,g.normalScale.value.copy(x.normalScale),x.side===Hn&&g.normalScale.value.negate()),x.displacementMap&&(g.displacementMap.value=x.displacementMap,g.displacementScale.value=x.displacementScale,g.displacementBias.value=x.displacementBias)}function f(g,x){g.roughness.value=x.roughness,g.metalness.value=x.metalness,x.roughnessMap&&(g.roughnessMap.value=x.roughnessMap),x.metalnessMap&&(g.metalnessMap.value=x.metalnessMap),x.emissiveMap&&(g.emissiveMap.value=x.emissiveMap),x.bumpMap&&(g.bumpMap.value=x.bumpMap,g.bumpScale.value=x.bumpScale,x.side===Hn&&(g.bumpScale.value*=-1)),x.normalMap&&(g.normalMap.value=x.normalMap,g.normalScale.value.copy(x.normalScale),x.side===Hn&&g.normalScale.value.negate()),x.displacementMap&&(g.displacementMap.value=x.displacementMap,g.displacementScale.value=x.displacementScale,g.displacementBias.value=x.displacementBias),n.get(x).envMap&&(g.envMapIntensity.value=x.envMapIntensity)}function h(g,x,b){f(g,x),g.ior.value=x.ior,x.sheenTint&&g.sheenTint.value.copy(x.sheenTint),x.clearcoat>0&&(g.clearcoat.value=x.clearcoat,g.clearcoatRoughness.value=x.clearcoatRoughness,x.clearcoatMap&&(g.clearcoatMap.value=x.clearcoatMap),x.clearcoatRoughnessMap&&(g.clearcoatRoughnessMap.value=x.clearcoatRoughnessMap),x.clearcoatNormalMap&&(g.clearcoatNormalScale.value.copy(x.clearcoatNormalScale),g.clearcoatNormalMap.value=x.clearcoatNormalMap,x.side===Hn&&g.clearcoatNormalScale.value.negate())),x.transmission>0&&(g.transmission.value=x.transmission,g.transmissionSamplerMap.value=b.texture,g.transmissionSamplerSize.value.set(b.width,b.height),x.transmissionMap&&(g.transmissionMap.value=x.transmissionMap),g.thickness.value=x.thickness,x.thicknessMap&&(g.thicknessMap.value=x.thicknessMap),g.attenuationDistance.value=x.attenuationDistance,g.attenuationTint.value.copy(x.attenuationTint)),g.specularIntensity.value=x.specularIntensity,g.specularTint.value.copy(x.specularTint),x.specularIntensityMap&&(g.specularIntensityMap.value=x.specularIntensityMap),x.specularTintMap&&(g.specularTintMap.value=x.specularTintMap)}function d(g,x){x.matcap&&(g.matcap.value=x.matcap),x.bumpMap&&(g.bumpMap.value=x.bumpMap,g.bumpScale.value=x.bumpScale,x.side===Hn&&(g.bumpScale.value*=-1)),x.normalMap&&(g.normalMap.value=x.normalMap,g.normalScale.value.copy(x.normalScale),x.side===Hn&&g.normalScale.value.negate()),x.displacementMap&&(g.displacementMap.value=x.displacementMap,g.displacementScale.value=x.displacementScale,g.displacementBias.value=x.displacementBias)}function m(g,x){x.displacementMap&&(g.displacementMap.value=x.displacementMap,g.displacementScale.value=x.displacementScale,g.displacementBias.value=x.displacementBias)}function v(g,x){x.displacementMap&&(g.displacementMap.value=x.displacementMap,g.displacementScale.value=x.displacementScale,g.displacementBias.value=x.displacementBias),g.referencePosition.value.copy(x.referencePosition),g.nearDistance.value=x.nearDistance,g.farDistance.value=x.farDistance}function _(g,x){x.bumpMap&&(g.bumpMap.value=x.bumpMap,g.bumpScale.value=x.bumpScale,x.side===Hn&&(g.bumpScale.value*=-1)),x.normalMap&&(g.normalMap.value=x.normalMap,g.normalScale.value.copy(x.normalScale),x.side===Hn&&g.normalScale.value.negate()),x.displacementMap&&(g.displacementMap.value=x.displacementMap,g.displacementScale.value=x.displacementScale,g.displacementBias.value=x.displacementBias)}return{refreshFogUniforms:e,refreshMaterialUniforms:t}}function zie(){const n=document.createElementNS("http://www.w3.org/1999/xhtml","canvas");return n.style.display="block",n}function on(n={}){const e=n.canvas!==void 0?n.canvas:zie(),t=n.context!==void 0?n.context:null,i=n.alpha!==void 0?n.alpha:!1,r=n.depth!==void 0?n.depth:!0,s=n.stencil!==void 0?n.stencil:!0,o=n.antialias!==void 0?n.antialias:!1,a=n.premultipliedAlpha!==void 0?n.premultipliedAlpha:!0,l=n.preserveDrawingBuffer!==void 0?n.preserveDrawingBuffer:!1,c=n.powerPreference!==void 0?n.powerPreference:"default",u=n.failIfMajorPerformanceCaveat!==void 0?n.failIfMajorPerformanceCaveat:!1;let f=null,h=null;const d=[],m=[];this.domElement=e,this.debug={checkShaderErrors:!0},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.gammaFactor=2,this.outputEncoding=cr,this.physicallyCorrectLights=!1,this.toneMapping=ya,this.toneMappingExposure=1;const v=this;let _=!1,g=0,x=0,b=null,w=-1,S=null;const A=new $t,T=new $t;let F=null,U=e.width,N=e.height,O=1,G=null,D=null;const P=new $t(0,0,U,N),I=new $t(0,0,U,N);let C=!1;const B=[],Y=new p1;let j=!1,re=!1,ie=null;const ve=new $e,de=new Z,ye={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function te(){return b===null?O:1}let $=t;function ge(k,oe){for(let fe=0;fe<k.length;fe++){const Le=k[fe],Oe=e.getContext(Le,oe);if(Oe!==null)return Oe}return null}try{const k={alpha:i,depth:r,stencil:s,antialias:o,premultipliedAlpha:a,preserveDrawingBuffer:l,powerPreference:c,failIfMajorPerformanceCaveat:u};if(e.addEventListener("webglcontextlost",lt,!1),e.addEventListener("webglcontextrestored",at,!1),$===null){const oe=["webgl2","webgl","experimental-webgl"];if(v.isWebGL1Renderer===!0&&oe.shift(),$=ge(oe,k),$===null)throw ge(oe)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}$.getShaderPrecisionFormat===void 0&&($.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(k){throw console.error("THREE.WebGLRenderer: "+k.message),k}let be,ue,_e,Te,X,z,W,se,ae,L,E,J,K,ce,pe,Ce,Ae,Re,Ee,V,we,le,Pe;function ee(){be=new cne($),ue=new nne($,be,n),be.init(ue),le=new LC($,be,ue),_e=new Die($,be,ue),B[0]=1029,Te=new hne($),X=new Mie,z=new Nie($,be,_e,X,ue,le,Te),W=new rne(v),se=new lne(v),ae=new TK($,ue),Pe=new ene($,be,ae,ue),L=new une($,ae,Te,Pe),E=new gne($,L,ae,Te),Ee=new mne($),Ce=new ine(X),J=new wie(v,W,se,be,ue,Pe,Ce),K=new Uie(X),ce=new Aie(X),pe=new Rie(be,ue),Re=new Kte(v,W,_e,E,a),Ae=new EC(v,E,ue),V=new tne($,be,Te,ue),we=new fne($,be,Te,ue),Te.programs=J.programs,v.capabilities=ue,v.extensions=be,v.properties=X,v.renderLists=ce,v.shadowMap=Ae,v.state=_e,v.info=Te}ee();const Ue=new Bie(v,$);this.xr=Ue,this.getContext=function(){return $},this.getContextAttributes=function(){return $.getContextAttributes()},this.forceContextLoss=function(){const k=be.get("WEBGL_lose_context");k&&k.loseContext()},this.forceContextRestore=function(){const k=be.get("WEBGL_lose_context");k&&k.restoreContext()},this.getPixelRatio=function(){return O},this.setPixelRatio=function(k){k!==void 0&&(O=k,this.setSize(U,N,!1))},this.getSize=function(k){return k.set(U,N)},this.setSize=function(k,oe,fe){if(Ue.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}U=k,N=oe,e.width=Math.floor(k*O),e.height=Math.floor(oe*O),fe!==!1&&(e.style.width=k+"px",e.style.height=oe+"px"),this.setViewport(0,0,k,oe)},this.getDrawingBufferSize=function(k){return k.set(U*O,N*O).floor()},this.setDrawingBufferSize=function(k,oe,fe){U=k,N=oe,O=fe,e.width=Math.floor(k*fe),e.height=Math.floor(oe*fe),this.setViewport(0,0,k,oe)},this.getCurrentViewport=function(k){return k.copy(A)},this.getViewport=function(k){return k.copy(P)},this.setViewport=function(k,oe,fe,Le){k.isVector4?P.set(k.x,k.y,k.z,k.w):P.set(k,oe,fe,Le),_e.viewport(A.copy(P).multiplyScalar(O).floor())},this.getScissor=function(k){return k.copy(I)},this.setScissor=function(k,oe,fe,Le){k.isVector4?I.set(k.x,k.y,k.z,k.w):I.set(k,oe,fe,Le),_e.scissor(T.copy(I).multiplyScalar(O).floor())},this.getScissorTest=function(){return C},this.setScissorTest=function(k){_e.setScissorTest(C=k)},this.setOpaqueSort=function(k){G=k},this.setTransparentSort=function(k){D=k},this.getClearColor=function(k){return k.copy(Re.getClearColor())},this.setClearColor=function(){Re.setClearColor.apply(Re,arguments)},this.getClearAlpha=function(){return Re.getClearAlpha()},this.setClearAlpha=function(){Re.setClearAlpha.apply(Re,arguments)},this.clear=function(k,oe,fe){let Le=0;(k===void 0||k)&&(Le|=16384),(oe===void 0||oe)&&(Le|=256),(fe===void 0||fe)&&(Le|=1024),$.clear(Le)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){e.removeEventListener("webglcontextlost",lt,!1),e.removeEventListener("webglcontextrestored",at,!1),ce.dispose(),pe.dispose(),X.dispose(),W.dispose(),se.dispose(),E.dispose(),Pe.dispose(),Ue.dispose(),Ue.removeEventListener("sessionstart",Cr),Ue.removeEventListener("sessionend",Gr),ie&&(ie.dispose(),ie=null),cs.stop()};function lt(k){k.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),_=!0}function at(){console.log("THREE.WebGLRenderer: Context Restored."),_=!1;const k=Te.autoReset,oe=Ae.enabled,fe=Ae.autoUpdate,Le=Ae.needsUpdate,Oe=Ae.type;ee(),Te.autoReset=k,Ae.enabled=oe,Ae.autoUpdate=fe,Ae.needsUpdate=Le,Ae.type=Oe}function Ot(k){const oe=k.target;oe.removeEventListener("dispose",Ot),tt(oe)}function tt(k){_t(k),X.remove(k)}function _t(k){const oe=X.get(k).programs;oe!==void 0&&oe.forEach(function(fe){J.releaseProgram(fe)})}function Vt(k,oe){k.render(function(fe){v.renderBufferImmediate(fe,oe)})}this.renderBufferImmediate=function(k,oe){Pe.initAttributes();const fe=X.get(k);k.hasPositions&&!fe.position&&(fe.position=$.createBuffer()),k.hasNormals&&!fe.normal&&(fe.normal=$.createBuffer()),k.hasUvs&&!fe.uv&&(fe.uv=$.createBuffer()),k.hasColors&&!fe.color&&(fe.color=$.createBuffer());const Le=oe.getAttributes();k.hasPositions&&($.bindBuffer(34962,fe.position),$.bufferData(34962,k.positionArray,35048),Pe.enableAttribute(Le.position.location),$.vertexAttribPointer(Le.position.location,3,5126,!1,0,0)),k.hasNormals&&($.bindBuffer(34962,fe.normal),$.bufferData(34962,k.normalArray,35048),Pe.enableAttribute(Le.normal.location),$.vertexAttribPointer(Le.normal.location,3,5126,!1,0,0)),k.hasUvs&&($.bindBuffer(34962,fe.uv),$.bufferData(34962,k.uvArray,35048),Pe.enableAttribute(Le.uv.location),$.vertexAttribPointer(Le.uv.location,2,5126,!1,0,0)),k.hasColors&&($.bindBuffer(34962,fe.color),$.bufferData(34962,k.colorArray,35048),Pe.enableAttribute(Le.color.location),$.vertexAttribPointer(Le.color.location,3,5126,!1,0,0)),Pe.disableUnusedAttributes(),$.drawArrays(4,0,k.count),k.count=0},this.renderBufferDirect=function(k,oe,fe,Le,Oe,Xe){oe===null&&(oe=ye);const Ye=Oe.isMesh&&Oe.matrixWorld.determinant()<0,Ge=ia(k,oe,Le,Oe);_e.setMaterial(Le,Ye);let Ke=fe.index;const Qe=fe.attributes.position;if(Ke===null){if(Qe===void 0||Qe.count===0)return}else if(Ke.count===0)return;let nt=1;Le.wireframe===!0&&(Ke=L.getWireframeAttribute(fe),nt=2),(fe.morphAttributes.position!==void 0||fe.morphAttributes.normal!==void 0)&&Ee.update(Oe,fe,Le,Ge),Pe.setup(Oe,Le,Ge,fe,Ke);let bt,st=V;Ke!==null&&(bt=ae.get(Ke),st=we,st.setIndex(bt));const Ei=Ke!==null?Ke.count:Qe.count,Lt=fe.drawRange.start*nt,Yn=fe.drawRange.count*nt,Jt=Xe!==null?Xe.start*nt:0,Pr=Xe!==null?Xe.count*nt:1/0,tr=Math.max(Lt,Jt),vn=Math.min(Ei,Lt+Yn,Jt+Pr)-1,us=Math.max(0,vn-tr+1);if(us!==0){if(Oe.isMesh)Le.wireframe===!0?(_e.setLineWidth(Le.wireframeLinewidth*te()),st.setMode(1)):st.setMode(4);else if(Oe.isLine){let ri=Le.linewidth;ri===void 0&&(ri=1),_e.setLineWidth(ri*te()),Oe.isLineSegments?st.setMode(1):Oe.isLineLoop?st.setMode(2):st.setMode(3)}else Oe.isPoints?st.setMode(0):Oe.isSprite&&st.setMode(4);if(Oe.isInstancedMesh)st.renderInstances(tr,us,Oe.count);else if(fe.isInstancedBufferGeometry){const ri=Math.min(fe.instanceCount,fe._maxInstanceCount);st.renderInstances(tr,us,ri)}else st.render(tr,us)}},this.compile=function(k,oe){h=pe.get(k),h.init(),m.push(h),k.traverseVisible(function(fe){fe.isLight&&fe.layers.test(oe.layers)&&(h.pushLight(fe),fe.castShadow&&h.pushShadow(fe))}),h.setupLights(v.physicallyCorrectLights),k.traverse(function(fe){const Le=fe.material;if(Le)if(Array.isArray(Le))for(let Oe=0;Oe<Le.length;Oe++){const Xe=Le[Oe];na(Xe,k,fe)}else na(Le,k,fe)}),m.pop(),h=null};let In=null;function zn(k){In&&In(k)}function Cr(){cs.stop()}function Gr(){cs.start()}const cs=new jL;cs.setAnimationLoop(zn),typeof window!="undefined"&&cs.setContext(window),this.setAnimationLoop=function(k){In=k,Ue.setAnimationLoop(k),k===null?cs.stop():cs.start()},Ue.addEventListener("sessionstart",Cr),Ue.addEventListener("sessionend",Gr),this.render=function(k,oe){if(oe!==void 0&&oe.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(_===!0)return;k.autoUpdate===!0&&k.updateMatrixWorld(),oe.parent===null&&oe.updateMatrixWorld(),Ue.enabled===!0&&Ue.isPresenting===!0&&(Ue.cameraAutoUpdate===!0&&Ue.updateCamera(oe),oe=Ue.getCamera()),k.isScene===!0&&k.onBeforeRender(v,k,oe,b),h=pe.get(k,m.length),h.init(),m.push(h),ve.multiplyMatrices(oe.projectionMatrix,oe.matrixWorldInverse),Y.setFromProjectionMatrix(ve),re=this.localClippingEnabled,j=Ce.init(this.clippingPlanes,re,oe),f=ce.get(k,d.length),f.init(),d.push(f),_u(k,oe,0,v.sortObjects),f.finish(),v.sortObjects===!0&&f.sort(G,D),j===!0&&Ce.beginShadows();const fe=h.state.shadowsArray;if(Ae.render(fe,k,oe),j===!0&&Ce.endShadows(),this.info.autoReset===!0&&this.info.reset(),Re.render(f,k),h.setupLights(v.physicallyCorrectLights),oe.isArrayCamera){const Le=oe.cameras;for(let Oe=0,Xe=Le.length;Oe<Xe;Oe++){const Ye=Le[Oe];ao(f,k,Ye,Ye.viewport)}}else ao(f,k,oe);b!==null&&(z.updateMultisampleRenderTarget(b),z.updateRenderTargetMipmap(b)),k.isScene===!0&&k.onAfterRender(v,k,oe),_e.buffers.depth.setTest(!0),_e.buffers.depth.setMask(!0),_e.buffers.color.setMask(!0),_e.setPolygonOffset(!1),Pe.resetDefaultState(),w=-1,S=null,m.pop(),m.length>0?h=m[m.length-1]:h=null,d.pop(),d.length>0?f=d[d.length-1]:f=null};function _u(k,oe,fe,Le){if(k.visible===!1)return;if(k.layers.test(oe.layers)){if(k.isGroup)fe=k.renderOrder;else if(k.isLOD)k.autoUpdate===!0&&k.update(oe);else if(k.isLight)h.pushLight(k),k.castShadow&&h.pushShadow(k);else if(k.isSprite){if(!k.frustumCulled||Y.intersectsSprite(k)){Le&&de.setFromMatrixPosition(k.matrixWorld).applyMatrix4(ve);const Ye=E.update(k),Ge=k.material;Ge.visible&&f.push(k,Ye,Ge,fe,de.z,null)}}else if(k.isImmediateRenderObject)Le&&de.setFromMatrixPosition(k.matrixWorld).applyMatrix4(ve),f.push(k,null,k.material,fe,de.z,null);else if((k.isMesh||k.isLine||k.isPoints)&&(k.isSkinnedMesh&&k.skeleton.frame!==Te.render.frame&&(k.skeleton.update(),k.skeleton.frame=Te.render.frame),!k.frustumCulled||Y.intersectsObject(k))){Le&&de.setFromMatrixPosition(k.matrixWorld).applyMatrix4(ve);const Ye=E.update(k),Ge=k.material;if(Array.isArray(Ge)){const Ke=Ye.groups;for(let Qe=0,nt=Ke.length;Qe<nt;Qe++){const bt=Ke[Qe],st=Ge[bt.materialIndex];st&&st.visible&&f.push(k,Ye,st,fe,de.z,bt)}}else Ge.visible&&f.push(k,Ye,Ge,fe,de.z,null)}}const Xe=k.children;for(let Ye=0,Ge=Xe.length;Ye<Ge;Ye++)_u(Xe[Ye],oe,fe,Le)}function ao(k,oe,fe,Le){const Oe=k.opaque,Xe=k.transmissive,Ye=k.transparent;h.setupLightsView(fe),Xe.length>0&&bu(Oe,oe,fe),Le&&_e.viewport(A.copy(Le)),Oe.length>0&&Xs(Oe,oe,fe),Xe.length>0&&Xs(Xe,oe,fe),Ye.length>0&&Xs(Ye,oe,fe)}function bu(k,oe,fe){if(ie===null){const Ye=o===!0&&ue.isWebGL2===!0?h7:jn;ie=new Ye(1024,1024,{generateMipmaps:!0,type:le.convert(So)!==null?So:Jl,minFilter:C0,magFilter:Qt,wrapS:ln,wrapT:ln})}const Le=v.getRenderTarget();v.setRenderTarget(ie),v.clear();const Oe=v.toneMapping;v.toneMapping=ya,Xs(k,oe,fe),v.toneMapping=Oe,z.updateMultisampleRenderTarget(ie),z.updateRenderTargetMipmap(ie),v.setRenderTarget(Le)}function Xs(k,oe,fe){const Le=oe.isScene===!0?oe.overrideMaterial:null;for(let Oe=0,Xe=k.length;Oe<Xe;Oe++){const Ye=k[Oe],Ge=Ye.object,Ke=Ye.geometry,Qe=Le===null?Ye.material:Le,nt=Ye.group;Ge.layers.test(fe.layers)&&wu(Ge,oe,fe,Ke,Qe,nt)}}function wu(k,oe,fe,Le,Oe,Xe){if(k.onBeforeRender(v,oe,fe,Le,Oe,Xe),k.modelViewMatrix.multiplyMatrices(fe.matrixWorldInverse,k.matrixWorld),k.normalMatrix.getNormalMatrix(k.modelViewMatrix),k.isImmediateRenderObject){const Ye=ia(fe,oe,Oe,k);_e.setMaterial(Oe),Pe.reset(),Vt(k,Ye)}else Oe.transparent===!0&&Oe.side===wo?(Oe.side=Hn,Oe.needsUpdate=!0,v.renderBufferDirect(fe,oe,Le,Oe,k,Xe),Oe.side=xa,Oe.needsUpdate=!0,v.renderBufferDirect(fe,oe,Le,Oe,k,Xe),Oe.side=wo):v.renderBufferDirect(fe,oe,Le,Oe,k,Xe);k.onAfterRender(v,oe,fe,Le,Oe,Xe)}function na(k,oe,fe){oe.isScene!==!0&&(oe=ye);const Le=X.get(k),Oe=h.state.lights,Xe=h.state.shadowsArray,Ye=Oe.state.version,Ge=J.getParameters(k,Oe.state,Xe,oe,fe),Ke=J.getProgramCacheKey(Ge);let Qe=Le.programs;Le.environment=k.isMeshStandardMaterial?oe.environment:null,Le.fog=oe.fog,Le.envMap=(k.isMeshStandardMaterial?se:W).get(k.envMap||Le.environment),Qe===void 0&&(k.addEventListener("dispose",Ot),Qe=new Map,Le.programs=Qe);let nt=Qe.get(Ke);if(nt!==void 0){if(Le.currentProgram===nt&&Le.lightsStateVersion===Ye)return Mu(k,Ge),nt}else Ge.uniforms=J.getUniforms(k),k.onBuild(Ge,v),k.onBeforeCompile(Ge,v),nt=J.acquireProgram(Ge,Ke),Qe.set(Ke,nt),Le.uniforms=Ge.uniforms;const bt=Le.uniforms;(!k.isShaderMaterial&&!k.isRawShaderMaterial||k.clipping===!0)&&(bt.clippingPlanes=Ce.uniform),Mu(k,Ge),Le.needsLights=Ne(k),Le.lightsStateVersion=Ye,Le.needsLights&&(bt.ambientLightColor.value=Oe.state.ambient,bt.lightProbe.value=Oe.state.probe,bt.directionalLights.value=Oe.state.directional,bt.directionalLightShadows.value=Oe.state.directionalShadow,bt.spotLights.value=Oe.state.spot,bt.spotLightShadows.value=Oe.state.spotShadow,bt.rectAreaLights.value=Oe.state.rectArea,bt.ltc_1.value=Oe.state.rectAreaLTC1,bt.ltc_2.value=Oe.state.rectAreaLTC2,bt.pointLights.value=Oe.state.point,bt.pointLightShadows.value=Oe.state.pointShadow,bt.hemisphereLights.value=Oe.state.hemi,bt.directionalShadowMap.value=Oe.state.directionalShadowMap,bt.directionalShadowMatrix.value=Oe.state.directionalShadowMatrix,bt.spotShadowMap.value=Oe.state.spotShadowMap,bt.spotShadowMatrix.value=Oe.state.spotShadowMatrix,bt.pointShadowMap.value=Oe.state.pointShadowMap,bt.pointShadowMatrix.value=Oe.state.pointShadowMatrix);const st=nt.getUniforms(),Ei=Ra.seqWithValue(st.seq,bt);return Le.currentProgram=nt,Le.uniformsList=Ei,nt}function Mu(k,oe){const fe=X.get(k);fe.outputEncoding=oe.outputEncoding,fe.instancing=oe.instancing,fe.skinning=oe.skinning,fe.morphTargets=oe.morphTargets,fe.morphNormals=oe.morphNormals,fe.numClippingPlanes=oe.numClippingPlanes,fe.numIntersection=oe.numClipIntersection,fe.vertexAlphas=oe.vertexAlphas,fe.vertexTangents=oe.vertexTangents}function ia(k,oe,fe,Le){oe.isScene!==!0&&(oe=ye),z.resetTextureUnits();const Oe=oe.fog,Xe=fe.isMeshStandardMaterial?oe.environment:null,Ye=b===null?v.outputEncoding:b.texture.encoding,Ge=(fe.isMeshStandardMaterial?se:W).get(fe.envMap||Xe),Ke=fe.vertexColors===!0&&!!Le.geometry&&!!Le.geometry.attributes.color&&Le.geometry.attributes.color.itemSize===4,Qe=!!Le.geometry&&!!Le.geometry.attributes.tangent,nt=!!Le.geometry&&!!Le.geometry.morphAttributes.position,bt=!!Le.geometry&&!!Le.geometry.morphAttributes.normal,st=X.get(fe),Ei=h.state.lights;if(j===!0&&(re===!0||k!==S)){const ri=k===S&&fe.id===w;Ce.setState(fe,k,ri)}let Lt=!1;fe.version===st.__version?(st.needsLights&&st.lightsStateVersion!==Ei.state.version||st.outputEncoding!==Ye||Le.isInstancedMesh&&st.instancing===!1||!Le.isInstancedMesh&&st.instancing===!0||Le.isSkinnedMesh&&st.skinning===!1||!Le.isSkinnedMesh&&st.skinning===!0||st.envMap!==Ge||fe.fog&&st.fog!==Oe||st.numClippingPlanes!==void 0&&(st.numClippingPlanes!==Ce.numPlanes||st.numIntersection!==Ce.numIntersection)||st.vertexAlphas!==Ke||st.vertexTangents!==Qe||st.morphTargets!==nt||st.morphNormals!==bt)&&(Lt=!0):(Lt=!0,st.__version=fe.version);let Yn=st.currentProgram;Lt===!0&&(Yn=na(fe,oe,Le));let Jt=!1,Pr=!1,tr=!1;const vn=Yn.getUniforms(),us=st.uniforms;if(_e.useProgram(Yn.program)&&(Jt=!0,Pr=!0,tr=!0),fe.id!==w&&(w=fe.id,Pr=!0),Jt||S!==k){if(vn.setValue($,"projectionMatrix",k.projectionMatrix),ue.logarithmicDepthBuffer&&vn.setValue($,"logDepthBufFC",2/(Math.log(k.far+1)/Math.LN2)),S!==k&&(S=k,Pr=!0,tr=!0),fe.isShaderMaterial||fe.isMeshPhongMaterial||fe.isMeshToonMaterial||fe.isMeshStandardMaterial||fe.envMap){const ri=vn.map.cameraPosition;ri!==void 0&&ri.setValue($,de.setFromMatrixPosition(k.matrixWorld))}(fe.isMeshPhongMaterial||fe.isMeshToonMaterial||fe.isMeshLambertMaterial||fe.isMeshBasicMaterial||fe.isMeshStandardMaterial||fe.isShaderMaterial)&&vn.setValue($,"isOrthographic",k.isOrthographicCamera===!0),(fe.isMeshPhongMaterial||fe.isMeshToonMaterial||fe.isMeshLambertMaterial||fe.isMeshBasicMaterial||fe.isMeshStandardMaterial||fe.isShaderMaterial||fe.isShadowMaterial||Le.isSkinnedMesh)&&vn.setValue($,"viewMatrix",k.matrixWorldInverse)}if(Le.isSkinnedMesh){vn.setOptional($,Le,"bindMatrix"),vn.setOptional($,Le,"bindMatrixInverse");const ri=Le.skeleton;ri&&(ue.floatVertexTextures?(ri.boneTexture===null&&ri.computeBoneTexture(),vn.setValue($,"boneTexture",ri.boneTexture,z),vn.setValue($,"boneTextureSize",ri.boneTextureSize)):vn.setOptional($,ri,"boneMatrices"))}return(Pr||st.receiveShadow!==Le.receiveShadow)&&(st.receiveShadow=Le.receiveShadow,vn.setValue($,"receiveShadow",Le.receiveShadow)),Pr&&(vn.setValue($,"toneMappingExposure",v.toneMappingExposure),st.needsLights&&ne(us,tr),Oe&&fe.fog&&K.refreshFogUniforms(us,Oe),K.refreshMaterialUniforms(us,fe,O,N,ie),Ra.upload($,st.uniformsList,us,z)),fe.isShaderMaterial&&fe.uniformsNeedUpdate===!0&&(Ra.upload($,st.uniformsList,us,z),fe.uniformsNeedUpdate=!1),fe.isSpriteMaterial&&vn.setValue($,"center",Le.center),vn.setValue($,"modelViewMatrix",Le.modelViewMatrix),vn.setValue($,"normalMatrix",Le.normalMatrix),vn.setValue($,"modelMatrix",Le.matrixWorld),Yn}function ne(k,oe){k.ambientLightColor.needsUpdate=oe,k.lightProbe.needsUpdate=oe,k.directionalLights.needsUpdate=oe,k.directionalLightShadows.needsUpdate=oe,k.pointLights.needsUpdate=oe,k.pointLightShadows.needsUpdate=oe,k.spotLights.needsUpdate=oe,k.spotLightShadows.needsUpdate=oe,k.rectAreaLights.needsUpdate=oe,k.hemisphereLights.needsUpdate=oe}function Ne(k){return k.isMeshLambertMaterial||k.isMeshToonMaterial||k.isMeshPhongMaterial||k.isMeshStandardMaterial||k.isShadowMaterial||k.isShaderMaterial&&k.lights===!0}this.getActiveCubeFace=function(){return g},this.getActiveMipmapLevel=function(){return x},this.getRenderTarget=function(){return b},this.setRenderTarget=function(k,oe=0,fe=0){b=k,g=oe,x=fe,k&&X.get(k).__webglFramebuffer===void 0&&z.setupRenderTarget(k);let Le=null,Oe=!1,Xe=!1;if(k){const Ge=k.texture;(Ge.isDataTexture3D||Ge.isDataTexture2DArray)&&(Xe=!0);const Ke=X.get(k).__webglFramebuffer;k.isWebGLCubeRenderTarget?(Le=Ke[oe],Oe=!0):k.isWebGLMultisampleRenderTarget?Le=X.get(k).__webglMultisampledFramebuffer:Le=Ke,A.copy(k.viewport),T.copy(k.scissor),F=k.scissorTest}else A.copy(P).multiplyScalar(O).floor(),T.copy(I).multiplyScalar(O).floor(),F=C;if(_e.bindFramebuffer(36160,Le)&&ue.drawBuffers){let Ge=!1;if(k)if(k.isWebGLMultipleRenderTargets){const Ke=k.texture;if(B.length!==Ke.length||B[0]!==36064){for(let Qe=0,nt=Ke.length;Qe<nt;Qe++)B[Qe]=36064+Qe;B.length=Ke.length,Ge=!0}}else(B.length!==1||B[0]!==36064)&&(B[0]=36064,B.length=1,Ge=!0);else(B.length!==1||B[0]!==1029)&&(B[0]=1029,B.length=1,Ge=!0);Ge&&(ue.isWebGL2?$.drawBuffers(B):be.get("WEBGL_draw_buffers").drawBuffersWEBGL(B))}if(_e.viewport(A),_e.scissor(T),_e.setScissorTest(F),Oe){const Ge=X.get(k.texture);$.framebufferTexture2D(36160,36064,34069+oe,Ge.__webglTexture,fe)}else if(Xe){const Ge=X.get(k.texture),Ke=oe||0;$.framebufferTextureLayer(36160,36064,Ge.__webglTexture,fe||0,Ke)}w=-1},this.readRenderTargetPixels=function(k,oe,fe,Le,Oe,Xe,Ye){if(!(k&&k.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let Ge=X.get(k).__webglFramebuffer;if(k.isWebGLCubeRenderTarget&&Ye!==void 0&&(Ge=Ge[Ye]),Ge){_e.bindFramebuffer(36160,Ge);try{const Ke=k.texture,Qe=Ke.format,nt=Ke.type;if(Qe!==yn&&le.convert(Qe)!==$.getParameter(35739)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}const bt=nt===So&&(be.has("EXT_color_buffer_half_float")||ue.isWebGL2&&be.has("EXT_color_buffer_float"));if(nt!==Jl&&le.convert(nt)!==$.getParameter(35738)&&!(nt===ws&&(ue.isWebGL2||be.has("OES_texture_float")||be.has("WEBGL_color_buffer_float")))&&!bt){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}$.checkFramebufferStatus(36160)===36053?oe>=0&&oe<=k.width-Le&&fe>=0&&fe<=k.height-Oe&&$.readPixels(oe,fe,Le,Oe,le.convert(Qe),le.convert(nt),Xe):console.error("THREE.WebGLRenderer.readRenderTargetPixels: readPixels from renderTarget failed. Framebuffer not complete.")}finally{const Ke=b!==null?X.get(b).__webglFramebuffer:null;_e.bindFramebuffer(36160,Ke)}}},this.copyFramebufferToTexture=function(k,oe,fe=0){const Le=Math.pow(2,-fe),Oe=Math.floor(oe.image.width*Le),Xe=Math.floor(oe.image.height*Le);let Ye=le.convert(oe.format);ue.isWebGL2&&(Ye===6407&&(Ye=32849),Ye===6408&&(Ye=32856)),z.setTexture2D(oe,0),$.copyTexImage2D(3553,fe,Ye,k.x,k.y,Oe,Xe,0),_e.unbindTexture()},this.copyTextureToTexture=function(k,oe,fe,Le=0){const Oe=oe.image.width,Xe=oe.image.height,Ye=le.convert(fe.format),Ge=le.convert(fe.type);z.setTexture2D(fe,0),$.pixelStorei(37440,fe.flipY),$.pixelStorei(37441,fe.premultiplyAlpha),$.pixelStorei(3317,fe.unpackAlignment),oe.isDataTexture?$.texSubImage2D(3553,Le,k.x,k.y,Oe,Xe,Ye,Ge,oe.image.data):oe.isCompressedTexture?$.compressedTexSubImage2D(3553,Le,k.x,k.y,oe.mipmaps[0].width,oe.mipmaps[0].height,Ye,oe.mipmaps[0].data):$.texSubImage2D(3553,Le,k.x,k.y,Ye,Ge,oe.image),Le===0&&fe.generateMipmaps&&$.generateMipmap(3553),_e.unbindTexture()},this.copyTextureToTexture3D=function(k,oe,fe,Le,Oe=0){if(v.isWebGL1Renderer){console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");return}const Xe=k.max.x-k.min.x+1,Ye=k.max.y-k.min.y+1,Ge=k.max.z-k.min.z+1,Ke=le.convert(Le.format),Qe=le.convert(Le.type);let nt;if(Le.isDataTexture3D)z.setTexture3D(Le,0),nt=32879;else if(Le.isDataTexture2DArray)z.setTexture2DArray(Le,0),nt=35866;else{console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");return}$.pixelStorei(37440,Le.flipY),$.pixelStorei(37441,Le.premultiplyAlpha),$.pixelStorei(3317,Le.unpackAlignment);const bt=$.getParameter(3314),st=$.getParameter(32878),Ei=$.getParameter(3316),Lt=$.getParameter(3315),Yn=$.getParameter(32877),Jt=fe.isCompressedTexture?fe.mipmaps[0]:fe.image;$.pixelStorei(3314,Jt.width),$.pixelStorei(32878,Jt.height),$.pixelStorei(3316,k.min.x),$.pixelStorei(3315,k.min.y),$.pixelStorei(32877,k.min.z),fe.isDataTexture||fe.isDataTexture3D?$.texSubImage3D(nt,Oe,oe.x,oe.y,oe.z,Xe,Ye,Ge,Ke,Qe,Jt.data):fe.isCompressedTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),$.compressedTexSubImage3D(nt,Oe,oe.x,oe.y,oe.z,Xe,Ye,Ge,Ke,Jt.data)):$.texSubImage3D(nt,Oe,oe.x,oe.y,oe.z,Xe,Ye,Ge,Ke,Qe,Jt),$.pixelStorei(3314,bt),$.pixelStorei(32878,st),$.pixelStorei(3316,Ei),$.pixelStorei(3315,Lt),$.pixelStorei(32877,Yn),Oe===0&&Le.generateMipmaps&&$.generateMipmap(nt),_e.unbindTexture()},this.initTexture=function(k){z.setTexture2D(k,0),_e.unbindTexture()},this.resetState=function(){g=0,x=0,b=null,_e.reset(),Pe.reset()},typeof __THREE_DEVTOOLS__!="undefined"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}class CC extends on{}CC.prototype.isWebGL1Renderer=!0;class x1{constructor(e,t=25e-5){this.name="",this.color=new We(e),this.density=t}clone(){return new x1(this.color,this.density)}toJSON(){return{type:"FogExp2",color:this.color.getHex(),density:this.density}}}x1.prototype.isFogExp2=!0;class y1{constructor(e,t=1,i=1e3){this.name="",this.color=new We(e),this.near=t,this.far=i}clone(){return new y1(this.color,this.near,this.far)}toJSON(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}}}y1.prototype.isFog=!0;class _1 extends At{constructor(){super();this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.overrideMaterial=null,this.autoUpdate=!0,typeof __THREE_DEVTOOLS__!="undefined"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,t){return super.copy(e,t),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.autoUpdate=e.autoUpdate,this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const t=super.toJSON(e);return this.fog!==null&&(t.object.fog=this.fog.toJSON()),t}}_1.prototype.isScene=!0;class Fa{constructor(e,t){this.array=e,this.stride=t,this.count=e!==void 0?e.length/t:0,this.usage=sf,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=Qr()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,t,i){e*=this.stride,i*=t.stride;for(let r=0,s=this.stride;r<s;r++)this.array[e+r]=t.array[i+r];return this}set(e,t=0){return this.array.set(e,t),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Qr()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const t=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),i=new this.constructor(t,this.stride);return i.setUsage(this.usage),i}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Qr()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.prototype.slice.call(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}Fa.prototype.isInterleavedBuffer=!0;const Jn=new Z;class Ro{constructor(e,t,i,r=!1){this.name="",this.data=e,this.itemSize=t,this.offset=i,this.normalized=r===!0}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let t=0,i=this.data.count;t<i;t++)Jn.x=this.getX(t),Jn.y=this.getY(t),Jn.z=this.getZ(t),Jn.applyMatrix4(e),this.setXYZ(t,Jn.x,Jn.y,Jn.z);return this}applyNormalMatrix(e){for(let t=0,i=this.count;t<i;t++)Jn.x=this.getX(t),Jn.y=this.getY(t),Jn.z=this.getZ(t),Jn.applyNormalMatrix(e),this.setXYZ(t,Jn.x,Jn.y,Jn.z);return this}transformDirection(e){for(let t=0,i=this.count;t<i;t++)Jn.x=this.getX(t),Jn.y=this.getY(t),Jn.z=this.getZ(t),Jn.transformDirection(e),this.setXYZ(t,Jn.x,Jn.y,Jn.z);return this}setX(e,t){return this.data.array[e*this.data.stride+this.offset]=t,this}setY(e,t){return this.data.array[e*this.data.stride+this.offset+1]=t,this}setZ(e,t){return this.data.array[e*this.data.stride+this.offset+2]=t,this}setW(e,t){return this.data.array[e*this.data.stride+this.offset+3]=t,this}getX(e){return this.data.array[e*this.data.stride+this.offset]}getY(e){return this.data.array[e*this.data.stride+this.offset+1]}getZ(e){return this.data.array[e*this.data.stride+this.offset+2]}getW(e){return this.data.array[e*this.data.stride+this.offset+3]}setXY(e,t,i){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=i,this}setXYZ(e,t,i,r){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=i,this.data.array[e+2]=r,this}setXYZW(e,t,i,r,s){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=i,this.data.array[e+2]=r,this.data.array[e+3]=s,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interlaved buffer attribute will deinterleave buffer data.");const t=[];for(let i=0;i<this.count;i++){const r=i*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)t.push(this.data.array[r+s])}return new Tt(new this.array.constructor(t),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new Ro(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interlaved buffer attribute will deinterleave buffer data.");const t=[];for(let i=0;i<this.count;i++){const r=i*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)t.push(this.data.array[r+s])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}Ro.prototype.isInterleavedBufferAttribute=!0;class b1 extends si{constructor(e){super();this.type="SpriteMaterial",this.color=new We(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this}}b1.prototype.isSpriteMaterial=!0;let Cf;const w1=new Z,Pf=new Z,Rf=new Z,Ff=new Ie,M1=new Ie,PC=new $e,N3=new Z,S1=new Z,O3=new Z,RC=new Ie,Y7=new Ie,FC=new Ie;class A1 extends At{constructor(e){super();if(this.type="Sprite",Cf===void 0){Cf=new ot;const t=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),i=new Fa(t,5);Cf.setIndex([0,1,2,0,2,3]),Cf.setAttribute("position",new Ro(i,3,0,!1)),Cf.setAttribute("uv",new Ro(i,2,3,!1))}this.geometry=Cf,this.material=e!==void 0?e:new b1,this.center=new Ie(.5,.5)}raycast(e,t){e.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),Pf.setFromMatrixScale(this.matrixWorld),PC.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),Rf.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&Pf.multiplyScalar(-Rf.z);const i=this.material.rotation;let r,s;i!==0&&(s=Math.cos(i),r=Math.sin(i));const o=this.center;B3(N3.set(-.5,-.5,0),Rf,o,Pf,r,s),B3(S1.set(.5,-.5,0),Rf,o,Pf,r,s),B3(O3.set(.5,.5,0),Rf,o,Pf,r,s),RC.set(0,0),Y7.set(1,0),FC.set(1,1);let a=e.ray.intersectTriangle(N3,S1,O3,!1,w1);if(a===null&&(B3(S1.set(-.5,.5,0),Rf,o,Pf,r,s),Y7.set(0,1),a=e.ray.intersectTriangle(N3,O3,S1,!1,w1),a===null))return;const l=e.ray.origin.distanceTo(w1);l<e.near||l>e.far||t.push({distance:l,point:w1.clone(),uv:Zn.getUV(w1,N3,S1,O3,RC,Y7,FC,new Ie),face:null,object:this})}copy(e){return super.copy(e),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}A1.prototype.isSprite=!0;function B3(n,e,t,i,r,s){Ff.subVectors(n,t).addScalar(.5).multiply(i),r!==void 0?(M1.x=s*Ff.x-r*Ff.y,M1.y=r*Ff.x+s*Ff.y):M1.copy(Ff),n.copy(e),n.x+=M1.x,n.y+=M1.y,n.applyMatrix4(PC)}const U3=new Z,IC=new Z;class DC extends At{constructor(){super();this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]},isLOD:{value:!0}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const t=e.levels;for(let i=0,r=t.length;i<r;i++){const s=t[i];this.addLevel(s.object.clone(),s.distance)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,t=0){t=Math.abs(t);const i=this.levels;let r;for(r=0;r<i.length&&!(t<i[r].distance);r++);return i.splice(r,0,{distance:t,object:e}),this.add(e),this}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const t=this.levels;if(t.length>0){let i,r;for(i=1,r=t.length;i<r&&!(e<t[i].distance);i++);return t[i-1].object}return null}raycast(e,t){if(this.levels.length>0){U3.setFromMatrixPosition(this.matrixWorld);const r=e.ray.origin.distanceTo(U3);this.getObjectForDistance(r).raycast(e,t)}}update(e){const t=this.levels;if(t.length>1){U3.setFromMatrixPosition(e.matrixWorld),IC.setFromMatrixPosition(this.matrixWorld);const i=U3.distanceTo(IC)/e.zoom;t[0].object.visible=!0;let r,s;for(r=1,s=t.length;r<s&&i>=t[r].distance;r++)t[r-1].object.visible=!1,t[r].object.visible=!0;for(this._currentLevel=r-1;r<s;r++)t[r].object.visible=!1}}toJSON(e){const t=super.toJSON(e);this.autoUpdate===!1&&(t.object.autoUpdate=!1),t.object.levels=[];const i=this.levels;for(let r=0,s=i.length;r<s;r++){const o=i[r];t.object.levels.push({object:o.object.uuid,distance:o.distance})}return t}}const NC=new Z,OC=new $t,BC=new $t,kie=new Z,UC=new $e;class If extends En{constructor(e,t){super(e,t);this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new $e,this.bindMatrixInverse=new $e}copy(e){return super.copy(e),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,this}bind(e,t){this.skeleton=e,t===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.copy(t).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new $t,t=this.geometry.attributes.skinWeight;for(let i=0,r=t.count;i<r;i++){e.x=t.getX(i),e.y=t.getY(i),e.z=t.getZ(i),e.w=t.getW(i);const s=1/e.manhattanLength();s!==1/0?e.multiplyScalar(s):e.set(1,0,0,0),t.setXYZW(i,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode==="attached"?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode==="detached"?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}boneTransform(e,t){const i=this.skeleton,r=this.geometry;OC.fromBufferAttribute(r.attributes.skinIndex,e),BC.fromBufferAttribute(r.attributes.skinWeight,e),NC.fromBufferAttribute(r.attributes.position,e).applyMatrix4(this.bindMatrix),t.set(0,0,0);for(let s=0;s<4;s++){const o=BC.getComponent(s);if(o!==0){const a=OC.getComponent(s);UC.multiplyMatrices(i.bones[a].matrixWorld,i.boneInverses[a]),t.addScaledVector(kie.copy(NC).applyMatrix4(UC),o)}}return t.applyMatrix4(this.bindMatrixInverse)}}If.prototype.isSkinnedMesh=!0;class lc extends At{constructor(){super();this.type="Bone"}}lc.prototype.isBone=!0;class Ls extends Tn{constructor(e=null,t=1,i=1,r,s,o,a,l,c=Qt,u=Qt,f,h){super(null,o,a,l,c,u,r,s,f,h);this.image={data:e,width:t,height:i},this.magFilter=c,this.minFilter=u,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.needsUpdate=!0}}Ls.prototype.isDataTexture=!0;const zC=new $e,Hie=new $e;class Df{constructor(e=[],t=[]){this.uuid=Qr(),this.bones=e.slice(0),this.boneInverses=t,this.boneMatrices=null,this.boneTexture=null,this.boneTextureSize=0,this.frame=-1,this.init()}init(){const e=this.bones,t=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),t.length===0)this.calculateInverses();else if(e.length!==t.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let i=0,r=this.bones.length;i<r;i++)this.boneInverses.push(new $e)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,t=this.bones.length;e<t;e++){const i=new $e;this.bones[e]&&i.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(i)}}pose(){for(let e=0,t=this.bones.length;e<t;e++){const i=this.bones[e];i&&i.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,t=this.bones.length;e<t;e++){const i=this.bones[e];i&&(i.parent&&i.parent.isBone?(i.matrix.copy(i.parent.matrixWorld).invert(),i.matrix.multiply(i.matrixWorld)):i.matrix.copy(i.matrixWorld),i.matrix.decompose(i.position,i.quaternion,i.scale))}}update(){const e=this.bones,t=this.boneInverses,i=this.boneMatrices,r=this.boneTexture;for(let s=0,o=e.length;s<o;s++){const a=e[s]?e[s].matrixWorld:Hie;zC.multiplyMatrices(a,t[s]),zC.toArray(i,s*16)}r!==null&&(r.needsUpdate=!0)}clone(){return new Df(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=TL(e),e=Math.max(e,4);const t=new Float32Array(e*e*4);t.set(this.boneMatrices);const i=new Ls(t,e,e,yn,ws);return this.boneMatrices=t,this.boneTexture=i,this.boneTextureSize=e,this}getBoneByName(e){for(let t=0,i=this.bones.length;t<i;t++){const r=this.bones[t];if(r.name===e)return r}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,t){this.uuid=e.uuid;for(let i=0,r=e.bones.length;i<r;i++){const s=e.bones[i];let o=t[s];o===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",s),o=new lc),this.bones.push(o),this.boneInverses.push(new $e().fromArray(e.boneInverses[i]))}return this.init(),this}toJSON(){const e={metadata:{version:4.5,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const t=this.bones,i=this.boneInverses;for(let r=0,s=t.length;r<s;r++){const o=t[r];e.bones.push(o.uuid);const a=i[r];e.boneInverses.push(a.toArray())}return e}}class cc extends Tt{constructor(e,t,i,r=1){typeof i=="number"&&(r=i,i=!1,console.error("THREE.InstancedBufferAttribute: The constructor now expects normalized as the third argument."));super(e,t,i);this.meshPerAttribute=r}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}cc.prototype.isInstancedBufferAttribute=!0;const kC=new $e,HC=new $e,z3=[],T1=new En;class Nf extends En{constructor(e,t,i){super(e,t);this.instanceMatrix=new cc(new Float32Array(i*16),16),this.instanceColor=null,this.count=i,this.frustumCulled=!1}copy(e){return super.copy(e),this.instanceMatrix.copy(e.instanceMatrix),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,this}getColorAt(e,t){t.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,t){t.fromArray(this.instanceMatrix.array,e*16)}raycast(e,t){const i=this.matrixWorld,r=this.count;if(T1.geometry=this.geometry,T1.material=this.material,T1.material!==void 0)for(let s=0;s<r;s++){this.getMatrixAt(s,kC),HC.multiplyMatrices(i,kC),T1.matrixWorld=HC,T1.raycast(e,z3);for(let o=0,a=z3.length;o<a;o++){const l=z3[o];l.instanceId=s,l.object=this,t.push(l)}z3.length=0}}setColorAt(e,t){this.instanceColor===null&&(this.instanceColor=new cc(new Float32Array(this.instanceMatrix.count*3),3)),t.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,t){t.toArray(this.instanceMatrix.array,e*16)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"})}}Nf.prototype.isInstancedMesh=!0;class Kn extends si{constructor(e){super();this.type="LineBasicMaterial",this.color=new We(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this}}Kn.prototype.isLineBasicMaterial=!0;const GC=new Z,VC=new Z,WC=new $e,$7=new Aa,k3=new R0;class Cs extends At{constructor(e=new ot,t=new Kn){super();this.type="Line",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e){return super.copy(e),this.material=e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.isBufferGeometry)if(e.index===null){const t=e.attributes.position,i=[0];for(let r=1,s=t.count;r<s;r++)GC.fromBufferAttribute(t,r-1),VC.fromBufferAttribute(t,r),i[r]=i[r-1],i[r]+=GC.distanceTo(VC);e.setAttribute("lineDistance",new je(i,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else e.isGeometry&&console.error("THREE.Line.computeLineDistances() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.");return this}raycast(e,t){const i=this.geometry,r=this.matrixWorld,s=e.params.Line.threshold,o=i.drawRange;if(i.boundingSphere===null&&i.computeBoundingSphere(),k3.copy(i.boundingSphere),k3.applyMatrix4(r),k3.radius+=s,e.ray.intersectsSphere(k3)===!1)return;WC.copy(r).invert(),$7.copy(e.ray).applyMatrix4(WC);const a=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a,c=new Z,u=new Z,f=new Z,h=new Z,d=this.isLineSegments?2:1;if(i.isBufferGeometry){const m=i.index,_=i.attributes.position;if(m!==null){const g=Math.max(0,o.start),x=Math.min(m.count,o.start+o.count);for(let b=g,w=x-1;b<w;b+=d){const S=m.getX(b),A=m.getX(b+1);if(c.fromBufferAttribute(_,S),u.fromBufferAttribute(_,A),$7.distanceSqToSegment(c,u,h,f)>l)continue;h.applyMatrix4(this.matrixWorld);const F=e.ray.origin.distanceTo(h);F<e.near||F>e.far||t.push({distance:F,point:f.clone().applyMatrix4(this.matrixWorld),index:b,face:null,faceIndex:null,object:this})}}else{const g=Math.max(0,o.start),x=Math.min(_.count,o.start+o.count);for(let b=g,w=x-1;b<w;b+=d){if(c.fromBufferAttribute(_,b),u.fromBufferAttribute(_,b+1),$7.distanceSqToSegment(c,u,h,f)>l)continue;h.applyMatrix4(this.matrixWorld);const A=e.ray.origin.distanceTo(h);A<e.near||A>e.far||t.push({distance:A,point:f.clone().applyMatrix4(this.matrixWorld),index:b,face:null,faceIndex:null,object:this})}}}else i.isGeometry&&console.error("THREE.Line.raycast() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}updateMorphTargets(){const e=this.geometry;if(e.isBufferGeometry){const t=e.morphAttributes,i=Object.keys(t);if(i.length>0){const r=t[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=r.length;s<o;s++){const a=r[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}else{const t=e.morphTargets;t!==void 0&&t.length>0&&console.error("THREE.Line.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.")}}}Cs.prototype.isLine=!0;const XC=new Z,YC=new Z;class dr extends Cs{constructor(e,t){super(e,t);this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.isBufferGeometry)if(e.index===null){const t=e.attributes.position,i=[];for(let r=0,s=t.count;r<s;r+=2)XC.fromBufferAttribute(t,r),YC.fromBufferAttribute(t,r+1),i[r]=r===0?0:i[r-1],i[r+1]=i[r]+XC.distanceTo(YC);e.setAttribute("lineDistance",new je(i,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else e.isGeometry&&console.error("THREE.LineSegments.computeLineDistances() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.");return this}}dr.prototype.isLineSegments=!0;class H3 extends Cs{constructor(e,t){super(e,t);this.type="LineLoop"}}H3.prototype.isLineLoop=!0;class Fo extends si{constructor(e){super();this.type="PointsMaterial",this.color=new We(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this}}Fo.prototype.isPointsMaterial=!0;const $C=new $e,q7=new Aa,G3=new R0,V3=new Z;class uc extends At{constructor(e=new ot,t=new Fo){super();this.type="Points",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e){return super.copy(e),this.material=e.material,this.geometry=e.geometry,this}raycast(e,t){const i=this.geometry,r=this.matrixWorld,s=e.params.Points.threshold,o=i.drawRange;if(i.boundingSphere===null&&i.computeBoundingSphere(),G3.copy(i.boundingSphere),G3.applyMatrix4(r),G3.radius+=s,e.ray.intersectsSphere(G3)===!1)return;$C.copy(r).invert(),q7.copy(e.ray).applyMatrix4($C);const a=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a;if(i.isBufferGeometry){const c=i.index,f=i.attributes.position;if(c!==null){const h=Math.max(0,o.start),d=Math.min(c.count,o.start+o.count);for(let m=h,v=d;m<v;m++){const _=c.getX(m);V3.fromBufferAttribute(f,_),qC(V3,_,l,r,e,t,this)}}else{const h=Math.max(0,o.start),d=Math.min(f.count,o.start+o.count);for(let m=h,v=d;m<v;m++)V3.fromBufferAttribute(f,m),qC(V3,m,l,r,e,t,this)}}else console.error("THREE.Points.raycast() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}updateMorphTargets(){const e=this.geometry;if(e.isBufferGeometry){const t=e.morphAttributes,i=Object.keys(t);if(i.length>0){const r=t[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=r.length;s<o;s++){const a=r[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}else{const t=e.morphTargets;t!==void 0&&t.length>0&&console.error("THREE.Points.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.")}}}uc.prototype.isPoints=!0;function qC(n,e,t,i,r,s,o){const a=q7.distanceSqToPoint(n);if(a<t){const l=new Z;q7.closestPointToPoint(n,l),l.applyMatrix4(i);const c=r.ray.origin.distanceTo(l);if(c<r.near||c>r.far)return;s.push({distance:c,distanceToRay:Math.sqrt(a),point:l,index:e,face:null,object:o})}}class jC extends Tn{constructor(e,t,i,r,s,o,a,l,c){super(e,t,i,r,s,o,a,l,c);this.format=a!==void 0?a:Or,this.minFilter=o!==void 0?o:Ht,this.magFilter=s!==void 0?s:Ht,this.generateMipmaps=!1;const u=this;function f(){u.needsUpdate=!0,e.requestVideoFrameCallback(f)}"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback(f)}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}jC.prototype.isVideoTexture=!0;class j7 extends Tn{constructor(e,t,i,r,s,o,a,l,c,u,f,h){super(null,o,a,l,c,u,r,s,f,h);this.image={width:t,height:i},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}j7.prototype.isCompressedTexture=!0;class ZC extends Tn{constructor(e,t,i,r,s,o,a,l,c){super(e,t,i,r,s,o,a,l,c);this.needsUpdate=!0}}ZC.prototype.isCanvasTexture=!0;class Z7 extends Tn{constructor(e,t,i,r,s,o,a,l,c,u){if(u=u!==void 0?u:Kl,u!==Kl&&u!==nf)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");i===void 0&&u===Kl&&(i=ef),i===void 0&&u===nf&&(i=tf);super(null,r,s,o,a,l,u,i,c);this.image={width:e,height:t},this.magFilter=a!==void 0?a:Qt,this.minFilter=l!==void 0?l:Qt,this.flipY=!1,this.generateMipmaps=!1}}Z7.prototype.isDepthTexture=!0;class fc extends ot{constructor(e=1,t=8,i=0,r=Math.PI*2){super();this.type="CircleGeometry",this.parameters={radius:e,segments:t,thetaStart:i,thetaLength:r},t=Math.max(3,t);const s=[],o=[],a=[],l=[],c=new Z,u=new Ie;o.push(0,0,0),a.push(0,0,1),l.push(.5,.5);for(let f=0,h=3;f<=t;f++,h+=3){const d=i+f/t*r;c.x=e*Math.cos(d),c.y=e*Math.sin(d),o.push(c.x,c.y,c.z),a.push(0,0,1),u.x=(o[h]/e+1)/2,u.y=(o[h+1]/e+1)/2,l.push(u.x,u.y)}for(let f=1;f<=t;f++)s.push(f,f+1,0);this.setIndex(s),this.setAttribute("position",new je(o,3)),this.setAttribute("normal",new je(a,3)),this.setAttribute("uv",new je(l,2))}static fromJSON(e){return new fc(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class Io extends ot{constructor(e=1,t=1,i=1,r=8,s=1,o=!1,a=0,l=Math.PI*2){super();this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:i,radialSegments:r,heightSegments:s,openEnded:o,thetaStart:a,thetaLength:l};const c=this;r=Math.floor(r),s=Math.floor(s);const u=[],f=[],h=[],d=[];let m=0;const v=[],_=i/2;let g=0;x(),o===!1&&(e>0&&b(!0),t>0&&b(!1)),this.setIndex(u),this.setAttribute("position",new je(f,3)),this.setAttribute("normal",new je(h,3)),this.setAttribute("uv",new je(d,2));function x(){const w=new Z,S=new Z;let A=0;const T=(t-e)/i;for(let F=0;F<=s;F++){const U=[],N=F/s,O=N*(t-e)+e;for(let G=0;G<=r;G++){const D=G/r,P=D*l+a,I=Math.sin(P),C=Math.cos(P);S.x=O*I,S.y=-N*i+_,S.z=O*C,f.push(S.x,S.y,S.z),w.set(I,T,C).normalize(),h.push(w.x,w.y,w.z),d.push(D,1-N),U.push(m++)}v.push(U)}for(let F=0;F<r;F++)for(let U=0;U<s;U++){const N=v[U][F],O=v[U+1][F],G=v[U+1][F+1],D=v[U][F+1];u.push(N,O,D),u.push(O,G,D),A+=6}c.addGroup(g,A,0),g+=A}function b(w){const S=m,A=new Ie,T=new Z;let F=0;const U=w===!0?e:t,N=w===!0?1:-1;for(let G=1;G<=r;G++)f.push(0,_*N,0),h.push(0,N,0),d.push(.5,.5),m++;const O=m;for(let G=0;G<=r;G++){const P=G/r*l+a,I=Math.cos(P),C=Math.sin(P);T.x=U*C,T.y=_*N,T.z=U*I,f.push(T.x,T.y,T.z),h.push(0,N,0),A.x=I*.5+.5,A.y=C*.5*N+.5,d.push(A.x,A.y),m++}for(let G=0;G<r;G++){const D=S+G,P=O+G;w===!0?u.push(P,P+1,D):u.push(P+1,P,D),F+=3}c.addGroup(g,F,w===!0?1:2),g+=F}}static fromJSON(e){return new Io(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class hc extends Io{constructor(e=1,t=1,i=8,r=1,s=!1,o=0,a=Math.PI*2){super(0,e,t,i,r,s,o,a);this.type="ConeGeometry",this.parameters={radius:e,height:t,radialSegments:i,heightSegments:r,openEnded:s,thetaStart:o,thetaLength:a}}static fromJSON(e){return new hc(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class i0 extends ot{constructor(e,t,i=1,r=0){super();this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:t,radius:i,detail:r};const s=[],o=[];a(r),c(i),u(),this.setAttribute("position",new je(s,3)),this.setAttribute("normal",new je(s.slice(),3)),this.setAttribute("uv",new je(o,2)),r===0?this.computeVertexNormals():this.normalizeNormals();function a(x){const b=new Z,w=new Z,S=new Z;for(let A=0;A<t.length;A+=3)d(t[A+0],b),d(t[A+1],w),d(t[A+2],S),l(b,w,S,x)}function l(x,b,w,S){const A=S+1,T=[];for(let F=0;F<=A;F++){T[F]=[];const U=x.clone().lerp(w,F/A),N=b.clone().lerp(w,F/A),O=A-F;for(let G=0;G<=O;G++)G===0&&F===A?T[F][G]=U:T[F][G]=U.clone().lerp(N,G/O)}for(let F=0;F<A;F++)for(let U=0;U<2*(A-F)-1;U++){const N=Math.floor(U/2);U%2==0?(h(T[F][N+1]),h(T[F+1][N]),h(T[F][N])):(h(T[F][N+1]),h(T[F+1][N+1]),h(T[F+1][N]))}}function c(x){const b=new Z;for(let w=0;w<s.length;w+=3)b.x=s[w+0],b.y=s[w+1],b.z=s[w+2],b.normalize().multiplyScalar(x),s[w+0]=b.x,s[w+1]=b.y,s[w+2]=b.z}function u(){const x=new Z;for(let b=0;b<s.length;b+=3){x.x=s[b+0],x.y=s[b+1],x.z=s[b+2];const w=_(x)/2/Math.PI+.5,S=g(x)/Math.PI+.5;o.push(w,1-S)}m(),f()}function f(){for(let x=0;x<o.length;x+=6){const b=o[x+0],w=o[x+2],S=o[x+4],A=Math.max(b,w,S),T=Math.min(b,w,S);A>.9&&T<.1&&(b<.2&&(o[x+0]+=1),w<.2&&(o[x+2]+=1),S<.2&&(o[x+4]+=1))}}function h(x){s.push(x.x,x.y,x.z)}function d(x,b){const w=x*3;b.x=e[w+0],b.y=e[w+1],b.z=e[w+2]}function m(){const x=new Z,b=new Z,w=new Z,S=new Z,A=new Ie,T=new Ie,F=new Ie;for(let U=0,N=0;U<s.length;U+=9,N+=6){x.set(s[U+0],s[U+1],s[U+2]),b.set(s[U+3],s[U+4],s[U+5]),w.set(s[U+6],s[U+7],s[U+8]),A.set(o[N+0],o[N+1]),T.set(o[N+2],o[N+3]),F.set(o[N+4],o[N+5]),S.copy(x).add(b).add(w).divideScalar(3);const O=_(S);v(A,N+0,x,O),v(T,N+2,b,O),v(F,N+4,w,O)}}function v(x,b,w,S){S<0&&x.x===1&&(o[b]=x.x-1),w.x===0&&w.z===0&&(o[b]=S/2/Math.PI+.5)}function _(x){return Math.atan2(x.z,-x.x)}function g(x){return Math.atan2(-x.y,Math.sqrt(x.x*x.x+x.z*x.z))}}static fromJSON(e){return new i0(e.vertices,e.indices,e.radius,e.details)}}class dc extends i0{constructor(e=1,t=0){const i=(1+Math.sqrt(5))/2,r=1/i,s=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-r,-i,0,-r,i,0,r,-i,0,r,i,-r,-i,0,-r,i,0,r,-i,0,r,i,0,-i,0,-r,i,0,-r,-i,0,r,i,0,r],o=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(s,o,e,t);this.type="DodecahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new dc(e.radius,e.detail)}}const W3=new Z,X3=new Z,Q7=new Z,Y3=new Zn;class J7 extends ot{constructor(e,t){super();if(this.type="EdgesGeometry",this.parameters={thresholdAngle:t},t=t!==void 0?t:1,e.isGeometry===!0){console.error("THREE.EdgesGeometry no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.");return}const r=Math.pow(10,4),s=Math.cos(ic*t),o=e.getIndex(),a=e.getAttribute("position"),l=o?o.count:a.count,c=[0,0,0],u=["a","b","c"],f=new Array(3),h={},d=[];for(let m=0;m<l;m+=3){o?(c[0]=o.getX(m),c[1]=o.getX(m+1),c[2]=o.getX(m+2)):(c[0]=m,c[1]=m+1,c[2]=m+2);const{a:v,b:_,c:g}=Y3;if(v.fromBufferAttribute(a,c[0]),_.fromBufferAttribute(a,c[1]),g.fromBufferAttribute(a,c[2]),Y3.getNormal(Q7),f[0]=`${Math.round(v.x*r)},${Math.round(v.y*r)},${Math.round(v.z*r)}`,f[1]=`${Math.round(_.x*r)},${Math.round(_.y*r)},${Math.round(_.z*r)}`,f[2]=`${Math.round(g.x*r)},${Math.round(g.y*r)},${Math.round(g.z*r)}`,!(f[0]===f[1]||f[1]===f[2]||f[2]===f[0]))for(let x=0;x<3;x++){const b=(x+1)%3,w=f[x],S=f[b],A=Y3[u[x]],T=Y3[u[b]],F=`${w}_${S}`,U=`${S}_${w}`;U in h&&h[U]?(Q7.dot(h[U].normal)<=s&&(d.push(A.x,A.y,A.z),d.push(T.x,T.y,T.z)),h[U]=null):F in h||(h[F]={index0:c[x],index1:c[b],normal:Q7.clone()})}}for(const m in h)if(h[m]){const{index0:v,index1:_}=h[m];W3.fromBufferAttribute(a,v),X3.fromBufferAttribute(a,_),d.push(W3.x,W3.y,W3.z),d.push(X3.x,X3.y,X3.z)}this.setAttribute("position",new je(d,3))}}class pr{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(e,t){const i=this.getUtoTmapping(e);return this.getPoint(i,t)}getPoints(e=5){const t=[];for(let i=0;i<=e;i++)t.push(this.getPoint(i/e));return t}getSpacedPoints(e=5){const t=[];for(let i=0;i<=e;i++)t.push(this.getPointAt(i/e));return t}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const t=[];let i,r=this.getPoint(0),s=0;t.push(0);for(let o=1;o<=e;o++)i=this.getPoint(o/e),s+=i.distanceTo(r),t.push(s),r=i;return this.cacheArcLengths=t,t}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,t){const i=this.getLengths();let r=0;const s=i.length;let o;t?o=t:o=e*i[s-1];let a=0,l=s-1,c;for(;a<=l;)if(r=Math.floor(a+(l-a)/2),c=i[r]-o,c<0)a=r+1;else if(c>0)l=r-1;else{l=r;break}if(r=l,i[r]===o)return r/(s-1);const u=i[r],h=i[r+1]-u,d=(o-u)/h;return(r+d)/(s-1)}getTangent(e,t){const i=1e-4;let r=e-i,s=e+i;r<0&&(r=0),s>1&&(s=1);const o=this.getPoint(r),a=this.getPoint(s),l=t||(o.isVector2?new Ie:new Z);return l.copy(a).sub(o).normalize(),l}getTangentAt(e,t){const i=this.getUtoTmapping(e);return this.getTangent(i,t)}computeFrenetFrames(e,t){const i=new Z,r=[],s=[],o=[],a=new Z,l=new $e;for(let d=0;d<=e;d++){const m=d/e;r[d]=this.getTangentAt(m,new Z),r[d].normalize()}s[0]=new Z,o[0]=new Z;let c=Number.MAX_VALUE;const u=Math.abs(r[0].x),f=Math.abs(r[0].y),h=Math.abs(r[0].z);u<=c&&(c=u,i.set(1,0,0)),f<=c&&(c=f,i.set(0,1,0)),h<=c&&i.set(0,0,1),a.crossVectors(r[0],i).normalize(),s[0].crossVectors(r[0],a),o[0].crossVectors(r[0],s[0]);for(let d=1;d<=e;d++){if(s[d]=s[d-1].clone(),o[d]=o[d-1].clone(),a.crossVectors(r[d-1],r[d]),a.length()>Number.EPSILON){a.normalize();const m=Math.acos(Fi(r[d-1].dot(r[d]),-1,1));s[d].applyMatrix4(l.makeRotationAxis(a,m))}o[d].crossVectors(r[d],s[d])}if(t===!0){let d=Math.acos(Fi(s[0].dot(s[e]),-1,1));d/=e,r[0].dot(a.crossVectors(s[0],s[e]))>0&&(d=-d);for(let m=1;m<=e;m++)s[m].applyMatrix4(l.makeRotationAxis(r[m],d*m)),o[m].crossVectors(r[m],s[m])}return{tangents:r,normals:s,binormals:o}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class E1 extends pr{constructor(e=0,t=0,i=1,r=1,s=0,o=Math.PI*2,a=!1,l=0){super();this.type="EllipseCurve",this.aX=e,this.aY=t,this.xRadius=i,this.yRadius=r,this.aStartAngle=s,this.aEndAngle=o,this.aClockwise=a,this.aRotation=l}getPoint(e,t){const i=t||new Ie,r=Math.PI*2;let s=this.aEndAngle-this.aStartAngle;const o=Math.abs(s)<Number.EPSILON;for(;s<0;)s+=r;for(;s>r;)s-=r;s<Number.EPSILON&&(o?s=0:s=r),this.aClockwise===!0&&!o&&(s===r?s=-r:s=s-r);const a=this.aStartAngle+e*s;let l=this.aX+this.xRadius*Math.cos(a),c=this.aY+this.yRadius*Math.sin(a);if(this.aRotation!==0){const u=Math.cos(this.aRotation),f=Math.sin(this.aRotation),h=l-this.aX,d=c-this.aY;l=h*u-d*f+this.aX,c=h*f+d*u+this.aY}return i.set(l,c)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}E1.prototype.isEllipseCurve=!0;class K7 extends E1{constructor(e,t,i,r,s,o){super(e,t,i,i,r,s,o);this.type="ArcCurve"}}K7.prototype.isArcCurve=!0;function ev(){let n=0,e=0,t=0,i=0;function r(s,o,a,l){n=s,e=a,t=-3*s+3*o-2*a-l,i=2*s-2*o+a+l}return{initCatmullRom:function(s,o,a,l,c){r(o,a,c*(a-s),c*(l-o))},initNonuniformCatmullRom:function(s,o,a,l,c,u,f){let h=(o-s)/c-(a-s)/(c+u)+(a-o)/u,d=(a-o)/u-(l-o)/(u+f)+(l-a)/f;h*=u,d*=u,r(o,a,h,d)},calc:function(s){const o=s*s,a=o*s;return n+e*s+t*o+i*a}}}const $3=new Z,tv=new ev,nv=new ev,iv=new ev;class L1 extends pr{constructor(e=[],t=!1,i="centripetal",r=.5){super();this.type="CatmullRomCurve3",this.points=e,this.closed=t,this.curveType=i,this.tension=r}getPoint(e,t=new Z){const i=t,r=this.points,s=r.length,o=(s-(this.closed?0:1))*e;let a=Math.floor(o),l=o-a;this.closed?a+=a>0?0:(Math.floor(Math.abs(a)/s)+1)*s:l===0&&a===s-1&&(a=s-2,l=1);let c,u;this.closed||a>0?c=r[(a-1)%s]:($3.subVectors(r[0],r[1]).add(r[0]),c=$3);const f=r[a%s],h=r[(a+1)%s];if(this.closed||a+2<s?u=r[(a+2)%s]:($3.subVectors(r[s-1],r[s-2]).add(r[s-1]),u=$3),this.curveType==="centripetal"||this.curveType==="chordal"){const d=this.curveType==="chordal"?.5:.25;let m=Math.pow(c.distanceToSquared(f),d),v=Math.pow(f.distanceToSquared(h),d),_=Math.pow(h.distanceToSquared(u),d);v<1e-4&&(v=1),m<1e-4&&(m=v),_<1e-4&&(_=v),tv.initNonuniformCatmullRom(c.x,f.x,h.x,u.x,m,v,_),nv.initNonuniformCatmullRom(c.y,f.y,h.y,u.y,m,v,_),iv.initNonuniformCatmullRom(c.z,f.z,h.z,u.z,m,v,_)}else this.curveType==="catmullrom"&&(tv.initCatmullRom(c.x,f.x,h.x,u.x,this.tension),nv.initCatmullRom(c.y,f.y,h.y,u.y,this.tension),iv.initCatmullRom(c.z,f.z,h.z,u.z,this.tension));return i.set(tv.calc(l),nv.calc(l),iv.calc(l)),i}copy(e){super.copy(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const r=e.points[t];this.points.push(r.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,i=this.points.length;t<i;t++){const r=this.points[t];e.points.push(r.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const r=e.points[t];this.points.push(new Z().fromArray(r))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}L1.prototype.isCatmullRomCurve3=!0;function QC(n,e,t,i,r){const s=(i-e)*.5,o=(r-t)*.5,a=n*n,l=n*a;return(2*t-2*i+s+o)*l+(-3*t+3*i-2*s-o)*a+s*n+t}function Gie(n,e){const t=1-n;return t*t*e}function Vie(n,e){return 2*(1-n)*n*e}function Wie(n,e){return n*n*e}function C1(n,e,t,i){return Gie(n,e)+Vie(n,t)+Wie(n,i)}function Xie(n,e){const t=1-n;return t*t*t*e}function Yie(n,e){const t=1-n;return 3*t*t*n*e}function $ie(n,e){return 3*(1-n)*n*n*e}function qie(n,e){return n*n*n*e}function P1(n,e,t,i,r){return Xie(n,e)+Yie(n,t)+$ie(n,i)+qie(n,r)}class q3 extends pr{constructor(e=new Ie,t=new Ie,i=new Ie,r=new Ie){super();this.type="CubicBezierCurve",this.v0=e,this.v1=t,this.v2=i,this.v3=r}getPoint(e,t=new Ie){const i=t,r=this.v0,s=this.v1,o=this.v2,a=this.v3;return i.set(P1(e,r.x,s.x,o.x,a.x),P1(e,r.y,s.y,o.y,a.y)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}q3.prototype.isCubicBezierCurve=!0;class rv extends pr{constructor(e=new Z,t=new Z,i=new Z,r=new Z){super();this.type="CubicBezierCurve3",this.v0=e,this.v1=t,this.v2=i,this.v3=r}getPoint(e,t=new Z){const i=t,r=this.v0,s=this.v1,o=this.v2,a=this.v3;return i.set(P1(e,r.x,s.x,o.x,a.x),P1(e,r.y,s.y,o.y,a.y),P1(e,r.z,s.z,o.z,a.z)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}rv.prototype.isCubicBezierCurve3=!0;class R1 extends pr{constructor(e=new Ie,t=new Ie){super();this.type="LineCurve",this.v1=e,this.v2=t}getPoint(e,t=new Ie){const i=t;return e===1?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(e).add(this.v1)),i}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t){const i=t||new Ie;return i.copy(this.v2).sub(this.v1).normalize(),i}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}R1.prototype.isLineCurve=!0;class JC extends pr{constructor(e=new Z,t=new Z){super();this.type="LineCurve3",this.isLineCurve3=!0,this.v1=e,this.v2=t}getPoint(e,t=new Z){const i=t;return e===1?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(e).add(this.v1)),i}getPointAt(e,t){return this.getPoint(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class j3 extends pr{constructor(e=new Ie,t=new Ie,i=new Ie){super();this.type="QuadraticBezierCurve",this.v0=e,this.v1=t,this.v2=i}getPoint(e,t=new Ie){const i=t,r=this.v0,s=this.v1,o=this.v2;return i.set(C1(e,r.x,s.x,o.x),C1(e,r.y,s.y,o.y)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}j3.prototype.isQuadraticBezierCurve=!0;class sv extends pr{constructor(e=new Z,t=new Z,i=new Z){super();this.type="QuadraticBezierCurve3",this.v0=e,this.v1=t,this.v2=i}getPoint(e,t=new Z){const i=t,r=this.v0,s=this.v1,o=this.v2;return i.set(C1(e,r.x,s.x,o.x),C1(e,r.y,s.y,o.y),C1(e,r.z,s.z,o.z)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}sv.prototype.isQuadraticBezierCurve3=!0;class Z3 extends pr{constructor(e=[]){super();this.type="SplineCurve",this.points=e}getPoint(e,t=new Ie){const i=t,r=this.points,s=(r.length-1)*e,o=Math.floor(s),a=s-o,l=r[o===0?o:o-1],c=r[o],u=r[o>r.length-2?r.length-1:o+1],f=r[o>r.length-3?r.length-1:o+2];return i.set(QC(a,l.x,c.x,u.x,f.x),QC(a,l.y,c.y,u.y,f.y)),i}copy(e){super.copy(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const r=e.points[t];this.points.push(r.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,i=this.points.length;t<i;t++){const r=this.points[t];e.points.push(r.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const r=e.points[t];this.points.push(new Ie().fromArray(r))}return this}}Z3.prototype.isSplineCurve=!0;var ov=Object.freeze({__proto__:null,ArcCurve:K7,CatmullRomCurve3:L1,CubicBezierCurve:q3,CubicBezierCurve3:rv,EllipseCurve:E1,LineCurve:R1,LineCurve3:JC,QuadraticBezierCurve:j3,QuadraticBezierCurve3:sv,SplineCurve:Z3});const jie={triangulate:function(n,e,t=2){const i=e&&e.length,r=i?e[0]*t:n.length;let s=KC(n,0,r,t,!0);const o=[];if(!s||s.next===s.prev)return o;let a,l,c,u,f,h,d;if(i&&(s=ere(n,e,s,t)),n.length>80*t){a=c=n[0],l=u=n[1];for(let m=t;m<r;m+=t)f=n[m],h=n[m+1],f<a&&(a=f),h<l&&(l=h),f>c&&(c=f),h>u&&(u=h);d=Math.max(c-a,u-l),d=d!==0?1/d:0}return F1(s,o,t,a,l,d),o}};function KC(n,e,t,i,r){let s,o;if(r===fre(n,e,t,i)>0)for(s=e;s<t;s+=i)o=nP(s,n[s],n[s+1],o);else for(s=t-i;s>=e;s-=i)o=nP(s,n[s],n[s+1],o);return o&&Q3(o,o.next)&&(D1(o),o=o.next),o}function Ia(n,e){if(!n)return n;e||(e=n);let t=n,i;do if(i=!1,!t.steiner&&(Q3(t,t.next)||Nn(t.prev,t,t.next)===0)){if(D1(t),t=e=t.prev,t===t.next)break;i=!0}else t=t.next;while(i||t!==e);return e}function F1(n,e,t,i,r,s,o){if(!n)return;!o&&s&&sre(n,i,r,s);let a=n,l,c;for(;n.prev!==n.next;){if(l=n.prev,c=n.next,s?Qie(n,i,r,s):Zie(n)){e.push(l.i/t),e.push(n.i/t),e.push(c.i/t),D1(n),n=c.next,a=c.next;continue}if(n=c,n===a){o?o===1?(n=Jie(Ia(n),e,t),F1(n,e,t,i,r,s,2)):o===2&&Kie(n,e,t,i,r,s):F1(Ia(n),e,t,i,r,s,1);break}}}function Zie(n){const e=n.prev,t=n,i=n.next;if(Nn(e,t,i)>=0)return!1;let r=n.next.next;for(;r!==n.prev;){if(Of(e.x,e.y,t.x,t.y,i.x,i.y,r.x,r.y)&&Nn(r.prev,r,r.next)>=0)return!1;r=r.next}return!0}function Qie(n,e,t,i){const r=n.prev,s=n,o=n.next;if(Nn(r,s,o)>=0)return!1;const a=r.x<s.x?r.x<o.x?r.x:o.x:s.x<o.x?s.x:o.x,l=r.y<s.y?r.y<o.y?r.y:o.y:s.y<o.y?s.y:o.y,c=r.x>s.x?r.x>o.x?r.x:o.x:s.x>o.x?s.x:o.x,u=r.y>s.y?r.y>o.y?r.y:o.y:s.y>o.y?s.y:o.y,f=av(a,l,e,t,i),h=av(c,u,e,t,i);let d=n.prevZ,m=n.nextZ;for(;d&&d.z>=f&&m&&m.z<=h;){if(d!==n.prev&&d!==n.next&&Of(r.x,r.y,s.x,s.y,o.x,o.y,d.x,d.y)&&Nn(d.prev,d,d.next)>=0||(d=d.prevZ,m!==n.prev&&m!==n.next&&Of(r.x,r.y,s.x,s.y,o.x,o.y,m.x,m.y)&&Nn(m.prev,m,m.next)>=0))return!1;m=m.nextZ}for(;d&&d.z>=f;){if(d!==n.prev&&d!==n.next&&Of(r.x,r.y,s.x,s.y,o.x,o.y,d.x,d.y)&&Nn(d.prev,d,d.next)>=0)return!1;d=d.prevZ}for(;m&&m.z<=h;){if(m!==n.prev&&m!==n.next&&Of(r.x,r.y,s.x,s.y,o.x,o.y,m.x,m.y)&&Nn(m.prev,m,m.next)>=0)return!1;m=m.nextZ}return!0}function Jie(n,e,t){let i=n;do{const r=i.prev,s=i.next.next;!Q3(r,s)&&eP(r,i,i.next,s)&&I1(r,s)&&I1(s,r)&&(e.push(r.i/t),e.push(i.i/t),e.push(s.i/t),D1(i),D1(i.next),i=n=s),i=i.next}while(i!==n);return Ia(i)}function Kie(n,e,t,i,r,s){let o=n;do{let a=o.next.next;for(;a!==o.prev;){if(o.i!==a.i&&lre(o,a)){let l=tP(o,a);o=Ia(o,o.next),l=Ia(l,l.next),F1(o,e,t,i,r,s),F1(l,e,t,i,r,s);return}a=a.next}o=o.next}while(o!==n)}function ere(n,e,t,i){const r=[];let s,o,a,l,c;for(s=0,o=e.length;s<o;s++)a=e[s]*i,l=s<o-1?e[s+1]*i:n.length,c=KC(n,a,l,i,!1),c===c.next&&(c.steiner=!0),r.push(are(c));for(r.sort(tre),s=0;s<r.length;s++)nre(r[s],t),t=Ia(t,t.next);return t}function tre(n,e){return n.x-e.x}function nre(n,e){if(e=ire(n,e),e){const t=tP(e,n);Ia(e,e.next),Ia(t,t.next)}}function ire(n,e){let t=e;const i=n.x,r=n.y;let s=-1/0,o;do{if(r<=t.y&&r>=t.next.y&&t.next.y!==t.y){const h=t.x+(r-t.y)*(t.next.x-t.x)/(t.next.y-t.y);if(h<=i&&h>s){if(s=h,h===i){if(r===t.y)return t;if(r===t.next.y)return t.next}o=t.x<t.next.x?t:t.next}}t=t.next}while(t!==e);if(!o)return null;if(i===s)return o;const a=o,l=o.x,c=o.y;let u=1/0,f;t=o;do i>=t.x&&t.x>=l&&i!==t.x&&Of(r<c?i:s,r,l,c,r<c?s:i,r,t.x,t.y)&&(f=Math.abs(r-t.y)/(i-t.x),I1(t,n)&&(f<u||f===u&&(t.x>o.x||t.x===o.x&&rre(o,t)))&&(o=t,u=f)),t=t.next;while(t!==a);return o}function rre(n,e){return Nn(n.prev,n,e.prev)<0&&Nn(e.next,n,n.next)<0}function sre(n,e,t,i){let r=n;do r.z===null&&(r.z=av(r.x,r.y,e,t,i)),r.prevZ=r.prev,r.nextZ=r.next,r=r.next;while(r!==n);r.prevZ.nextZ=null,r.prevZ=null,ore(r)}function ore(n){let e,t,i,r,s,o,a,l,c=1;do{for(t=n,n=null,s=null,o=0;t;){for(o++,i=t,a=0,e=0;e<c&&(a++,i=i.nextZ,!!i);e++);for(l=c;a>0||l>0&&i;)a!==0&&(l===0||!i||t.z<=i.z)?(r=t,t=t.nextZ,a--):(r=i,i=i.nextZ,l--),s?s.nextZ=r:n=r,r.prevZ=s,s=r;t=i}s.nextZ=null,c*=2}while(o>1);return n}function av(n,e,t,i,r){return n=32767*(n-t)*r,e=32767*(e-i)*r,n=(n|n<<8)&16711935,n=(n|n<<4)&252645135,n=(n|n<<2)&858993459,n=(n|n<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,n|e<<1}function are(n){let e=n,t=n;do(e.x<t.x||e.x===t.x&&e.y<t.y)&&(t=e),e=e.next;while(e!==n);return t}function Of(n,e,t,i,r,s,o,a){return(r-o)*(e-a)-(n-o)*(s-a)>=0&&(n-o)*(i-a)-(t-o)*(e-a)>=0&&(t-o)*(s-a)-(r-o)*(i-a)>=0}function lre(n,e){return n.next.i!==e.i&&n.prev.i!==e.i&&!cre(n,e)&&(I1(n,e)&&I1(e,n)&&ure(n,e)&&(Nn(n.prev,n,e.prev)||Nn(n,e.prev,e))||Q3(n,e)&&Nn(n.prev,n,n.next)>0&&Nn(e.prev,e,e.next)>0)}function Nn(n,e,t){return(e.y-n.y)*(t.x-e.x)-(e.x-n.x)*(t.y-e.y)}function Q3(n,e){return n.x===e.x&&n.y===e.y}function eP(n,e,t,i){const r=K3(Nn(n,e,t)),s=K3(Nn(n,e,i)),o=K3(Nn(t,i,n)),a=K3(Nn(t,i,e));return!!(r!==s&&o!==a||r===0&&J3(n,t,e)||s===0&&J3(n,i,e)||o===0&&J3(t,n,i)||a===0&&J3(t,e,i))}function J3(n,e,t){return e.x<=Math.max(n.x,t.x)&&e.x>=Math.min(n.x,t.x)&&e.y<=Math.max(n.y,t.y)&&e.y>=Math.min(n.y,t.y)}function K3(n){return n>0?1:n<0?-1:0}function cre(n,e){let t=n;do{if(t.i!==n.i&&t.next.i!==n.i&&t.i!==e.i&&t.next.i!==e.i&&eP(t,t.next,n,e))return!0;t=t.next}while(t!==n);return!1}function I1(n,e){return Nn(n.prev,n,n.next)<0?Nn(n,e,n.next)>=0&&Nn(n,n.prev,e)>=0:Nn(n,e,n.prev)<0||Nn(n,n.next,e)<0}function ure(n,e){let t=n,i=!1;const r=(n.x+e.x)/2,s=(n.y+e.y)/2;do t.y>s!=t.next.y>s&&t.next.y!==t.y&&r<(t.next.x-t.x)*(s-t.y)/(t.next.y-t.y)+t.x&&(i=!i),t=t.next;while(t!==n);return i}function tP(n,e){const t=new lv(n.i,n.x,n.y),i=new lv(e.i,e.x,e.y),r=n.next,s=e.prev;return n.next=e,e.prev=n,t.next=r,r.prev=t,i.next=t,t.prev=i,s.next=i,i.prev=s,i}function nP(n,e,t,i){const r=new lv(n,e,t);return i?(r.next=i.next,r.prev=i,i.next.prev=r,i.next=r):(r.prev=r,r.next=r),r}function D1(n){n.next.prev=n.prev,n.prev.next=n.next,n.prevZ&&(n.prevZ.nextZ=n.nextZ),n.nextZ&&(n.nextZ.prevZ=n.prevZ)}function lv(n,e,t){this.i=n,this.x=e,this.y=t,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function fre(n,e,t,i){let r=0;for(let s=e,o=t-i;s<t;s+=i)r+=(n[o]-n[s])*(n[s+1]+n[o+1]),o=s;return r}class N0{static area(e){const t=e.length;let i=0;for(let r=t-1,s=0;s<t;r=s++)i+=e[r].x*e[s].y-e[s].x*e[r].y;return i*.5}static isClockWise(e){return N0.area(e)<0}static triangulateShape(e,t){const i=[],r=[],s=[];iP(e),rP(i,e);let o=e.length;t.forEach(iP);for(let l=0;l<t.length;l++)r.push(o),o+=t[l].length,rP(i,t[l]);const a=jie.triangulate(i,r);for(let l=0;l<a.length;l+=3)s.push(a.slice(l,l+3));return s}}function iP(n){const e=n.length;e>2&&n[e-1].equals(n[0])&&n.pop()}function rP(n,e){for(let t=0;t<e.length;t++)n.push(e[t].x),n.push(e[t].y)}class r0 extends ot{constructor(e,t){super();this.type="ExtrudeGeometry",this.parameters={shapes:e,options:t},e=Array.isArray(e)?e:[e];const i=this,r=[],s=[];for(let a=0,l=e.length;a<l;a++){const c=e[a];o(c)}this.setAttribute("position",new je(r,3)),this.setAttribute("uv",new je(s,2)),this.computeVertexNormals();function o(a){const l=[],c=t.curveSegments!==void 0?t.curveSegments:12,u=t.steps!==void 0?t.steps:1;let f=t.depth!==void 0?t.depth:100,h=t.bevelEnabled!==void 0?t.bevelEnabled:!0,d=t.bevelThickness!==void 0?t.bevelThickness:6,m=t.bevelSize!==void 0?t.bevelSize:d-2,v=t.bevelOffset!==void 0?t.bevelOffset:0,_=t.bevelSegments!==void 0?t.bevelSegments:3;const g=t.extrudePath,x=t.UVGenerator!==void 0?t.UVGenerator:hre;t.amount!==void 0&&(console.warn("THREE.ExtrudeBufferGeometry: amount has been renamed to depth."),f=t.amount);let b,w=!1,S,A,T,F;g&&(b=g.getSpacedPoints(u),w=!0,h=!1,S=g.computeFrenetFrames(u,!1),A=new Z,T=new Z,F=new Z),h||(_=0,d=0,m=0,v=0);const U=a.extractPoints(c);let N=U.shape;const O=U.holes;if(!N0.isClockWise(N)){N=N.reverse();for(let X=0,z=O.length;X<z;X++){const W=O[X];N0.isClockWise(W)&&(O[X]=W.reverse())}}const D=N0.triangulateShape(N,O),P=N;for(let X=0,z=O.length;X<z;X++){const W=O[X];N=N.concat(W)}function I(X,z,W){return z||console.error("THREE.ExtrudeGeometry: vec does not exist"),z.clone().multiplyScalar(W).add(X)}const C=N.length,B=D.length;function Y(X,z,W){let se,ae,L;const E=X.x-z.x,J=X.y-z.y,K=W.x-X.x,ce=W.y-X.y,pe=E*E+J*J,Ce=E*ce-J*K;if(Math.abs(Ce)>Number.EPSILON){const Ae=Math.sqrt(pe),Re=Math.sqrt(K*K+ce*ce),Ee=z.x-J/Ae,V=z.y+E/Ae,we=W.x-ce/Re,le=W.y+K/Re,Pe=((we-Ee)*ce-(le-V)*K)/(E*ce-J*K);se=Ee+E*Pe-X.x,ae=V+J*Pe-X.y;const ee=se*se+ae*ae;if(ee<=2)return new Ie(se,ae);L=Math.sqrt(ee/2)}else{let Ae=!1;E>Number.EPSILON?K>Number.EPSILON&&(Ae=!0):E<-Number.EPSILON?K<-Number.EPSILON&&(Ae=!0):Math.sign(J)===Math.sign(ce)&&(Ae=!0),Ae?(se=-J,ae=E,L=Math.sqrt(pe)):(se=E,ae=J,L=Math.sqrt(pe/2))}return new Ie(se/L,ae/L)}const j=[];for(let X=0,z=P.length,W=z-1,se=X+1;X<z;X++,W++,se++)W===z&&(W=0),se===z&&(se=0),j[X]=Y(P[X],P[W],P[se]);const re=[];let ie,ve=j.concat();for(let X=0,z=O.length;X<z;X++){const W=O[X];ie=[];for(let se=0,ae=W.length,L=ae-1,E=se+1;se<ae;se++,L++,E++)L===ae&&(L=0),E===ae&&(E=0),ie[se]=Y(W[se],W[L],W[E]);re.push(ie),ve=ve.concat(ie)}for(let X=0;X<_;X++){const z=X/_,W=d*Math.cos(z*Math.PI/2),se=m*Math.sin(z*Math.PI/2)+v;for(let ae=0,L=P.length;ae<L;ae++){const E=I(P[ae],j[ae],se);ge(E.x,E.y,-W)}for(let ae=0,L=O.length;ae<L;ae++){const E=O[ae];ie=re[ae];for(let J=0,K=E.length;J<K;J++){const ce=I(E[J],ie[J],se);ge(ce.x,ce.y,-W)}}}const de=m+v;for(let X=0;X<C;X++){const z=h?I(N[X],ve[X],de):N[X];w?(T.copy(S.normals[0]).multiplyScalar(z.x),A.copy(S.binormals[0]).multiplyScalar(z.y),F.copy(b[0]).add(T).add(A),ge(F.x,F.y,F.z)):ge(z.x,z.y,0)}for(let X=1;X<=u;X++)for(let z=0;z<C;z++){const W=h?I(N[z],ve[z],de):N[z];w?(T.copy(S.normals[X]).multiplyScalar(W.x),A.copy(S.binormals[X]).multiplyScalar(W.y),F.copy(b[X]).add(T).add(A),ge(F.x,F.y,F.z)):ge(W.x,W.y,f/u*X)}for(let X=_-1;X>=0;X--){const z=X/_,W=d*Math.cos(z*Math.PI/2),se=m*Math.sin(z*Math.PI/2)+v;for(let ae=0,L=P.length;ae<L;ae++){const E=I(P[ae],j[ae],se);ge(E.x,E.y,f+W)}for(let ae=0,L=O.length;ae<L;ae++){const E=O[ae];ie=re[ae];for(let J=0,K=E.length;J<K;J++){const ce=I(E[J],ie[J],se);w?ge(ce.x,ce.y+b[u-1].y,b[u-1].x+W):ge(ce.x,ce.y,f+W)}}}ye(),te();function ye(){const X=r.length/3;if(h){let z=0,W=C*z;for(let se=0;se<B;se++){const ae=D[se];be(ae[2]+W,ae[1]+W,ae[0]+W)}z=u+_*2,W=C*z;for(let se=0;se<B;se++){const ae=D[se];be(ae[0]+W,ae[1]+W,ae[2]+W)}}else{for(let z=0;z<B;z++){const W=D[z];be(W[2],W[1],W[0])}for(let z=0;z<B;z++){const W=D[z];be(W[0]+C*u,W[1]+C*u,W[2]+C*u)}}i.addGroup(X,r.length/3-X,0)}function te(){const X=r.length/3;let z=0;$(P,z),z+=P.length;for(let W=0,se=O.length;W<se;W++){const ae=O[W];$(ae,z),z+=ae.length}i.addGroup(X,r.length/3-X,1)}function $(X,z){let W=X.length;for(;--W>=0;){const se=W;let ae=W-1;ae<0&&(ae=X.length-1);for(let L=0,E=u+_*2;L<E;L++){const J=C*L,K=C*(L+1),ce=z+se+J,pe=z+ae+J,Ce=z+ae+K,Ae=z+se+K;ue(ce,pe,Ce,Ae)}}}function ge(X,z,W){l.push(X),l.push(z),l.push(W)}function be(X,z,W){_e(X),_e(z),_e(W);const se=r.length/3,ae=x.generateTopUV(i,r,se-3,se-2,se-1);Te(ae[0]),Te(ae[1]),Te(ae[2])}function ue(X,z,W,se){_e(X),_e(z),_e(se),_e(z),_e(W),_e(se);const ae=r.length/3,L=x.generateSideWallUV(i,r,ae-6,ae-3,ae-2,ae-1);Te(L[0]),Te(L[1]),Te(L[3]),Te(L[1]),Te(L[2]),Te(L[3])}function _e(X){r.push(l[X*3+0]),r.push(l[X*3+1]),r.push(l[X*3+2])}function Te(X){s.push(X.x),s.push(X.y)}}}toJSON(){const e=super.toJSON(),t=this.parameters.shapes,i=this.parameters.options;return dre(t,i,e)}static fromJSON(e,t){const i=[];for(let s=0,o=e.shapes.length;s<o;s++){const a=t[e.shapes[s]];i.push(a)}const r=e.options.extrudePath;return r!==void 0&&(e.options.extrudePath=new ov[r.type]().fromJSON(r)),new r0(i,e.options)}}const hre={generateTopUV:function(n,e,t,i,r){const s=e[t*3],o=e[t*3+1],a=e[i*3],l=e[i*3+1],c=e[r*3],u=e[r*3+1];return[new Ie(s,o),new Ie(a,l),new Ie(c,u)]},generateSideWallUV:function(n,e,t,i,r,s){const o=e[t*3],a=e[t*3+1],l=e[t*3+2],c=e[i*3],u=e[i*3+1],f=e[i*3+2],h=e[r*3],d=e[r*3+1],m=e[r*3+2],v=e[s*3],_=e[s*3+1],g=e[s*3+2];return Math.abs(a-u)<Math.abs(o-c)?[new Ie(o,1-l),new Ie(c,1-f),new Ie(h,1-m),new Ie(v,1-g)]:[new Ie(a,1-l),new Ie(u,1-f),new Ie(d,1-m),new Ie(_,1-g)]}};function dre(n,e,t){if(t.shapes=[],Array.isArray(n))for(let i=0,r=n.length;i<r;i++){const s=n[i];t.shapes.push(s.uuid)}else t.shapes.push(n.uuid);return e.extrudePath!==void 0&&(t.options.extrudePath=e.extrudePath.toJSON()),t}class pc extends i0{constructor(e=1,t=0){const i=(1+Math.sqrt(5))/2,r=[-1,i,0,1,i,0,-1,-i,0,1,-i,0,0,-1,i,0,1,i,0,-1,-i,0,1,-i,i,0,-1,i,0,1,-i,0,-1,-i,0,1],s=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(r,s,e,t);this.type="IcosahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new pc(e.radius,e.detail)}}class mc extends ot{constructor(e,t=12,i=0,r=Math.PI*2){super();this.type="LatheGeometry",this.parameters={points:e,segments:t,phiStart:i,phiLength:r},t=Math.floor(t),r=Fi(r,0,Math.PI*2);const s=[],o=[],a=[],l=1/t,c=new Z,u=new Ie;for(let f=0;f<=t;f++){const h=i+f*l*r,d=Math.sin(h),m=Math.cos(h);for(let v=0;v<=e.length-1;v++)c.x=e[v].x*d,c.y=e[v].y,c.z=e[v].x*m,o.push(c.x,c.y,c.z),u.x=f/t,u.y=v/(e.length-1),a.push(u.x,u.y)}for(let f=0;f<t;f++)for(let h=0;h<e.length-1;h++){const d=h+f*e.length,m=d,v=d+e.length,_=d+e.length+1,g=d+1;s.push(m,v,g),s.push(v,_,g)}if(this.setIndex(s),this.setAttribute("position",new je(o,3)),this.setAttribute("uv",new je(a,2)),this.computeVertexNormals(),r===Math.PI*2){const f=this.attributes.normal.array,h=new Z,d=new Z,m=new Z,v=t*e.length*3;for(let _=0,g=0;_<e.length;_++,g+=3)h.x=f[g+0],h.y=f[g+1],h.z=f[g+2],d.x=f[v+g+0],d.y=f[v+g+1],d.z=f[v+g+2],m.addVectors(h,d).normalize(),f[g+0]=f[v+g+0]=m.x,f[g+1]=f[v+g+1]=m.y,f[g+2]=f[v+g+2]=m.z}}static fromJSON(e){return new mc(e.points,e.segments,e.phiStart,e.phiLength)}}class Da extends i0{constructor(e=1,t=0){const i=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],r=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(i,r,e,t);this.type="OctahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new Da(e.radius,e.detail)}}class e9 extends ot{constructor(e,t,i){super();this.type="ParametricGeometry",this.parameters={func:e,slices:t,stacks:i};const r=[],s=[],o=[],a=[],l=1e-5,c=new Z,u=new Z,f=new Z,h=new Z,d=new Z;e.length<3&&console.error("THREE.ParametricGeometry: Function must now modify a Vector3 as third parameter.");const m=t+1;for(let v=0;v<=i;v++){const _=v/i;for(let g=0;g<=t;g++){const x=g/t;e(x,_,u),s.push(u.x,u.y,u.z),x-l>=0?(e(x-l,_,f),h.subVectors(u,f)):(e(x+l,_,f),h.subVectors(f,u)),_-l>=0?(e(x,_-l,f),d.subVectors(u,f)):(e(x,_+l,f),d.subVectors(f,u)),c.crossVectors(h,d).normalize(),o.push(c.x,c.y,c.z),a.push(x,_)}}for(let v=0;v<i;v++)for(let _=0;_<t;_++){const g=v*m+_,x=v*m+_+1,b=(v+1)*m+_+1,w=(v+1)*m+_;r.push(g,x,w),r.push(x,b,w)}this.setIndex(r),this.setAttribute("position",new je(s,3)),this.setAttribute("normal",new je(o,3)),this.setAttribute("uv",new je(a,2))}}class gc extends ot{constructor(e=.5,t=1,i=8,r=1,s=0,o=Math.PI*2){super();this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:i,phiSegments:r,thetaStart:s,thetaLength:o},i=Math.max(3,i),r=Math.max(1,r);const a=[],l=[],c=[],u=[];let f=e;const h=(t-e)/r,d=new Z,m=new Ie;for(let v=0;v<=r;v++){for(let _=0;_<=i;_++){const g=s+_/i*o;d.x=f*Math.cos(g),d.y=f*Math.sin(g),l.push(d.x,d.y,d.z),c.push(0,0,1),m.x=(d.x/t+1)/2,m.y=(d.y/t+1)/2,u.push(m.x,m.y)}f+=h}for(let v=0;v<r;v++){const _=v*(i+1);for(let g=0;g<i;g++){const x=g+_,b=x,w=x+i+1,S=x+i+2,A=x+1;a.push(b,w,A),a.push(w,S,A)}}this.setIndex(a),this.setAttribute("position",new je(l,3)),this.setAttribute("normal",new je(c,3)),this.setAttribute("uv",new je(u,2))}static fromJSON(e){return new gc(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class vc extends ot{constructor(e,t=12){super();this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:t};const i=[],r=[],s=[],o=[];let a=0,l=0;if(Array.isArray(e)===!1)c(e);else for(let u=0;u<e.length;u++)c(e[u]),this.addGroup(a,l,u),a+=l,l=0;this.setIndex(i),this.setAttribute("position",new je(r,3)),this.setAttribute("normal",new je(s,3)),this.setAttribute("uv",new je(o,2));function c(u){const f=r.length/3,h=u.extractPoints(t);let d=h.shape;const m=h.holes;N0.isClockWise(d)===!1&&(d=d.reverse());for(let _=0,g=m.length;_<g;_++){const x=m[_];N0.isClockWise(x)===!0&&(m[_]=x.reverse())}const v=N0.triangulateShape(d,m);for(let _=0,g=m.length;_<g;_++){const x=m[_];d=d.concat(x)}for(let _=0,g=d.length;_<g;_++){const x=d[_];r.push(x.x,x.y,0),s.push(0,0,1),o.push(x.x,x.y)}for(let _=0,g=v.length;_<g;_++){const x=v[_],b=x[0]+f,w=x[1]+f,S=x[2]+f;i.push(b,w,S),l+=3}}}toJSON(){const e=super.toJSON(),t=this.parameters.shapes;return pre(t,e)}static fromJSON(e,t){const i=[];for(let r=0,s=e.shapes.length;r<s;r++){const o=t[e.shapes[r]];i.push(o)}return new vc(i,e.curveSegments)}}function pre(n,e){if(e.shapes=[],Array.isArray(n))for(let t=0,i=n.length;t<i;t++){const r=n[t];e.shapes.push(r.uuid)}else e.shapes.push(n.uuid);return e}class Na extends ot{constructor(e=1,t=32,i=16,r=0,s=Math.PI*2,o=0,a=Math.PI){super();this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:i,phiStart:r,phiLength:s,thetaStart:o,thetaLength:a},t=Math.max(3,Math.floor(t)),i=Math.max(2,Math.floor(i));const l=Math.min(o+a,Math.PI);let c=0;const u=[],f=new Z,h=new Z,d=[],m=[],v=[],_=[];for(let g=0;g<=i;g++){const x=[],b=g/i;let w=0;g==0&&o==0?w=.5/t:g==i&&l==Math.PI&&(w=-.5/t);for(let S=0;S<=t;S++){const A=S/t;f.x=-e*Math.cos(r+A*s)*Math.sin(o+b*a),f.y=e*Math.cos(o+b*a),f.z=e*Math.sin(r+A*s)*Math.sin(o+b*a),m.push(f.x,f.y,f.z),h.copy(f).normalize(),v.push(h.x,h.y,h.z),_.push(A+w,1-b),x.push(c++)}u.push(x)}for(let g=0;g<i;g++)for(let x=0;x<t;x++){const b=u[g][x+1],w=u[g][x],S=u[g+1][x],A=u[g+1][x+1];(g!==0||o>0)&&d.push(b,w,A),(g!==i-1||l<Math.PI)&&d.push(w,S,A)}this.setIndex(d),this.setAttribute("position",new je(m,3)),this.setAttribute("normal",new je(v,3)),this.setAttribute("uv",new je(_,2))}static fromJSON(e){return new Na(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class xc extends i0{constructor(e=1,t=0){const i=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],r=[2,1,0,0,3,2,1,3,0,2,3,1];super(i,r,e,t);this.type="TetrahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new xc(e.radius,e.detail)}}class N1 extends r0{constructor(e,t={}){const i=t.font;if(!(i&&i.isFont))return console.error("THREE.TextGeometry: font parameter is not an instance of THREE.Font."),new ot;const r=i.generateShapes(e,t.size);t.depth=t.height!==void 0?t.height:50,t.bevelThickness===void 0&&(t.bevelThickness=10),t.bevelSize===void 0&&(t.bevelSize=8),t.bevelEnabled===void 0&&(t.bevelEnabled=!1);super(r,t);this.type="TextGeometry"}}class yc extends ot{constructor(e=1,t=.4,i=8,r=6,s=Math.PI*2){super();this.type="TorusGeometry",this.parameters={radius:e,tube:t,radialSegments:i,tubularSegments:r,arc:s},i=Math.floor(i),r=Math.floor(r);const o=[],a=[],l=[],c=[],u=new Z,f=new Z,h=new Z;for(let d=0;d<=i;d++)for(let m=0;m<=r;m++){const v=m/r*s,_=d/i*Math.PI*2;f.x=(e+t*Math.cos(_))*Math.cos(v),f.y=(e+t*Math.cos(_))*Math.sin(v),f.z=t*Math.sin(_),a.push(f.x,f.y,f.z),u.x=e*Math.cos(v),u.y=e*Math.sin(v),h.subVectors(f,u).normalize(),l.push(h.x,h.y,h.z),c.push(m/r),c.push(d/i)}for(let d=1;d<=i;d++)for(let m=1;m<=r;m++){const v=(r+1)*d+m-1,_=(r+1)*(d-1)+m-1,g=(r+1)*(d-1)+m,x=(r+1)*d+m;o.push(v,_,x),o.push(_,g,x)}this.setIndex(o),this.setAttribute("position",new je(a,3)),this.setAttribute("normal",new je(l,3)),this.setAttribute("uv",new je(c,2))}static fromJSON(e){return new yc(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class _c extends ot{constructor(e=1,t=.4,i=64,r=8,s=2,o=3){super();this.type="TorusKnotGeometry",this.parameters={radius:e,tube:t,tubularSegments:i,radialSegments:r,p:s,q:o},i=Math.floor(i),r=Math.floor(r);const a=[],l=[],c=[],u=[],f=new Z,h=new Z,d=new Z,m=new Z,v=new Z,_=new Z,g=new Z;for(let b=0;b<=i;++b){const w=b/i*s*Math.PI*2;x(w,s,o,e,d),x(w+.01,s,o,e,m),_.subVectors(m,d),g.addVectors(m,d),v.crossVectors(_,g),g.crossVectors(v,_),v.normalize(),g.normalize();for(let S=0;S<=r;++S){const A=S/r*Math.PI*2,T=-t*Math.cos(A),F=t*Math.sin(A);f.x=d.x+(T*g.x+F*v.x),f.y=d.y+(T*g.y+F*v.y),f.z=d.z+(T*g.z+F*v.z),l.push(f.x,f.y,f.z),h.subVectors(f,d).normalize(),c.push(h.x,h.y,h.z),u.push(b/i),u.push(S/r)}}for(let b=1;b<=i;b++)for(let w=1;w<=r;w++){const S=(r+1)*(b-1)+(w-1),A=(r+1)*b+(w-1),T=(r+1)*b+w,F=(r+1)*(b-1)+w;a.push(S,A,F),a.push(A,T,F)}this.setIndex(a),this.setAttribute("position",new je(l,3)),this.setAttribute("normal",new je(c,3)),this.setAttribute("uv",new je(u,2));function x(b,w,S,A,T){const F=Math.cos(b),U=Math.sin(b),N=S/w*b,O=Math.cos(N);T.x=A*(2+O)*.5*F,T.y=A*(2+O)*U*.5,T.z=A*Math.sin(N)*.5}}static fromJSON(e){return new _c(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class bc extends ot{constructor(e,t=64,i=1,r=8,s=!1){super();this.type="TubeGeometry",this.parameters={path:e,tubularSegments:t,radius:i,radialSegments:r,closed:s};const o=e.computeFrenetFrames(t,s);this.tangents=o.tangents,this.normals=o.normals,this.binormals=o.binormals;const a=new Z,l=new Z,c=new Ie;let u=new Z;const f=[],h=[],d=[],m=[];v(),this.setIndex(m),this.setAttribute("position",new je(f,3)),this.setAttribute("normal",new je(h,3)),this.setAttribute("uv",new je(d,2));function v(){for(let b=0;b<t;b++)_(b);_(s===!1?t:0),x(),g()}function _(b){u=e.getPointAt(b/t,u);const w=o.normals[b],S=o.binormals[b];for(let A=0;A<=r;A++){const T=A/r*Math.PI*2,F=Math.sin(T),U=-Math.cos(T);l.x=U*w.x+F*S.x,l.y=U*w.y+F*S.y,l.z=U*w.z+F*S.z,l.normalize(),h.push(l.x,l.y,l.z),a.x=u.x+i*l.x,a.y=u.y+i*l.y,a.z=u.z+i*l.z,f.push(a.x,a.y,a.z)}}function g(){for(let b=1;b<=t;b++)for(let w=1;w<=r;w++){const S=(r+1)*(b-1)+(w-1),A=(r+1)*b+(w-1),T=(r+1)*b+w,F=(r+1)*(b-1)+w;m.push(S,A,F),m.push(A,T,F)}}function x(){for(let b=0;b<=t;b++)for(let w=0;w<=r;w++)c.x=b/t,c.y=w/r,d.push(c.x,c.y)}}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new bc(new ov[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class cv extends ot{constructor(e){super();if(this.type="WireframeGeometry",e.isGeometry===!0){console.error("THREE.WireframeGeometry no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.");return}const t=[],i=new Set,r=new Z,s=new Z;if(e.index!==null){const o=e.attributes.position,a=e.index;let l=e.groups;l.length===0&&(l=[{start:0,count:a.count,materialIndex:0}]);for(let c=0,u=l.length;c<u;++c){const f=l[c],h=f.start,d=f.count;for(let m=h,v=h+d;m<v;m+=3)for(let _=0;_<3;_++){const g=a.getX(m+_),x=a.getX(m+(_+1)%3);r.fromBufferAttribute(o,g),s.fromBufferAttribute(o,x),sP(r,s,i)===!0&&(t.push(r.x,r.y,r.z),t.push(s.x,s.y,s.z))}}}else{const o=e.attributes.position;for(let a=0,l=o.count/3;a<l;a++)for(let c=0;c<3;c++){const u=3*a+c,f=3*a+(c+1)%3;r.fromBufferAttribute(o,u),s.fromBufferAttribute(o,f),sP(r,s,i)===!0&&(t.push(r.x,r.y,r.z),t.push(s.x,s.y,s.z))}}this.setAttribute("position",new je(t,3))}}function sP(n,e,t){const i=`${n.x},${n.y},${n.z}-${e.x},${e.y},${e.z}`,r=`${e.x},${e.y},${e.z}-${n.x},${n.y},${n.z}`;return t.has(i)===!0||t.has(r)===!0?!1:(t.add(i,r),!0)}var oP=Object.freeze({__proto__:null,BoxGeometry:n0,BoxBufferGeometry:n0,CircleGeometry:fc,CircleBufferGeometry:fc,ConeGeometry:hc,ConeBufferGeometry:hc,CylinderGeometry:Io,CylinderBufferGeometry:Io,DodecahedronGeometry:dc,DodecahedronBufferGeometry:dc,EdgesGeometry:J7,ExtrudeGeometry:r0,ExtrudeBufferGeometry:r0,IcosahedronGeometry:pc,IcosahedronBufferGeometry:pc,LatheGeometry:mc,LatheBufferGeometry:mc,OctahedronGeometry:Da,OctahedronBufferGeometry:Da,ParametricGeometry:e9,ParametricBufferGeometry:e9,PlaneGeometry:Po,PlaneBufferGeometry:Po,PolyhedronGeometry:i0,PolyhedronBufferGeometry:i0,RingGeometry:gc,RingBufferGeometry:gc,ShapeGeometry:vc,ShapeBufferGeometry:vc,SphereGeometry:Na,SphereBufferGeometry:Na,TetrahedronGeometry:xc,TetrahedronBufferGeometry:xc,TextGeometry:N1,TextBufferGeometry:N1,TorusGeometry:yc,TorusBufferGeometry:yc,TorusKnotGeometry:_c,TorusKnotBufferGeometry:_c,TubeGeometry:bc,TubeBufferGeometry:bc,WireframeGeometry:cv});class uv extends si{constructor(e){super();this.type="ShadowMaterial",this.color=new We(0),this.transparent=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this}}uv.prototype.isShadowMaterial=!0;class Oa extends si{constructor(e){super();this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new We(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new We(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=ba,this.normalScale=new Ie(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this}}Oa.prototype.isMeshStandardMaterial=!0;class Do extends Oa{constructor(e){super();this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new Ie(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return Fi(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(t){this.ior=(1+.4*t)/(1-.4*t)}}),this.sheenTint=new We(0),this.transmission=0,this.transmissionMap=null,this.thickness=.01,this.thicknessMap=null,this.attenuationDistance=0,this.attenuationTint=new We(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularTint=new We(1,1,1),this.specularTintMap=null,this._clearcoat=0,this._transmission=0,this.setValues(e)}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.ior=e.ior,this.sheenTint.copy(e.sheenTint),this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationTint.copy(e.attenuationTint),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularTint.copy(e.specularTint),this.specularTintMap=e.specularTintMap,this}}Do.prototype.isMeshPhysicalMaterial=!0;class wc extends si{constructor(e){super();this.type="MeshPhongMaterial",this.color=new We(16777215),this.specular=new We(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new We(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=ba,this.normalScale=new Ie(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Qd,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this}}wc.prototype.isMeshPhongMaterial=!0;class t9 extends si{constructor(e){super();this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new We(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new We(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=ba,this.normalScale=new Ie(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this}}t9.prototype.isMeshToonMaterial=!0;class n9 extends si{constructor(e){super();this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=ba,this.normalScale=new Ie(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}n9.prototype.isMeshNormalMaterial=!0;class O1 extends si{constructor(e){super();this.type="MeshLambertMaterial",this.color=new We(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new We(0),this.emissiveIntensity=1,this.emissiveMap=null,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Qd,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this}}O1.prototype.isMeshLambertMaterial=!0;class i9 extends si{constructor(e){super();this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new We(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=ba,this.normalScale=new Ie(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this}}i9.prototype.isMeshMatcapMaterial=!0;class fv extends Kn{constructor(e){super();this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}fv.prototype.isLineDashedMaterial=!0;var mre=Object.freeze({__proto__:null,ShadowMaterial:uv,SpriteMaterial:b1,RawShaderMaterial:Mf,ShaderMaterial:cn,PointsMaterial:Fo,MeshPhysicalMaterial:Do,MeshStandardMaterial:Oa,MeshPhongMaterial:wc,MeshToonMaterial:t9,MeshNormalMaterial:n9,MeshLambertMaterial:O1,MeshDepthMaterial:v1,MeshDistanceMaterial:D3,MeshBasicMaterial:mi,MeshMatcapMaterial:i9,LineDashedMaterial:fv,LineBasicMaterial:Kn,Material:si});const Ln={arraySlice:function(n,e,t){return Ln.isTypedArray(n)?new n.constructor(n.subarray(e,t!==void 0?t:n.length)):n.slice(e,t)},convertArray:function(n,e,t){return!n||!t&&n.constructor===e?n:typeof e.BYTES_PER_ELEMENT=="number"?new e(n):Array.prototype.slice.call(n)},isTypedArray:function(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)},getKeyframeOrder:function(n){function e(r,s){return n[r]-n[s]}const t=n.length,i=new Array(t);for(let r=0;r!==t;++r)i[r]=r;return i.sort(e),i},sortedArray:function(n,e,t){const i=n.length,r=new n.constructor(i);for(let s=0,o=0;o!==i;++s){const a=t[s]*e;for(let l=0;l!==e;++l)r[o++]=n[a+l]}return r},flattenJSON:function(n,e,t,i){let r=1,s=n[0];for(;s!==void 0&&s[i]===void 0;)s=n[r++];if(s===void 0)return;let o=s[i];if(o!==void 0)if(Array.isArray(o))do o=s[i],o!==void 0&&(e.push(s.time),t.push.apply(t,o)),s=n[r++];while(s!==void 0);else if(o.toArray!==void 0)do o=s[i],o!==void 0&&(e.push(s.time),o.toArray(t,t.length)),s=n[r++];while(s!==void 0);else do o=s[i],o!==void 0&&(e.push(s.time),t.push(o)),s=n[r++];while(s!==void 0)},subclip:function(n,e,t,i,r=30){const s=n.clone();s.name=e;const o=[];for(let l=0;l<s.tracks.length;++l){const c=s.tracks[l],u=c.getValueSize(),f=[],h=[];for(let d=0;d<c.times.length;++d){const m=c.times[d]*r;if(!(m<t||m>=i)){f.push(c.times[d]);for(let v=0;v<u;++v)h.push(c.values[d*u+v])}}f.length!==0&&(c.times=Ln.convertArray(f,c.times.constructor),c.values=Ln.convertArray(h,c.values.constructor),o.push(c))}s.tracks=o;let a=1/0;for(let l=0;l<s.tracks.length;++l)a>s.tracks[l].times[0]&&(a=s.tracks[l].times[0]);for(let l=0;l<s.tracks.length;++l)s.tracks[l].shift(-1*a);return s.resetDuration(),s},makeClipAdditive:function(n,e=0,t=n,i=30){i<=0&&(i=30);const r=t.tracks.length,s=e/i;for(let o=0;o<r;++o){const a=t.tracks[o],l=a.ValueTypeName;if(l==="bool"||l==="string")continue;const c=n.tracks.find(function(g){return g.name===a.name&&g.ValueTypeName===l});if(c===void 0)continue;let u=0;const f=a.getValueSize();a.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(u=f/3);let h=0;const d=c.getValueSize();c.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(h=d/3);const m=a.times.length-1;let v;if(s<=a.times[0]){const g=u,x=f-u;v=Ln.arraySlice(a.values,g,x)}else if(s>=a.times[m]){const g=m*f+u,x=g+f-u;v=Ln.arraySlice(a.values,g,x)}else{const g=a.createInterpolant(),x=u,b=f-u;g.evaluate(s),v=Ln.arraySlice(g.resultBuffer,x,b)}l==="quaternion"&&new Rn().fromArray(v).normalize().conjugate().toArray(v);const _=c.times.length;for(let g=0;g<_;++g){const x=g*d+h;if(l==="quaternion")Rn.multiplyQuaternionsFlat(c.values,x,v,0,c.values,x);else{const b=d-h*2;for(let w=0;w<b;++w)c.values[x+w]-=v[w]}}}return n.blendMode=n7,n}};class O0{constructor(e,t,i,r){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=r!==void 0?r:new t.constructor(i),this.sampleValues=t,this.valueSize=i,this.settings=null,this.DefaultSettings_={}}evaluate(e){const t=this.parameterPositions;let i=this._cachedIndex,r=t[i],s=t[i-1];e:{t:{let o;n:{i:if(!(e<r)){for(let a=i+2;;){if(r===void 0){if(e<s)break i;return i=t.length,this._cachedIndex=i,this.afterEnd_(i-1,e,s)}if(i===a)break;if(s=r,r=t[++i],e<r)break t}o=t.length;break n}if(!(e>=s)){const a=t[1];e<a&&(i=2,s=a);for(let l=i-2;;){if(s===void 0)return this._cachedIndex=0,this.beforeStart_(0,e,r);if(i===l)break;if(r=s,s=t[--i-1],e>=s)break t}o=i,i=0;break n}break e}for(;i<o;){const a=i+o>>>1;e<t[a]?o=a:i=a+1}if(r=t[i],s=t[i-1],s===void 0)return this._cachedIndex=0,this.beforeStart_(0,e,r);if(r===void 0)return i=t.length,this._cachedIndex=i,this.afterEnd_(i-1,s,e)}this._cachedIndex=i,this.intervalChanged_(i,s,r)}return this.interpolate_(i,s,e,r)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const t=this.resultBuffer,i=this.sampleValues,r=this.valueSize,s=e*r;for(let o=0;o!==r;++o)t[o]=i[s+o];return t}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}O0.prototype.beforeStart_=O0.prototype.copySampleValue_;O0.prototype.afterEnd_=O0.prototype.copySampleValue_;class aP extends O0{constructor(e,t,i,r){super(e,t,i,r);this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:tc,endingEnd:tc}}intervalChanged_(e,t,i){const r=this.parameterPositions;let s=e-2,o=e+1,a=r[s],l=r[o];if(a===void 0)switch(this.getSettings_().endingStart){case nc:s=e,a=2*t-i;break;case i1:s=r.length-2,a=t+r[s]-r[s+1];break;default:s=e,a=i}if(l===void 0)switch(this.getSettings_().endingEnd){case nc:o=e,l=2*i-t;break;case i1:o=1,l=i+r[1]-r[0];break;default:o=e-1,l=t}const c=(i-t)*.5,u=this.valueSize;this._weightPrev=c/(t-a),this._weightNext=c/(l-i),this._offsetPrev=s*u,this._offsetNext=o*u}interpolate_(e,t,i,r){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=e*a,c=l-a,u=this._offsetPrev,f=this._offsetNext,h=this._weightPrev,d=this._weightNext,m=(i-t)/(r-t),v=m*m,_=v*m,g=-h*_+2*h*v-h*m,x=(1+h)*_+(-1.5-2*h)*v+(-.5+h)*m+1,b=(-1-d)*_+(1.5+d)*v+.5*m,w=d*_-d*v;for(let S=0;S!==a;++S)s[S]=g*o[u+S]+x*o[c+S]+b*o[l+S]+w*o[f+S];return s}}class hv extends O0{constructor(e,t,i,r){super(e,t,i,r)}interpolate_(e,t,i,r){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=e*a,c=l-a,u=(i-t)/(r-t),f=1-u;for(let h=0;h!==a;++h)s[h]=o[c+h]*f+o[l+h]*u;return s}}class lP extends O0{constructor(e,t,i,r){super(e,t,i,r)}interpolate_(e){return this.copySampleValue_(e-1)}}class s0{constructor(e,t,i,r){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(t===void 0||t.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=Ln.convertArray(t,this.TimeBufferType),this.values=Ln.convertArray(i,this.ValueBufferType),this.setInterpolation(r||this.DefaultInterpolation)}static toJSON(e){const t=e.constructor;let i;if(t.toJSON!==this.toJSON)i=t.toJSON(e);else{i={name:e.name,times:Ln.convertArray(e.times,Array),values:Ln.convertArray(e.values,Array)};const r=e.getInterpolation();r!==e.DefaultInterpolation&&(i.interpolation=r)}return i.type=e.ValueTypeName,i}InterpolantFactoryMethodDiscrete(e){return new lP(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new hv(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new aP(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let t;switch(e){case rf:t=this.InterpolantFactoryMethodDiscrete;break;case ec:t=this.InterpolantFactoryMethodLinear;break;case l3:t=this.InterpolantFactoryMethodSmooth;break}if(t===void 0){const i="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(i);return console.warn("THREE.KeyframeTrack:",i),this}return this.createInterpolant=t,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return rf;case this.InterpolantFactoryMethodLinear:return ec;case this.InterpolantFactoryMethodSmooth:return l3}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const t=this.times;for(let i=0,r=t.length;i!==r;++i)t[i]+=e}return this}scale(e){if(e!==1){const t=this.times;for(let i=0,r=t.length;i!==r;++i)t[i]*=e}return this}trim(e,t){const i=this.times,r=i.length;let s=0,o=r-1;for(;s!==r&&i[s]<e;)++s;for(;o!==-1&&i[o]>t;)--o;if(++o,s!==0||o!==r){s>=o&&(o=Math.max(o,1),s=o-1);const a=this.getValueSize();this.times=Ln.arraySlice(i,s,o),this.values=Ln.arraySlice(this.values,s*a,o*a)}return this}validate(){let e=!0;const t=this.getValueSize();t-Math.floor(t)!=0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const i=this.times,r=this.values,s=i.length;s===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let o=null;for(let a=0;a!==s;a++){const l=i[a];if(typeof l=="number"&&isNaN(l)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,a,l),e=!1;break}if(o!==null&&o>l){console.error("THREE.KeyframeTrack: Out of order keys.",this,a,l,o),e=!1;break}o=l}if(r!==void 0&&Ln.isTypedArray(r))for(let a=0,l=r.length;a!==l;++a){const c=r[a];if(isNaN(c)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,a,c),e=!1;break}}return e}optimize(){const e=Ln.arraySlice(this.times),t=Ln.arraySlice(this.values),i=this.getValueSize(),r=this.getInterpolation()===l3,s=e.length-1;let o=1;for(let a=1;a<s;++a){let l=!1;const c=e[a],u=e[a+1];if(c!==u&&(a!==1||c!==e[0]))if(r)l=!0;else{const f=a*i,h=f-i,d=f+i;for(let m=0;m!==i;++m){const v=t[f+m];if(v!==t[h+m]||v!==t[d+m]){l=!0;break}}}if(l){if(a!==o){e[o]=e[a];const f=a*i,h=o*i;for(let d=0;d!==i;++d)t[h+d]=t[f+d]}++o}}if(s>0){e[o]=e[s];for(let a=s*i,l=o*i,c=0;c!==i;++c)t[l+c]=t[a+c];++o}return o!==e.length?(this.times=Ln.arraySlice(e,0,o),this.values=Ln.arraySlice(t,0,o*i)):(this.times=e,this.values=t),this}clone(){const e=Ln.arraySlice(this.times,0),t=Ln.arraySlice(this.values,0),i=this.constructor,r=new i(this.name,e,t);return r.createInterpolant=this.createInterpolant,r}}s0.prototype.TimeBufferType=Float32Array;s0.prototype.ValueBufferType=Float32Array;s0.prototype.DefaultInterpolation=ec;class Mc extends s0{}Mc.prototype.ValueTypeName="bool";Mc.prototype.ValueBufferType=Array;Mc.prototype.DefaultInterpolation=rf;Mc.prototype.InterpolantFactoryMethodLinear=void 0;Mc.prototype.InterpolantFactoryMethodSmooth=void 0;class dv extends s0{}dv.prototype.ValueTypeName="color";class Sc extends s0{}Sc.prototype.ValueTypeName="number";class cP extends O0{constructor(e,t,i,r){super(e,t,i,r)}interpolate_(e,t,i,r){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=(i-t)/(r-t);let c=e*a;for(let u=c+a;c!==u;c+=4)Rn.slerpFlat(s,0,o,c-a,o,c,l);return s}}class No extends s0{InterpolantFactoryMethodLinear(e){return new cP(this.times,this.values,this.getValueSize(),e)}}No.prototype.ValueTypeName="quaternion";No.prototype.DefaultInterpolation=ec;No.prototype.InterpolantFactoryMethodSmooth=void 0;class Ac extends s0{}Ac.prototype.ValueTypeName="string";Ac.prototype.ValueBufferType=Array;Ac.prototype.DefaultInterpolation=rf;Ac.prototype.InterpolantFactoryMethodLinear=void 0;Ac.prototype.InterpolantFactoryMethodSmooth=void 0;class Tc extends s0{}Tc.prototype.ValueTypeName="vector";class Ec{constructor(e,t=-1,i,r=c3){this.name=e,this.tracks=i,this.duration=t,this.blendMode=r,this.uuid=Qr(),this.duration<0&&this.resetDuration()}static parse(e){const t=[],i=e.tracks,r=1/(e.fps||1);for(let o=0,a=i.length;o!==a;++o)t.push(vre(i[o]).scale(r));const s=new this(e.name,e.duration,t,e.blendMode);return s.uuid=e.uuid,s}static toJSON(e){const t=[],i=e.tracks,r={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode};for(let s=0,o=i.length;s!==o;++s)t.push(s0.toJSON(i[s]));return r}static CreateFromMorphTargetSequence(e,t,i,r){const s=t.length,o=[];for(let a=0;a<s;a++){let l=[],c=[];l.push((a+s-1)%s,a,(a+1)%s),c.push(0,1,0);const u=Ln.getKeyframeOrder(l);l=Ln.sortedArray(l,1,u),c=Ln.sortedArray(c,1,u),!r&&l[0]===0&&(l.push(s),c.push(c[0])),o.push(new Sc(".morphTargetInfluences["+t[a].name+"]",l,c).scale(1/i))}return new this(e,-1,o)}static findByName(e,t){let i=e;if(!Array.isArray(e)){const r=e;i=r.geometry&&r.geometry.animations||r.animations}for(let r=0;r<i.length;r++)if(i[r].name===t)return i[r];return null}static CreateClipsFromMorphTargetSequences(e,t,i){const r={},s=/^([\w-]*?)([\d]+)$/;for(let a=0,l=e.length;a<l;a++){const c=e[a],u=c.name.match(s);if(u&&u.length>1){const f=u[1];let h=r[f];h||(r[f]=h=[]),h.push(c)}}const o=[];for(const a in r)o.push(this.CreateFromMorphTargetSequence(a,r[a],t,i));return o}static parseAnimation(e,t){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const i=function(f,h,d,m,v){if(d.length!==0){const _=[],g=[];Ln.flattenJSON(d,_,g,m),_.length!==0&&v.push(new f(h,_,g))}},r=[],s=e.name||"default",o=e.fps||30,a=e.blendMode;let l=e.length||-1;const c=e.hierarchy||[];for(let f=0;f<c.length;f++){const h=c[f].keys;if(!(!h||h.length===0))if(h[0].morphTargets){const d={};let m;for(m=0;m<h.length;m++)if(h[m].morphTargets)for(let v=0;v<h[m].morphTargets.length;v++)d[h[m].morphTargets[v]]=-1;for(const v in d){const _=[],g=[];for(let x=0;x!==h[m].morphTargets.length;++x){const b=h[m];_.push(b.time),g.push(b.morphTarget===v?1:0)}r.push(new Sc(".morphTargetInfluence["+v+"]",_,g))}l=d.length*(o||1)}else{const d=".bones["+t[f].name+"]";i(Tc,d+".position",h,"pos",r),i(No,d+".quaternion",h,"rot",r),i(Tc,d+".scale",h,"scl",r)}}return r.length===0?null:new this(s,l,r,a)}resetDuration(){const e=this.tracks;let t=0;for(let i=0,r=e.length;i!==r;++i){const s=this.tracks[i];t=Math.max(t,s.times[s.times.length-1])}return this.duration=t,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let t=0;t<this.tracks.length;t++)e.push(this.tracks[t].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function gre(n){switch(n.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return Sc;case"vector":case"vector2":case"vector3":case"vector4":return Tc;case"color":return dv;case"quaternion":return No;case"bool":case"boolean":return Mc;case"string":return Ac}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+n)}function vre(n){if(n.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=gre(n.type);if(n.times===void 0){const t=[],i=[];Ln.flattenJSON(n.keys,t,i,"value"),n.times=t,n.values=i}return e.parse!==void 0?e.parse(n):new e(n.name,n.times,n.values,n.interpolation)}const Lc={enabled:!1,files:{},add:function(n,e){this.enabled!==!1&&(this.files[n]=e)},get:function(n){if(this.enabled!==!1)return this.files[n]},remove:function(n){delete this.files[n]},clear:function(){this.files={}}};class pv{constructor(e,t,i){const r=this;let s=!1,o=0,a=0,l;const c=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=i,this.itemStart=function(u){a++,s===!1&&r.onStart!==void 0&&r.onStart(u,o,a),s=!0},this.itemEnd=function(u){o++,r.onProgress!==void 0&&r.onProgress(u,o,a),o===a&&(s=!1,r.onLoad!==void 0&&r.onLoad())},this.itemError=function(u){r.onError!==void 0&&r.onError(u)},this.resolveURL=function(u){return l?l(u):u},this.setURLModifier=function(u){return l=u,this},this.addHandler=function(u,f){return c.push(u,f),this},this.removeHandler=function(u){const f=c.indexOf(u);return f!==-1&&c.splice(f,2),this},this.getHandler=function(u){for(let f=0,h=c.length;f<h;f+=2){const d=c[f],m=c[f+1];if(d.global&&(d.lastIndex=0),d.test(u))return m}return null}}}const uP=new pv;class vi{constructor(e){this.manager=e!==void 0?e:uP,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,t){const i=this;return new Promise(function(r,s){i.load(e,r,t,s)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}}const o0={};class Br extends vi{constructor(e){super(e)}load(e,t,i,r){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,o=Lc.get(e);if(o!==void 0)return s.manager.itemStart(e),setTimeout(function(){t&&t(o),s.manager.itemEnd(e)},0),o;if(o0[e]!==void 0){o0[e].push({onLoad:t,onProgress:i,onError:r});return}const a=/^data:(.*?)(;base64)?,(.*)$/,l=e.match(a);let c;if(l){const u=l[1],f=!!l[2];let h=l[3];h=decodeURIComponent(h),f&&(h=atob(h));try{let d;const m=(this.responseType||"").toLowerCase();switch(m){case"arraybuffer":case"blob":const v=new Uint8Array(h.length);for(let g=0;g<h.length;g++)v[g]=h.charCodeAt(g);m==="blob"?d=new Blob([v.buffer],{type:u}):d=v.buffer;break;case"document":d=new DOMParser().parseFromString(h,u);break;case"json":d=JSON.parse(h);break;default:d=h;break}setTimeout(function(){t&&t(d),s.manager.itemEnd(e)},0)}catch(d){setTimeout(function(){r&&r(d),s.manager.itemError(e),s.manager.itemEnd(e)},0)}}else{o0[e]=[],o0[e].push({onLoad:t,onProgress:i,onError:r}),c=new XMLHttpRequest,c.open("GET",e,!0),c.addEventListener("load",function(u){const f=this.response,h=o0[e];if(delete o0[e],this.status===200||this.status===0){this.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),Lc.add(e,f);for(let d=0,m=h.length;d<m;d++){const v=h[d];v.onLoad&&v.onLoad(f)}s.manager.itemEnd(e)}else{for(let d=0,m=h.length;d<m;d++){const v=h[d];v.onError&&v.onError(u)}s.manager.itemError(e),s.manager.itemEnd(e)}},!1),c.addEventListener("progress",function(u){const f=o0[e];for(let h=0,d=f.length;h<d;h++){const m=f[h];m.onProgress&&m.onProgress(u)}},!1),c.addEventListener("error",function(u){const f=o0[e];delete o0[e];for(let h=0,d=f.length;h<d;h++){const m=f[h];m.onError&&m.onError(u)}s.manager.itemError(e),s.manager.itemEnd(e)},!1),c.addEventListener("abort",function(u){const f=o0[e];delete o0[e];for(let h=0,d=f.length;h<d;h++){const m=f[h];m.onError&&m.onError(u)}s.manager.itemError(e),s.manager.itemEnd(e)},!1),this.responseType!==void 0&&(c.responseType=this.responseType),this.withCredentials!==void 0&&(c.withCredentials=this.withCredentials),c.overrideMimeType&&c.overrideMimeType(this.mimeType!==void 0?this.mimeType:"text/plain");for(const u in this.requestHeader)c.setRequestHeader(u,this.requestHeader[u]);c.send(null)}return s.manager.itemStart(e),c}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class xre extends vi{constructor(e){super(e)}load(e,t,i,r){const s=this,o=new Br(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(a){try{t(s.parse(JSON.parse(a)))}catch(l){r?r(l):console.error(l),s.manager.itemError(e)}},i,r)}parse(e){const t=[];for(let i=0;i<e.length;i++){const r=Ec.parse(e[i]);t.push(r)}return t}}class yre extends vi{constructor(e){super(e)}load(e,t,i,r){const s=this,o=[],a=new j7,l=new Br(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(s.withCredentials);let c=0;function u(f){l.load(e[f],function(h){const d=s.parse(h,!0);o[f]={width:d.width,height:d.height,format:d.format,mipmaps:d.mipmaps},c+=1,c===6&&(d.mipmapCount===1&&(a.minFilter=Ht),a.image=o,a.format=d.format,a.needsUpdate=!0,t&&t(a))},i,r)}if(Array.isArray(e))for(let f=0,h=e.length;f<h;++f)u(f);else l.load(e,function(f){const h=s.parse(f,!0);if(h.isCubemap){const d=h.mipmaps.length/h.mipmapCount;for(let m=0;m<d;m++){o[m]={mipmaps:[]};for(let v=0;v<h.mipmapCount;v++)o[m].mipmaps.push(h.mipmaps[m*h.mipmapCount+v]),o[m].format=h.format,o[m].width=h.width,o[m].height=h.height}a.image=o}else a.image.width=h.width,a.image.height=h.height,a.mipmaps=h.mipmaps;h.mipmapCount===1&&(a.minFilter=Ht),a.format=h.format,a.needsUpdate=!0,t&&t(a)},i,r);return a}}class B1 extends vi{constructor(e){super(e)}load(e,t,i,r){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,o=Lc.get(e);if(o!==void 0)return s.manager.itemStart(e),setTimeout(function(){t&&t(o),s.manager.itemEnd(e)},0),o;const a=document.createElementNS("http://www.w3.org/1999/xhtml","img");function l(){a.removeEventListener("load",l,!1),a.removeEventListener("error",c,!1),Lc.add(e,this),t&&t(this),s.manager.itemEnd(e)}function c(u){a.removeEventListener("load",l,!1),a.removeEventListener("error",c,!1),r&&r(u),s.manager.itemError(e),s.manager.itemEnd(e)}return a.addEventListener("load",l,!1),a.addEventListener("error",c,!1),e.substr(0,5)!=="data:"&&this.crossOrigin!==void 0&&(a.crossOrigin=this.crossOrigin),s.manager.itemStart(e),a.src=e,a}}class mv extends vi{constructor(e){super(e)}load(e,t,i,r){const s=new bf,o=new B1(this.manager);o.setCrossOrigin(this.crossOrigin),o.setPath(this.path);let a=0;function l(c){o.load(e[c],function(u){s.images[c]=u,a++,a===6&&(s.needsUpdate=!0,t&&t(s))},void 0,r)}for(let c=0;c<e.length;++c)l(c);return s}}class fP extends vi{constructor(e){super(e)}load(e,t,i,r){const s=this,o=new Ls,a=new Br(this.manager);return a.setResponseType("arraybuffer"),a.setRequestHeader(this.requestHeader),a.setPath(this.path),a.setWithCredentials(s.withCredentials),a.load(e,function(l){const c=s.parse(l);!c||(c.image!==void 0?o.image=c.image:c.data!==void 0&&(o.image.width=c.width,o.image.height=c.height,o.image.data=c.data),o.wrapS=c.wrapS!==void 0?c.wrapS:ln,o.wrapT=c.wrapT!==void 0?c.wrapT:ln,o.magFilter=c.magFilter!==void 0?c.magFilter:Ht,o.minFilter=c.minFilter!==void 0?c.minFilter:Ht,o.anisotropy=c.anisotropy!==void 0?c.anisotropy:1,c.encoding!==void 0&&(o.encoding=c.encoding),c.flipY!==void 0&&(o.flipY=c.flipY),c.format!==void 0&&(o.format=c.format),c.type!==void 0&&(o.type=c.type),c.mipmaps!==void 0&&(o.mipmaps=c.mipmaps,o.minFilter=C0),c.mipmapCount===1&&(o.minFilter=Ht),c.generateMipmaps!==void 0&&(o.generateMipmaps=c.generateMipmaps),o.needsUpdate=!0,t&&t(o,c))},i,r),o}}class Ba extends vi{constructor(e){super(e)}load(e,t,i,r){const s=new Tn,o=new B1(this.manager);return o.setCrossOrigin(this.crossOrigin),o.setPath(this.path),o.load(e,function(a){s.image=a;const l=e.search(/\.jpe?g($|\?)/i)>0||e.search(/^data\:image\/jpeg/)===0;s.format=l?Or:yn,s.needsUpdate=!0,t!==void 0&&t(s)},i,r),s}}class hP extends pr{constructor(){super();this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);e.equals(t)||this.curves.push(new R1(t,e))}getPoint(e){const t=e*this.getLength(),i=this.getCurveLengths();let r=0;for(;r<i.length;){if(i[r]>=t){const s=i[r]-t,o=this.curves[r],a=o.getLength(),l=a===0?0:1-s/a;return o.getPointAt(l)}r++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let t=0;for(let i=0,r=this.curves.length;i<r;i++)t+=this.curves[i].getLength(),e.push(t);return this.cacheLengths=e,e}getSpacedPoints(e=40){const t=[];for(let i=0;i<=e;i++)t.push(this.getPoint(i/e));return this.autoClose&&t.push(t[0]),t}getPoints(e=12){const t=[];let i;for(let r=0,s=this.curves;r<s.length;r++){const o=s[r],a=o&&o.isEllipseCurve?e*2:o&&(o.isLineCurve||o.isLineCurve3)?1:o&&o.isSplineCurve?e*o.points.length:e,l=o.getPoints(a);for(let c=0;c<l.length;c++){const u=l[c];i&&i.equals(u)||(t.push(u),i=u)}}return this.autoClose&&t.length>1&&!t[t.length-1].equals(t[0])&&t.push(t[0]),t}copy(e){super.copy(e),this.curves=[];for(let t=0,i=e.curves.length;t<i;t++){const r=e.curves[t];this.curves.push(r.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let t=0,i=this.curves.length;t<i;t++){const r=this.curves[t];e.curves.push(r.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let t=0,i=e.curves.length;t<i;t++){const r=e.curves[t];this.curves.push(new ov[r.type]().fromJSON(r))}return this}}class U1 extends hP{constructor(e){super();this.type="Path",this.currentPoint=new Ie,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let t=1,i=e.length;t<i;t++)this.lineTo(e[t].x,e[t].y);return this}moveTo(e,t){return this.currentPoint.set(e,t),this}lineTo(e,t){const i=new R1(this.currentPoint.clone(),new Ie(e,t));return this.curves.push(i),this.currentPoint.set(e,t),this}quadraticCurveTo(e,t,i,r){const s=new j3(this.currentPoint.clone(),new Ie(e,t),new Ie(i,r));return this.curves.push(s),this.currentPoint.set(i,r),this}bezierCurveTo(e,t,i,r,s,o){const a=new q3(this.currentPoint.clone(),new Ie(e,t),new Ie(i,r),new Ie(s,o));return this.curves.push(a),this.currentPoint.set(s,o),this}splineThru(e){const t=[this.currentPoint.clone()].concat(e),i=new Z3(t);return this.curves.push(i),this.currentPoint.copy(e[e.length-1]),this}arc(e,t,i,r,s,o){const a=this.currentPoint.x,l=this.currentPoint.y;return this.absarc(e+a,t+l,i,r,s,o),this}absarc(e,t,i,r,s,o){return this.absellipse(e,t,i,i,r,s,o),this}ellipse(e,t,i,r,s,o,a,l){const c=this.currentPoint.x,u=this.currentPoint.y;return this.absellipse(e+c,t+u,i,r,s,o,a,l),this}absellipse(e,t,i,r,s,o,a,l){const c=new E1(e,t,i,r,s,o,a,l);if(this.curves.length>0){const f=c.getPoint(0);f.equals(this.currentPoint)||this.lineTo(f.x,f.y)}this.curves.push(c);const u=c.getPoint(1);return this.currentPoint.copy(u),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}}class Ua extends U1{constructor(e){super(e);this.uuid=Qr(),this.type="Shape",this.holes=[]}getPointsHoles(e){const t=[];for(let i=0,r=this.holes.length;i<r;i++)t[i]=this.holes[i].getPoints(e);return t}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let t=0,i=e.holes.length;t<i;t++){const r=e.holes[t];this.holes.push(r.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let t=0,i=this.holes.length;t<i;t++){const r=this.holes[t];e.holes.push(r.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let t=0,i=e.holes.length;t<i;t++){const r=e.holes[t];this.holes.push(new U1().fromJSON(r))}return this}}class a0 extends At{constructor(e,t=1){super();this.type="Light",this.color=new We(e),this.intensity=t}dispose(){}copy(e){return super.copy(e),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const t=super.toJSON(e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,this.groundColor!==void 0&&(t.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(t.object.distance=this.distance),this.angle!==void 0&&(t.object.angle=this.angle),this.decay!==void 0&&(t.object.decay=this.decay),this.penumbra!==void 0&&(t.object.penumbra=this.penumbra),this.shadow!==void 0&&(t.object.shadow=this.shadow.toJSON()),t}}a0.prototype.isLight=!0;class r9 extends a0{constructor(e,t,i){super(e,i);this.type="HemisphereLight",this.position.copy(At.DefaultUp),this.updateMatrix(),this.groundColor=new We(t)}copy(e){return a0.prototype.copy.call(this,e),this.groundColor.copy(e.groundColor),this}}r9.prototype.isHemisphereLight=!0;const dP=new $e,pP=new Z,mP=new Z;class gv{constructor(e){this.camera=e,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new Ie(512,512),this.map=null,this.mapPass=null,this.matrix=new $e,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new p1,this._frameExtents=new Ie(1,1),this._viewportCount=1,this._viewports=[new $t(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const t=this.camera,i=this.matrix;pP.setFromMatrixPosition(e.matrixWorld),t.position.copy(pP),mP.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(mP),t.updateMatrixWorld(),dP.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(dP),i.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),i.multiply(t.projectionMatrix),i.multiply(t.matrixWorldInverse)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class gP extends gv{constructor(){super(new Qn(50,1,.5,500));this.focus=1}updateMatrices(e){const t=this.camera,i=r1*2*e.angle*this.focus,r=this.mapSize.width/this.mapSize.height,s=e.distance||t.far;(i!==t.fov||r!==t.aspect||s!==t.far)&&(t.fov=i,t.aspect=r,t.far=s,t.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}gP.prototype.isSpotLightShadow=!0;class za extends a0{constructor(e,t,i=0,r=Math.PI/3,s=0,o=1){super(e,t);this.type="SpotLight",this.position.copy(At.DefaultUp),this.updateMatrix(),this.target=new At,this.distance=i,this.angle=r,this.penumbra=s,this.decay=o,this.shadow=new gP}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}za.prototype.isSpotLight=!0;const vP=new $e,z1=new Z,vv=new Z;class xP extends gv{constructor(){super(new Qn(90,1,.5,500));this._frameExtents=new Ie(4,2),this._viewportCount=6,this._viewports=[new $t(2,1,1,1),new $t(0,1,1,1),new $t(3,1,1,1),new $t(1,1,1,1),new $t(3,0,1,1),new $t(1,0,1,1)],this._cubeDirections=[new Z(1,0,0),new Z(-1,0,0),new Z(0,0,1),new Z(0,0,-1),new Z(0,1,0),new Z(0,-1,0)],this._cubeUps=[new Z(0,1,0),new Z(0,1,0),new Z(0,1,0),new Z(0,1,0),new Z(0,0,1),new Z(0,0,-1)]}updateMatrices(e,t=0){const i=this.camera,r=this.matrix,s=e.distance||i.far;s!==i.far&&(i.far=s,i.updateProjectionMatrix()),z1.setFromMatrixPosition(e.matrixWorld),i.position.copy(z1),vv.copy(i.position),vv.add(this._cubeDirections[t]),i.up.copy(this._cubeUps[t]),i.lookAt(vv),i.updateMatrixWorld(),r.makeTranslation(-z1.x,-z1.y,-z1.z),vP.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),this._frustum.setFromProjectionMatrix(vP)}}xP.prototype.isPointLightShadow=!0;class Cc extends a0{constructor(e,t,i=0,r=1){super(e,t);this.type="PointLight",this.distance=i,this.decay=r,this.shadow=new xP}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}Cc.prototype.isPointLight=!0;class yP extends gv{constructor(){super(new F0(-5,5,5,-5,.5,500))}}yP.prototype.isDirectionalLightShadow=!0;class ka extends a0{constructor(e,t){super(e,t);this.type="DirectionalLight",this.position.copy(At.DefaultUp),this.updateMatrix(),this.target=new At,this.shadow=new yP}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}ka.prototype.isDirectionalLight=!0;class k1 extends a0{constructor(e,t){super(e,t);this.type="AmbientLight"}}k1.prototype.isAmbientLight=!0;class s9 extends a0{constructor(e,t,i=10,r=10){super(e,t);this.type="RectAreaLight",this.width=i,this.height=r}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const t=super.toJSON(e);return t.object.width=this.width,t.object.height=this.height,t}}s9.prototype.isRectAreaLight=!0;class xv{constructor(){this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new Z)}set(e){for(let t=0;t<9;t++)this.coefficients[t].copy(e[t]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,t){const i=e.x,r=e.y,s=e.z,o=this.coefficients;return t.copy(o[0]).multiplyScalar(.282095),t.addScaledVector(o[1],.488603*r),t.addScaledVector(o[2],.488603*s),t.addScaledVector(o[3],.488603*i),t.addScaledVector(o[4],1.092548*(i*r)),t.addScaledVector(o[5],1.092548*(r*s)),t.addScaledVector(o[6],.315392*(3*s*s-1)),t.addScaledVector(o[7],1.092548*(i*s)),t.addScaledVector(o[8],.546274*(i*i-r*r)),t}getIrradianceAt(e,t){const i=e.x,r=e.y,s=e.z,o=this.coefficients;return t.copy(o[0]).multiplyScalar(.886227),t.addScaledVector(o[1],2*.511664*r),t.addScaledVector(o[2],2*.511664*s),t.addScaledVector(o[3],2*.511664*i),t.addScaledVector(o[4],2*.429043*i*r),t.addScaledVector(o[5],2*.429043*r*s),t.addScaledVector(o[6],.743125*s*s-.247708),t.addScaledVector(o[7],2*.429043*i*s),t.addScaledVector(o[8],.429043*(i*i-r*r)),t}add(e){for(let t=0;t<9;t++)this.coefficients[t].add(e.coefficients[t]);return this}addScaledSH(e,t){for(let i=0;i<9;i++)this.coefficients[i].addScaledVector(e.coefficients[i],t);return this}scale(e){for(let t=0;t<9;t++)this.coefficients[t].multiplyScalar(e);return this}lerp(e,t){for(let i=0;i<9;i++)this.coefficients[i].lerp(e.coefficients[i],t);return this}equals(e){for(let t=0;t<9;t++)if(!this.coefficients[t].equals(e.coefficients[t]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,t=0){const i=this.coefficients;for(let r=0;r<9;r++)i[r].fromArray(e,t+r*3);return this}toArray(e=[],t=0){const i=this.coefficients;for(let r=0;r<9;r++)i[r].toArray(e,t+r*3);return e}static getBasisAt(e,t){const i=e.x,r=e.y,s=e.z;t[0]=.282095,t[1]=.488603*r,t[2]=.488603*s,t[3]=.488603*i,t[4]=1.092548*i*r,t[5]=1.092548*r*s,t[6]=.315392*(3*s*s-1),t[7]=1.092548*i*s,t[8]=.546274*(i*i-r*r)}}xv.prototype.isSphericalHarmonics3=!0;class H1 extends a0{constructor(e=new xv,t=1){super(void 0,t);this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const t=super.toJSON(e);return t.object.sh=this.sh.toArray(),t}}H1.prototype.isLightProbe=!0;class _P extends vi{constructor(e){super(e);this.textures={}}load(e,t,i,r){const s=this,o=new Br(s.manager);o.setPath(s.path),o.setRequestHeader(s.requestHeader),o.setWithCredentials(s.withCredentials),o.load(e,function(a){try{t(s.parse(JSON.parse(a)))}catch(l){r?r(l):console.error(l),s.manager.itemError(e)}},i,r)}parse(e){const t=this.textures;function i(s){return t[s]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",s),t[s]}const r=new mre[e.type];if(e.uuid!==void 0&&(r.uuid=e.uuid),e.name!==void 0&&(r.name=e.name),e.color!==void 0&&r.color!==void 0&&r.color.setHex(e.color),e.roughness!==void 0&&(r.roughness=e.roughness),e.metalness!==void 0&&(r.metalness=e.metalness),e.sheenTint!==void 0&&(r.sheenTint=new We().setHex(e.sheenTint)),e.emissive!==void 0&&r.emissive!==void 0&&r.emissive.setHex(e.emissive),e.specular!==void 0&&r.specular!==void 0&&r.specular.setHex(e.specular),e.specularIntensity!==void 0&&(r.specularIntensity=e.specularIntensity),e.specularTint!==void 0&&r.specularTint!==void 0&&r.specularTint.setHex(e.specularTint),e.shininess!==void 0&&(r.shininess=e.shininess),e.clearcoat!==void 0&&(r.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=e.clearcoatRoughness),e.transmission!==void 0&&(r.transmission=e.transmission),e.thickness!==void 0&&(r.thickness=e.thickness),e.attenuationDistance!==void 0&&(r.attenuationDistance=e.attenuationDistance),e.attenuationTint!==void 0&&r.attenuationTint!==void 0&&r.attenuationTint.setHex(e.attenuationTint),e.fog!==void 0&&(r.fog=e.fog),e.flatShading!==void 0&&(r.flatShading=e.flatShading),e.blending!==void 0&&(r.blending=e.blending),e.combine!==void 0&&(r.combine=e.combine),e.side!==void 0&&(r.side=e.side),e.shadowSide!==void 0&&(r.shadowSide=e.shadowSide),e.opacity!==void 0&&(r.opacity=e.opacity),e.format!==void 0&&(r.format=e.format),e.transparent!==void 0&&(r.transparent=e.transparent),e.alphaTest!==void 0&&(r.alphaTest=e.alphaTest),e.depthTest!==void 0&&(r.depthTest=e.depthTest),e.depthWrite!==void 0&&(r.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(r.colorWrite=e.colorWrite),e.stencilWrite!==void 0&&(r.stencilWrite=e.stencilWrite),e.stencilWriteMask!==void 0&&(r.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(r.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(r.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(r.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(r.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(r.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(r.stencilZPass=e.stencilZPass),e.wireframe!==void 0&&(r.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(r.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(r.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(r.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(r.rotation=e.rotation),e.linewidth!==1&&(r.linewidth=e.linewidth),e.dashSize!==void 0&&(r.dashSize=e.dashSize),e.gapSize!==void 0&&(r.gapSize=e.gapSize),e.scale!==void 0&&(r.scale=e.scale),e.polygonOffset!==void 0&&(r.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(r.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(r.polygonOffsetUnits=e.polygonOffsetUnits),e.dithering!==void 0&&(r.dithering=e.dithering),e.alphaToCoverage!==void 0&&(r.alphaToCoverage=e.alphaToCoverage),e.premultipliedAlpha!==void 0&&(r.premultipliedAlpha=e.premultipliedAlpha),e.visible!==void 0&&(r.visible=e.visible),e.toneMapped!==void 0&&(r.toneMapped=e.toneMapped),e.userData!==void 0&&(r.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?r.vertexColors=e.vertexColors>0:r.vertexColors=e.vertexColors),e.uniforms!==void 0)for(const s in e.uniforms){const o=e.uniforms[s];switch(r.uniforms[s]={},o.type){case"t":r.uniforms[s].value=i(o.value);break;case"c":r.uniforms[s].value=new We().setHex(o.value);break;case"v2":r.uniforms[s].value=new Ie().fromArray(o.value);break;case"v3":r.uniforms[s].value=new Z().fromArray(o.value);break;case"v4":r.uniforms[s].value=new $t().fromArray(o.value);break;case"m3":r.uniforms[s].value=new Gn().fromArray(o.value);break;case"m4":r.uniforms[s].value=new $e().fromArray(o.value);break;default:r.uniforms[s].value=o.value}}if(e.defines!==void 0&&(r.defines=e.defines),e.vertexShader!==void 0&&(r.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(r.fragmentShader=e.fragmentShader),e.extensions!==void 0)for(const s in e.extensions)r.extensions[s]=e.extensions[s];if(e.shading!==void 0&&(r.flatShading=e.shading===1),e.size!==void 0&&(r.size=e.size),e.sizeAttenuation!==void 0&&(r.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(r.map=i(e.map)),e.matcap!==void 0&&(r.matcap=i(e.matcap)),e.alphaMap!==void 0&&(r.alphaMap=i(e.alphaMap)),e.bumpMap!==void 0&&(r.bumpMap=i(e.bumpMap)),e.bumpScale!==void 0&&(r.bumpScale=e.bumpScale),e.normalMap!==void 0&&(r.normalMap=i(e.normalMap)),e.normalMapType!==void 0&&(r.normalMapType=e.normalMapType),e.normalScale!==void 0){let s=e.normalScale;Array.isArray(s)===!1&&(s=[s,s]),r.normalScale=new Ie().fromArray(s)}return e.displacementMap!==void 0&&(r.displacementMap=i(e.displacementMap)),e.displacementScale!==void 0&&(r.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(r.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(r.roughnessMap=i(e.roughnessMap)),e.metalnessMap!==void 0&&(r.metalnessMap=i(e.metalnessMap)),e.emissiveMap!==void 0&&(r.emissiveMap=i(e.emissiveMap)),e.emissiveIntensity!==void 0&&(r.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(r.specularMap=i(e.specularMap)),e.specularIntensityMap!==void 0&&(r.specularIntensityMap=i(e.specularIntensityMap)),e.specularTintMap!==void 0&&(r.specularTintMap=i(e.specularTintMap)),e.envMap!==void 0&&(r.envMap=i(e.envMap)),e.envMapIntensity!==void 0&&(r.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(r.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(r.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(r.lightMap=i(e.lightMap)),e.lightMapIntensity!==void 0&&(r.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(r.aoMap=i(e.aoMap)),e.aoMapIntensity!==void 0&&(r.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(r.gradientMap=i(e.gradientMap)),e.clearcoatMap!==void 0&&(r.clearcoatMap=i(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(r.clearcoatRoughnessMap=i(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(r.clearcoatNormalMap=i(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(r.clearcoatNormalScale=new Ie().fromArray(e.clearcoatNormalScale)),e.transmissionMap!==void 0&&(r.transmissionMap=i(e.transmissionMap)),e.thicknessMap!==void 0&&(r.thicknessMap=i(e.thicknessMap)),r}setTextures(e){return this.textures=e,this}}class Ps{static decodeText(e){if(typeof TextDecoder!="undefined")return new TextDecoder().decode(e);let t="";for(let i=0,r=e.length;i<r;i++)t+=String.fromCharCode(e[i]);try{return decodeURIComponent(escape(t))}catch{return t}}static extractUrlBase(e){const t=e.lastIndexOf("/");return t===-1?"./":e.substr(0,t+1)}}class yv extends ot{constructor(){super();this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}clone(){return new this.constructor().copy(this)}toJSON(){const e=super.toJSON(this);return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}yv.prototype.isInstancedBufferGeometry=!0;class bP extends vi{constructor(e){super(e)}load(e,t,i,r){const s=this,o=new Br(s.manager);o.setPath(s.path),o.setRequestHeader(s.requestHeader),o.setWithCredentials(s.withCredentials),o.load(e,function(a){try{t(s.parse(JSON.parse(a)))}catch(l){r?r(l):console.error(l),s.manager.itemError(e)}},i,r)}parse(e){const t={},i={};function r(d,m){if(t[m]!==void 0)return t[m];const _=d.interleavedBuffers[m],g=s(d,_.buffer),x=mf(_.type,g),b=new Fa(x,_.stride);return b.uuid=_.uuid,t[m]=b,b}function s(d,m){if(i[m]!==void 0)return i[m];const _=d.arrayBuffers[m],g=new Uint32Array(_).buffer;return i[m]=g,g}const o=e.isInstancedBufferGeometry?new yv:new ot,a=e.data.index;if(a!==void 0){const d=mf(a.type,a.array);o.setIndex(new Tt(d,1))}const l=e.data.attributes;for(const d in l){const m=l[d];let v;if(m.isInterleavedBufferAttribute){const _=r(e.data,m.data);v=new Ro(_,m.itemSize,m.offset,m.normalized)}else{const _=mf(m.type,m.array),g=m.isInstancedBufferAttribute?cc:Tt;v=new g(_,m.itemSize,m.normalized)}m.name!==void 0&&(v.name=m.name),m.usage!==void 0&&v.setUsage(m.usage),m.updateRange!==void 0&&(v.updateRange.offset=m.updateRange.offset,v.updateRange.count=m.updateRange.count),o.setAttribute(d,v)}const c=e.data.morphAttributes;if(c)for(const d in c){const m=c[d],v=[];for(let _=0,g=m.length;_<g;_++){const x=m[_];let b;if(x.isInterleavedBufferAttribute){const w=r(e.data,x.data);b=new Ro(w,x.itemSize,x.offset,x.normalized)}else{const w=mf(x.type,x.array);b=new Tt(w,x.itemSize,x.normalized)}x.name!==void 0&&(b.name=x.name),v.push(b)}o.morphAttributes[d]=v}e.data.morphTargetsRelative&&(o.morphTargetsRelative=!0);const f=e.data.groups||e.data.drawcalls||e.data.offsets;if(f!==void 0)for(let d=0,m=f.length;d!==m;++d){const v=f[d];o.addGroup(v.start,v.count,v.materialIndex)}const h=e.data.boundingSphere;if(h!==void 0){const d=new Z;h.center!==void 0&&d.fromArray(h.center),o.boundingSphere=new R0(d,h.radius)}return e.name&&(o.name=e.name),e.userData&&(o.userData=e.userData),o}}class _re extends vi{constructor(e){super(e)}load(e,t,i,r){const s=this,o=this.path===""?Ps.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||o;const a=new Br(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,function(l){let c=null;try{c=JSON.parse(l)}catch(f){r!==void 0&&r(f),console.error("THREE:ObjectLoader: Can't parse "+e+".",f.message);return}const u=c.metadata;if(u===void 0||u.type===void 0||u.type.toLowerCase()==="geometry"){console.error("THREE.ObjectLoader: Can't load "+e);return}s.parse(c,t)},i,r)}async loadAsync(e,t){const i=this,r=this.path===""?Ps.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||r;const s=new Br(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials);const o=await s.loadAsync(e,t),a=JSON.parse(o),l=a.metadata;if(l===void 0||l.type===void 0||l.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+e);return await i.parseAsync(a)}parse(e,t){const i=this.parseAnimations(e.animations),r=this.parseShapes(e.shapes),s=this.parseGeometries(e.geometries,r),o=this.parseImages(e.images,function(){t!==void 0&&t(c)}),a=this.parseTextures(e.textures,o),l=this.parseMaterials(e.materials,a),c=this.parseObject(e.object,s,l,a,i),u=this.parseSkeletons(e.skeletons,c);if(this.bindSkeletons(c,u),t!==void 0){let f=!1;for(const h in o)if(o[h]instanceof HTMLImageElement){f=!0;break}f===!1&&t(c)}return c}async parseAsync(e){const t=this.parseAnimations(e.animations),i=this.parseShapes(e.shapes),r=this.parseGeometries(e.geometries,i),s=await this.parseImagesAsync(e.images),o=this.parseTextures(e.textures,s),a=this.parseMaterials(e.materials,o),l=this.parseObject(e.object,r,a,o,t),c=this.parseSkeletons(e.skeletons,l);return this.bindSkeletons(l,c),l}parseShapes(e){const t={};if(e!==void 0)for(let i=0,r=e.length;i<r;i++){const s=new Ua().fromJSON(e[i]);t[s.uuid]=s}return t}parseSkeletons(e,t){const i={},r={};if(t.traverse(function(s){s.isBone&&(r[s.uuid]=s)}),e!==void 0)for(let s=0,o=e.length;s<o;s++){const a=new Df().fromJSON(e[s],r);i[a.uuid]=a}return i}parseGeometries(e,t){const i={};if(e!==void 0){const r=new bP;for(let s=0,o=e.length;s<o;s++){let a;const l=e[s];switch(l.type){case"BufferGeometry":case"InstancedBufferGeometry":a=r.parse(l);break;case"Geometry":console.error("THREE.ObjectLoader: The legacy Geometry type is no longer supported.");break;default:l.type in oP?a=oP[l.type].fromJSON(l,t):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${l.type}"`)}a.uuid=l.uuid,l.name!==void 0&&(a.name=l.name),a.isBufferGeometry===!0&&l.userData!==void 0&&(a.userData=l.userData),i[l.uuid]=a}}return i}parseMaterials(e,t){const i={},r={};if(e!==void 0){const s=new _P;s.setTextures(t);for(let o=0,a=e.length;o<a;o++){const l=e[o];if(l.type==="MultiMaterial"){const c=[];for(let u=0;u<l.materials.length;u++){const f=l.materials[u];i[f.uuid]===void 0&&(i[f.uuid]=s.parse(f)),c.push(i[f.uuid])}r[l.uuid]=c}else i[l.uuid]===void 0&&(i[l.uuid]=s.parse(l)),r[l.uuid]=i[l.uuid]}}return r}parseAnimations(e){const t={};if(e!==void 0)for(let i=0;i<e.length;i++){const r=e[i],s=Ec.parse(r);t[s.uuid]=s}return t}parseImages(e,t){const i=this,r={};let s;function o(l){return i.manager.itemStart(l),s.load(l,function(){i.manager.itemEnd(l)},void 0,function(){i.manager.itemError(l),i.manager.itemEnd(l)})}function a(l){if(typeof l=="string"){const c=l,u=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(c)?c:i.resourcePath+c;return o(u)}else return l.data?{data:mf(l.type,l.data),width:l.width,height:l.height}:null}if(e!==void 0&&e.length>0){const l=new pv(t);s=new B1(l),s.setCrossOrigin(this.crossOrigin);for(let c=0,u=e.length;c<u;c++){const f=e[c],h=f.url;if(Array.isArray(h)){r[f.uuid]=[];for(let d=0,m=h.length;d<m;d++){const v=h[d],_=a(v);_!==null&&(_ instanceof HTMLImageElement?r[f.uuid].push(_):r[f.uuid].push(new Ls(_.data,_.width,_.height)))}}else{const d=a(f.url);d!==null&&(r[f.uuid]=d)}}}return r}async parseImagesAsync(e){const t=this,i={};let r;async function s(o){if(typeof o=="string"){const a=o,l=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(a)?a:t.resourcePath+a;return await r.loadAsync(l)}else return o.data?{data:mf(o.type,o.data),width:o.width,height:o.height}:null}if(e!==void 0&&e.length>0){r=new B1(this.manager),r.setCrossOrigin(this.crossOrigin);for(let o=0,a=e.length;o<a;o++){const l=e[o],c=l.url;if(Array.isArray(c)){i[l.uuid]=[];for(let u=0,f=c.length;u<f;u++){const h=c[u],d=await s(h);d!==null&&(d instanceof HTMLImageElement?i[l.uuid].push(d):i[l.uuid].push(new Ls(d.data,d.width,d.height)))}}else{const u=await s(l.url);u!==null&&(i[l.uuid]=u)}}}return i}parseTextures(e,t){function i(s,o){return typeof s=="number"?s:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",s),o[s])}const r={};if(e!==void 0)for(let s=0,o=e.length;s<o;s++){const a=e[s];a.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',a.uuid),t[a.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",a.image);let l;const c=t[a.image];Array.isArray(c)?(l=new bf(c),c.length===6&&(l.needsUpdate=!0)):(c&&c.data?l=new Ls(c.data,c.width,c.height):l=new Tn(c),c&&(l.needsUpdate=!0)),l.uuid=a.uuid,a.name!==void 0&&(l.name=a.name),a.mapping!==void 0&&(l.mapping=i(a.mapping,bre)),a.offset!==void 0&&l.offset.fromArray(a.offset),a.repeat!==void 0&&l.repeat.fromArray(a.repeat),a.center!==void 0&&l.center.fromArray(a.center),a.rotation!==void 0&&(l.rotation=a.rotation),a.wrap!==void 0&&(l.wrapS=i(a.wrap[0],wP),l.wrapT=i(a.wrap[1],wP)),a.format!==void 0&&(l.format=a.format),a.type!==void 0&&(l.type=a.type),a.encoding!==void 0&&(l.encoding=a.encoding),a.minFilter!==void 0&&(l.minFilter=i(a.minFilter,MP)),a.magFilter!==void 0&&(l.magFilter=i(a.magFilter,MP)),a.anisotropy!==void 0&&(l.anisotropy=a.anisotropy),a.flipY!==void 0&&(l.flipY=a.flipY),a.premultiplyAlpha!==void 0&&(l.premultiplyAlpha=a.premultiplyAlpha),a.unpackAlignment!==void 0&&(l.unpackAlignment=a.unpackAlignment),r[a.uuid]=l}return r}parseObject(e,t,i,r,s){let o;function a(h){return t[h]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",h),t[h]}function l(h){if(h!==void 0){if(Array.isArray(h)){const d=[];for(let m=0,v=h.length;m<v;m++){const _=h[m];i[_]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",_),d.push(i[_])}return d}return i[h]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",h),i[h]}}function c(h){return r[h]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",h),r[h]}let u,f;switch(e.type){case"Scene":o=new _1,e.background!==void 0&&(Number.isInteger(e.background)?o.background=new We(e.background):o.background=c(e.background)),e.environment!==void 0&&(o.environment=c(e.environment)),e.fog!==void 0&&(e.fog.type==="Fog"?o.fog=new y1(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(o.fog=new x1(e.fog.color,e.fog.density)));break;case"PerspectiveCamera":o=new Qn(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(o.focus=e.focus),e.zoom!==void 0&&(o.zoom=e.zoom),e.filmGauge!==void 0&&(o.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(o.filmOffset=e.filmOffset),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"OrthographicCamera":o=new F0(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(o.zoom=e.zoom),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"AmbientLight":o=new k1(e.color,e.intensity);break;case"DirectionalLight":o=new ka(e.color,e.intensity);break;case"PointLight":o=new Cc(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":o=new s9(e.color,e.intensity,e.width,e.height);break;case"SpotLight":o=new za(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay);break;case"HemisphereLight":o=new r9(e.color,e.groundColor,e.intensity);break;case"LightProbe":o=new H1().fromJSON(e);break;case"SkinnedMesh":u=a(e.geometry),f=l(e.material),o=new If(u,f),e.bindMode!==void 0&&(o.bindMode=e.bindMode),e.bindMatrix!==void 0&&o.bindMatrix.fromArray(e.bindMatrix),e.skeleton!==void 0&&(o.skeleton=e.skeleton);break;case"Mesh":u=a(e.geometry),f=l(e.material),o=new En(u,f);break;case"InstancedMesh":u=a(e.geometry),f=l(e.material);const h=e.count,d=e.instanceMatrix,m=e.instanceColor;o=new Nf(u,f,h),o.instanceMatrix=new cc(new Float32Array(d.array),16),m!==void 0&&(o.instanceColor=new cc(new Float32Array(m.array),m.itemSize));break;case"LOD":o=new DC;break;case"Line":o=new Cs(a(e.geometry),l(e.material));break;case"LineLoop":o=new H3(a(e.geometry),l(e.material));break;case"LineSegments":o=new dr(a(e.geometry),l(e.material));break;case"PointCloud":case"Points":o=new uc(a(e.geometry),l(e.material));break;case"Sprite":o=new A1(l(e.material));break;case"Group":o=new es;break;case"Bone":o=new lc;break;default:o=new At}if(o.uuid=e.uuid,e.name!==void 0&&(o.name=e.name),e.matrix!==void 0?(o.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(o.matrixAutoUpdate=e.matrixAutoUpdate),o.matrixAutoUpdate&&o.matrix.decompose(o.position,o.quaternion,o.scale)):(e.position!==void 0&&o.position.fromArray(e.position),e.rotation!==void 0&&o.rotation.fromArray(e.rotation),e.quaternion!==void 0&&o.quaternion.fromArray(e.quaternion),e.scale!==void 0&&o.scale.fromArray(e.scale)),e.castShadow!==void 0&&(o.castShadow=e.castShadow),e.receiveShadow!==void 0&&(o.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.bias!==void 0&&(o.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(o.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(o.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&o.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(o.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(o.visible=e.visible),e.frustumCulled!==void 0&&(o.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(o.renderOrder=e.renderOrder),e.userData!==void 0&&(o.userData=e.userData),e.layers!==void 0&&(o.layers.mask=e.layers),e.children!==void 0){const h=e.children;for(let d=0;d<h.length;d++)o.add(this.parseObject(h[d],t,i,r,s))}if(e.animations!==void 0){const h=e.animations;for(let d=0;d<h.length;d++){const m=h[d];o.animations.push(s[m])}}if(e.type==="LOD"){e.autoUpdate!==void 0&&(o.autoUpdate=e.autoUpdate);const h=e.levels;for(let d=0;d<h.length;d++){const m=h[d],v=o.getObjectByProperty("uuid",m.object);v!==void 0&&o.addLevel(v,m.distance)}}return o}bindSkeletons(e,t){Object.keys(t).length!==0&&e.traverse(function(i){if(i.isSkinnedMesh===!0&&i.skeleton!==void 0){const r=t[i.skeleton];r===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",i.skeleton):i.bind(r,i.bindMatrix)}})}setTexturePath(e){return console.warn("THREE.ObjectLoader: .setTexturePath() has been renamed to .setResourcePath()."),this.setResourcePath(e)}}const bre={UVMapping:_a,CubeReflectionMapping:Ql,CubeRefractionMapping:Zu,EquirectangularReflectionMapping:Qu,EquirectangularRefractionMapping:Jd,CubeUVReflectionMapping:Ju,CubeUVRefractionMapping:Kd},wP={RepeatWrapping:bs,ClampToEdgeWrapping:ln,MirroredRepeatWrapping:Ku},MP={NearestFilter:Qt,NearestMipmapNearestFilter:e1,NearestMipmapLinearFilter:t1,LinearFilter:Ht,LinearMipmapNearestFilter:a3,LinearMipmapLinearFilter:C0};class _v extends vi{constructor(e){super(e);typeof createImageBitmap=="undefined"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch=="undefined"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,t,i,r){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,o=Lc.get(e);if(o!==void 0)return s.manager.itemStart(e),setTimeout(function(){t&&t(o),s.manager.itemEnd(e)},0),o;const a={};a.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",a.headers=this.requestHeader,fetch(e,a).then(function(l){return l.blob()}).then(function(l){return createImageBitmap(l,Object.assign(s.options,{colorSpaceConversion:"none"}))}).then(function(l){Lc.add(e,l),t&&t(l),s.manager.itemEnd(e)}).catch(function(l){r&&r(l),s.manager.itemError(e),s.manager.itemEnd(e)}),s.manager.itemStart(e)}}_v.prototype.isImageBitmapLoader=!0;class SP{constructor(){this.type="ShapePath",this.color=new We,this.subPaths=[],this.currentPath=null}moveTo(e,t){return this.currentPath=new U1,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t),this}lineTo(e,t){return this.currentPath.lineTo(e,t),this}quadraticCurveTo(e,t,i,r){return this.currentPath.quadraticCurveTo(e,t,i,r),this}bezierCurveTo(e,t,i,r,s,o){return this.currentPath.bezierCurveTo(e,t,i,r,s,o),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e,t){function i(x){const b=[];for(let w=0,S=x.length;w<S;w++){const A=x[w],T=new Ua;T.curves=A.curves,b.push(T)}return b}function r(x,b){const w=b.length;let S=!1;for(let A=w-1,T=0;T<w;A=T++){let F=b[A],U=b[T],N=U.x-F.x,O=U.y-F.y;if(Math.abs(O)>Number.EPSILON){if(O<0&&(F=b[T],N=-N,U=b[A],O=-O),x.y<F.y||x.y>U.y)continue;if(x.y===F.y){if(x.x===F.x)return!0}else{const G=O*(x.x-F.x)-N*(x.y-F.y);if(G===0)return!0;if(G<0)continue;S=!S}}else{if(x.y!==F.y)continue;if(U.x<=x.x&&x.x<=F.x||F.x<=x.x&&x.x<=U.x)return!0}}return S}const s=N0.isClockWise,o=this.subPaths;if(o.length===0)return[];if(t===!0)return i(o);let a,l,c;const u=[];if(o.length===1)return l=o[0],c=new Ua,c.curves=l.curves,u.push(c),u;let f=!s(o[0].getPoints());f=e?!f:f;const h=[],d=[];let m=[],v=0,_;d[v]=void 0,m[v]=[];for(let x=0,b=o.length;x<b;x++)l=o[x],_=l.getPoints(),a=s(_),a=e?!a:a,a?(!f&&d[v]&&v++,d[v]={s:new Ua,p:_},d[v].s.curves=l.curves,f&&v++,m[v]=[]):m[v].push({h:l,p:_[0]});if(!d[0])return i(o);if(d.length>1){let x=!1;const b=[];for(let w=0,S=d.length;w<S;w++)h[w]=[];for(let w=0,S=d.length;w<S;w++){const A=m[w];for(let T=0;T<A.length;T++){const F=A[T];let U=!0;for(let N=0;N<d.length;N++)r(F.p,d[N].p)&&(w!==N&&b.push({froms:w,tos:N,hole:T}),U?(U=!1,h[N].push(F)):x=!0);U&&h[w].push(F)}}b.length>0&&(x||(m=h))}let g;for(let x=0,b=d.length;x<b;x++){c=d[x].s,u.push(c),g=m[x];for(let w=0,S=g.length;w<S;w++)c.holes.push(g[w].h)}return u}}class bv{constructor(e){this.type="Font",this.data=e}generateShapes(e,t=100){const i=[],r=wre(e,t,this.data);for(let s=0,o=r.length;s<o;s++)Array.prototype.push.apply(i,r[s].toShapes());return i}}function wre(n,e,t){const i=Array.from(n),r=e/t.resolution,s=(t.boundingBox.yMax-t.boundingBox.yMin+t.underlineThickness)*r,o=[];let a=0,l=0;for(let c=0;c<i.length;c++){const u=i[c];if(u===`
`)a=0,l-=s;else{const f=Mre(u,r,a,l,t);a+=f.offsetX,o.push(f.path)}}return o}function Mre(n,e,t,i,r){const s=r.glyphs[n]||r.glyphs["?"];if(!s){console.error('THREE.Font: character "'+n+'" does not exists in font family '+r.familyName+".");return}const o=new SP;let a,l,c,u,f,h,d,m;if(s.o){const v=s._cachedOutline||(s._cachedOutline=s.o.split(" "));for(let _=0,g=v.length;_<g;)switch(v[_++]){case"m":a=v[_++]*e+t,l=v[_++]*e+i,o.moveTo(a,l);break;case"l":a=v[_++]*e+t,l=v[_++]*e+i,o.lineTo(a,l);break;case"q":c=v[_++]*e+t,u=v[_++]*e+i,f=v[_++]*e+t,h=v[_++]*e+i,o.quadraticCurveTo(f,h,c,u);break;case"b":c=v[_++]*e+t,u=v[_++]*e+i,f=v[_++]*e+t,h=v[_++]*e+i,d=v[_++]*e+t,m=v[_++]*e+i,o.bezierCurveTo(f,h,d,m,c,u);break}}return{offsetX:s.ha*e,path:o}}bv.prototype.isFont=!0;class AP extends vi{constructor(e){super(e)}load(e,t,i,r){const s=this,o=new Br(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(s.withCredentials),o.load(e,function(a){let l;try{l=JSON.parse(a)}catch{console.warn("THREE.FontLoader: typeface.js support is being deprecated. Use typeface.json instead."),l=JSON.parse(a.substring(65,a.length-2))}const c=s.parse(l);t&&t(c)},i,r)}parse(e){return new bv(e)}}let o9;const wv={getContext:function(){return o9===void 0&&(o9=new(window.AudioContext||window.webkitAudioContext)),o9},setContext:function(n){o9=n}};class TP extends vi{constructor(e){super(e)}load(e,t,i,r){const s=this,o=new Br(this.manager);o.setResponseType("arraybuffer"),o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(a){try{const l=a.slice(0);wv.getContext().decodeAudioData(l,function(u){t(u)})}catch(l){r?r(l):console.error(l),s.manager.itemError(e)}},i,r)}}class EP extends H1{constructor(e,t,i=1){super(void 0,i);const r=new We().set(e),s=new We().set(t),o=new Z(r.r,r.g,r.b),a=new Z(s.r,s.g,s.b),l=Math.sqrt(Math.PI),c=l*Math.sqrt(.75);this.sh.coefficients[0].copy(o).add(a).multiplyScalar(l),this.sh.coefficients[1].copy(o).sub(a).multiplyScalar(c)}}EP.prototype.isHemisphereLightProbe=!0;class LP extends H1{constructor(e,t=1){super(void 0,t);const i=new We().set(e);this.sh.coefficients[0].set(i.r,i.g,i.b).multiplyScalar(2*Math.sqrt(Math.PI))}}LP.prototype.isAmbientLightProbe=!0;const CP=new $e,PP=new $e;class Sre{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new Qn,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new Qn,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const t=this._cache;if(t.focus!==e.focus||t.fov!==e.fov||t.aspect!==e.aspect*this.aspect||t.near!==e.near||t.far!==e.far||t.zoom!==e.zoom||t.eyeSep!==this.eyeSep){t.focus=e.focus,t.fov=e.fov,t.aspect=e.aspect*this.aspect,t.near=e.near,t.far=e.far,t.zoom=e.zoom,t.eyeSep=this.eyeSep;const r=e.projectionMatrix.clone(),s=t.eyeSep/2,o=s*t.near/t.focus,a=t.near*Math.tan(ic*t.fov*.5)/t.zoom;let l,c;PP.elements[12]=-s,CP.elements[12]=s,l=-a*t.aspect+o,c=a*t.aspect+o,r.elements[0]=2*t.near/(c-l),r.elements[8]=(c+l)/(c-l),this.cameraL.projectionMatrix.copy(r),l=-a*t.aspect-o,c=a*t.aspect-o,r.elements[0]=2*t.near/(c-l),r.elements[8]=(c+l)/(c-l),this.cameraR.projectionMatrix.copy(r)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(PP),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(CP)}}class Mv{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=RP(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const t=RP();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}}function RP(){return(typeof performance=="undefined"?Date:performance).now()}const Pc=new Z,FP=new Rn,Are=new Z,Rc=new Z;class Tre extends At{constructor(){super();this.type="AudioListener",this.context=wv.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new Mv}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const t=this.context.listener,i=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(Pc,FP,Are),Rc.set(0,0,-1).applyQuaternion(FP),t.positionX){const r=this.context.currentTime+this.timeDelta;t.positionX.linearRampToValueAtTime(Pc.x,r),t.positionY.linearRampToValueAtTime(Pc.y,r),t.positionZ.linearRampToValueAtTime(Pc.z,r),t.forwardX.linearRampToValueAtTime(Rc.x,r),t.forwardY.linearRampToValueAtTime(Rc.y,r),t.forwardZ.linearRampToValueAtTime(Rc.z,r),t.upX.linearRampToValueAtTime(i.x,r),t.upY.linearRampToValueAtTime(i.y,r),t.upZ.linearRampToValueAtTime(i.z,r)}else t.setPosition(Pc.x,Pc.y,Pc.z),t.setOrientation(Rc.x,Rc.y,Rc.z,i.x,i.y,i.z)}}class Sv extends At{constructor(e){super();this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const t=this.context.createBufferSource();return t.buffer=this.buffer,t.loop=this.loop,t.loopStart=this.loopStart,t.loopEnd=this.loopEnd,t.onended=this.onEnded.bind(this),t.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=t,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source.stop(),this.source.onended=null,this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){if(this.detune=e,this.source.detune!==void 0)return this.isPlaying===!0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}}const Fc=new Z,IP=new Rn,Ere=new Z,Ic=new Z;class Lre extends Sv{constructor(e){super(e);this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,t,i){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=t,this.panner.coneOuterGain=i,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(Fc,IP,Ere),Ic.set(0,0,1).applyQuaternion(IP);const t=this.panner;if(t.positionX){const i=this.context.currentTime+this.listener.timeDelta;t.positionX.linearRampToValueAtTime(Fc.x,i),t.positionY.linearRampToValueAtTime(Fc.y,i),t.positionZ.linearRampToValueAtTime(Fc.z,i),t.orientationX.linearRampToValueAtTime(Ic.x,i),t.orientationY.linearRampToValueAtTime(Ic.y,i),t.orientationZ.linearRampToValueAtTime(Ic.z,i)}else t.setPosition(Fc.x,Fc.y,Fc.z),t.setOrientation(Ic.x,Ic.y,Ic.z)}}class DP{constructor(e,t=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=t,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const t=this.getFrequencyData();for(let i=0;i<t.length;i++)e+=t[i];return e/t.length}}class NP{constructor(e,t,i){this.binding=e,this.valueSize=i;let r,s,o;switch(t){case"quaternion":r=this._slerp,s=this._slerpAdditive,o=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(i*6),this._workIndex=5;break;case"string":case"bool":r=this._select,s=this._select,o=this._setAdditiveIdentityOther,this.buffer=new Array(i*5);break;default:r=this._lerp,s=this._lerpAdditive,o=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(i*5)}this._mixBufferRegion=r,this._mixBufferRegionAdditive=s,this._setIdentity=o,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,t){const i=this.buffer,r=this.valueSize,s=e*r+r;let o=this.cumulativeWeight;if(o===0){for(let a=0;a!==r;++a)i[s+a]=i[a];o=t}else{o+=t;const a=t/o;this._mixBufferRegion(i,s,0,a,r)}this.cumulativeWeight=o}accumulateAdditive(e){const t=this.buffer,i=this.valueSize,r=i*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(t,r,0,e,i),this.cumulativeWeightAdditive+=e}apply(e){const t=this.valueSize,i=this.buffer,r=e*t+t,s=this.cumulativeWeight,o=this.cumulativeWeightAdditive,a=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,s<1){const l=t*this._origIndex;this._mixBufferRegion(i,r,l,1-s,t)}o>0&&this._mixBufferRegionAdditive(i,r,this._addIndex*t,1,t);for(let l=t,c=t+t;l!==c;++l)if(i[l]!==i[l+t]){a.setValue(i,r);break}}saveOriginalState(){const e=this.binding,t=this.buffer,i=this.valueSize,r=i*this._origIndex;e.getValue(t,r);for(let s=i,o=r;s!==o;++s)t[s]=t[r+s%i];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,t=e+this.valueSize;for(let i=e;i<t;i++)this.buffer[i]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,t=this._addIndex*this.valueSize;for(let i=0;i<this.valueSize;i++)this.buffer[t+i]=this.buffer[e+i]}_select(e,t,i,r,s){if(r>=.5)for(let o=0;o!==s;++o)e[t+o]=e[i+o]}_slerp(e,t,i,r){Rn.slerpFlat(e,t,e,t,e,i,r)}_slerpAdditive(e,t,i,r,s){const o=this._workIndex*s;Rn.multiplyQuaternionsFlat(e,o,e,t,e,i),Rn.slerpFlat(e,t,e,t,e,o,r)}_lerp(e,t,i,r,s){const o=1-r;for(let a=0;a!==s;++a){const l=t+a;e[l]=e[l]*o+e[i+a]*r}}_lerpAdditive(e,t,i,r,s){for(let o=0;o!==s;++o){const a=t+o;e[a]=e[a]+e[i+o]*r}}}const Av="\\[\\]\\.:\\/",Cre=new RegExp("["+Av+"]","g"),Tv="[^"+Av+"]",Pre="[^"+Av.replace("\\.","")+"]",Rre=/((?:WC+[\/:])*)/.source.replace("WC",Tv),Fre=/(WCOD+)?/.source.replace("WCOD",Pre),Ire=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",Tv),Dre=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",Tv),Nre=new RegExp("^"+Rre+Fre+Ire+Dre+"$"),Ore=["material","materials","bones"];class Bre{constructor(e,t,i){const r=i||Nt.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,r)}getValue(e,t){this.bind();const i=this._targetGroup.nCachedObjects_,r=this._bindings[i];r!==void 0&&r.getValue(e,t)}setValue(e,t){const i=this._bindings;for(let r=this._targetGroup.nCachedObjects_,s=i.length;r!==s;++r)i[r].setValue(e,t)}bind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,i=e.length;t!==i;++t)e[t].bind()}unbind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,i=e.length;t!==i;++t)e[t].unbind()}}class Nt{constructor(e,t,i){this.path=t,this.parsedPath=i||Nt.parseTrackName(t),this.node=Nt.findNode(e,this.parsedPath.nodeName)||e,this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,t,i){return e&&e.isAnimationObjectGroup?new Nt.Composite(e,t,i):new Nt(e,t,i)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(Cre,"")}static parseTrackName(e){const t=Nre.exec(e);if(!t)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const i={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},r=i.nodeName&&i.nodeName.lastIndexOf(".");if(r!==void 0&&r!==-1){const s=i.nodeName.substring(r+1);Ore.indexOf(s)!==-1&&(i.nodeName=i.nodeName.substring(0,r),i.objectName=s)}if(i.propertyName===null||i.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return i}static findNode(e,t){if(!t||t===""||t==="."||t===-1||t===e.name||t===e.uuid)return e;if(e.skeleton){const i=e.skeleton.getBoneByName(t);if(i!==void 0)return i}if(e.children){const i=function(s){for(let o=0;o<s.length;o++){const a=s[o];if(a.name===t||a.uuid===t)return a;const l=i(a.children);if(l)return l}return null},r=i(e.children);if(r)return r}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,t){e[t]=this.targetObject[this.propertyName]}_getValue_array(e,t){const i=this.resolvedProperty;for(let r=0,s=i.length;r!==s;++r)e[t++]=i[r]}_getValue_arrayElement(e,t){e[t]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,t){this.resolvedProperty.toArray(e,t)}_setValue_direct(e,t){this.targetObject[this.propertyName]=e[t]}_setValue_direct_setNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,t){const i=this.resolvedProperty;for(let r=0,s=i.length;r!==s;++r)i[r]=e[t++]}_setValue_array_setNeedsUpdate(e,t){const i=this.resolvedProperty;for(let r=0,s=i.length;r!==s;++r)i[r]=e[t++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,t){const i=this.resolvedProperty;for(let r=0,s=i.length;r!==s;++r)i[r]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,t){this.resolvedProperty[this.propertyIndex]=e[t]}_setValue_arrayElement_setNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,t){this.resolvedProperty.fromArray(e,t)}_setValue_fromArray_setNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,t){this.bind(),this.getValue(e,t)}_setValue_unbound(e,t){this.bind(),this.setValue(e,t)}bind(){let e=this.node;const t=this.parsedPath,i=t.objectName,r=t.propertyName;let s=t.propertyIndex;if(e||(e=Nt.findNode(this.rootNode,t.nodeName)||this.rootNode,this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.");return}if(i){let c=t.objectIndex;switch(i){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let u=0;u<e.length;u++)if(e[u].name===c){c=u;break}break;default:if(e[i]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[i]}if(c!==void 0){if(e[c]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[c]}}const o=e[r];if(o===void 0){const c=t.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+c+"."+r+" but it wasn't found.",e);return}let a=this.Versioning.None;this.targetObject=e,e.needsUpdate!==void 0?a=this.Versioning.NeedsUpdate:e.matrixWorldNeedsUpdate!==void 0&&(a=this.Versioning.MatrixWorldNeedsUpdate);let l=this.BindingType.Direct;if(s!==void 0){if(r==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(e.geometry.isBufferGeometry){if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[s]!==void 0&&(s=e.morphTargetDictionary[s])}else{console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences on THREE.Geometry. Use THREE.BufferGeometry instead.",this);return}}l=this.BindingType.ArrayElement,this.resolvedProperty=o,this.propertyIndex=s}else o.fromArray!==void 0&&o.toArray!==void 0?(l=this.BindingType.HasFromToArray,this.resolvedProperty=o):Array.isArray(o)?(l=this.BindingType.EntireArray,this.resolvedProperty=o):this.propertyName=r;this.getValue=this.GetterByBindingType[l],this.setValue=this.SetterByBindingTypeAndVersioning[l][a]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}Nt.Composite=Bre;Nt.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};Nt.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};Nt.prototype.GetterByBindingType=[Nt.prototype._getValue_direct,Nt.prototype._getValue_array,Nt.prototype._getValue_arrayElement,Nt.prototype._getValue_toArray];Nt.prototype.SetterByBindingTypeAndVersioning=[[Nt.prototype._setValue_direct,Nt.prototype._setValue_direct_setNeedsUpdate,Nt.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[Nt.prototype._setValue_array,Nt.prototype._setValue_array_setNeedsUpdate,Nt.prototype._setValue_array_setMatrixWorldNeedsUpdate],[Nt.prototype._setValue_arrayElement,Nt.prototype._setValue_arrayElement_setNeedsUpdate,Nt.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[Nt.prototype._setValue_fromArray,Nt.prototype._setValue_fromArray_setNeedsUpdate,Nt.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class OP{constructor(){this.uuid=Qr(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let i=0,r=arguments.length;i!==r;++i)e[arguments[i].uuid]=i;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const t=this;this.stats={objects:{get total(){return t._objects.length},get inUse(){return this.total-t.nCachedObjects_}},get bindingsPerObject(){return t._bindings.length}}}add(){const e=this._objects,t=this._indicesByUUID,i=this._paths,r=this._parsedPaths,s=this._bindings,o=s.length;let a,l=e.length,c=this.nCachedObjects_;for(let u=0,f=arguments.length;u!==f;++u){const h=arguments[u],d=h.uuid;let m=t[d];if(m===void 0){m=l++,t[d]=m,e.push(h);for(let v=0,_=o;v!==_;++v)s[v].push(new Nt(h,i[v],r[v]))}else if(m<c){a=e[m];const v=--c,_=e[v];t[_.uuid]=m,e[m]=_,t[d]=v,e[v]=h;for(let g=0,x=o;g!==x;++g){const b=s[g],w=b[v];let S=b[m];b[m]=w,S===void 0&&(S=new Nt(h,i[g],r[g])),b[v]=S}}else e[m]!==a&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=c}remove(){const e=this._objects,t=this._indicesByUUID,i=this._bindings,r=i.length;let s=this.nCachedObjects_;for(let o=0,a=arguments.length;o!==a;++o){const l=arguments[o],c=l.uuid,u=t[c];if(u!==void 0&&u>=s){const f=s++,h=e[f];t[h.uuid]=u,e[u]=h,t[c]=f,e[f]=l;for(let d=0,m=r;d!==m;++d){const v=i[d],_=v[f],g=v[u];v[u]=_,v[f]=g}}}this.nCachedObjects_=s}uncache(){const e=this._objects,t=this._indicesByUUID,i=this._bindings,r=i.length;let s=this.nCachedObjects_,o=e.length;for(let a=0,l=arguments.length;a!==l;++a){const c=arguments[a],u=c.uuid,f=t[u];if(f!==void 0)if(delete t[u],f<s){const h=--s,d=e[h],m=--o,v=e[m];t[d.uuid]=f,e[f]=d,t[v.uuid]=h,e[h]=v,e.pop();for(let _=0,g=r;_!==g;++_){const x=i[_],b=x[h],w=x[m];x[f]=b,x[h]=w,x.pop()}}else{const h=--o,d=e[h];h>0&&(t[d.uuid]=f),e[f]=d,e.pop();for(let m=0,v=r;m!==v;++m){const _=i[m];_[f]=_[h],_.pop()}}}this.nCachedObjects_=s}subscribe_(e,t){const i=this._bindingsIndicesByPath;let r=i[e];const s=this._bindings;if(r!==void 0)return s[r];const o=this._paths,a=this._parsedPaths,l=this._objects,c=l.length,u=this.nCachedObjects_,f=new Array(c);r=s.length,i[e]=r,o.push(e),a.push(t),s.push(f);for(let h=u,d=l.length;h!==d;++h){const m=l[h];f[h]=new Nt(m,e,t)}return f}unsubscribe_(e){const t=this._bindingsIndicesByPath,i=t[e];if(i!==void 0){const r=this._paths,s=this._parsedPaths,o=this._bindings,a=o.length-1,l=o[a],c=e[a];t[c]=i,o[i]=l,o.pop(),s[i]=s[a],s.pop(),r[i]=r[a],r.pop()}}}OP.prototype.isAnimationObjectGroup=!0;class Ure{constructor(e,t,i=null,r=t.blendMode){this._mixer=e,this._clip=t,this._localRoot=i,this.blendMode=r;const s=t.tracks,o=s.length,a=new Array(o),l={endingStart:tc,endingEnd:tc};for(let c=0;c!==o;++c){const u=s[c].createInterpolant(null);a[c]=u,u.settings=l}this._interpolantSettings=l,this._interpolants=a,this._propertyBindings=new Array(o),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=xL,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,t){return this.loop=e,this.repetitions=t,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,t,i){if(e.fadeOut(t),this.fadeIn(t),i){const r=this._clip.duration,s=e._clip.duration,o=s/r,a=r/s;e.warp(1,o,t),this.warp(a,1,t)}return this}crossFadeTo(e,t,i){return e.crossFadeFrom(this,t,i)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,t,i){const r=this._mixer,s=r.time,o=this.timeScale;let a=this._timeScaleInterpolant;a===null&&(a=r._lendControlInterpolant(),this._timeScaleInterpolant=a);const l=a.parameterPositions,c=a.sampleValues;return l[0]=s,l[1]=s+i,c[0]=e/o,c[1]=t/o,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,t,i,r){if(!this.enabled){this._updateWeight(e);return}const s=this._startTime;if(s!==null){const l=(e-s)*i;if(l<0||i===0)return;this._startTime=null,t=i*l}t*=this._updateTimeScale(e);const o=this._updateTime(t),a=this._updateWeight(e);if(a>0){const l=this._interpolants,c=this._propertyBindings;switch(this.blendMode){case n7:for(let u=0,f=l.length;u!==f;++u)l[u].evaluate(o),c[u].accumulateAdditive(a);break;case c3:default:for(let u=0,f=l.length;u!==f;++u)l[u].evaluate(o),c[u].accumulate(r,a)}}}_updateWeight(e){let t=0;if(this.enabled){t=this.weight;const i=this._weightInterpolant;if(i!==null){const r=i.evaluate(e)[0];t*=r,e>i.parameterPositions[1]&&(this.stopFading(),r===0&&(this.enabled=!1))}}return this._effectiveWeight=t,t}_updateTimeScale(e){let t=0;if(!this.paused){t=this.timeScale;const i=this._timeScaleInterpolant;i!==null&&(t*=i.evaluate(e)[0],e>i.parameterPositions[1]&&(this.stopWarping(),t===0?this.paused=!0:this.timeScale=t))}return this._effectiveTimeScale=t,t}_updateTime(e){const t=this._clip.duration,i=this.loop;let r=this.time+e,s=this._loopCount;const o=i===yL;if(e===0)return s===-1?r:o&&(s&1)==1?t-r:r;if(i===vL){s===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(r>=t)r=t;else if(r<0)r=0;else{this.time=r;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(s===-1&&(e>=0?(s=0,this._setEndings(!0,this.repetitions===0,o)):this._setEndings(this.repetitions===0,!0,o)),r>=t||r<0){const a=Math.floor(r/t);r-=t*a,s+=Math.abs(a);const l=this.repetitions-s;if(l<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,r=e>0?t:0,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(l===1){const c=e<0;this._setEndings(c,!c,o)}else this._setEndings(!1,!1,o);this._loopCount=s,this.time=r,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:a})}}else this.time=r;if(o&&(s&1)==1)return t-r}return r}_setEndings(e,t,i){const r=this._interpolantSettings;i?(r.endingStart=nc,r.endingEnd=nc):(e?r.endingStart=this.zeroSlopeAtStart?nc:tc:r.endingStart=i1,t?r.endingEnd=this.zeroSlopeAtEnd?nc:tc:r.endingEnd=i1)}_scheduleFading(e,t,i){const r=this._mixer,s=r.time;let o=this._weightInterpolant;o===null&&(o=r._lendControlInterpolant(),this._weightInterpolant=o);const a=o.parameterPositions,l=o.sampleValues;return a[0]=s,l[0]=t,a[1]=s+e,l[1]=i,this}}class BP extends P0{constructor(e){super();this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,t){const i=e._localRoot||this._root,r=e._clip.tracks,s=r.length,o=e._propertyBindings,a=e._interpolants,l=i.uuid,c=this._bindingsByRootAndName;let u=c[l];u===void 0&&(u={},c[l]=u);for(let f=0;f!==s;++f){const h=r[f],d=h.name;let m=u[d];if(m!==void 0)o[f]=m;else{if(m=o[f],m!==void 0){m._cacheIndex===null&&(++m.referenceCount,this._addInactiveBinding(m,l,d));continue}const v=t&&t._propertyBindings[f].binding.parsedPath;m=new NP(Nt.create(i,d,v),h.ValueTypeName,h.getValueSize()),++m.referenceCount,this._addInactiveBinding(m,l,d),o[f]=m}a[f].resultBuffer=m.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const i=(e._localRoot||this._root).uuid,r=e._clip.uuid,s=this._actionsByClip[r];this._bindAction(e,s&&s.knownActions[0]),this._addInactiveAction(e,r,i)}const t=e._propertyBindings;for(let i=0,r=t.length;i!==r;++i){const s=t[i];s.useCount++==0&&(this._lendBinding(s),s.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const t=e._propertyBindings;for(let i=0,r=t.length;i!==r;++i){const s=t[i];--s.useCount==0&&(s.restoreOriginalState(),this._takeBackBinding(s))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const t=e._cacheIndex;return t!==null&&t<this._nActiveActions}_addInactiveAction(e,t,i){const r=this._actions,s=this._actionsByClip;let o=s[t];if(o===void 0)o={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,s[t]=o;else{const a=o.knownActions;e._byClipCacheIndex=a.length,a.push(e)}e._cacheIndex=r.length,r.push(e),o.actionByRoot[i]=e}_removeInactiveAction(e){const t=this._actions,i=t[t.length-1],r=e._cacheIndex;i._cacheIndex=r,t[r]=i,t.pop(),e._cacheIndex=null;const s=e._clip.uuid,o=this._actionsByClip,a=o[s],l=a.knownActions,c=l[l.length-1],u=e._byClipCacheIndex;c._byClipCacheIndex=u,l[u]=c,l.pop(),e._byClipCacheIndex=null;const f=a.actionByRoot,h=(e._localRoot||this._root).uuid;delete f[h],l.length===0&&delete o[s],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const t=e._propertyBindings;for(let i=0,r=t.length;i!==r;++i){const s=t[i];--s.referenceCount==0&&this._removeInactiveBinding(s)}}_lendAction(e){const t=this._actions,i=e._cacheIndex,r=this._nActiveActions++,s=t[r];e._cacheIndex=r,t[r]=e,s._cacheIndex=i,t[i]=s}_takeBackAction(e){const t=this._actions,i=e._cacheIndex,r=--this._nActiveActions,s=t[r];e._cacheIndex=r,t[r]=e,s._cacheIndex=i,t[i]=s}_addInactiveBinding(e,t,i){const r=this._bindingsByRootAndName,s=this._bindings;let o=r[t];o===void 0&&(o={},r[t]=o),o[i]=e,e._cacheIndex=s.length,s.push(e)}_removeInactiveBinding(e){const t=this._bindings,i=e.binding,r=i.rootNode.uuid,s=i.path,o=this._bindingsByRootAndName,a=o[r],l=t[t.length-1],c=e._cacheIndex;l._cacheIndex=c,t[c]=l,t.pop(),delete a[s],Object.keys(a).length===0&&delete o[r]}_lendBinding(e){const t=this._bindings,i=e._cacheIndex,r=this._nActiveBindings++,s=t[r];e._cacheIndex=r,t[r]=e,s._cacheIndex=i,t[i]=s}_takeBackBinding(e){const t=this._bindings,i=e._cacheIndex,r=--this._nActiveBindings,s=t[r];e._cacheIndex=r,t[r]=e,s._cacheIndex=i,t[i]=s}_lendControlInterpolant(){const e=this._controlInterpolants,t=this._nActiveControlInterpolants++;let i=e[t];return i===void 0&&(i=new hv(new Float32Array(2),new Float32Array(2),1,this._controlInterpolantsResultBuffer),i.__cacheIndex=t,e[t]=i),i}_takeBackControlInterpolant(e){const t=this._controlInterpolants,i=e.__cacheIndex,r=--this._nActiveControlInterpolants,s=t[r];e.__cacheIndex=r,t[r]=e,s.__cacheIndex=i,t[i]=s}clipAction(e,t,i){const r=t||this._root,s=r.uuid;let o=typeof e=="string"?Ec.findByName(r,e):e;const a=o!==null?o.uuid:e,l=this._actionsByClip[a];let c=null;if(i===void 0&&(o!==null?i=o.blendMode:i=c3),l!==void 0){const f=l.actionByRoot[s];if(f!==void 0&&f.blendMode===i)return f;c=l.knownActions[0],o===null&&(o=c._clip)}if(o===null)return null;const u=new Ure(this,o,t,i);return this._bindAction(u,c),this._addInactiveAction(u,a,s),u}existingAction(e,t){const i=t||this._root,r=i.uuid,s=typeof e=="string"?Ec.findByName(i,e):e,o=s?s.uuid:e,a=this._actionsByClip[o];return a!==void 0&&a.actionByRoot[r]||null}stopAllAction(){const e=this._actions,t=this._nActiveActions;for(let i=t-1;i>=0;--i)e[i].stop();return this}update(e){e*=this.timeScale;const t=this._actions,i=this._nActiveActions,r=this.time+=e,s=Math.sign(e),o=this._accuIndex^=1;for(let c=0;c!==i;++c)t[c]._update(r,e,s,o);const a=this._bindings,l=this._nActiveBindings;for(let c=0;c!==l;++c)a[c].apply(o);return this}setTime(e){this.time=0;for(let t=0;t<this._actions.length;t++)this._actions[t].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const t=this._actions,i=e.uuid,r=this._actionsByClip,s=r[i];if(s!==void 0){const o=s.knownActions;for(let a=0,l=o.length;a!==l;++a){const c=o[a];this._deactivateAction(c);const u=c._cacheIndex,f=t[t.length-1];c._cacheIndex=null,c._byClipCacheIndex=null,f._cacheIndex=u,t[u]=f,t.pop(),this._removeInactiveBindingsForAction(c)}delete r[i]}}uncacheRoot(e){const t=e.uuid,i=this._actionsByClip;for(const o in i){const a=i[o].actionByRoot,l=a[t];l!==void 0&&(this._deactivateAction(l),this._removeInactiveAction(l))}const r=this._bindingsByRootAndName,s=r[t];if(s!==void 0)for(const o in s){const a=s[o];a.restoreOriginalState(),this._removeInactiveBinding(a)}}uncacheAction(e,t){const i=this.existingAction(e,t);i!==null&&(this._deactivateAction(i),this._removeInactiveAction(i))}}BP.prototype._controlInterpolantsResultBuffer=new Float32Array(1);class a9{constructor(e){typeof e=="string"&&(console.warn("THREE.Uniform: Type parameter is no longer needed."),e=arguments[1]),this.value=e}clone(){return new a9(this.value.clone===void 0?this.value:this.value.clone())}}class UP extends Fa{constructor(e,t,i=1){super(e,t);this.meshPerAttribute=i}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const t=super.clone(e);return t.meshPerAttribute=this.meshPerAttribute,t}toJSON(e){const t=super.toJSON(e);return t.isInstancedInterleavedBuffer=!0,t.meshPerAttribute=this.meshPerAttribute,t}}UP.prototype.isInstancedInterleavedBuffer=!0;class zP{constructor(e,t,i,r,s){this.buffer=e,this.type=t,this.itemSize=i,this.elementSize=r,this.count=s,this.version=0}set needsUpdate(e){e===!0&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,t){return this.type=e,this.elementSize=t,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}zP.prototype.isGLBufferAttribute=!0;class Ev{constructor(e,t,i=0,r=1/0){this.ray=new Aa(e,t),this.near=i,this.far=r,this.camera=null,this.layers=new b7,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,t){this.ray.set(e,t)}setFromCamera(e,t){t&&t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t&&t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):console.error("THREE.Raycaster: Unsupported camera type: "+t.type)}intersectObject(e,t=!1,i=[]){return Lv(e,this,i,t),i.sort(kP),i}intersectObjects(e,t=!1,i=[]){for(let r=0,s=e.length;r<s;r++)Lv(e[r],this,i,t);return i.sort(kP),i}}function kP(n,e){return n.distance-e.distance}function Lv(n,e,t,i){if(n.layers.test(e.layers)&&n.raycast(e,t),i===!0){const r=n.children;for(let s=0,o=r.length;s<o;s++)Lv(r[s],e,t,!0)}}class Cv{constructor(e=1,t=0,i=0){return this.radius=e,this.phi=t,this.theta=i,this}set(e,t,i){return this.radius=e,this.phi=t,this.theta=i,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){const e=1e-6;return this.phi=Math.max(e,Math.min(Math.PI-e,this.phi)),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,i){return this.radius=Math.sqrt(e*e+t*t+i*i),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,i),this.phi=Math.acos(Fi(t/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class zre{constructor(e=1,t=0,i=0){return this.radius=e,this.theta=t,this.y=i,this}set(e,t,i){return this.radius=e,this.theta=t,this.y=i,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,i){return this.radius=Math.sqrt(e*e+i*i),this.theta=Math.atan2(e,i),this.y=t,this}clone(){return new this.constructor().copy(this)}}const HP=new Ie;class Bf{constructor(e=new Ie(1/0,1/0),t=new Ie(-1/0,-1/0)){this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromPoints(e){this.makeEmpty();for(let t=0,i=e.length;t<i;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const i=HP.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(i),this.max.copy(e).add(i),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return HP.copy(e).clamp(this.min,this.max).sub(e).length()}intersect(e){return this.min.max(e.min),this.max.min(e.max),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}Bf.prototype.isBox2=!0;const GP=new Z,l9=new Z;class VP{constructor(e=new Z,t=new Z){this.start=e,this.end=t}set(e,t){return this.start.copy(e),this.end.copy(t),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,t){return this.delta(t).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,t){GP.subVectors(e,this.start),l9.subVectors(this.end,this.start);const i=l9.dot(l9);let s=l9.dot(GP)/i;return t&&(s=Fi(s,0,1)),s}closestPointToPoint(e,t,i){const r=this.closestPointToPointParameter(e,t);return this.delta(i).multiplyScalar(r).add(this.start)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}class WP extends At{constructor(e){super();this.material=e,this.render=function(){},this.hasPositions=!1,this.hasNormals=!1,this.hasColors=!1,this.hasUvs=!1,this.positionArray=null,this.normalArray=null,this.colorArray=null,this.uvArray=null,this.count=0}}WP.prototype.isImmediateRenderObject=!0;const XP=new Z;class kre extends At{constructor(e,t){super();this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=t;const i=new ot,r=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let o=0,a=1,l=32;o<l;o++,a++){const c=o/l*Math.PI*2,u=a/l*Math.PI*2;r.push(Math.cos(c),Math.sin(c),1,Math.cos(u),Math.sin(u),1)}i.setAttribute("position",new je(r,3));const s=new Kn({fog:!1,toneMapped:!1});this.cone=new dr(i,s),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateMatrixWorld();const e=this.light.distance?this.light.distance:1e3,t=e*Math.tan(this.light.angle);this.cone.scale.set(t,t,e),XP.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(XP),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const Ha=new Z,c9=new $e,Pv=new $e;class YP extends dr{constructor(e){const t=$P(e),i=new ot,r=[],s=[],o=new We(0,0,1),a=new We(0,1,0);for(let c=0;c<t.length;c++){const u=t[c];u.parent&&u.parent.isBone&&(r.push(0,0,0),r.push(0,0,0),s.push(o.r,o.g,o.b),s.push(a.r,a.g,a.b))}i.setAttribute("position",new je(r,3)),i.setAttribute("color",new je(s,3));const l=new Kn({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(i,l);this.type="SkeletonHelper",this.isSkeletonHelper=!0,this.root=e,this.bones=t,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(e){const t=this.bones,i=this.geometry,r=i.getAttribute("position");Pv.copy(this.root.matrixWorld).invert();for(let s=0,o=0;s<t.length;s++){const a=t[s];a.parent&&a.parent.isBone&&(c9.multiplyMatrices(Pv,a.matrixWorld),Ha.setFromMatrixPosition(c9),r.setXYZ(o,Ha.x,Ha.y,Ha.z),c9.multiplyMatrices(Pv,a.parent.matrixWorld),Ha.setFromMatrixPosition(c9),r.setXYZ(o+1,Ha.x,Ha.y,Ha.z),o+=2)}i.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}}function $P(n){const e=[];n&&n.isBone&&e.push(n);for(let t=0;t<n.children.length;t++)e.push.apply(e,$P(n.children[t]));return e}class Hre extends En{constructor(e,t,i){const r=new Na(t,4,2),s=new mi({wireframe:!0,fog:!1,toneMapped:!1});super(r,s);this.light=e,this.light.updateMatrixWorld(),this.color=i,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const Gre=new Z,qP=new We,jP=new We;class Vre extends At{constructor(e,t,i){super();this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=i;const r=new Da(t);r.rotateY(Math.PI*.5),this.material=new mi({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const s=r.getAttribute("position"),o=new Float32Array(s.count*3);r.setAttribute("color",new Tt(o,3)),this.add(new En(r,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const t=e.geometry.getAttribute("color");qP.copy(this.light.color),jP.copy(this.light.groundColor);for(let i=0,r=t.count;i<r;i++){const s=i<r/2?qP:jP;t.setXYZ(i,s.r,s.g,s.b)}t.needsUpdate=!0}e.lookAt(Gre.setFromMatrixPosition(this.light.matrixWorld).negate())}}class ZP extends dr{constructor(e=10,t=10,i=4473924,r=8947848){i=new We(i),r=new We(r);const s=t/2,o=e/t,a=e/2,l=[],c=[];for(let h=0,d=0,m=-a;h<=t;h++,m+=o){l.push(-a,0,m,a,0,m),l.push(m,0,-a,m,0,a);const v=h===s?i:r;v.toArray(c,d),d+=3,v.toArray(c,d),d+=3,v.toArray(c,d),d+=3,v.toArray(c,d),d+=3}const u=new ot;u.setAttribute("position",new je(l,3)),u.setAttribute("color",new je(c,3));const f=new Kn({vertexColors:!0,toneMapped:!1});super(u,f);this.type="GridHelper"}}class Wre extends dr{constructor(e=10,t=16,i=8,r=64,s=4473924,o=8947848){s=new We(s),o=new We(o);const a=[],l=[];for(let f=0;f<=t;f++){const h=f/t*(Math.PI*2),d=Math.sin(h)*e,m=Math.cos(h)*e;a.push(0,0,0),a.push(d,0,m);const v=f&1?s:o;l.push(v.r,v.g,v.b),l.push(v.r,v.g,v.b)}for(let f=0;f<=i;f++){const h=f&1?s:o,d=e-e/i*f;for(let m=0;m<r;m++){let v=m/r*(Math.PI*2),_=Math.sin(v)*d,g=Math.cos(v)*d;a.push(_,0,g),l.push(h.r,h.g,h.b),v=(m+1)/r*(Math.PI*2),_=Math.sin(v)*d,g=Math.cos(v)*d,a.push(_,0,g),l.push(h.r,h.g,h.b)}}const c=new ot;c.setAttribute("position",new je(a,3)),c.setAttribute("color",new je(l,3));const u=new Kn({vertexColors:!0,toneMapped:!1});super(c,u);this.type="PolarGridHelper"}}const QP=new Z,u9=new Z,JP=new Z;class Xre extends At{constructor(e,t,i){super();this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=i,t===void 0&&(t=1);let r=new ot;r.setAttribute("position",new je([-t,t,0,t,t,0,t,-t,0,-t,-t,0,-t,t,0],3));const s=new Kn({fog:!1,toneMapped:!1});this.lightPlane=new Cs(r,s),this.add(this.lightPlane),r=new ot,r.setAttribute("position",new je([0,0,0,0,0,1],3)),this.targetLine=new Cs(r,s),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){QP.setFromMatrixPosition(this.light.matrixWorld),u9.setFromMatrixPosition(this.light.target.matrixWorld),JP.subVectors(u9,QP),this.lightPlane.lookAt(u9),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(u9),this.targetLine.scale.z=JP.length()}}const f9=new Z,Vn=new f1;class Yre extends dr{constructor(e){const t=new ot,i=new Kn({color:16777215,vertexColors:!0,toneMapped:!1}),r=[],s=[],o={},a=new We(16755200),l=new We(16711680),c=new We(43775),u=new We(16777215),f=new We(3355443);h("n1","n2",a),h("n2","n4",a),h("n4","n3",a),h("n3","n1",a),h("f1","f2",a),h("f2","f4",a),h("f4","f3",a),h("f3","f1",a),h("n1","f1",a),h("n2","f2",a),h("n3","f3",a),h("n4","f4",a),h("p","n1",l),h("p","n2",l),h("p","n3",l),h("p","n4",l),h("u1","u2",c),h("u2","u3",c),h("u3","u1",c),h("c","t",u),h("p","c",f),h("cn1","cn2",f),h("cn3","cn4",f),h("cf1","cf2",f),h("cf3","cf4",f);function h(m,v,_){d(m,_),d(v,_)}function d(m,v){r.push(0,0,0),s.push(v.r,v.g,v.b),o[m]===void 0&&(o[m]=[]),o[m].push(r.length/3-1)}t.setAttribute("position",new je(r,3)),t.setAttribute("color",new je(s,3));super(t,i);this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=o,this.update()}update(){const e=this.geometry,t=this.pointMap,i=1,r=1;Vn.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),ei("c",t,e,Vn,0,0,-1),ei("t",t,e,Vn,0,0,1),ei("n1",t,e,Vn,-i,-r,-1),ei("n2",t,e,Vn,i,-r,-1),ei("n3",t,e,Vn,-i,r,-1),ei("n4",t,e,Vn,i,r,-1),ei("f1",t,e,Vn,-i,-r,1),ei("f2",t,e,Vn,i,-r,1),ei("f3",t,e,Vn,-i,r,1),ei("f4",t,e,Vn,i,r,1),ei("u1",t,e,Vn,i*.7,r*1.1,-1),ei("u2",t,e,Vn,-i*.7,r*1.1,-1),ei("u3",t,e,Vn,0,r*2,-1),ei("cf1",t,e,Vn,-i,0,1),ei("cf2",t,e,Vn,i,0,1),ei("cf3",t,e,Vn,0,-r,1),ei("cf4",t,e,Vn,0,r,1),ei("cn1",t,e,Vn,-i,0,-1),ei("cn2",t,e,Vn,i,0,-1),ei("cn3",t,e,Vn,0,-r,-1),ei("cn4",t,e,Vn,0,r,-1),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function ei(n,e,t,i,r,s,o){f9.set(r,s,o).unproject(i);const a=e[n];if(a!==void 0){const l=t.getAttribute("position");for(let c=0,u=a.length;c<u;c++)l.setXYZ(a[c],f9.x,f9.y,f9.z)}}const h9=new fr;class KP extends dr{constructor(e,t=16776960){const i=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=new Float32Array(8*3),s=new ot;s.setIndex(new Tt(i,1)),s.setAttribute("position",new Tt(r,3));super(s,new Kn({color:t,toneMapped:!1}));this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(e){if(e!==void 0&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),this.object!==void 0&&h9.setFromObject(this.object),h9.isEmpty())return;const t=h9.min,i=h9.max,r=this.geometry.attributes.position,s=r.array;s[0]=i.x,s[1]=i.y,s[2]=i.z,s[3]=t.x,s[4]=i.y,s[5]=i.z,s[6]=t.x,s[7]=t.y,s[8]=i.z,s[9]=i.x,s[10]=t.y,s[11]=i.z,s[12]=i.x,s[13]=i.y,s[14]=t.z,s[15]=t.x,s[16]=i.y,s[17]=t.z,s[18]=t.x,s[19]=t.y,s[20]=t.z,s[21]=i.x,s[22]=t.y,s[23]=t.z,r.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e){return dr.prototype.copy.call(this,e),this.object=e.object,this}}class $re extends dr{constructor(e,t=16776960){const i=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],s=new ot;s.setIndex(new Tt(i,1)),s.setAttribute("position",new je(r,3));super(s,new Kn({color:t,toneMapped:!1}));this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const t=this.box;t.isEmpty()||(t.getCenter(this.position),t.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}}class qre extends Cs{constructor(e,t=1,i=16776960){const r=i,s=[1,-1,1,-1,1,1,-1,-1,1,1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,1,0,0,1,0,0,0],o=new ot;o.setAttribute("position",new je(s,3)),o.computeBoundingSphere();super(o,new Kn({color:r,toneMapped:!1}));this.type="PlaneHelper",this.plane=e,this.size=t;const a=[1,1,1,-1,1,1,-1,-1,1,1,1,1,-1,-1,1,1,-1,1],l=new ot;l.setAttribute("position",new je(a,3)),l.computeBoundingSphere(),this.add(new En(l,new mi({color:r,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){let t=-this.plane.constant;Math.abs(t)<1e-8&&(t=1e-8),this.scale.set(.5*this.size,.5*this.size,t),this.children[0].material.side=t<0?Hn:xa,this.lookAt(this.plane.normal),super.updateMatrixWorld(e)}}const eR=new Z;let d9,Rv;class jre extends At{constructor(e=new Z(0,0,1),t=new Z(0,0,0),i=1,r=16776960,s=i*.2,o=s*.2){super();this.type="ArrowHelper",d9===void 0&&(d9=new ot,d9.setAttribute("position",new je([0,0,0,0,1,0],3)),Rv=new Io(0,.5,1,5,1),Rv.translate(0,-.5,0)),this.position.copy(t),this.line=new Cs(d9,new Kn({color:r,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new En(Rv,new mi({color:r,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(i,s,o)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{eR.set(e.z,0,-e.x).normalize();const t=Math.acos(e.y);this.quaternion.setFromAxisAngle(eR,t)}}setLength(e,t=e*.2,i=t*.2){this.line.scale.set(1,Math.max(1e-4,e-t),1),this.line.updateMatrix(),this.cone.scale.set(i,t,i),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}}class tR extends dr{constructor(e=1){const t=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],i=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],r=new ot;r.setAttribute("position",new je(t,3)),r.setAttribute("color",new je(i,3));const s=new Kn({vertexColors:!0,toneMapped:!1});super(r,s);this.type="AxesHelper"}setColors(e,t,i){const r=new We,s=this.geometry.attributes.color.array;return r.set(e),r.toArray(s,0),r.toArray(s,3),r.set(t),r.toArray(s,6),r.toArray(s,9),r.set(i),r.toArray(s,12),r.toArray(s,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}const nR=new Float32Array(1),Zre=new Int32Array(nR.buffer);class Fv{static toHalfFloat(e){nR[0]=e;const t=Zre[0];let i=t>>16&32768,r=t>>12&2047;const s=t>>23&255;return s<103?i:s>142?(i|=31744,i|=(s==255?0:1)&&t&8388607,i):s<113?(r|=2048,i|=(r>>114-s)+(r>>113-s&1),i):(i|=s-112<<10|r>>1,i+=r&1,i)}}const Qre=0,Jre=1,Kre=0,ese=1,tse=2;function nse(n){return console.warn("THREE.MeshFaceMaterial has been removed. Use an Array instead."),n}function ise(n=[]){return console.warn("THREE.MultiMaterial has been removed. Use an Array instead."),n.isMultiMaterial=!0,n.materials=n,n.clone=function(){return n.slice()},n}function rse(n,e){return console.warn("THREE.PointCloud has been renamed to THREE.Points."),new uc(n,e)}function sse(n){return console.warn("THREE.Particle has been renamed to THREE.Sprite."),new A1(n)}function ose(n,e){return console.warn("THREE.ParticleSystem has been renamed to THREE.Points."),new uc(n,e)}function ase(n){return console.warn("THREE.PointCloudMaterial has been renamed to THREE.PointsMaterial."),new Fo(n)}function lse(n){return console.warn("THREE.ParticleBasicMaterial has been renamed to THREE.PointsMaterial."),new Fo(n)}function cse(n){return console.warn("THREE.ParticleSystemMaterial has been renamed to THREE.PointsMaterial."),new Fo(n)}function use(n,e,t){return console.warn("THREE.Vertex has been removed. Use THREE.Vector3 instead."),new Z(n,e,t)}function fse(n,e){return console.warn("THREE.DynamicBufferAttribute has been removed. Use new THREE.BufferAttribute().setUsage( THREE.DynamicDrawUsage ) instead."),new Tt(n,e).setUsage(of)}function hse(n,e){return console.warn("THREE.Int8Attribute has been removed. Use new THREE.Int8BufferAttribute() instead."),new kL(n,e)}function dse(n,e){return console.warn("THREE.Uint8Attribute has been removed. Use new THREE.Uint8BufferAttribute() instead."),new HL(n,e)}function pse(n,e){return console.warn("THREE.Uint8ClampedAttribute has been removed. Use new THREE.Uint8ClampedBufferAttribute() instead."),new GL(n,e)}function mse(n,e){return console.warn("THREE.Int16Attribute has been removed. Use new THREE.Int16BufferAttribute() instead."),new VL(n,e)}function gse(n,e){return console.warn("THREE.Uint16Attribute has been removed. Use new THREE.Uint16BufferAttribute() instead."),new c1(n,e)}function vse(n,e){return console.warn("THREE.Int32Attribute has been removed. Use new THREE.Int32BufferAttribute() instead."),new WL(n,e)}function xse(n,e){return console.warn("THREE.Uint32Attribute has been removed. Use new THREE.Uint32BufferAttribute() instead."),new w3(n,e)}function yse(n,e){return console.warn("THREE.Float32Attribute has been removed. Use new THREE.Float32BufferAttribute() instead."),new je(n,e)}function _se(n,e){return console.warn("THREE.Float64Attribute has been removed. Use new THREE.Float64BufferAttribute() instead."),new YL(n,e)}pr.create=function(n,e){return console.log("THREE.Curve.create() has been deprecated"),n.prototype=Object.create(pr.prototype),n.prototype.constructor=n,n.prototype.getPoint=e,n};U1.prototype.fromPoints=function(n){return console.warn("THREE.Path: .fromPoints() has been renamed to .setFromPoints()."),this.setFromPoints(n)};function bse(n){return console.warn("THREE.AxisHelper has been renamed to THREE.AxesHelper."),new tR(n)}function wse(n,e){return console.warn("THREE.BoundingBoxHelper has been deprecated. Creating a THREE.BoxHelper instead."),new KP(n,e)}function Mse(n,e){return console.warn("THREE.EdgesHelper has been removed. Use THREE.EdgesGeometry instead."),new dr(new J7(n.geometry),new Kn({color:e!==void 0?e:16777215}))}ZP.prototype.setColors=function(){console.error("THREE.GridHelper: setColors() has been deprecated, pass them in the constructor instead.")};YP.prototype.update=function(){console.error("THREE.SkeletonHelper: update() no longer needs to be called.")};function Sse(n,e){return console.warn("THREE.WireframeHelper has been removed. Use THREE.WireframeGeometry instead."),new dr(new cv(n.geometry),new Kn({color:e!==void 0?e:16777215}))}vi.prototype.extractUrlBase=function(n){return console.warn("THREE.Loader: .extractUrlBase() has been deprecated. Use THREE.LoaderUtils.extractUrlBase() instead."),Ps.extractUrlBase(n)};vi.Handlers={add:function(){console.error("THREE.Loader: Handlers.add() has been removed. Use LoadingManager.addHandler() instead.")},get:function(){console.error("THREE.Loader: Handlers.get() has been removed. Use LoadingManager.getHandler() instead.")}};function Ase(n){return console.warn("THREE.XHRLoader has been renamed to THREE.FileLoader."),new Br(n)}function Tse(n){return console.warn("THREE.BinaryTextureLoader has been renamed to THREE.DataTextureLoader."),new fP(n)}Bf.prototype.center=function(n){return console.warn("THREE.Box2: .center() has been renamed to .getCenter()."),this.getCenter(n)};Bf.prototype.empty=function(){return console.warn("THREE.Box2: .empty() has been renamed to .isEmpty()."),this.isEmpty()};Bf.prototype.isIntersectionBox=function(n){return console.warn("THREE.Box2: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(n)};Bf.prototype.size=function(n){return console.warn("THREE.Box2: .size() has been renamed to .getSize()."),this.getSize(n)};fr.prototype.center=function(n){return console.warn("THREE.Box3: .center() has been renamed to .getCenter()."),this.getCenter(n)};fr.prototype.empty=function(){return console.warn("THREE.Box3: .empty() has been renamed to .isEmpty()."),this.isEmpty()};fr.prototype.isIntersectionBox=function(n){return console.warn("THREE.Box3: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(n)};fr.prototype.isIntersectionSphere=function(n){return console.warn("THREE.Box3: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(n)};fr.prototype.size=function(n){return console.warn("THREE.Box3: .size() has been renamed to .getSize()."),this.getSize(n)};R0.prototype.empty=function(){return console.warn("THREE.Sphere: .empty() has been renamed to .isEmpty()."),this.isEmpty()};p1.prototype.setFromMatrix=function(n){return console.warn("THREE.Frustum: .setFromMatrix() has been renamed to .setFromProjectionMatrix()."),this.setFromProjectionMatrix(n)};VP.prototype.center=function(n){return console.warn("THREE.Line3: .center() has been renamed to .getCenter()."),this.getCenter(n)};Gn.prototype.flattenToArrayOffset=function(n,e){return console.warn("THREE.Matrix3: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(n,e)};Gn.prototype.multiplyVector3=function(n){return console.warn("THREE.Matrix3: .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead."),n.applyMatrix3(this)};Gn.prototype.multiplyVector3Array=function(){console.error("THREE.Matrix3: .multiplyVector3Array() has been removed.")};Gn.prototype.applyToBufferAttribute=function(n){return console.warn("THREE.Matrix3: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix3( matrix ) instead."),n.applyMatrix3(this)};Gn.prototype.applyToVector3Array=function(){console.error("THREE.Matrix3: .applyToVector3Array() has been removed.")};Gn.prototype.getInverse=function(n){return console.warn("THREE.Matrix3: .getInverse() has been removed. Use matrixInv.copy( matrix ).invert(); instead."),this.copy(n).invert()};$e.prototype.extractPosition=function(n){return console.warn("THREE.Matrix4: .extractPosition() has been renamed to .copyPosition()."),this.copyPosition(n)};$e.prototype.flattenToArrayOffset=function(n,e){return console.warn("THREE.Matrix4: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(n,e)};$e.prototype.getPosition=function(){return console.warn("THREE.Matrix4: .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead."),new Z().setFromMatrixColumn(this,3)};$e.prototype.setRotationFromQuaternion=function(n){return console.warn("THREE.Matrix4: .setRotationFromQuaternion() has been renamed to .makeRotationFromQuaternion()."),this.makeRotationFromQuaternion(n)};$e.prototype.multiplyToArray=function(){console.warn("THREE.Matrix4: .multiplyToArray() has been removed.")};$e.prototype.multiplyVector3=function(n){return console.warn("THREE.Matrix4: .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) instead."),n.applyMatrix4(this)};$e.prototype.multiplyVector4=function(n){return console.warn("THREE.Matrix4: .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead."),n.applyMatrix4(this)};$e.prototype.multiplyVector3Array=function(){console.error("THREE.Matrix4: .multiplyVector3Array() has been removed.")};$e.prototype.rotateAxis=function(n){console.warn("THREE.Matrix4: .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead."),n.transformDirection(this)};$e.prototype.crossVector=function(n){return console.warn("THREE.Matrix4: .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead."),n.applyMatrix4(this)};$e.prototype.translate=function(){console.error("THREE.Matrix4: .translate() has been removed.")};$e.prototype.rotateX=function(){console.error("THREE.Matrix4: .rotateX() has been removed.")};$e.prototype.rotateY=function(){console.error("THREE.Matrix4: .rotateY() has been removed.")};$e.prototype.rotateZ=function(){console.error("THREE.Matrix4: .rotateZ() has been removed.")};$e.prototype.rotateByAxis=function(){console.error("THREE.Matrix4: .rotateByAxis() has been removed.")};$e.prototype.applyToBufferAttribute=function(n){return console.warn("THREE.Matrix4: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix4( matrix ) instead."),n.applyMatrix4(this)};$e.prototype.applyToVector3Array=function(){console.error("THREE.Matrix4: .applyToVector3Array() has been removed.")};$e.prototype.makeFrustum=function(n,e,t,i,r,s){return console.warn("THREE.Matrix4: .makeFrustum() has been removed. Use .makePerspective( left, right, top, bottom, near, far ) instead."),this.makePerspective(n,e,i,t,r,s)};$e.prototype.getInverse=function(n){return console.warn("THREE.Matrix4: .getInverse() has been removed. Use matrixInv.copy( matrix ).invert(); instead."),this.copy(n).invert()};Ts.prototype.isIntersectionLine=function(n){return console.warn("THREE.Plane: .isIntersectionLine() has been renamed to .intersectsLine()."),this.intersectsLine(n)};Rn.prototype.multiplyVector3=function(n){return console.warn("THREE.Quaternion: .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead."),n.applyQuaternion(this)};Rn.prototype.inverse=function(){return console.warn("THREE.Quaternion: .inverse() has been renamed to invert()."),this.invert()};Aa.prototype.isIntersectionBox=function(n){return console.warn("THREE.Ray: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(n)};Aa.prototype.isIntersectionPlane=function(n){return console.warn("THREE.Ray: .isIntersectionPlane() has been renamed to .intersectsPlane()."),this.intersectsPlane(n)};Aa.prototype.isIntersectionSphere=function(n){return console.warn("THREE.Ray: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(n)};Zn.prototype.area=function(){return console.warn("THREE.Triangle: .area() has been renamed to .getArea()."),this.getArea()};Zn.prototype.barycoordFromPoint=function(n,e){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),this.getBarycoord(n,e)};Zn.prototype.midpoint=function(n){return console.warn("THREE.Triangle: .midpoint() has been renamed to .getMidpoint()."),this.getMidpoint(n)};Zn.prototypenormal=function(n){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),this.getNormal(n)};Zn.prototype.plane=function(n){return console.warn("THREE.Triangle: .plane() has been renamed to .getPlane()."),this.getPlane(n)};Zn.barycoordFromPoint=function(n,e,t,i,r){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),Zn.getBarycoord(n,e,t,i,r)};Zn.normal=function(n,e,t,i){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),Zn.getNormal(n,e,t,i)};Ua.prototype.extractAllPoints=function(n){return console.warn("THREE.Shape: .extractAllPoints() has been removed. Use .extractPoints() instead."),this.extractPoints(n)};Ua.prototype.extrude=function(n){return console.warn("THREE.Shape: .extrude() has been removed. Use ExtrudeGeometry() instead."),new r0(this,n)};Ua.prototype.makeGeometry=function(n){return console.warn("THREE.Shape: .makeGeometry() has been removed. Use ShapeGeometry() instead."),new vc(this,n)};Ie.prototype.fromAttribute=function(n,e,t){return console.warn("THREE.Vector2: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(n,e,t)};Ie.prototype.distanceToManhattan=function(n){return console.warn("THREE.Vector2: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(n)};Ie.prototype.lengthManhattan=function(){return console.warn("THREE.Vector2: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()};Z.prototype.setEulerFromRotationMatrix=function(){console.error("THREE.Vector3: .setEulerFromRotationMatrix() has been removed. Use Euler.setFromRotationMatrix() instead.")};Z.prototype.setEulerFromQuaternion=function(){console.error("THREE.Vector3: .setEulerFromQuaternion() has been removed. Use Euler.setFromQuaternion() instead.")};Z.prototype.getPositionFromMatrix=function(n){return console.warn("THREE.Vector3: .getPositionFromMatrix() has been renamed to .setFromMatrixPosition()."),this.setFromMatrixPosition(n)};Z.prototype.getScaleFromMatrix=function(n){return console.warn("THREE.Vector3: .getScaleFromMatrix() has been renamed to .setFromMatrixScale()."),this.setFromMatrixScale(n)};Z.prototype.getColumnFromMatrix=function(n,e){return console.warn("THREE.Vector3: .getColumnFromMatrix() has been renamed to .setFromMatrixColumn()."),this.setFromMatrixColumn(e,n)};Z.prototype.applyProjection=function(n){return console.warn("THREE.Vector3: .applyProjection() has been removed. Use .applyMatrix4( m ) instead."),this.applyMatrix4(n)};Z.prototype.fromAttribute=function(n,e,t){return console.warn("THREE.Vector3: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(n,e,t)};Z.prototype.distanceToManhattan=function(n){return console.warn("THREE.Vector3: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(n)};Z.prototype.lengthManhattan=function(){return console.warn("THREE.Vector3: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()};$t.prototype.fromAttribute=function(n,e,t){return console.warn("THREE.Vector4: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(n,e,t)};$t.prototype.lengthManhattan=function(){return console.warn("THREE.Vector4: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()};At.prototype.getChildByName=function(n){return console.warn("THREE.Object3D: .getChildByName() has been renamed to .getObjectByName()."),this.getObjectByName(n)};At.prototype.renderDepth=function(){console.warn("THREE.Object3D: .renderDepth has been removed. Use .renderOrder, instead.")};At.prototype.translate=function(n,e){return console.warn("THREE.Object3D: .translate() has been removed. Use .translateOnAxis( axis, distance ) instead."),this.translateOnAxis(e,n)};At.prototype.getWorldRotation=function(){console.error("THREE.Object3D: .getWorldRotation() has been removed. Use THREE.Object3D.getWorldQuaternion( target ) instead.")};At.prototype.applyMatrix=function(n){return console.warn("THREE.Object3D: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(n)};Object.defineProperties(At.prototype,{eulerOrder:{get:function(){return console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order},set:function(n){console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order=n}},useQuaternion:{get:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")},set:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")}}});En.prototype.setDrawMode=function(){console.error("THREE.Mesh: .setDrawMode() has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.")};Object.defineProperties(En.prototype,{drawMode:{get:function(){return console.error("THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode."),_L},set:function(){console.error("THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.")}}});If.prototype.initBones=function(){console.error("THREE.SkinnedMesh: initBones() has been removed.")};Qn.prototype.setLens=function(n,e){console.warn("THREE.PerspectiveCamera.setLens is deprecated. Use .setFocalLength and .filmGauge for a photographic setup."),e!==void 0&&(this.filmGauge=e),this.setFocalLength(n)};Object.defineProperties(a0.prototype,{onlyShadow:{set:function(){console.warn("THREE.Light: .onlyShadow has been removed.")}},shadowCameraFov:{set:function(n){console.warn("THREE.Light: .shadowCameraFov is now .shadow.camera.fov."),this.shadow.camera.fov=n}},shadowCameraLeft:{set:function(n){console.warn("THREE.Light: .shadowCameraLeft is now .shadow.camera.left."),this.shadow.camera.left=n}},shadowCameraRight:{set:function(n){console.warn("THREE.Light: .shadowCameraRight is now .shadow.camera.right."),this.shadow.camera.right=n}},shadowCameraTop:{set:function(n){console.warn("THREE.Light: .shadowCameraTop is now .shadow.camera.top."),this.shadow.camera.top=n}},shadowCameraBottom:{set:function(n){console.warn("THREE.Light: .shadowCameraBottom is now .shadow.camera.bottom."),this.shadow.camera.bottom=n}},shadowCameraNear:{set:function(n){console.warn("THREE.Light: .shadowCameraNear is now .shadow.camera.near."),this.shadow.camera.near=n}},shadowCameraFar:{set:function(n){console.warn("THREE.Light: .shadowCameraFar is now .shadow.camera.far."),this.shadow.camera.far=n}},shadowCameraVisible:{set:function(){console.warn("THREE.Light: .shadowCameraVisible has been removed. Use new THREE.CameraHelper( light.shadow.camera ) instead.")}},shadowBias:{set:function(n){console.warn("THREE.Light: .shadowBias is now .shadow.bias."),this.shadow.bias=n}},shadowDarkness:{set:function(){console.warn("THREE.Light: .shadowDarkness has been removed.")}},shadowMapWidth:{set:function(n){console.warn("THREE.Light: .shadowMapWidth is now .shadow.mapSize.width."),this.shadow.mapSize.width=n}},shadowMapHeight:{set:function(n){console.warn("THREE.Light: .shadowMapHeight is now .shadow.mapSize.height."),this.shadow.mapSize.height=n}}});Object.defineProperties(Tt.prototype,{length:{get:function(){return console.warn("THREE.BufferAttribute: .length has been deprecated. Use .count instead."),this.array.length}},dynamic:{get:function(){return console.warn("THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead."),this.usage===of},set:function(){console.warn("THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead."),this.setUsage(of)}}});Tt.prototype.setDynamic=function(n){return console.warn("THREE.BufferAttribute: .setDynamic() has been deprecated. Use .setUsage() instead."),this.setUsage(n===!0?of:sf),this};Tt.prototype.copyIndicesArray=function(){console.error("THREE.BufferAttribute: .copyIndicesArray() has been removed.")},Tt.prototype.setArray=function(){console.error("THREE.BufferAttribute: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers")};ot.prototype.addIndex=function(n){console.warn("THREE.BufferGeometry: .addIndex() has been renamed to .setIndex()."),this.setIndex(n)};ot.prototype.addAttribute=function(n,e){return console.warn("THREE.BufferGeometry: .addAttribute() has been renamed to .setAttribute()."),!(e&&e.isBufferAttribute)&&!(e&&e.isInterleavedBufferAttribute)?(console.warn("THREE.BufferGeometry: .addAttribute() now expects ( name, attribute )."),this.setAttribute(n,new Tt(arguments[1],arguments[2]))):n==="index"?(console.warn("THREE.BufferGeometry.addAttribute: Use .setIndex() for index attribute."),this.setIndex(e),this):this.setAttribute(n,e)};ot.prototype.addDrawCall=function(n,e,t){t!==void 0&&console.warn("THREE.BufferGeometry: .addDrawCall() no longer supports indexOffset."),console.warn("THREE.BufferGeometry: .addDrawCall() is now .addGroup()."),this.addGroup(n,e)};ot.prototype.clearDrawCalls=function(){console.warn("THREE.BufferGeometry: .clearDrawCalls() is now .clearGroups()."),this.clearGroups()};ot.prototype.computeOffsets=function(){console.warn("THREE.BufferGeometry: .computeOffsets() has been removed.")};ot.prototype.removeAttribute=function(n){return console.warn("THREE.BufferGeometry: .removeAttribute() has been renamed to .deleteAttribute()."),this.deleteAttribute(n)};ot.prototype.applyMatrix=function(n){return console.warn("THREE.BufferGeometry: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(n)};Object.defineProperties(ot.prototype,{drawcalls:{get:function(){return console.error("THREE.BufferGeometry: .drawcalls has been renamed to .groups."),this.groups}},offsets:{get:function(){return console.warn("THREE.BufferGeometry: .offsets has been renamed to .groups."),this.groups}}});Fa.prototype.setDynamic=function(n){return console.warn("THREE.InterleavedBuffer: .setDynamic() has been deprecated. Use .setUsage() instead."),this.setUsage(n===!0?of:sf),this};Fa.prototype.setArray=function(){console.error("THREE.InterleavedBuffer: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers")};r0.prototype.getArrays=function(){console.error("THREE.ExtrudeGeometry: .getArrays() has been removed.")};r0.prototype.addShapeList=function(){console.error("THREE.ExtrudeGeometry: .addShapeList() has been removed.")};r0.prototype.addShape=function(){console.error("THREE.ExtrudeGeometry: .addShape() has been removed.")};_1.prototype.dispose=function(){console.error("THREE.Scene: .dispose() has been removed.")};a9.prototype.onUpdate=function(){return console.warn("THREE.Uniform: .onUpdate() has been removed. Use object.onBeforeRender() instead."),this};Object.defineProperties(si.prototype,{wrapAround:{get:function(){console.warn("THREE.Material: .wrapAround has been removed.")},set:function(){console.warn("THREE.Material: .wrapAround has been removed.")}},overdraw:{get:function(){console.warn("THREE.Material: .overdraw has been removed.")},set:function(){console.warn("THREE.Material: .overdraw has been removed.")}},wrapRGB:{get:function(){return console.warn("THREE.Material: .wrapRGB has been removed."),new We}},shading:{get:function(){console.error("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead.")},set:function(n){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=n===O6}},stencilMask:{get:function(){return console.warn("THREE."+this.type+": .stencilMask has been removed. Use .stencilFuncMask instead."),this.stencilFuncMask},set:function(n){console.warn("THREE."+this.type+": .stencilMask has been removed. Use .stencilFuncMask instead."),this.stencilFuncMask=n}},vertexTangents:{get:function(){console.warn("THREE."+this.type+": .vertexTangents has been removed.")},set:function(){console.warn("THREE."+this.type+": .vertexTangents has been removed.")}}});Object.defineProperties(cn.prototype,{derivatives:{get:function(){return console.warn("THREE.ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives},set:function(n){console.warn("THREE. ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives=n}}});on.prototype.clearTarget=function(n,e,t,i){console.warn("THREE.WebGLRenderer: .clearTarget() has been deprecated. Use .setRenderTarget() and .clear() instead."),this.setRenderTarget(n),this.clear(e,t,i)};on.prototype.animate=function(n){console.warn("THREE.WebGLRenderer: .animate() is now .setAnimationLoop()."),this.setAnimationLoop(n)};on.prototype.getCurrentRenderTarget=function(){return console.warn("THREE.WebGLRenderer: .getCurrentRenderTarget() is now .getRenderTarget()."),this.getRenderTarget()};on.prototype.getMaxAnisotropy=function(){return console.warn("THREE.WebGLRenderer: .getMaxAnisotropy() is now .capabilities.getMaxAnisotropy()."),this.capabilities.getMaxAnisotropy()};on.prototype.getPrecision=function(){return console.warn("THREE.WebGLRenderer: .getPrecision() is now .capabilities.precision."),this.capabilities.precision};on.prototype.resetGLState=function(){return console.warn("THREE.WebGLRenderer: .resetGLState() is now .state.reset()."),this.state.reset()};on.prototype.supportsFloatTextures=function(){return console.warn("THREE.WebGLRenderer: .supportsFloatTextures() is now .extensions.get( 'OES_texture_float' )."),this.extensions.get("OES_texture_float")};on.prototype.supportsHalfFloatTextures=function(){return console.warn("THREE.WebGLRenderer: .supportsHalfFloatTextures() is now .extensions.get( 'OES_texture_half_float' )."),this.extensions.get("OES_texture_half_float")};on.prototype.supportsStandardDerivatives=function(){return console.warn("THREE.WebGLRenderer: .supportsStandardDerivatives() is now .extensions.get( 'OES_standard_derivatives' )."),this.extensions.get("OES_standard_derivatives")};on.prototype.supportsCompressedTextureS3TC=function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTextureS3TC() is now .extensions.get( 'WEBGL_compressed_texture_s3tc' )."),this.extensions.get("WEBGL_compressed_texture_s3tc")};on.prototype.supportsCompressedTexturePVRTC=function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTexturePVRTC() is now .extensions.get( 'WEBGL_compressed_texture_pvrtc' )."),this.extensions.get("WEBGL_compressed_texture_pvrtc")};on.prototype.supportsBlendMinMax=function(){return console.warn("THREE.WebGLRenderer: .supportsBlendMinMax() is now .extensions.get( 'EXT_blend_minmax' )."),this.extensions.get("EXT_blend_minmax")};on.prototype.supportsVertexTextures=function(){return console.warn("THREE.WebGLRenderer: .supportsVertexTextures() is now .capabilities.vertexTextures."),this.capabilities.vertexTextures};on.prototype.supportsInstancedArrays=function(){return console.warn("THREE.WebGLRenderer: .supportsInstancedArrays() is now .extensions.get( 'ANGLE_instanced_arrays' )."),this.extensions.get("ANGLE_instanced_arrays")};on.prototype.enableScissorTest=function(n){console.warn("THREE.WebGLRenderer: .enableScissorTest() is now .setScissorTest()."),this.setScissorTest(n)};on.prototype.initMaterial=function(){console.warn("THREE.WebGLRenderer: .initMaterial() has been removed.")};on.prototype.addPrePlugin=function(){console.warn("THREE.WebGLRenderer: .addPrePlugin() has been removed.")};on.prototype.addPostPlugin=function(){console.warn("THREE.WebGLRenderer: .addPostPlugin() has been removed.")};on.prototype.updateShadowMap=function(){console.warn("THREE.WebGLRenderer: .updateShadowMap() has been removed.")};on.prototype.setFaceCulling=function(){console.warn("THREE.WebGLRenderer: .setFaceCulling() has been removed.")};on.prototype.allocTextureUnit=function(){console.warn("THREE.WebGLRenderer: .allocTextureUnit() has been removed.")};on.prototype.setTexture=function(){console.warn("THREE.WebGLRenderer: .setTexture() has been removed.")};on.prototype.setTexture2D=function(){console.warn("THREE.WebGLRenderer: .setTexture2D() has been removed.")};on.prototype.setTextureCube=function(){console.warn("THREE.WebGLRenderer: .setTextureCube() has been removed.")};on.prototype.getActiveMipMapLevel=function(){return console.warn("THREE.WebGLRenderer: .getActiveMipMapLevel() is now .getActiveMipmapLevel()."),this.getActiveMipmapLevel()};Object.defineProperties(on.prototype,{shadowMapEnabled:{get:function(){return this.shadowMap.enabled},set:function(n){console.warn("THREE.WebGLRenderer: .shadowMapEnabled is now .shadowMap.enabled."),this.shadowMap.enabled=n}},shadowMapType:{get:function(){return this.shadowMap.type},set:function(n){console.warn("THREE.WebGLRenderer: .shadowMapType is now .shadowMap.type."),this.shadowMap.type=n}},shadowMapCullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")}},context:{get:function(){return console.warn("THREE.WebGLRenderer: .context has been removed. Use .getContext() instead."),this.getContext()}},vr:{get:function(){return console.warn("THREE.WebGLRenderer: .vr has been renamed to .xr"),this.xr}},gammaInput:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead."),!1},set:function(){console.warn("THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead.")}},gammaOutput:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead."),!1},set:function(n){console.warn("THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead."),this.outputEncoding=n===!0?Ms:cr}},toneMappingWhitePoint:{get:function(){return console.warn("THREE.WebGLRenderer: .toneMappingWhitePoint has been removed."),1},set:function(){console.warn("THREE.WebGLRenderer: .toneMappingWhitePoint has been removed.")}}});Object.defineProperties(EC.prototype,{cullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")}},renderReverseSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")}},renderSingleSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")}}});function Ese(n,e,t){return console.warn("THREE.WebGLRenderTargetCube( width, height, options ) is now WebGLCubeRenderTarget( size, options )."),new d1(n,t)}Object.defineProperties(jn.prototype,{wrapS:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS},set:function(n){console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS=n}},wrapT:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT},set:function(n){console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT=n}},magFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter},set:function(n){console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter=n}},minFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter},set:function(n){console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter=n}},anisotropy:{get:function(){return console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy},set:function(n){console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy=n}},offset:{get:function(){return console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset},set:function(n){console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset=n}},repeat:{get:function(){return console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat},set:function(n){console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat=n}},format:{get:function(){return console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format},set:function(n){console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format=n}},type:{get:function(){return console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type},set:function(n){console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type=n}},generateMipmaps:{get:function(){return console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps},set:function(n){console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps=n}}});Sv.prototype.load=function(n){console.warn("THREE.Audio: .load has been deprecated. Use THREE.AudioLoader instead.");const e=this;return new TP().load(n,function(i){e.setBuffer(i)}),this};DP.prototype.getData=function(){return console.warn("THREE.AudioAnalyser: .getData() is now .getFrequencyData()."),this.getFrequencyData()};h1.prototype.updateCubeMap=function(n,e){return console.warn("THREE.CubeCamera: .updateCubeMap() is now .update()."),this.update(n,e)};h1.prototype.clear=function(n,e,t,i){return console.warn("THREE.CubeCamera: .clear() is now .renderTarget.clear()."),this.renderTarget.clear(n,e,t,i)};rc.crossOrigin=void 0;rc.loadTexture=function(n,e,t,i){console.warn("THREE.ImageUtils.loadTexture has been deprecated. Use THREE.TextureLoader() instead.");const r=new Ba;r.setCrossOrigin(this.crossOrigin);const s=r.load(n,t,void 0,i);return e&&(s.mapping=e),s};rc.loadTextureCube=function(n,e,t,i){console.warn("THREE.ImageUtils.loadTextureCube has been deprecated. Use THREE.CubeTextureLoader() instead.");const r=new mv;r.setCrossOrigin(this.crossOrigin);const s=r.load(n,t,void 0,i);return e&&(s.mapping=e),s};rc.loadCompressedTexture=function(){console.error("THREE.ImageUtils.loadCompressedTexture has been removed. Use THREE.DDSLoader instead.")};rc.loadCompressedTextureCube=function(){console.error("THREE.ImageUtils.loadCompressedTextureCube has been removed. Use THREE.DDSLoader instead.")};function Lse(){console.error("THREE.CanvasRenderer has been removed")}function Cse(){console.error("THREE.JSONLoader has been removed.")}const Pse={createMultiMaterialObject:function(){console.error("THREE.SceneUtils has been moved to /examples/jsm/utils/SceneUtils.js")},detach:function(){console.error("THREE.SceneUtils has been moved to /examples/jsm/utils/SceneUtils.js")},attach:function(){console.error("THREE.SceneUtils has been moved to /examples/jsm/utils/SceneUtils.js")}};function Rse(){console.error("THREE.LensFlare has been moved to /examples/jsm/objects/Lensflare.js")}typeof __THREE_DEVTOOLS__!="undefined"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:I6}}));typeof window!="undefined"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=I6);var Cwe=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",ACESFilmicToneMapping:ME,AddEquation:Mo,AddOperation:yE,AdditiveAnimationBlendMode:n7,AdditiveBlending:r3,AlphaFormat:RE,AlwaysDepth:hE,AlwaysStencilFunc:AL,AmbientLight:k1,AmbientLightProbe:LP,AnimationClip:Ec,AnimationLoader:xre,AnimationMixer:BP,AnimationObjectGroup:OP,AnimationUtils:Ln,ArcCurve:K7,ArrayCamera:W7,ArrowHelper:jre,Audio:Sv,AudioAnalyser:DP,AudioContext:wv,AudioListener:Tre,AudioLoader:TP,AxesHelper:tR,AxisHelper:bse,BackSide:Hn,BasicDepthPacking:ML,BasicShadowMap:MJ,BinaryTextureLoader:Tse,Bone:lc,BooleanKeyframeTrack:Mc,BoundingBoxHelper:wse,Box2:Bf,Box3:fr,Box3Helper:$re,BoxBufferGeometry:n0,BoxGeometry:n0,BoxHelper:KP,BufferAttribute:Tt,BufferGeometry:ot,BufferGeometryLoader:bP,ByteType:AE,Cache:Lc,Camera:f1,CameraHelper:Yre,CanvasRenderer:Lse,CanvasTexture:ZC,CatmullRomCurve3:L1,CineonToneMapping:wE,CircleBufferGeometry:fc,CircleGeometry:fc,ClampToEdgeWrapping:ln,Clock:Mv,Color:We,ColorKeyframeTrack:dv,CompressedTexture:j7,CompressedTextureLoader:yre,ConeBufferGeometry:hc,ConeGeometry:hc,CubeCamera:h1,CubeReflectionMapping:Ql,CubeRefractionMapping:Zu,CubeTexture:bf,CubeTextureLoader:mv,CubeUVReflectionMapping:Ju,CubeUVRefractionMapping:Kd,CubicBezierCurve:q3,CubicBezierCurve3:rv,CubicInterpolant:aP,CullFaceBack:D6,CullFaceFront:tE,CullFaceFrontBack:wJ,CullFaceNone:eE,Curve:pr,CurvePath:hP,CustomBlending:z6,CustomToneMapping:SE,CylinderBufferGeometry:Io,CylinderGeometry:Io,Cylindrical:zre,DataTexture:Ls,DataTexture2DArray:k7,DataTexture3D:H7,DataTextureLoader:fP,DataUtils:Fv,DecrementStencilOp:FJ,DecrementWrapStencilOp:DJ,DefaultLoadingManager:uP,DepthFormat:Kl,DepthStencilFormat:nf,DepthTexture:Z7,DirectionalLight:ka,DirectionalLightHelper:Xre,DiscreteInterpolant:lP,DodecahedronBufferGeometry:dc,DodecahedronGeometry:dc,DoubleSide:wo,DstAlphaFactor:W6,DstColorFactor:X6,DynamicBufferAttribute:fse,DynamicCopyUsage:qJ,DynamicDrawUsage:of,DynamicReadUsage:XJ,EdgesGeometry:J7,EdgesHelper:Mse,EllipseCurve:E1,EqualDepth:pE,EqualStencilFunc:UJ,EquirectangularReflectionMapping:Qu,EquirectangularRefractionMapping:Jd,Euler:Ss,EventDispatcher:P0,ExtrudeBufferGeometry:r0,ExtrudeGeometry:r0,FaceColors:ese,FileLoader:Br,FlatShading:O6,Float16BufferAttribute:XL,Float32Attribute:yse,Float32BufferAttribute:je,Float64Attribute:_se,Float64BufferAttribute:YL,FloatType:ws,Fog:y1,FogExp2:x1,Font:bv,FontLoader:AP,FrontSide:xa,Frustum:p1,GLBufferAttribute:zP,GLSL1:ZJ,GLSL3:l7,GammaEncoding:u3,GreaterDepth:gE,GreaterEqualDepth:mE,GreaterEqualStencilFunc:GJ,GreaterStencilFunc:kJ,GridHelper:ZP,Group:es,HalfFloatType:So,HemisphereLight:r9,HemisphereLightHelper:Vre,HemisphereLightProbe:EP,IcosahedronBufferGeometry:pc,IcosahedronGeometry:pc,ImageBitmapLoader:_v,ImageLoader:B1,ImageUtils:rc,ImmediateRenderObject:WP,IncrementStencilOp:RJ,IncrementWrapStencilOp:IJ,InstancedBufferAttribute:cc,InstancedBufferGeometry:yv,InstancedInterleavedBuffer:UP,InstancedMesh:Nf,Int16Attribute:mse,Int16BufferAttribute:VL,Int32Attribute:vse,Int32BufferAttribute:WL,Int8Attribute:hse,Int8BufferAttribute:kL,IntType:EE,InterleavedBuffer:Fa,InterleavedBufferAttribute:Ro,Interpolant:O0,InterpolateDiscrete:rf,InterpolateLinear:ec,InterpolateSmooth:l3,InvertStencilOp:NJ,JSONLoader:Cse,KeepStencilOp:h3,KeyframeTrack:s0,LOD:DC,LatheBufferGeometry:mc,LatheGeometry:mc,Layers:b7,LensFlare:Rse,LessDepth:dE,LessEqualDepth:o3,LessEqualStencilFunc:zJ,LessStencilFunc:BJ,Light:a0,LightProbe:H1,Line:Cs,Line3:VP,LineBasicMaterial:Kn,LineCurve:R1,LineCurve3:JC,LineDashedMaterial:fv,LineLoop:H3,LinePieces:Jre,LineSegments:dr,LineStrip:Qre,LinearEncoding:cr,LinearFilter:Ht,LinearInterpolant:hv,LinearMipMapLinearFilter:LJ,LinearMipMapNearestFilter:EJ,LinearMipmapLinearFilter:C0,LinearMipmapNearestFilter:a3,LinearToneMapping:_E,Loader:vi,LoaderUtils:Ps,LoadingManager:pv,LogLuvEncoding:wL,LoopOnce:vL,LoopPingPong:yL,LoopRepeat:xL,LuminanceAlphaFormat:IE,LuminanceFormat:FE,MOUSE:jl,Material:si,MaterialLoader:_P,Math:ur,MathUtils:ur,Matrix3:Gn,Matrix4:$e,MaxEquation:H6,Mesh:En,MeshBasicMaterial:mi,MeshDepthMaterial:v1,MeshDistanceMaterial:D3,MeshFaceMaterial:nse,MeshLambertMaterial:O1,MeshMatcapMaterial:i9,MeshNormalMaterial:n9,MeshPhongMaterial:wc,MeshPhysicalMaterial:Do,MeshStandardMaterial:Oa,MeshToonMaterial:t9,MinEquation:k6,MirroredRepeatWrapping:Ku,MixOperation:xE,MultiMaterial:ise,MultiplyBlending:U6,MultiplyOperation:Qd,NearestFilter:Qt,NearestMipMapLinearFilter:TJ,NearestMipMapNearestFilter:AJ,NearestMipmapLinearFilter:t1,NearestMipmapNearestFilter:e1,NeverDepth:fE,NeverStencilFunc:OJ,NoBlending:pi,NoColors:Kre,NoToneMapping:ya,NormalAnimationBlendMode:c3,NormalBlending:ju,NotEqualDepth:vE,NotEqualStencilFunc:HJ,NumberKeyframeTrack:Sc,Object3D:At,ObjectLoader:_re,ObjectSpaceNormalMap:SL,OctahedronBufferGeometry:Da,OctahedronGeometry:Da,OneFactor:sE,OneMinusDstAlphaFactor:lE,OneMinusDstColorFactor:cE,OneMinusSrcAlphaFactor:V6,OneMinusSrcColorFactor:aE,OrthographicCamera:F0,PCFShadowMap:N6,PCFSoftShadowMap:nE,PMREMGenerator:tC,ParametricBufferGeometry:e9,ParametricGeometry:e9,Particle:sse,ParticleBasicMaterial:lse,ParticleSystem:ose,ParticleSystemMaterial:cse,Path:U1,PerspectiveCamera:Qn,Plane:Ts,PlaneBufferGeometry:Po,PlaneGeometry:Po,PlaneHelper:qre,PointCloud:rse,PointCloudMaterial:ase,PointLight:Cc,PointLightHelper:Hre,Points:uc,PointsMaterial:Fo,PolarGridHelper:Wre,PolyhedronBufferGeometry:i0,PolyhedronGeometry:i0,PositionalAudio:Lre,PropertyBinding:Nt,PropertyMixer:NP,QuadraticBezierCurve:j3,QuadraticBezierCurve3:sv,Quaternion:Rn,QuaternionKeyframeTrack:No,QuaternionLinearInterpolant:cP,REVISION:I6,RGBADepthPacking:a7,RGBAFormat:yn,RGBAIntegerFormat:kE,RGBA_ASTC_10x10_Format:KE,RGBA_ASTC_10x5_Format:ZE,RGBA_ASTC_10x6_Format:QE,RGBA_ASTC_10x8_Format:JE,RGBA_ASTC_12x10_Format:eL,RGBA_ASTC_12x12_Format:tL,RGBA_ASTC_4x4_Format:GE,RGBA_ASTC_5x4_Format:VE,RGBA_ASTC_5x5_Format:WE,RGBA_ASTC_6x5_Format:XE,RGBA_ASTC_6x6_Format:YE,RGBA_ASTC_8x5_Format:$E,RGBA_ASTC_8x6_Format:qE,RGBA_ASTC_8x8_Format:jE,RGBA_BPTC_Format:nL,RGBA_ETC2_EAC_Format:t7,RGBA_PVRTC_2BPPV1_Format:K6,RGBA_PVRTC_4BPPV1_Format:J6,RGBA_S3TC_DXT1_Format:$6,RGBA_S3TC_DXT3_Format:q6,RGBA_S3TC_DXT5_Format:j6,RGBDEncoding:o7,RGBEEncoding:f3,RGBEFormat:DE,RGBFormat:Or,RGBIntegerFormat:zE,RGBM16Encoding:s7,RGBM7Encoding:r7,RGB_ETC1_Format:HE,RGB_ETC2_Format:e7,RGB_PVRTC_2BPPV1_Format:Q6,RGB_PVRTC_4BPPV1_Format:Z6,RGB_S3TC_DXT1_Format:Y6,RGFormat:BE,RGIntegerFormat:UE,RawShaderMaterial:Mf,Ray:Aa,Raycaster:Ev,RectAreaLight:s9,RedFormat:NE,RedIntegerFormat:OE,ReinhardToneMapping:bE,RepeatWrapping:bs,ReplaceStencilOp:PJ,ReverseSubtractEquation:rE,RingBufferGeometry:gc,RingGeometry:gc,SRGB8_ALPHA8_ASTC_10x10_Format:pL,SRGB8_ALPHA8_ASTC_10x5_Format:fL,SRGB8_ALPHA8_ASTC_10x6_Format:hL,SRGB8_ALPHA8_ASTC_10x8_Format:dL,SRGB8_ALPHA8_ASTC_12x10_Format:mL,SRGB8_ALPHA8_ASTC_12x12_Format:gL,SRGB8_ALPHA8_ASTC_4x4_Format:iL,SRGB8_ALPHA8_ASTC_5x4_Format:rL,SRGB8_ALPHA8_ASTC_5x5_Format:sL,SRGB8_ALPHA8_ASTC_6x5_Format:oL,SRGB8_ALPHA8_ASTC_6x6_Format:aL,SRGB8_ALPHA8_ASTC_8x5_Format:lL,SRGB8_ALPHA8_ASTC_8x6_Format:cL,SRGB8_ALPHA8_ASTC_8x8_Format:uL,Scene:_1,SceneUtils:Pse,ShaderChunk:Mt,ShaderLib:Es,ShaderMaterial:cn,ShadowMaterial:uv,Shape:Ua,ShapeBufferGeometry:vc,ShapeGeometry:vc,ShapePath:SP,ShapeUtils:N0,ShortType:TE,Skeleton:Df,SkeletonHelper:YP,SkinnedMesh:If,SmoothShading:SJ,Sphere:R0,SphereBufferGeometry:Na,SphereGeometry:Na,Spherical:Cv,SphericalHarmonics3:xv,SplineCurve:Z3,SpotLight:za,SpotLightHelper:kre,Sprite:A1,SpriteMaterial:b1,SrcAlphaFactor:G6,SrcAlphaSaturateFactor:uE,SrcColorFactor:oE,StaticCopyUsage:$J,StaticDrawUsage:sf,StaticReadUsage:WJ,StereoCamera:Sre,StreamCopyUsage:jJ,StreamDrawUsage:VJ,StreamReadUsage:YJ,StringKeyframeTrack:Ac,SubtractEquation:iE,SubtractiveBlending:B6,TOUCH:Zl,TangentSpaceNormalMap:ba,TetrahedronBufferGeometry:xc,TetrahedronGeometry:xc,TextBufferGeometry:N1,TextGeometry:N1,Texture:Tn,TextureLoader:Ba,TorusBufferGeometry:yc,TorusGeometry:yc,TorusKnotBufferGeometry:_c,TorusKnotGeometry:_c,Triangle:Zn,TriangleFanDrawMode:i7,TriangleStripDrawMode:bL,TrianglesDrawMode:_L,TubeBufferGeometry:bc,TubeGeometry:bc,UVMapping:_a,Uint16Attribute:gse,Uint16BufferAttribute:c1,Uint32Attribute:xse,Uint32BufferAttribute:w3,Uint8Attribute:dse,Uint8BufferAttribute:HL,Uint8ClampedAttribute:pse,Uint8ClampedBufferAttribute:GL,Uniform:a9,UniformsLib:Ze,UniformsUtils:Ii,UnsignedByteType:Jl,UnsignedInt248Type:tf,UnsignedIntType:n1,UnsignedShort4444Type:LE,UnsignedShort5551Type:CE,UnsignedShort565Type:PE,UnsignedShortType:ef,VSMShadowMap:qu,Vector2:Ie,Vector3:Z,Vector4:$t,VectorKeyframeTrack:Tc,Vertex:use,VertexColors:tse,VideoTexture:jC,WebGL1Renderer:CC,WebGLCubeRenderTarget:d1,WebGLMultipleRenderTargets:LL,WebGLMultisampleRenderTarget:h7,WebGLRenderTarget:jn,WebGLRenderTargetCube:Ese,WebGLRenderer:on,WebGLUtils:LC,WireframeGeometry:cv,WireframeHelper:Sse,WrapAroundEnding:i1,XHRLoader:Ase,ZeroCurvatureEnding:tc,ZeroFactor:s3,ZeroSlopeEnding:nc,ZeroStencilOp:CJ,sRGBEncoding:Ms});const iR={type:"change"},Iv={type:"start"},Dv={type:"end"};class Fse extends P0{constructor(e,t){super();t===void 0&&console.warn('THREE.OrbitControls: The second parameter "domElement" is now mandatory.'),t===document&&console.error('THREE.OrbitControls: "document" should not be used as the target "domElement". Please use "renderer.domElement" instead.'),this.object=e,this.domElement=t,this.domElement.style.touchAction="none",this.enabled=!0,this.target=new Z,this.minDistance=0,this.maxDistance=1/0,this.minZoom=0,this.maxZoom=1/0,this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.minAzimuthAngle=-1/0,this.maxAzimuthAngle=1/0,this.enableDamping=!1,this.dampingFactor=.05,this.enableZoom=!0,this.zoomSpeed=1,this.enableRotate=!0,this.rotateSpeed=1,this.enablePan=!0,this.panSpeed=1,this.screenSpacePanning=!0,this.keyPanSpeed=7,this.autoRotate=!1,this.autoRotateSpeed=2,this.keys={LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"},this.mouseButtons={LEFT:jl.ROTATE,MIDDLE:jl.DOLLY,RIGHT:jl.PAN},this.touches={ONE:Zl.ROTATE,TWO:Zl.DOLLY_PAN},this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this._domElementKeyEvents=null,this.getPolarAngle=function(){return a.phi},this.getAzimuthalAngle=function(){return a.theta},this.getDistance=function(){return this.object.position.distanceTo(this.target)},this.listenToKeyEvents=function(ee){ee.addEventListener("keydown",pe),this._domElementKeyEvents=ee},this.saveState=function(){i.target0.copy(i.target),i.position0.copy(i.object.position),i.zoom0=i.object.zoom},this.reset=function(){i.target.copy(i.target0),i.object.position.copy(i.position0),i.object.zoom=i.zoom0,i.object.updateProjectionMatrix(),i.dispatchEvent(iR),i.update(),s=r.NONE},this.update=function(){const ee=new Z,Ue=new Rn().setFromUnitVectors(e.up,new Z(0,1,0)),lt=Ue.clone().invert(),at=new Z,Ot=new Rn,tt=2*Math.PI;return function(){const Vt=i.object.position;ee.copy(Vt).sub(i.target),ee.applyQuaternion(Ue),a.setFromVector3(ee),i.autoRotate&&s===r.NONE&&U(T()),i.enableDamping?(a.theta+=l.theta*i.dampingFactor,a.phi+=l.phi*i.dampingFactor):(a.theta+=l.theta,a.phi+=l.phi);let In=i.minAzimuthAngle,zn=i.maxAzimuthAngle;return isFinite(In)&&isFinite(zn)&&(In<-Math.PI?In+=tt:In>Math.PI&&(In-=tt),zn<-Math.PI?zn+=tt:zn>Math.PI&&(zn-=tt),In<=zn?a.theta=Math.max(In,Math.min(zn,a.theta)):a.theta=a.theta>(In+zn)/2?Math.max(In,a.theta):Math.min(zn,a.theta)),a.phi=Math.max(i.minPolarAngle,Math.min(i.maxPolarAngle,a.phi)),a.makeSafe(),a.radius*=c,a.radius=Math.max(i.minDistance,Math.min(i.maxDistance,a.radius)),i.enableDamping===!0?i.target.addScaledVector(u,i.dampingFactor):i.target.add(u),ee.setFromSpherical(a),ee.applyQuaternion(lt),Vt.copy(i.target).add(ee),i.object.lookAt(i.target),i.enableDamping===!0?(l.theta*=1-i.dampingFactor,l.phi*=1-i.dampingFactor,u.multiplyScalar(1-i.dampingFactor)):(l.set(0,0,0),u.set(0,0,0)),c=1,f||at.distanceToSquared(i.object.position)>o||8*(1-Ot.dot(i.object.quaternion))>o?(i.dispatchEvent(iR),at.copy(i.object.position),Ot.copy(i.object.quaternion),f=!1,!0):!1}}(),this.dispose=function(){i.domElement.removeEventListener("contextmenu",Ee),i.domElement.removeEventListener("pointerdown",W),i.domElement.removeEventListener("pointercancel",L),i.domElement.removeEventListener("wheel",ce),i.domElement.removeEventListener("pointermove",se),i.domElement.removeEventListener("pointerup",ae),i._domElementKeyEvents!==null&&i._domElementKeyEvents.removeEventListener("keydown",pe)};const i=this,r={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let s=r.NONE;const o=1e-6,a=new Cv,l=new Cv;let c=1;const u=new Z;let f=!1;const h=new Ie,d=new Ie,m=new Ie,v=new Ie,_=new Ie,g=new Ie,x=new Ie,b=new Ie,w=new Ie,S=[],A={};function T(){return 2*Math.PI/60/60*i.autoRotateSpeed}function F(){return Math.pow(.95,i.zoomSpeed)}function U(ee){l.theta-=ee}function N(ee){l.phi-=ee}const O=function(){const ee=new Z;return function(lt,at){ee.setFromMatrixColumn(at,0),ee.multiplyScalar(-lt),u.add(ee)}}(),G=function(){const ee=new Z;return function(lt,at){i.screenSpacePanning===!0?ee.setFromMatrixColumn(at,1):(ee.setFromMatrixColumn(at,0),ee.crossVectors(i.object.up,ee)),ee.multiplyScalar(lt),u.add(ee)}}(),D=function(){const ee=new Z;return function(lt,at){const Ot=i.domElement;if(i.object.isPerspectiveCamera){const tt=i.object.position;ee.copy(tt).sub(i.target);let _t=ee.length();_t*=Math.tan(i.object.fov/2*Math.PI/180),O(2*lt*_t/Ot.clientHeight,i.object.matrix),G(2*at*_t/Ot.clientHeight,i.object.matrix)}else i.object.isOrthographicCamera?(O(lt*(i.object.right-i.object.left)/i.object.zoom/Ot.clientWidth,i.object.matrix),G(at*(i.object.top-i.object.bottom)/i.object.zoom/Ot.clientHeight,i.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),i.enablePan=!1)}}();function P(ee){i.object.isPerspectiveCamera?c/=ee:i.object.isOrthographicCamera?(i.object.zoom=Math.max(i.minZoom,Math.min(i.maxZoom,i.object.zoom*ee)),i.object.updateProjectionMatrix(),f=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),i.enableZoom=!1)}function I(ee){i.object.isPerspectiveCamera?c*=ee:i.object.isOrthographicCamera?(i.object.zoom=Math.max(i.minZoom,Math.min(i.maxZoom,i.object.zoom/ee)),i.object.updateProjectionMatrix(),f=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),i.enableZoom=!1)}function C(ee){h.set(ee.clientX,ee.clientY)}function B(ee){x.set(ee.clientX,ee.clientY)}function Y(ee){v.set(ee.clientX,ee.clientY)}function j(ee){d.set(ee.clientX,ee.clientY),m.subVectors(d,h).multiplyScalar(i.rotateSpeed);const Ue=i.domElement;U(2*Math.PI*m.x/Ue.clientHeight),N(2*Math.PI*m.y/Ue.clientHeight),h.copy(d),i.update()}function re(ee){b.set(ee.clientX,ee.clientY),w.subVectors(b,x),w.y>0?P(F()):w.y<0&&I(F()),x.copy(b),i.update()}function ie(ee){_.set(ee.clientX,ee.clientY),g.subVectors(_,v).multiplyScalar(i.panSpeed),D(g.x,g.y),v.copy(_),i.update()}function ve(ee){ee.deltaY<0?I(F()):ee.deltaY>0&&P(F()),i.update()}function de(ee){let Ue=!1;switch(ee.code){case i.keys.UP:D(0,i.keyPanSpeed),Ue=!0;break;case i.keys.BOTTOM:D(0,-i.keyPanSpeed),Ue=!0;break;case i.keys.LEFT:D(i.keyPanSpeed,0),Ue=!0;break;case i.keys.RIGHT:D(-i.keyPanSpeed,0),Ue=!0;break}Ue&&(ee.preventDefault(),i.update())}function ye(){if(S.length===1)h.set(S[0].pageX,S[0].pageY);else{const ee=.5*(S[0].pageX+S[1].pageX),Ue=.5*(S[0].pageY+S[1].pageY);h.set(ee,Ue)}}function te(){if(S.length===1)v.set(S[0].pageX,S[0].pageY);else{const ee=.5*(S[0].pageX+S[1].pageX),Ue=.5*(S[0].pageY+S[1].pageY);v.set(ee,Ue)}}function $(){const ee=S[0].pageX-S[1].pageX,Ue=S[0].pageY-S[1].pageY,lt=Math.sqrt(ee*ee+Ue*Ue);x.set(0,lt)}function ge(){i.enableZoom&&$(),i.enablePan&&te()}function be(){i.enableZoom&&$(),i.enableRotate&&ye()}function ue(ee){if(S.length==1)d.set(ee.pageX,ee.pageY);else{const lt=Pe(ee),at=.5*(ee.pageX+lt.x),Ot=.5*(ee.pageY+lt.y);d.set(at,Ot)}m.subVectors(d,h).multiplyScalar(i.rotateSpeed);const Ue=i.domElement;U(2*Math.PI*m.x/Ue.clientHeight),N(2*Math.PI*m.y/Ue.clientHeight),h.copy(d)}function _e(ee){if(S.length===1)_.set(ee.pageX,ee.pageY);else{const Ue=Pe(ee),lt=.5*(ee.pageX+Ue.x),at=.5*(ee.pageY+Ue.y);_.set(lt,at)}g.subVectors(_,v).multiplyScalar(i.panSpeed),D(g.x,g.y),v.copy(_)}function Te(ee){const Ue=Pe(ee),lt=ee.pageX-Ue.x,at=ee.pageY-Ue.y,Ot=Math.sqrt(lt*lt+at*at);b.set(0,Ot),w.set(0,Math.pow(b.y/x.y,i.zoomSpeed)),P(w.y),x.copy(b)}function X(ee){i.enableZoom&&Te(ee),i.enablePan&&_e(ee)}function z(ee){i.enableZoom&&Te(ee),i.enableRotate&&ue(ee)}function W(ee){i.enabled!==!1&&(S.length===0&&(i.domElement.setPointerCapture(ee.pointerId),i.domElement.addEventListener("pointermove",se),i.domElement.addEventListener("pointerup",ae)),V(ee),ee.pointerType==="touch"?Ce(ee):E(ee))}function se(ee){i.enabled!==!1&&(ee.pointerType==="touch"?Ae(ee):J(ee))}function ae(ee){i.enabled!==!1&&(ee.pointerType==="touch"?Re():K(),we(ee),S.length===0&&(i.domElement.releasePointerCapture(ee.pointerId),i.domElement.removeEventListener("pointermove",se),i.domElement.removeEventListener("pointerup",ae)))}function L(ee){we(ee)}function E(ee){let Ue;switch(ee.button){case 0:Ue=i.mouseButtons.LEFT;break;case 1:Ue=i.mouseButtons.MIDDLE;break;case 2:Ue=i.mouseButtons.RIGHT;break;default:Ue=-1}switch(Ue){case jl.DOLLY:if(i.enableZoom===!1)return;B(ee),s=r.DOLLY;break;case jl.ROTATE:if(ee.ctrlKey||ee.metaKey||ee.shiftKey){if(i.enablePan===!1)return;Y(ee),s=r.PAN}else{if(i.enableRotate===!1)return;C(ee),s=r.ROTATE}break;case jl.PAN:if(ee.ctrlKey||ee.metaKey||ee.shiftKey){if(i.enableRotate===!1)return;C(ee),s=r.ROTATE}else{if(i.enablePan===!1)return;Y(ee),s=r.PAN}break;default:s=r.NONE}s!==r.NONE&&i.dispatchEvent(Iv)}function J(ee){if(i.enabled!==!1)switch(s){case r.ROTATE:if(i.enableRotate===!1)return;j(ee);break;case r.DOLLY:if(i.enableZoom===!1)return;re(ee);break;case r.PAN:if(i.enablePan===!1)return;ie(ee);break}}function K(ee){i.dispatchEvent(Dv),s=r.NONE}function ce(ee){i.enabled===!1||i.enableZoom===!1||s!==r.NONE&&s!==r.ROTATE||(ee.preventDefault(),i.dispatchEvent(Iv),ve(ee),i.dispatchEvent(Dv))}function pe(ee){i.enabled===!1||i.enablePan===!1||de(ee)}function Ce(ee){switch(le(ee),S.length){case 1:switch(i.touches.ONE){case Zl.ROTATE:if(i.enableRotate===!1)return;ye(),s=r.TOUCH_ROTATE;break;case Zl.PAN:if(i.enablePan===!1)return;te(),s=r.TOUCH_PAN;break;default:s=r.NONE}break;case 2:switch(i.touches.TWO){case Zl.DOLLY_PAN:if(i.enableZoom===!1&&i.enablePan===!1)return;ge(),s=r.TOUCH_DOLLY_PAN;break;case Zl.DOLLY_ROTATE:if(i.enableZoom===!1&&i.enableRotate===!1)return;be(),s=r.TOUCH_DOLLY_ROTATE;break;default:s=r.NONE}break;default:s=r.NONE}s!==r.NONE&&i.dispatchEvent(Iv)}function Ae(ee){switch(le(ee),s){case r.TOUCH_ROTATE:if(i.enableRotate===!1)return;ue(ee),i.update();break;case r.TOUCH_PAN:if(i.enablePan===!1)return;_e(ee),i.update();break;case r.TOUCH_DOLLY_PAN:if(i.enableZoom===!1&&i.enablePan===!1)return;X(ee),i.update();break;case r.TOUCH_DOLLY_ROTATE:if(i.enableZoom===!1&&i.enableRotate===!1)return;z(ee),i.update();break;default:s=r.NONE}}function Re(ee){i.dispatchEvent(Dv),s=r.NONE}function Ee(ee){i.enabled!==!1&&ee.preventDefault()}function V(ee){S.push(ee)}function we(ee){delete A[ee.pointerId];for(let Ue=0;Ue<S.length;Ue++)if(S[Ue].pointerId==ee.pointerId){S.splice(Ue,1);return}}function le(ee){let Ue=A[ee.pointerId];Ue===void 0&&(Ue=new Ie,A[ee.pointerId]=Ue),Ue.set(ee.pageX,ee.pageY)}function Pe(ee){const Ue=ee.pointerId===S[0].pointerId?S[1]:S[0];return A[Ue.pointerId]}i.domElement.addEventListener("contextmenu",Ee),i.domElement.addEventListener("pointerdown",W),i.domElement.addEventListener("pointercancel",L),i.domElement.addEventListener("wheel",ce,{passive:!1}),this.update()}}const B0=new $e,Nv=new At,p9=new Z;class G1 extends P0{constructor(){super();this.uuid=ur.generateUUID(),this.name="",this.type="Geometry",this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingBox=null,this.boundingSphere=null,this.elementsNeedUpdate=!1,this.verticesNeedUpdate=!1,this.uvsNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.lineDistancesNeedUpdate=!1,this.groupsNeedUpdate=!1}applyMatrix4(e){const t=new Gn().getNormalMatrix(e);for(let i=0,r=this.vertices.length;i<r;i++)this.vertices[i].applyMatrix4(e);for(let i=0,r=this.faces.length;i<r;i++){const s=this.faces[i];s.normal.applyMatrix3(t).normalize();for(let o=0,a=s.vertexNormals.length;o<a;o++)s.vertexNormals[o].applyMatrix3(t).normalize()}return this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this.verticesNeedUpdate=!0,this.normalsNeedUpdate=!0,this}rotateX(e){return B0.makeRotationX(e),this.applyMatrix4(B0),this}rotateY(e){return B0.makeRotationY(e),this.applyMatrix4(B0),this}rotateZ(e){return B0.makeRotationZ(e),this.applyMatrix4(B0),this}translate(e,t,i){return B0.makeTranslation(e,t,i),this.applyMatrix4(B0),this}scale(e,t,i){return B0.makeScale(e,t,i),this.applyMatrix4(B0),this}lookAt(e){return Nv.lookAt(e),Nv.updateMatrix(),this.applyMatrix4(Nv.matrix),this}fromBufferGeometry(e){const t=this,i=e.index!==null?e.index:void 0,r=e.attributes;if(r.position===void 0)return console.error("THREE.Geometry.fromBufferGeometry(): Position attribute required for conversion."),this;const s=r.position,o=r.normal,a=r.color,l=r.uv,c=r.uv2;c!==void 0&&(this.faceVertexUvs[1]=[]);for(let h=0;h<s.count;h++)t.vertices.push(new Z().fromBufferAttribute(s,h)),a!==void 0&&t.colors.push(new We().fromBufferAttribute(a,h));function u(h,d,m,v){const _=a===void 0?[]:[t.colors[h].clone(),t.colors[d].clone(),t.colors[m].clone()],g=o===void 0?[]:[new Z().fromBufferAttribute(o,h),new Z().fromBufferAttribute(o,d),new Z().fromBufferAttribute(o,m)],x=new Ov(h,d,m,g,_,v);t.faces.push(x),l!==void 0&&t.faceVertexUvs[0].push([new Ie().fromBufferAttribute(l,h),new Ie().fromBufferAttribute(l,d),new Ie().fromBufferAttribute(l,m)]),c!==void 0&&t.faceVertexUvs[1].push([new Ie().fromBufferAttribute(c,h),new Ie().fromBufferAttribute(c,d),new Ie().fromBufferAttribute(c,m)])}const f=e.groups;if(f.length>0)for(let h=0;h<f.length;h++){const d=f[h],m=d.start,v=d.count;for(let _=m,g=m+v;_<g;_+=3)i!==void 0?u(i.getX(_),i.getX(_+1),i.getX(_+2),d.materialIndex):u(_,_+1,_+2,d.materialIndex)}else if(i!==void 0)for(let h=0;h<i.count;h+=3)u(i.getX(h),i.getX(h+1),i.getX(h+2));else for(let h=0;h<s.count;h+=3)u(h,h+1,h+2);return this.computeFaceNormals(),e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(p9).negate(),this.translate(p9.x,p9.y,p9.z),this}normalize(){this.computeBoundingSphere();const e=this.boundingSphere.center,t=this.boundingSphere.radius,i=t===0?1:1/t,r=new $e;return r.set(i,0,0,-i*e.x,0,i,0,-i*e.y,0,0,i,-i*e.z,0,0,0,1),this.applyMatrix4(r),this}computeFaceNormals(){const e=new Z,t=new Z;for(let i=0,r=this.faces.length;i<r;i++){const s=this.faces[i],o=this.vertices[s.a],a=this.vertices[s.b],l=this.vertices[s.c];e.subVectors(l,a),t.subVectors(o,a),e.cross(t),e.normalize(),s.normal.copy(e)}}computeVertexNormals(e=!0){const t=new Array(this.vertices.length);for(let i=0,r=this.vertices.length;i<r;i++)t[i]=new Z;if(e){const i=new Z,r=new Z;for(let s=0,o=this.faces.length;s<o;s++){const a=this.faces[s],l=this.vertices[a.a],c=this.vertices[a.b],u=this.vertices[a.c];i.subVectors(u,c),r.subVectors(l,c),i.cross(r),t[a.a].add(i),t[a.b].add(i),t[a.c].add(i)}}else{this.computeFaceNormals();for(let i=0,r=this.faces.length;i<r;i++){const s=this.faces[i];t[s.a].add(s.normal),t[s.b].add(s.normal),t[s.c].add(s.normal)}}for(let i=0,r=this.vertices.length;i<r;i++)t[i].normalize();for(let i=0,r=this.faces.length;i<r;i++){const s=this.faces[i],o=s.vertexNormals;o.length===3?(o[0].copy(t[s.a]),o[1].copy(t[s.b]),o[2].copy(t[s.c])):(o[0]=t[s.a].clone(),o[1]=t[s.b].clone(),o[2]=t[s.c].clone())}this.faces.length>0&&(this.normalsNeedUpdate=!0)}computeFlatVertexNormals(){this.computeFaceNormals();for(let e=0,t=this.faces.length;e<t;e++){const i=this.faces[e],r=i.vertexNormals;r.length===3?(r[0].copy(i.normal),r[1].copy(i.normal),r[2].copy(i.normal)):(r[0]=i.normal.clone(),r[1]=i.normal.clone(),r[2]=i.normal.clone())}this.faces.length>0&&(this.normalsNeedUpdate=!0)}computeMorphNormals(){for(let t=0,i=this.faces.length;t<i;t++){const r=this.faces[t];r.__originalFaceNormal?r.__originalFaceNormal.copy(r.normal):r.__originalFaceNormal=r.normal.clone(),r.__originalVertexNormals||(r.__originalVertexNormals=[]);for(let s=0,o=r.vertexNormals.length;s<o;s++)r.__originalVertexNormals[s]?r.__originalVertexNormals[s].copy(r.vertexNormals[s]):r.__originalVertexNormals[s]=r.vertexNormals[s].clone()}const e=new G1;e.faces=this.faces;for(let t=0,i=this.morphTargets.length;t<i;t++){if(!this.morphNormals[t]){this.morphNormals[t]={},this.morphNormals[t].faceNormals=[],this.morphNormals[t].vertexNormals=[];const s=this.morphNormals[t].faceNormals,o=this.morphNormals[t].vertexNormals;for(let a=0,l=this.faces.length;a<l;a++){const c=new Z,u={a:new Z,b:new Z,c:new Z};s.push(c),o.push(u)}}const r=this.morphNormals[t];e.vertices=this.morphTargets[t].vertices,e.computeFaceNormals(),e.computeVertexNormals();for(let s=0,o=this.faces.length;s<o;s++){const a=this.faces[s],l=r.faceNormals[s],c=r.vertexNormals[s];l.copy(a.normal),c.a.copy(a.vertexNormals[0]),c.b.copy(a.vertexNormals[1]),c.c.copy(a.vertexNormals[2])}}for(let t=0,i=this.faces.length;t<i;t++){const r=this.faces[t];r.normal=r.__originalFaceNormal,r.vertexNormals=r.__originalVertexNormals}}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new fr),this.boundingBox.setFromPoints(this.vertices)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new R0),this.boundingSphere.setFromPoints(this.vertices)}merge(e,t,i=0){if(!(e&&e.isGeometry)){console.error("THREE.Geometry.merge(): geometry not an instance of THREE.Geometry.",e);return}let r;const s=this.vertices.length,o=this.vertices,a=e.vertices,l=this.faces,c=e.faces,u=this.colors,f=e.colors;t!==void 0&&(r=new Gn().getNormalMatrix(t));for(let h=0,d=a.length;h<d;h++){const v=a[h].clone();t!==void 0&&v.applyMatrix4(t),o.push(v)}for(let h=0,d=f.length;h<d;h++)u.push(f[h].clone());for(let h=0,d=c.length;h<d;h++){const m=c[h];let v,_;const g=m.vertexNormals,x=m.vertexColors,b=new Ov(m.a+s,m.b+s,m.c+s);b.normal.copy(m.normal),r!==void 0&&b.normal.applyMatrix3(r).normalize();for(let w=0,S=g.length;w<S;w++)v=g[w].clone(),r!==void 0&&v.applyMatrix3(r).normalize(),b.vertexNormals.push(v);b.color.copy(m.color);for(let w=0,S=x.length;w<S;w++)_=x[w],b.vertexColors.push(_.clone());b.materialIndex=m.materialIndex+i,l.push(b)}for(let h=0,d=e.faceVertexUvs.length;h<d;h++){const m=e.faceVertexUvs[h];this.faceVertexUvs[h]===void 0&&(this.faceVertexUvs[h]=[]);for(let v=0,_=m.length;v<_;v++){const g=m[v],x=[];for(let b=0,w=g.length;b<w;b++)x.push(g[b].clone());this.faceVertexUvs[h].push(x)}}}mergeMesh(e){if(!(e&&e.isMesh)){console.error("THREE.Geometry.mergeMesh(): mesh not an instance of THREE.Mesh.",e);return}e.matrixAutoUpdate&&e.updateMatrix(),this.merge(e.geometry,e.matrix)}mergeVertices(e=4){const t={},i=[],r=[],s=Math.pow(10,e);for(let l=0,c=this.vertices.length;l<c;l++){const u=this.vertices[l],f=Math.round(u.x*s)+"_"+Math.round(u.y*s)+"_"+Math.round(u.z*s);t[f]===void 0?(t[f]=l,i.push(this.vertices[l]),r[l]=i.length-1):r[l]=r[t[f]]}const o=[];for(let l=0,c=this.faces.length;l<c;l++){const u=this.faces[l];u.a=r[u.a],u.b=r[u.b],u.c=r[u.c];const f=[u.a,u.b,u.c];for(let h=0;h<3;h++)if(f[h]===f[(h+1)%3]){o.push(l);break}}for(let l=o.length-1;l>=0;l--){const c=o[l];this.faces.splice(c,1);for(let u=0,f=this.faceVertexUvs.length;u<f;u++)this.faceVertexUvs[u].splice(c,1)}const a=this.vertices.length-i.length;return this.vertices=i,a}setFromPoints(e){this.vertices=[];for(let t=0,i=e.length;t<i;t++){const r=e[t];this.vertices.push(new Z(r.x,r.y,r.z||0))}return this}sortFacesByMaterialIndex(){const e=this.faces,t=e.length;for(let l=0;l<t;l++)e[l]._id=l;function i(l,c){return l.materialIndex-c.materialIndex}e.sort(i);const r=this.faceVertexUvs[0],s=this.faceVertexUvs[1];let o,a;r&&r.length===t&&(o=[]),s&&s.length===t&&(a=[]);for(let l=0;l<t;l++){const c=e[l]._id;o&&o.push(r[c]),a&&a.push(s[c])}o&&(this.faceVertexUvs[0]=o),a&&(this.faceVertexUvs[1]=a)}toJSON(){const e={metadata:{version:4.5,type:"Geometry",generator:"Geometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),this.parameters!==void 0){const m=this.parameters;for(const v in m)m[v]!==void 0&&(e[v]=m[v]);return e}const t=[];for(let m=0;m<this.vertices.length;m++){const v=this.vertices[m];t.push(v.x,v.y,v.z)}const i=[],r=[],s={},o=[],a={},l=[],c={};for(let m=0;m<this.faces.length;m++){const v=this.faces[m],_=!0,g=!1,x=this.faceVertexUvs[0][m]!==void 0,b=v.normal.length()>0,w=v.vertexNormals.length>0,S=v.color.r!==1||v.color.g!==1||v.color.b!==1,A=v.vertexColors.length>0;let T=0;if(T=u(T,0,0),T=u(T,1,_),T=u(T,2,g),T=u(T,3,x),T=u(T,4,b),T=u(T,5,w),T=u(T,6,S),T=u(T,7,A),i.push(T),i.push(v.a,v.b,v.c),i.push(v.materialIndex),x){const F=this.faceVertexUvs[0][m];i.push(d(F[0]),d(F[1]),d(F[2]))}if(b&&i.push(f(v.normal)),w){const F=v.vertexNormals;i.push(f(F[0]),f(F[1]),f(F[2]))}if(S&&i.push(h(v.color)),A){const F=v.vertexColors;i.push(h(F[0]),h(F[1]),h(F[2]))}}function u(m,v,_){return _?m|1<<v:m&~(1<<v)}function f(m){const v=m.x.toString()+m.y.toString()+m.z.toString();return s[v]!==void 0||(s[v]=r.length/3,r.push(m.x,m.y,m.z)),s[v]}function h(m){const v=m.r.toString()+m.g.toString()+m.b.toString();return a[v]!==void 0||(a[v]=o.length,o.push(m.getHex())),a[v]}function d(m){const v=m.x.toString()+m.y.toString();return c[v]!==void 0||(c[v]=l.length/2,l.push(m.x,m.y)),c[v]}return e.data={},e.data.vertices=t,e.data.normals=r,o.length>0&&(e.data.colors=o),l.length>0&&(e.data.uvs=[l]),e.data.faces=i,e}clone(){return new G1().copy(this)}copy(e){this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingBox=null,this.boundingSphere=null,this.name=e.name;const t=e.vertices;for(let h=0,d=t.length;h<d;h++)this.vertices.push(t[h].clone());const i=e.colors;for(let h=0,d=i.length;h<d;h++)this.colors.push(i[h].clone());const r=e.faces;for(let h=0,d=r.length;h<d;h++)this.faces.push(r[h].clone());for(let h=0,d=e.faceVertexUvs.length;h<d;h++){const m=e.faceVertexUvs[h];this.faceVertexUvs[h]===void 0&&(this.faceVertexUvs[h]=[]);for(let v=0,_=m.length;v<_;v++){const g=m[v],x=[];for(let b=0,w=g.length;b<w;b++){const S=g[b];x.push(S.clone())}this.faceVertexUvs[h].push(x)}}const s=e.morphTargets;for(let h=0,d=s.length;h<d;h++){const m={};if(m.name=s[h].name,s[h].vertices!==void 0){m.vertices=[];for(let v=0,_=s[h].vertices.length;v<_;v++)m.vertices.push(s[h].vertices[v].clone())}if(s[h].normals!==void 0){m.normals=[];for(let v=0,_=s[h].normals.length;v<_;v++)m.normals.push(s[h].normals[v].clone())}this.morphTargets.push(m)}const o=e.morphNormals;for(let h=0,d=o.length;h<d;h++){const m={};if(o[h].vertexNormals!==void 0){m.vertexNormals=[];for(let v=0,_=o[h].vertexNormals.length;v<_;v++){const g=o[h].vertexNormals[v],x={};x.a=g.a.clone(),x.b=g.b.clone(),x.c=g.c.clone(),m.vertexNormals.push(x)}}if(o[h].faceNormals!==void 0){m.faceNormals=[];for(let v=0,_=o[h].faceNormals.length;v<_;v++)m.faceNormals.push(o[h].faceNormals[v].clone())}this.morphNormals.push(m)}const a=e.skinWeights;for(let h=0,d=a.length;h<d;h++)this.skinWeights.push(a[h].clone());const l=e.skinIndices;for(let h=0,d=l.length;h<d;h++)this.skinIndices.push(l[h].clone());const c=e.lineDistances;for(let h=0,d=c.length;h<d;h++)this.lineDistances.push(c[h]);const u=e.boundingBox;u!==null&&(this.boundingBox=u.clone());const f=e.boundingSphere;return f!==null&&(this.boundingSphere=f.clone()),this.elementsNeedUpdate=e.elementsNeedUpdate,this.verticesNeedUpdate=e.verticesNeedUpdate,this.uvsNeedUpdate=e.uvsNeedUpdate,this.normalsNeedUpdate=e.normalsNeedUpdate,this.colorsNeedUpdate=e.colorsNeedUpdate,this.lineDistancesNeedUpdate=e.lineDistancesNeedUpdate,this.groupsNeedUpdate=e.groupsNeedUpdate,this}toBufferGeometry(){const e=new Ise().fromGeometry(this),t=new ot,i=new Float32Array(e.vertices.length*3);if(t.setAttribute("position",new Tt(i,3).copyVector3sArray(e.vertices)),e.normals.length>0){const r=new Float32Array(e.normals.length*3);t.setAttribute("normal",new Tt(r,3).copyVector3sArray(e.normals))}if(e.colors.length>0){const r=new Float32Array(e.colors.length*3);t.setAttribute("color",new Tt(r,3).copyColorsArray(e.colors))}if(e.uvs.length>0){const r=new Float32Array(e.uvs.length*2);t.setAttribute("uv",new Tt(r,2).copyVector2sArray(e.uvs))}if(e.uvs2.length>0){const r=new Float32Array(e.uvs2.length*2);t.setAttribute("uv2",new Tt(r,2).copyVector2sArray(e.uvs2))}t.groups=e.groups;for(const r in e.morphTargets){const s=[],o=e.morphTargets[r];for(let a=0,l=o.length;a<l;a++){const c=o[a],u=new je(c.data.length*3,3);u.name=c.name,s.push(u.copyVector3sArray(c.data))}t.morphAttributes[r]=s}if(e.skinIndices.length>0){const r=new je(e.skinIndices.length*4,4);t.setAttribute("skinIndex",r.copyVector4sArray(e.skinIndices))}if(e.skinWeights.length>0){const r=new je(e.skinWeights.length*4,4);t.setAttribute("skinWeight",r.copyVector4sArray(e.skinWeights))}return e.boundingSphere!==null&&(t.boundingSphere=e.boundingSphere.clone()),e.boundingBox!==null&&(t.boundingBox=e.boundingBox.clone()),t}computeTangents(){console.error("THREE.Geometry: .computeTangents() has been removed.")}computeLineDistances(){console.error("THREE.Geometry: .computeLineDistances() has been removed. Use THREE.Line.computeLineDistances() instead.")}applyMatrix(e){return console.warn("THREE.Geometry: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(e)}dispose(){this.dispatchEvent({type:"dispose"})}static createBufferGeometryFromObject(e){let t=new ot;const i=e.geometry;if(e.isPoints||e.isLine){const r=new je(i.vertices.length*3,3),s=new je(i.colors.length*3,3);if(t.setAttribute("position",r.copyVector3sArray(i.vertices)),t.setAttribute("color",s.copyColorsArray(i.colors)),i.lineDistances&&i.lineDistances.length===i.vertices.length){const o=new je(i.lineDistances.length,1);t.setAttribute("lineDistance",o.copyArray(i.lineDistances))}i.boundingSphere!==null&&(t.boundingSphere=i.boundingSphere.clone()),i.boundingBox!==null&&(t.boundingBox=i.boundingBox.clone())}else e.isMesh&&(t=i.toBufferGeometry());return t}}G1.prototype.isGeometry=!0;class Ise{constructor(){this.vertices=[],this.normals=[],this.colors=[],this.uvs=[],this.uvs2=[],this.groups=[],this.morphTargets={},this.skinWeights=[],this.skinIndices=[],this.boundingBox=null,this.boundingSphere=null,this.verticesNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.uvsNeedUpdate=!1,this.groupsNeedUpdate=!1}computeGroups(e){const t=[];let i,r,s;const o=e.faces;for(r=0;r<o.length;r++){const a=o[r];a.materialIndex!==s&&(s=a.materialIndex,i!==void 0&&(i.count=r*3-i.start,t.push(i)),i={start:r*3,materialIndex:s})}i!==void 0&&(i.count=r*3-i.start,t.push(i)),this.groups=t}fromGeometry(e){const t=e.faces,i=e.vertices,r=e.faceVertexUvs,s=r[0]&&r[0].length>0,o=r[1]&&r[1].length>0,a=e.morphTargets,l=a.length;let c;if(l>0){c=[];for(let g=0;g<l;g++)c[g]={name:a[g].name,data:[]};this.morphTargets.position=c}const u=e.morphNormals,f=u.length;let h;if(f>0){h=[];for(let g=0;g<f;g++)h[g]={name:u[g].name,data:[]};this.morphTargets.normal=h}const d=e.skinIndices,m=e.skinWeights,v=d.length===i.length,_=m.length===i.length;i.length>0&&t.length===0&&console.error("THREE.DirectGeometry: Faceless geometries are not supported.");for(let g=0;g<t.length;g++){const x=t[g];this.vertices.push(i[x.a],i[x.b],i[x.c]);const b=x.vertexNormals;if(b.length===3)this.normals.push(b[0],b[1],b[2]);else{const S=x.normal;this.normals.push(S,S,S)}const w=x.vertexColors;if(w.length===3)this.colors.push(w[0],w[1],w[2]);else{const S=x.color;this.colors.push(S,S,S)}if(s===!0){const S=r[0][g];S!==void 0?this.uvs.push(S[0],S[1],S[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv ",g),this.uvs.push(new Ie,new Ie,new Ie))}if(o===!0){const S=r[1][g];S!==void 0?this.uvs2.push(S[0],S[1],S[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv2 ",g),this.uvs2.push(new Ie,new Ie,new Ie))}for(let S=0;S<l;S++){const A=a[S].vertices;c[S].data.push(A[x.a],A[x.b],A[x.c])}for(let S=0;S<f;S++){const A=u[S].vertexNormals[g];h[S].data.push(A.a,A.b,A.c)}v&&this.skinIndices.push(d[x.a],d[x.b],d[x.c]),_&&this.skinWeights.push(m[x.a],m[x.b],m[x.c])}return this.computeGroups(e),this.verticesNeedUpdate=e.verticesNeedUpdate,this.normalsNeedUpdate=e.normalsNeedUpdate,this.colorsNeedUpdate=e.colorsNeedUpdate,this.uvsNeedUpdate=e.uvsNeedUpdate,this.groupsNeedUpdate=e.groupsNeedUpdate,e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),this}}class Ov{constructor(e,t,i,r,s,o=0){this.a=e,this.b=t,this.c=i,this.normal=r&&r.isVector3?r:new Z,this.vertexNormals=Array.isArray(r)?r:[],this.color=s&&s.isColor?s:new We,this.vertexColors=Array.isArray(s)?s:[],this.materialIndex=o}clone(){return new this.constructor().copy(this)}copy(e){this.a=e.a,this.b=e.b,this.c=e.c,this.normal.copy(e.normal),this.color.copy(e.color),this.materialIndex=e.materialIndex;for(let t=0,i=e.vertexNormals.length;t<i;t++)this.vertexNormals[t]=e.vertexNormals[t].clone();for(let t=0,i=e.vertexColors.length;t<i;t++)this.vertexColors[t]=e.vertexColors[t].clone();return this}}class Dse{static init(){const e=[1,0,0,2e-5,1,0,0,503905e-9,1,0,0,.00201562,1,0,0,.00453516,1,0,0,.00806253,1,0,0,.0125978,1,0,0,.018141,1,0,0,.0246924,1,0,0,.0322525,1,0,0,.0408213,1,0,0,.0503999,1,0,0,.0609894,1,0,0,.0725906,1,0,0,.0852058,1,0,0,.0988363,1,0,0,.113484,1,0,0,.129153,1,0,0,.145839,1,0,0,.163548,1,0,0,.182266,1,0,0,.201942,1,0,0,.222314,1,0,0,.241906,1,0,0,.262314,1,0,0,.285754,1,0,0,.310159,1,0,0,.335426,1,0,0,.361341,1,0,0,.387445,1,0,0,.412784,1,0,0,.438197,1,0,0,.466966,1,0,0,.49559,1,0,0,.523448,1,0,0,.549938,1,0,0,.57979,1,0,0,.608746,1,0,0,.636185,1,0,0,.664748,1,0,0,.69313,1,0,0,.71966,1,0,0,.747662,1,0,0,.774023,1,0,0,.799775,1,0,0,.825274,1,0,0,.849156,1,0,0,.873248,1,0,0,.89532,1,0,0,.917565,1,0,0,.937863,1,0,0,.958139,1,0,0,.976563,1,0,0,.994658,1,0,0,1.0112,1,0,0,1.02712,1,0,0,1.04189,1,0,0,1.05568,1,0,0,1.06877,1,0,0,1.08058,1,0,0,1.09194,1,0,0,1.10191,1,0,0,1.11161,1,0,0,1.1199,1,0,0,1.12813,.999547,-448815e-12,.0224417,199902e-10,.999495,-113079e-10,.0224406,503651e-9,.999496,-452317e-10,.0224406,.00201461,.999496,-101772e-9,.0224406,.00453287,.999495,-180928e-9,.0224406,.00805845,.999497,-282702e-9,.0224406,.0125914,.999496,-407096e-9,.0224406,.0181319,.999498,-554114e-9,.0224406,.02468,.999499,-723768e-9,.0224406,.0322363,.999495,-916058e-9,.0224405,.0408009,.999499,-.00113101,.0224408,.050375,.999494,-.00136863,.0224405,.0609586,.999489,-.00162896,.0224401,.0725537,.999489,-.00191201,.0224414,.0851619,.999498,-.00221787,.0224413,.0987867,.999492,-.00254642,.0224409,.113426,.999507,-.00289779,.0224417,.129088,.999494,-.0032716,.0224386,.145767,.999546,-.0036673,.0224424,.163472,.999543,-.00408166,.0224387,.182182,.999499,-.00450056,.0224338,.201843,.999503,-.00483661,.0224203,.222198,.999546,-.00452928,.022315,.241714,.999508,-.00587403,.0224329,.262184,.999509,-.00638806,.0224271,.285609,.999501,-.00691028,.0224166,.309998,.999539,-.00741979,.0223989,.335262,.999454,-.00786282,.0223675,.361154,.999529,-.00811928,.0222828,.387224,.999503,-.00799941,.0221063,.41252,.999561,-.00952753,.0223057,.438006,.999557,-.0099134,.0222065,.466735,.999541,-.0100935,.0220402,.495332,.999562,-.00996821,.0218067,.523197,.999556,-.0105031,.0217096,.550223,.999561,-.0114191,.0217215,.579498,.999588,-.0111818,.0213357,.608416,.999633,-.0107725,.0208689,.635965,.999527,-.0121671,.0210149,.664476,.999508,-.0116005,.020431,.692786,.999568,-.0115604,.0199791,.719709,.999671,-.0121117,.0197415,.74737,.999688,-.0110769,.0188846,.773692,.99962,-.0122368,.0188452,.799534,.999823,-.0110325,.0178001,.825046,.999599,-.0114923,.0174221,.849075,.999619,-.0105923,.0164345,.872999,.999613,-.0105988,.0158227,.895371,.99964,-.00979861,.0148131,.917364,.99977,-.00967238,.0140721,.938002,.999726,-.00869175,.0129543,.957917,.99973,-.00866872,.0122329,.976557,.999773,-.00731956,.0108958,.994459,.999811,-.00756027,.0102715,1.01118,.999862,-.00583732,.00878781,1.02701,.999835,-.00631438,.00827529,1.04186,.999871,-.00450785,.00674583,1.05569,.999867,-.00486079,.00621041,1.06861,.999939,-.00322072,.00478301,1.08064,.999918,-.00318199,.00406395,1.09181,1.00003,-.00193348,.00280682,1.10207,.999928,-.00153729,.00198741,1.11152,.999933,-623666e-9,917714e-9,1.12009,1,-102387e-11,907581e-12,1.12813,.997866,-896716e-12,.0448334,199584e-10,.997987,-225945e-10,.0448389,502891e-9,.997987,-903781e-10,.0448388,.00201156,.997985,-203351e-9,.0448388,.00452602,.997986,-361514e-9,.0448388,.00804629,.997987,-56487e-8,.0448389,.0125724,.997988,-813423e-9,.0448389,.0181045,.997984,-.00110718,.0448387,.0246427,.997985,-.00144616,.0448388,.0321875,.997987,-.00183038,.044839,.0407392,.997983,-.00225987,.0448387,.0502986,.997991,-.00273467,.0448389,.0608667,.997984,-.00325481,.0448384,.0724444,.998002,-.00382043,.044839,.0850348,.997997,-.00443145,.0448396,.0986372,.998007,-.00508796,.0448397,.113255,.998008,-.00578985,.04484,.128891,.998003,-.00653683,.0448384,.145548,.997983,-.00732713,.0448358,.163221,.997985,-.00815454,.0448358,.181899,.998005,-.00898985,.0448286,.201533,.998026,-.00964404,.0447934,.221821,.998055,-.00922677,.044611,.241282,.99804,-.0117361,.0448245,.261791,.998048,-.0127628,.0448159,.285181,.998088,-.0138055,.0447996,.30954,.998058,-.0148206,.0447669,.334751,.998099,-.0156998,.044697,.36061,.998116,-.0161976,.0445122,.386603,.998195,-.015945,.0441711,.411844,.998168,-.0183947,.0444255,.43773,.998184,-.0197913,.0443809,.466009,.998251,-.0201426,.0440689,.494574,.998305,-.0198847,.0435632,.522405,.998273,-.0210577,.043414,.549967,.998254,-.0227901,.0433943,.578655,.998349,-.0223108,.0426529,.60758,.99843,-.0223088,.042,.635524,.998373,-.0241141,.0418987,.663621,.998425,-.0231446,.0408118,.691906,.998504,-.0233684,.0400565,.719339,.998443,-.0241652,.0394634,.74643,.99848,-.0228715,.0380002,.773086,.998569,-.023519,.0372322,.798988,.998619,-.0223108,.0356468,.824249,.998594,-.0223105,.034523,.848808,.998622,-.0213426,.0328887,.87227,.998669,-.0207912,.0314374,.895157,.998705,-.0198416,.0296925,.916769,.998786,-.0189168,.0279634,.937773,.998888,-.0178811,.0261597,.957431,.99906,-.0166845,.0242159,.976495,.999038,-.0155464,.0222638,.994169,.999237,-.0141349,.0201967,1.01112,.999378,-.0129324,.0181744,1.02692,.999433,-.0113192,.0159898,1.04174,.999439,-.0101244,.0140385,1.05559,.999614,-.00837456,.0117826,1.06852,.999722,-.00721769,.00983745,1.08069,.999817,-.00554067,.00769002,1.09176,.99983,-.00426961,.005782,1.10211,.999964,-.00273904,.00374503,1.11152,1.00001,-.00136739,.00187176,1.12031,.999946,393227e-10,-28919e-9,1.12804,.995847,-13435e-10,.0671785,19916e-9,.995464,-338387e-10,.0671527,501622e-9,.99547,-135355e-9,.0671531,.00200649,.995471,-30455e-8,.0671532,.00451461,.99547,-541423e-9,.0671531,.008026,.995471,-84598e-8,.0671531,.0125407,.99547,-.00121823,.0671531,.0180589,.99547,-.00165817,.0671531,.0245806,.995463,-.00216583,.0671526,.0321062,.995468,-.00274127,.0671527,.0406366,.995474,-.00338447,.0671534,.0501717,.995473,-.00409554,.0671533,.0607131,.995478,-.00487451,.0671531,.0722618,.995476,-.00572148,.0671532,.0848191,.995477,-.00663658,.0671539,.0983882,.995498,-.00761986,.0671541,.112972,.995509,-.00867094,.0671542,.128568,.995509,-.00978951,.0671531,.145183,.995503,-.0109725,.0671491,.162808,.995501,-.012211,.0671465,.181441,.99553,-.0134565,.0671371,.201015,.99555,-.014391,.0670831,.221206,.99558,-.014351,.0668883,.240813,.995577,-.0173997,.0671055,.261257,.995602,-.0191111,.0671178,.284467,.995623,-.0206705,.0670946,.308765,.995658,-.022184,.0670472,.333905,.995705,-.0234832,.0669417,.359677,.995719,-.0241933,.0666714,.385554,.995786,-.0243539,.066266,.410951,.995887,-.0271866,.0664367,.437163,.995944,-.0296012,.0664931,.464842,.996004,-.0301045,.0660105,.49332,.996128,-.0298311,.0652694,.521131,.996253,-.0316426,.0650739,.549167,.996244,-.0339043,.0649433,.57737,.996309,-.033329,.0638926,.606073,.996417,-.0338935,.0630849,.634527,.996372,-.0353104,.0625083,.66256,.996542,-.0348942,.0611986,.690516,.996568,-.0351614,.060069,.718317,.996711,-.0354317,.0588522,.74528,.996671,-.0349513,.0571902,.772061,.996865,-.0345622,.0555321,.798089,.996802,-.0342566,.0537816,.823178,.996992,-.0330862,.0516095,.847949,.996944,-.0324666,.0495537,.871431,.997146,-.0309544,.0470302,.894357,.997189,-.0299372,.0446043,.916142,.997471,-.0281389,.0418812,.937193,.997515,-.0268702,.0391823,.957,.997812,-.0247166,.0361338,.975936,.998027,-.0233525,.0333945,.99391,.998233,-.0209839,.0301917,1.01075,.998481,-.0194309,.027271,1.02669,.998859,-.0169728,.0240162,1.04173,.99894,-.0152322,.0210517,1.05551,.999132,-.0127497,.0178632,1.06856,.999369,-.0108282,.014787,1.08054,.999549,-.00845886,.0116185,1.09185,.999805,-.0063937,.00867209,1.10207,.99985,-.00414582,.00566823,1.1117,.999912,-.00207443,.00277562,1.12022,1.00001,870226e-10,-53766e-9,1.12832,.991943,-178672e-11,.0893382,198384e-10,.991952,-450183e-10,.089339,499849e-9,.991956,-180074e-9,.0893394,.0019994,.991955,-405167e-9,.0893393,.00449867,.991953,-720298e-9,.0893391,.00799764,.991955,-.00112548,.0893393,.0124964,.991957,-.0016207,.0893395,.0179951,.991958,-.00220601,.0893396,.0244939,.991947,-.00288137,.0893385,.0319929,.991962,-.00364693,.0893399,.0404933,.991965,-.00450264,.0893399,.049995,.99198,-.00544862,.0893411,.0604995,.99197,-.00648491,.0893397,.0720074,.991976,-.00761164,.089341,.0845207,.99198,-.00882891,.0893405,.0980413,.991982,-.0101367,.0893396,.112571,.992008,-.011535,.0893415,.128115,.992026,-.0130228,.0893414,.144672,.992064,-.0145966,.0893418,.162241,.992041,-.0162421,.0893359,.180801,.992086,-.0178888,.0893214,.200302,.992157,-.0190368,.0892401,.220332,.992181,-.0195584,.0890525,.240144,.992175,-.0227257,.0892153,.260728,.99221,-.0254195,.089304,.283473,.99222,-.0274883,.0892703,.307673,.992317,-.0294905,.0892027,.332729,.992374,-.0311861,.0890577,.358387,.992505,-.0320656,.0886994,.384102,.992568,-.0329715,.0883198,.409767,.992675,-.036006,.0883602,.436145,.992746,-.0392897,.0884591,.463217,.992873,-.0399337,.0878287,.491557,.992934,-.040231,.0870108,.519516,.993091,-.0422013,.0865857,.547741,.993259,-.0443503,.0861937,.575792,.993455,-.0446368,.0851187,.604233,.993497,-.0454299,.0840576,.632925,.993694,-.0463296,.0829671,.660985,.993718,-.0470619,.0817185,.688714,.993973,-.0468838,.0800294,.716743,.994207,-.046705,.0781286,.74377,.994168,-.0469698,.0763337,.77042,.9945,-.0456816,.0738184,.796659,.994356,-.0455518,.0715545,.821868,.994747,-.0439488,.0686085,.846572,.994937,-.0430056,.065869,.870435,.995142,-.0413414,.0626446,.893272,.995451,-.0396521,.05929,.915376,.995445,-.0378453,.0558503,.936196,.995967,-.0355219,.0520949,.956376,.996094,-.0335146,.048377,.975327,.996622,-.030682,.0442575,.993471,.996938,-.0285504,.0404693,1.01052,.997383,-.0253399,.0360903,1.02637,.997714,-.0231651,.0322176,1.04139,.998249,-.0198138,.0278433,1.05542,.998596,-.0174337,.0238759,1.06846,.998946,-.0141349,.0195944,1.08056,.99928,-.0115603,.0156279,1.09181,.999507,-.00839065,.0114607,1.10213,.999697,-.005666,.00763325,1.11169,.999869,-.00269902,.00364946,1.12042,1.00001,623836e-10,-319288e-10,1.12832,.987221,-222675e-11,.111332,197456e-10,.98739,-561116e-10,.111351,497563e-9,.987448,-224453e-9,.111357,.00199031,.987441,-505019e-9,.111357,.0044782,.987442,-897816e-9,.111357,.00796129,.987442,-.00140284,.111357,.0124396,.987444,-.00202012,.111357,.0179132,.987442,-.00274964,.111357,.0243824,.987446,-.00359147,.111357,.0318474,.987435,-.00454562,.111356,.0403086,.987461,-.00561225,.111358,.0497678,.987458,-.00679125,.111358,.0602239,.987443,-.0080828,.111356,.0716792,.987476,-.0094872,.111358,.0841364,.98749,-.0110044,.111361,.097597,.987508,-.0126344,.111362,.112062,.987494,-.0143767,.111357,.127533,.987526,-.0162307,.111359,.144015,.987558,-.0181912,.111361,.161502,.987602,-.0202393,.111355,.179979,.987692,-.022273,.111346,.199386,.987702,-.0235306,.111215,.219183,.987789,-.0247628,.111061,.239202,.987776,-.0280668,.111171,.259957,.987856,-.0316751,.111327,.282198,.987912,-.0342468,.111282,.306294,.988,-.0367205,.111198,.331219,.988055,-.0387766,.110994,.356708,.988241,-.0397722,.110547,.382234,.988399,-.0416076,.110198,.408227,.988539,-.0448192,.110137,.434662,.988661,-.0483793,.110143,.461442,.988967,-.0495895,.109453,.489318,.989073,-.0506797,.108628,.517516,.989274,-.0526953,.108003,.545844,.989528,-.054578,.107255,.573823,.989709,-.0561503,.106294,.601944,.989991,-.056866,.104896,.630855,.990392,-.0572914,.103336,.658925,.990374,-.0586224,.10189,.686661,.990747,-.0584764,.099783,.714548,.991041,-.0582662,.0974309,.74186,.991236,-.0584118,.0951678,.768422,.991585,-.0573055,.0921581,.794817,.991984,-.0564241,.0891167,.820336,.9921,-.0553608,.085805,.84493,.992749,-.0533816,.0820354,.868961,.99288,-.0518661,.0782181,.891931,.993511,-.0492492,.0738935,.914186,.993617,-.0471956,.0696402,.93532,.99411,-.044216,.0649659,.95543,.994595,-.0416654,.0603177,.974685,.994976,-.0384314,.0553493,.992807,.995579,-.0353491,.0503942,1.00996,.996069,-.0319787,.0452123,1.02606,.996718,-.028472,.0400112,1.04114,.997173,-.0250789,.0349456,1.05517,.997818,-.0213326,.029653,1.0683,.998318,-.0178509,.024549,1.0805,.998853,-.0141118,.0194197,1.09177,.999218,-.0105914,.0143869,1.1022,.999594,-.00693474,.00943517,1.11175,.99975,-.00340478,.00464051,1.12056,1.00001,109172e-9,-112821e-9,1.12853,.983383,-266524e-11,.133358,196534e-10,.981942,-671009e-10,.133162,494804e-9,.981946,-268405e-9,.133163,.00197923,.981944,-603912e-9,.133163,.00445326,.981941,-.00107362,.133162,.00791693,.981946,-.00167755,.133163,.0123703,.981944,-.00241569,.133162,.0178135,.981945,-.00328807,.133163,.0242466,.981945,-.00429472,.133162,.03167,.981955,-.00543573,.133164,.0400846,.981951,-.00671105,.133163,.0494901,.981968,-.00812092,.133165,.0598886,.981979,-.00966541,.133166,.0712811,.981996,-.0113446,.133168,.083669,.982014,-.0131585,.133169,.0970533,.982011,-.0151073,.133167,.111438,.982062,-.0171906,.133172,.126826,.9821,-.0194067,.133175,.143215,.982149,-.0217502,.133176,.160609,.982163,-.0241945,.133173,.178981,.982247,-.0265907,.133148,.198249,.982291,-.027916,.132974,.217795,.982396,-.0299663,.132868,.238042,.982456,-.0334544,.132934,.258901,.982499,-.0378636,.133137,.280639,.982617,-.0409274,.133085,.304604,.98274,-.0438523,.132985,.329376,.982944,-.0462288,.132728,.354697,.98308,-.0475995,.132228,.380102,.983391,-.0501901,.131924,.406256,.983514,-.0535899,.131737,.432735,.98373,-.0571858,.131567,.459359,.984056,-.0592353,.130932,.486637,.984234,-.0610488,.130092,.51509,.984748,-.0630758,.12923,.543461,.985073,-.0647398,.128174,.571376,.985195,-.0671941,.127133,.599414,.985734,-.0681345,.125576,.628134,.986241,-.0686089,.123639,.656399,.986356,-.0698511,.121834,.684258,.986894,-.0700931,.119454,.711818,.987382,-.0698321,.116718,.739511,.988109,-.0693975,.113699,.766267,.988363,-.0689584,.110454,.792456,.989112,-.0672353,.106602,.81813,.989241,-.0662034,.10267,.842889,.990333,-.0638938,.0981381,.867204,.990591,-.0618534,.0935388,.89038,.991106,-.0593117,.088553,.912576,.991919,-.0562676,.0832187,.934118,.992111,-.0534085,.0778302,.954254,.992997,-.0495459,.0720453,.973722,.993317,-.0463707,.0663458,.991949,.994133,-.0421245,.0601883,1.00936,.994705,-.0384977,.0542501,1.02559,.995495,-.0340956,.0479862,1.04083,.996206,-.030105,.041887,1.05497,.996971,-.0256095,.0355355,1.06824,.997796,-.0213932,.0293655,1.08056,.998272,-.0169612,.0232926,1.09182,.998857,-.0126756,.0172786,1.10219,.99939,-.00832486,.0113156,1.11192,.999752,-.00410826,.00557892,1.12075,1,150957e-9,-119101e-9,1.12885,.975169,-309397e-11,.154669,195073e-10,.975439,-779608e-10,.154712,491534e-9,.975464,-311847e-9,.154716,.00196617,.975464,-701656e-9,.154716,.00442387,.975462,-.0012474,.154715,.0078647,.975461,-.00194906,.154715,.0122886,.975464,-.00280667,.154715,.0176959,.975468,-.00382025,.154716,.0240867,.975471,-.00498985,.154716,.0314612,.975472,-.00631541,.154717,.0398199,.975486,-.00779719,.154718,.0491639,.975489,-.00943505,.154718,.0594932,.975509,-.0112295,.154721,.0708113,.97554,-.0131802,.154724,.0831176,.975557,-.0152876,.154726,.096415,.975585,-.0175512,.154728,.110705,.975605,-.0199713,.154729,.125992,.975645,-.0225447,.154729,.142272,.975711,-.0252649,.154735,.159549,.975788,-.0280986,.154736,.177805,.975872,-.0308232,.154704,.196911,.975968,-.0324841,.154525,.216324,.976063,-.0351281,.154432,.236628,.976157,-.0388618,.15446,.257539,.976204,-.0437704,.154665,.278975,.976358,-.047514,.154652,.302606,.976571,-.0508638,.154535,.327204,.976725,-.0534995,.154221,.352276,.977013,-.0555547,.153737,.377696,.977294,-.0586728,.153403,.403855,.977602,-.0622715,.15312,.430333,.977932,-.0658166,.152755,.456855,.978241,-.0689877,.152233,.483668,.978602,-.0712805,.15132,.512097,.979234,-.0732775,.150235,.540455,.97977,-.075163,.148978,.568486,.979995,-.0778026,.147755,.596524,.98078,-.0791854,.146019,.624825,.981628,-.0799666,.143906,.653403,.982067,-.0808532,.141561,.681445,.98271,-.0816024,.139025,.708918,.983734,-.0812511,.135764,.736594,.98431,-.0806201,.132152,.763576,.985071,-.0801605,.12846,.789797,.98618,-.0784208,.124084,.815804,.986886,-.0766643,.1193,.840869,.987485,-.0747744,.114236,.864952,.988431,-.0716701,.108654,.888431,.988886,-.0691609,.102994,.910963,.990024,-.0654048,.0967278,.932629,.990401,-.0619765,.090384,.95313,.991093,-.0579296,.0837885,.972587,.992018,-.0536576,.0770171,.991184,.992536,-.0493719,.0701486,1.00863,.993421,-.0444813,.062953,1.02494,.993928,-.040008,.0560455,1.04017,.994994,-.0347982,.04856,1.05463,.995866,-.0301017,.0416152,1.06807,.996916,-.0248225,.0342597,1.08039,.997766,-.0199229,.0271668,1.09177,.998479,-.0147422,.0201387,1.10235,.99921,-.00980173,.0131944,1.11206,.999652,-.0047426,.00640712,1.12104,.999998,891673e-10,-10379e-8,1.12906,.967868,-351885e-11,.175947,193569e-10,.968001,-886733e-10,.175972,487782e-9,.96801,-354697e-9,.175973,.00195115,.968012,-798063e-9,.175974,.00439006,.968011,-.00141879,.175973,.00780461,.968011,-.00221686,.175973,.0121948,.968016,-.00319231,.175974,.0175607,.968019,-.00434515,.175974,.0239027,.968018,-.00567538,.175974,.0312208,.968033,-.00718308,.175977,.0395158,.968049,-.00886836,.175979,.0487885,.968047,-.0107312,.175978,.0590394,.968072,-.0127719,.175981,.0702705,.968108,-.0149905,.175986,.0824836,.968112,-.0173866,.175985,.0956783,.968173,-.0199611,.175993,.109862,.96827,-.0227128,.176008,.125033,.968292,-.025639,.17601,.141193,.968339,-.0287299,.176007,.158336,.968389,-.0319399,.176001,.176441,.968501,-.034941,.175962,.195359,.968646,-.0370812,.175793,.214686,.968789,-.0402329,.175708,.234973,.96886,-.0442601,.1757,.255871,.969013,-.049398,.175876,.277238,.969242,-.0539932,.17594,.300326,.969419,-.0577299,.175781,.324702,.969763,-.0605643,.175432,.349527,.970093,-.0634488,.174992,.374976,.970361,-.0670589,.174611,.401097,.970825,-.0708246,.174226,.427496,.971214,-.0742871,.173684,.453858,.971622,-.0782608,.173186,.480637,.972175,-.0813151,.172288,.508655,.972944,-.0832678,.170979,.536973,.973595,-.0855964,.169573,.565138,.974345,-.0882163,.168152,.593222,.975233,-.0901671,.166314,.621201,.976239,-.0912111,.163931,.649919,.977289,-.0916959,.161106,.678011,.978076,-.0927061,.158272,.705717,.979533,-.0925562,.15475,.733228,.980335,-.0918159,.150638,.760454,.981808,-.0908508,.146201,.786918,.983061,-.0896172,.141386,.812953,.984148,-.0871588,.135837,.838281,.985047,-.0850624,.130135,.862594,.986219,-.0818541,.123882,.88633,.987043,-.0784523,.117126,.908952,.988107,-.0749601,.110341,.930744,.988955,-.0703548,.102885,.951728,.989426,-.0662798,.0954167,.971166,.990421,-.0610834,.0876331,.989984,.991032,-.0562936,.0797785,1.00765,.992041,-.0508154,.0718166,1.02434,.992794,-.0454045,.0637125,1.03976,.993691,-.0398194,.0555338,1.05418,.994778,-.0341482,.0473388,1.06772,.995915,-.028428,.0391016,1.08028,.997109,-.022642,.0309953,1.09185,.998095,-.0168738,.0230288,1.10247,.998985,-.0111274,.0150722,1.11229,.999581,-.00543881,.00740605,1.12131,1.00003,162239e-9,-105549e-9,1.12946,.959505,-393734e-11,.196876,191893e-10,.959599,-992157e-10,.196895,483544e-9,.959641,-396868e-9,.196903,.0019342,.959599,-892948e-9,.196895,.00435193,.959603,-.00158747,.196896,.0077368,.959604,-.00248042,.196896,.0120888,.959605,-.00357184,.196896,.0174082,.959605,-.00486169,.196896,.0236949,.959613,-.00635008,.196897,.0309497,.959619,-.00803696,.196898,.0391725,.959636,-.00992255,.196901,.0483649,.959634,-.0120067,.1969,.0585266,.959675,-.0142898,.196906,.0696609,.959712,-.0167717,.196911,.0817678,.959752,-.0194524,.196918,.0948494,.959807,-.0223321,.196925,.10891,.959828,-.0254091,.196924,.123947,.959906,-.0286815,.196934,.139968,.960005,-.0321371,.196944,.156968,.960071,-.0357114,.196936,.17491,.960237,-.0389064,.196882,.193597,.960367,-.041623,.196731,.21285,.960562,-.0452655,.196654,.233075,.960735,-.0496207,.196643,.253941,.960913,-.0549379,.196774,.275278,.961121,-.0603414,.196893,.297733,.96139,-.0644244,.196717,.321877,.961818,-.067556,.196314,.346476,.962175,-.0712709,.195917,.371907,.96255,-.0752848,.1955,.397916,.963164,-.0792073,.195026,.424229,.963782,-.0828225,.194424,.450637,.964306,-.0873119,.193831,.477288,.964923,-.0911051,.192973,.504716,.966048,-.093251,.19151,.533053,.967024,-.0958983,.190013,.561366,.968038,-.09835,.188253,.589464,.969152,-.100754,.186257,.617433,.970557,-.102239,.183775,.645801,.972104,-.102767,.180645,.674278,.973203,-.103492,.177242,.702004,.975123,-.103793,.17345,.729529,.97641,-.102839,.168886,.756712,.978313,-.101687,.163892,.783801,.980036,-.100314,.158439,.809671,.981339,-.097836,.152211,.835402,.982794,-.0950006,.145679,.860081,.984123,-.0920994,.138949,.883757,.984918,-.0878641,.131283,.90685,.985999,-.083939,.123464,.928786,.987151,-.0791234,.115324,.94983,.987827,-.0739332,.106854,.96962,.988806,-.0688088,.0982691,.98861,.989588,-.0628962,.0893456,1.00667,.990438,-.0573146,.0805392,1.02344,.991506,-.0509433,.0713725,1.03933,.992492,-.0448724,.0623732,1.05378,.993663,-.0383497,.0530838,1.06747,.994956,-.0319593,.0439512,1.08007,.99634,-.025401,.0347803,1.09182,.99761,-.0189687,.0257954,1.1025,.99863,-.0124441,.0169893,1.11247,.99947,-.00614003,.00829498,1.12151,1.00008,216624e-9,-146107e-9,1.12993,.950129,-434955e-11,.217413,190081e-10,.950264,-10957e-8,.217444,47884e-8,.9503,-438299e-9,.217451,.00191543,.950246,-986124e-9,.21744,.00430951,.950246,-.00175311,.21744,.00766137,.950245,-.00273923,.21744,.011971,.950253,-.00394453,.217441,.0172385,.950258,-.00536897,.217442,.0234641,.950267,-.00701262,.217444,.030648,.950277,-.00887551,.217446,.038791,.950284,-.0109576,.217446,.0478931,.950312,-.0132591,.217451,.0579568,.950334,-.01578,.217454,.0689821,.950378,-.0185204,.217462,.0809714,.950417,-.0214803,.217467,.0939265,.950488,-.0246594,.217479,.10785,.950534,-.0280565,.217483,.122743,.950633,-.0316685,.217498,.138611,.950698,-.0354787,.217499,.155442,.950844,-.0394003,.217507,.173208,.950999,-.0426812,.217419,.191605,.951221,-.0461302,.217317,.21084,.951412,-.0502131,.217238,.230945,.951623,-.0549183,.21722,.251745,.951867,-.0604493,.217306,.273001,.952069,-.0665189,.217466,.294874,.952459,-.0709179,.217266,.318732,.952996,-.0746112,.216891,.34318,.953425,-.0789252,.216503,.36849,.953885,-.0833293,.216042,.394373,.954617,-.087371,.215469,.420505,.955429,-.0914054,.214802,.446907,.956068,-.0961671,.214146,.473522,.957094,-.10048,.213286,.50052,.958372,-.103248,.211796,.528715,.959654,-.106033,.21016,.557065,.961305,-.108384,.208149,.585286,.962785,-.111122,.206024,.613334,.964848,-.112981,.203442,.641334,.966498,-.113717,.19996,.669955,.968678,-.114121,.196105,.698094,.970489,-.114524,.191906,.725643,.972903,-.113792,.186963,.752856,.974701,-.112406,.181343,.780013,.976718,-.110685,.175185,.806268,.978905,-.108468,.168535,.832073,.980267,-.105061,.161106,.857149,.981967,-.101675,.153387,.881145,.983063,-.0974492,.145199,.904255,.984432,-.0925815,.136527,.926686,.985734,-.0877983,.127584,.947901,.986228,-.081884,.118125,.968111,.98719,-.0761208,.108594,.98719,.988228,-.0698196,.0989996,1.00559,.989046,-.0632739,.0890074,1.02246,.990242,-.056522,.0790832,1.03841,.991252,-.0495272,.0689182,1.05347,.992542,-.0425373,.0588592,1.06724,.994096,-.0353198,.0486833,1.08009,.995593,-.028235,.0385977,1.09177,.99711,-.0209511,.0286457,1.10274,.998263,-.0139289,.0188497,1.11262,.999254,-.0067359,.009208,1.12191,.999967,141846e-9,-657764e-10,1.13024,.935608,-474692e-11,.236466,187817e-10,.93996,-11971e-8,.237568,473646e-9,.939959,-478845e-9,.237567,.0018946,.939954,-.0010774,.237566,.00426284,.939956,-.00191538,.237566,.00757842,.939954,-.00299277,.237566,.0118413,.93996,-.00430961,.237567,.0170518,.939969,-.00586589,.237569,.02321,.939982,-.00766166,.237572,.0303164,.939987,-.00969686,.237572,.0383711,.939997,-.0119715,.237574,.0473751,.940031,-.0144858,.237581,.0573298,.940073,-.0172399,.237589,.0682366,.94012,-.0202335,.237598,.080097,.940162,-.0234663,.237604,.0929116,.940237,-.0269387,.237615,.106686,.940328,-.0306489,.237632,.121421,.940419,-.0345917,.237645,.137115,.940522,-.0387481,.237654,.153766,.940702,-.0429906,.237661,.17133,.940871,-.0465089,.237561,.189502,.941103,-.050531,.23748,.208616,.941369,-.0550657,.237423,.228595,.941641,-.0601337,.237399,.249287,.941903,-.0658804,.237443,.270467,.942224,-.0722674,.237597,.292024,.942633,-.0771788,.237419,.315272,.943172,-.0815623,.237068,.339579,.943691,-.0863973,.236682,.364717,.944382,-.0911536,.236213,.390435,.945392,-.0952967,.235562,.416425,.946185,-.0998948,.234832,.442772,.947212,-.104796,.234114,.469347,.948778,-.10928,.233222,.496162,.950149,-.113081,.231845,.523978,.951989,-.115893,.230005,.552295,.953921,-.11846,.227862,.580569,.955624,-.12115,.225439,.608698,.958234,-.123373,.222635,.636696,.960593,-.124519,.219093,.665208,.963201,-.124736,.214749,.693557,.965642,-.125012,.210059,.721334,.968765,-.124661,.204935,.748613,.971753,-.122996,.198661,.776224,.973751,-.120998,.191823,.802461,.976709,-.118583,.184359,.828399,.977956,-.115102,.176437,.853693,.979672,-.111077,.167681,.877962,.981816,-.10688,.158872,.901564,.98238,-.101469,.149398,.924057,.983964,-.0960013,.139436,.945751,.984933,-.0899626,.12943,.966272,.985694,-.0832973,.11894,.985741,.986822,-.0767082,.108349,1.00407,.987725,-.0693614,.0976026,1.02154,.98877,-.06211,.086652,1.03757,.990129,-.0544143,.0756182,1.05296,.991337,-.046744,.0645753,1.06683,.992978,-.0387931,.0534683,1.0798,.994676,-.030973,.0424137,1.09181,.99645,-.0230311,.0314035,1.10286,.997967,-.0152065,.0206869,1.11291,.99922,-.00744837,.010155,1.12237,1.00002,240209e-9,-752767e-10,1.13089,.922948,-515351e-11,.255626,186069e-10,.928785,-129623e-9,.257244,468009e-9,.928761,-51849e-8,.257237,.00187202,.928751,-.0011666,.257235,.00421204,.928751,-.00207395,.257234,.0074881,.928754,-.00324055,.257235,.0117002,.92876,-.00466639,.257236,.0168486,.928763,-.00635149,.257237,.0229334,.928774,-.00829584,.257239,.029955,.928791,-.0104995,.257243,.0379139,.928804,-.0129623,.257245,.0468108,.928847,-.0156846,.257255,.0566473,.92889,-.0186661,.257263,.0674246,.928924,-.0219067,.257268,.0791433,.928989,-.0254066,.257282,.0918076,.92909,-.0291651,.257301,.105419,.92918,-.0331801,.257316,.119978,.92929,-.0374469,.257332,.135491,.929453,-.041939,.257357,.151948,.929586,-.0464612,.257347,.169275,.929858,-.0503426,.257269,.187257,.930125,-.0548409,.257199,.206204,.930403,-.0598063,.257149,.22601,.930726,-.0652437,.257122,.246561,.931098,-.0712376,.257153,.267618,.931396,-.0777506,.257237,.288993,.931947,-.0832374,.257124,.311527,.932579,-.0883955,.25683,.335697,.933194,-.0937037,.256444,.360634,.934013,-.0987292,.255939,.386126,.935307,-.103215,.255282,.412018,.936374,-.108234,.254538,.438292,.93776,-.113234,.253728,.464805,.939599,-.118013,.25275,.491464,.941036,-.122661,.251404,.518751,.94337,-.125477,.249435,.547133,.945318,-.128374,.247113,.575456,.947995,-.130996,.244441,.60372,.950818,-.133438,.241352,.63174,.954378,-.135004,.237849,.659971,.957151,-.135313,.233188,.688478,.960743,-.13521,.228001,.716767,.964352,-.135007,.222249,.744349,.967273,-.133523,.21542,.771786,.969767,-.131155,.208039,.798639,.973195,-.128492,.200076,.824774,.975557,-.125094,.191451,.850222,.977692,-.120578,.18184,.874761,.98026,-.115882,.172102,.898497,.981394,-.110372,.161859,.921636,.982386,-.10415,.15108,.943467,.983783,-.0978128,.140407,.964045,.98422,-.0906171,.129058,.98398,.985447,-.0832921,.117614,1.00276,.986682,-.0754412,.10585,1.02047,.987326,-.0673885,.0940943,1.03678,.988707,-.0592565,.0822093,1.05218,.990185,-.050717,.070192,1.06652,.991866,-.0423486,.0582081,1.07965,.993897,-.0336118,.0460985,1.09188,.995841,-.0252178,.0342737,1.10307,.997605,-.0164893,.0224829,1.11324,.999037,-.00817112,.0110647,1.12262,1.00003,291686e-9,-168673e-9,1.13139,.915304,-552675e-11,.275999,183285e-10,.91668,-139285e-9,.276414,461914e-9,.916664,-55713e-8,.276409,.00184763,.916653,-.00125354,.276406,.00415715,.916651,-.00222851,.276405,.00739053,.916655,-.00348205,.276406,.0115478,.916653,-.00501414,.276405,.0166291,.916667,-.00682478,.276409,.0226346,.91668,-.00891398,.276412,.0295648,.91669,-.0112817,.276413,.0374199,.916727,-.013928,.276422,.0462016,.916759,-.0168528,.276429,.0559101,.916793,-.0200558,.276436,.0665466,.916849,-.0235373,.276448,.0781139,.916964,-.0272973,.276474,.0906156,.917047,-.0313344,.276491,.104051,.917152,-.0356465,.276511,.118424,.917286,-.0402271,.276533,.133736,.917469,-.0450408,.276564,.149978,.917686,-.0497872,.276563,.167057,.917953,-.0540937,.276493,.184846,.918228,-.0590709,.276437,.203614,.918572,-.0644277,.276398,.223212,.918918,-.0702326,.276362,.243584,.919356,-.076484,.276383,.264465,.919842,-.0830808,.276434,.285701,.920451,-.0892972,.276407,.307559,.921113,-.095016,.276128,.331501,.921881,-.100771,.275754,.356207,.923027,-.106029,.275254,.381477,.924364,-.111029,.274595,.40722,.925818,-.116345,.273841,.433385,.92746,-.121424,.272913,.459848,.929167,-.12657,.271837,.486493,.931426,-.131581,.270575,.513432,.934001,-.135038,.268512,.541502,.936296,-.138039,.266135,.569658,.939985,-.140687,.263271,.598375,.943516,-.143247,.260058,.626563,.94782,-.145135,.256138,.654711,.951023,-.145733,.251154,.683285,.955338,-.145554,.245562,.711831,.959629,-.145008,.239265,.739573,.963123,-.144003,.232064,.767027,.966742,-.141289,.224036,.794359,.969991,-.138247,.215305,.820361,.973403,-.134786,.206051,.846548,.975317,-.129966,.195914,.871541,.977647,-.12471,.185184,.895313,.980137,-.119086,.174161,.918398,.981031,-.112297,.162792,.940679,.982037,-.105372,.150952,.961991,.983164,-.097821,.138921,.981913,.983757,-.0897245,.126611,1.00109,.985036,-.0815974,.114228,1.01902,.986289,-.0727725,.101389,1.03604,.987329,-.0639323,.0886476,1.05149,.989193,-.0548109,.0756837,1.06619,.990716,-.045687,.0627581,1.07948,.992769,-.0364315,.0498337,1.09172,.99524,-.0271761,.0370305,1.1033,.997154,-.0179609,.0243959,1.11353,.998845,-.00878063,.0119567,1.12319,1.00002,259038e-9,-108146e-9,1.13177,.903945,-591681e-11,.295126,181226e-10,.903668,-148672e-9,.295037,455367e-9,.903677,-594683e-9,.29504,.00182145,.903673,-.00133805,.295039,.00409831,.903666,-.00237872,.295036,.00728584,.903668,-.00371676,.295037,.0113842,.903679,-.00535212,.29504,.0163936,.903684,-.00728479,.295041,.0223141,.903698,-.00951473,.295044,.0291462,.903718,-.0120419,.295049,.0368904,.903754,-.0148664,.295058,.0455477,.903801,-.017988,.29507,.0551194,.903851,-.0214064,.295082,.0656058,.903921,-.0251219,.295097,.0770109,.904002,-.0291337,.295116,.0893354,.904111,-.033441,.29514,.102583,.904246,-.0380415,.295169,.116755,.904408,-.0429258,.295202,.131853,.904637,-.0480468,.295245,.147869,.904821,-.0529208,.295214,.164658,.905163,-.0577748,.295185,.182274,.905469,-.0631763,.295143,.200828,.905851,-.068917,.295112,.2202,.906322,-.0750861,.295104,.240372,.906761,-.0815855,.295086,.261082,.90735,-.0882138,.295095,.282123,.908087,-.095082,.295139,.303563,.908826,-.101488,.29492,.327028,.909832,-.107577,.294577,.351464,.911393,-.113033,.294115,.376497,.912804,-.118629,.293446,.402115,.914081,-.124232,.292581,.428111,.91637,-.129399,.29166,.454442,.91814,-.134892,.290422,.481024,.921179,-.140069,.289194,.507924,.924544,-.144431,.287421,.535557,.927995,-.147498,.284867,.563984,.931556,-.150197,.281722,.5923,.935777,-.152711,.278207,.620832,.940869,-.154836,.274148,.649069,.945994,-.155912,.269057,.677746,.949634,-.155641,.262799,.706293,.955032,-.154809,.256097,.734278,.95917,-.153678,.248618,.761751,.962931,-.151253,.239794,.789032,.966045,-.147625,.230281,.815422,.96971,-.143964,.220382,.841787,.972747,-.139464,.209846,.867446,.975545,-.133459,.198189,.892004,.978381,-.127424,.186362,.915458,.979935,-.120506,.173964,.937948,.980948,-.11282,.161429,.959732,.982234,-.104941,.148557,.980118,.982767,-.0962905,.135508,.999463,.983544,-.0873625,.122338,1.01756,.984965,-.0783447,.108669,1.03492,.986233,-.0684798,.0949911,1.05087,.987796,-.0590867,.0811386,1.0656,.989885,-.0489145,.0673099,1.0794,.991821,-.0391,.0535665,1.09174,.99448,-.029087,.0397529,1.10341,.996769,-.019114,.0261463,1.11383,.998641,-.00947007,.0128731,1.1237,.999978,446316e-9,-169093e-9,1.13253,.888362,-627064e-11,.312578,178215e-10,.889988,-157791e-9,.313148,448451e-9,.889825,-631076e-9,.313092,.00179356,.88984,-.00141994,.313097,.00403554,.889828,-.0025243,.313092,.00717429,.889831,-.00394421,.313093,.0112099,.889831,-.00567962,.313093,.0161425,.889844,-.00773051,.313096,.0219724,.889858,-.0100968,.3131,.0286999,.889882,-.0127786,.313106,.0363256,.889918,-.0157757,.313116,.0448509,.889967,-.0190878,.313129,.0542758,.89003,-.022715,.313145,.0646032,.890108,-.0266566,.313165,.0758339,.890218,-.0309131,.313193,.0879729,.890351,-.0354819,.313226,.101019,.89051,-.0403613,.313263,.114979,.890672,-.0455385,.313294,.129848,.890882,-.0509444,.313333,.145616,.891189,-.0559657,.313324,.162122,.891457,-.0613123,.313281,.179524,.891856,-.0671488,.313281,.197855,.892312,-.0732732,.313268,.216991,.892819,-.0797865,.313263,.236924,.893369,-.0865269,.313247,.257433,.894045,-.0931592,.313205,.278215,.894884,-.100532,.313276,.299467,.895832,-.107716,.313205,.322276,.897043,-.114099,.312873,.34642,.898515,-.119941,.312331,.371187,.900191,-.126044,.311731,.396656,.90188,-.131808,.310859,.422488,.904359,-.137289,.309857,.448744,.906923,-.142991,.308714,.475239,.910634,-.148253,.307465,.501983,.914502,-.153332,.305774,.529254,.919046,-.156646,.303156,.557709,.923194,-.159612,.299928,.586267,.928858,-.162027,.296245,.614925,.934464,-.164203,.291832,.643187,.939824,-.165602,.286565,.671601,.944582,-.165383,.280073,.700213,.949257,-.164439,.272891,.728432,.954389,-.162953,.264771,.756082,.958595,-.161007,.255927,.78369,.962138,-.157243,.245769,.810769,.966979,-.152872,.235127,.836999,.969566,-.148209,.22347,.862684,.972372,-.142211,.211147,.887847,.975916,-.135458,.198606,.911843,.978026,-.128398,.185498,.934795,.979686,-.120313,.17171,.956787,.980748,-.11166,.158159,.978046,.981622,-.103035,.144399,.997693,.982356,-.0930328,.13001,1.01642,.983308,-.0834627,.115778,1.03366,.985037,-.0732249,.101327,1.05014,.986493,-.0628145,.086554,1.06507,.988484,-.0526556,.0720413,1.07907,.991051,-.0415744,.0571151,1.09189,.993523,-.0314275,.0426643,1.10369,.99628,-.0203603,.0279325,1.11423,.998344,-.0102446,.0138182,1.12421,.999997,42612e-8,-193628e-9,1.1333,.871555,-660007e-11,.329176,174749e-10,.875255,-166579e-9,.330571,441051e-9,.875644,-666394e-9,.330718,.00176441,.875159,-.00149903,.330536,.00396899,.87516,-.00266493,.330536,.007056,.875158,-.00416393,.330535,.0110251,.87516,-.00599598,.330535,.0158764,.875163,-.00816108,.330536,.0216101,.875174,-.0106591,.330538,.0282266,.875199,-.0134899,.330545,.0357266,.875257,-.0166538,.330563,.0441117,.875304,-.0201501,.330575,.0533821,.875373,-.0239785,.330595,.0635395,.875464,-.0281389,.330619,.0745872,.875565,-.0326301,.330645,.0865255,.875691,-.0374516,.330676,.0993599,.875897,-.0425993,.330733,.113093,.876091,-.0480576,.330776,.127722,.876353,-.0537216,.330826,.143227,.876649,-.0589807,.330809,.159462,.877034,-.0647865,.330819,.176642,.877443,-.0709789,.330817,.194702,.877956,-.0774782,.330832,.213577,.878499,-.0843175,.330822,.233246,.879144,-.0912714,.330804,.253512,.879982,-.0980824,.330766,.274137,.88097,-.105823,.330864,.295209,.882051,-.113671,.330896,.317226,.883397,-.120303,.330545,.341068,.884987,-.12667,.330068,.365613,.886789,-.133118,.329418,.390807,.889311,-.139024,.328683,.416494,.891995,-.144971,.327729,.442618,.895106,-.150747,.326521,.469131,.899527,-.156283,.325229,.495921,.90504,-.161707,.32378,.523162,.909875,-.165661,.32122,.55092,.91561,-.168755,.317942,.579928,.921225,-.171193,.313983,.608539,.927308,-.17319,.309636,.636854,.933077,-.174819,.304262,.66523,.938766,-.175002,.297563,.693609,.943667,-.173946,.289613,.722157,.949033,-.172221,.281227,.750021,.953765,-.169869,.271545,.777466,.95804,-.166578,.261034,.804853,.962302,-.161761,.249434,.831569,.966544,-.156636,.237484,.857779,.969372,-.150784,.224395,.883051,.972486,-.143672,.210786,.907864,.975853,-.135772,.196556,.931223,.977975,-.127942,.182307,.954061,.979122,-.118347,.167607,.97531,.980719,-.109112,.152739,.995666,.981223,-.0991789,.137932,1.01475,.98216,-.0883553,.122692,1.03253,.983379,-.0780825,.107493,1.04917,.985434,-.0665646,.0917791,1.06464,.987332,-.0557714,.0764949,1.07896,.990004,-.0442805,.060721,1.09199,.992975,-.0331676,.0452284,1.10393,.995811,-.0219547,.0297934,1.11476,.9982,-.0107613,.0146415,1.12484,1.00002,248678e-9,-14555e-8,1.13413,.859519,-693595e-11,.347264,171673e-10,.859843,-17503e-8,.347394,433219e-9,.859656,-700076e-9,.347319,.00173277,.859671,-.00157517,.347325,.00389875,.859669,-.00280028,.347324,.00693112,.85967,-.0043754,.347324,.01083,.859665,-.00630049,.347321,.0155954,.859685,-.0085755,.347328,.0212278,.859694,-.0112003,.347329,.0277273,.859718,-.0141747,.347336,.0350946,.85976,-.0174988,.347348,.0433314,.85982,-.0211722,.347366,.0524384,.859892,-.0251941,.347387,.0624168,.860006,-.0295649,.347422,.0732708,.860122,-.0342825,.347453,.0849999,.860282,-.0393462,.347499,.0976102,.860482,-.0447513,.347554,.111104,.860719,-.0504775,.347614,.125479,.860998,-.0563577,.347666,.140703,.861322,-.0619473,.347662,.156681,.861724,-.0681277,.347684,.173597,.862198,-.0746567,.347709,.191371,.862733,-.0815234,.347727,.209976,.863371,-.0886643,.347744,.229351,.86414,-.0957908,.347734,.24934,.865138,-.102912,.34772,.269797,.866182,-.110924,.3478,.290654,.867436,-.119223,.347911,.312074,.869087,-.126197,.347649,.335438,.870859,-.133145,.347222,.359732,.872997,-.139869,.346645,.38467,.875939,-.146089,.345935,.41019,.879012,-.152334,.345012,.436218,.883353,-.15821,.343924,.462641,.888362,-.164097,.342636,.489449,.895026,-.169528,.341351,.516629,.900753,-.174408,.339115,.544109,.906814,-.17751,.335809,.572857,.912855,-.180101,.331597,.601554,.919438,-.182116,.32698,.630198,.925962,-.183494,.321449,.658404,.931734,-.184159,.314595,.686625,.93762,-.18304,.306462,.71531,.943858,-.181323,.297514,.744272,.948662,-.178683,.287447,.771462,.953299,-.175379,.276166,.798593,.957346,-.170395,.263758,.8256,.962565,-.165042,.251019,.852575,.966075,-.158655,.237011,.878316,.969048,-.151707,.222518,.90329,.972423,-.143271,.207848,.927745,.975833,-.134824,.192463,.950859,.977629,-.125444,.1768,.972947,.978995,-.114949,.161033,.993263,.980533,-.104936,.145523,1.01337,.980745,-.0935577,.129799,1.03128,.981814,-.0822956,.113486,1.04825,.983943,-.0710082,.0972925,1.06405,.986141,-.0587931,.0808138,1.0785,.988878,-.0472755,.0644915,1.09204,.992132,-.0349128,.0478128,1.10413,.9953,-.0232407,.031621,1.11527,.998117,-.0112713,.0154935,1.12551,1.00003,339743e-9,-195763e-9,1.13504,.845441,-729126e-11,.364305,169208e-10,.843588,-183164e-9,.363506,425067e-9,.843412,-73253e-8,.36343,.00169999,.843401,-.00164818,.363426,.00382495,.843399,-.00293008,.363425,.00679993,.843401,-.00457822,.363425,.010625,.843394,-.00659249,.363421,.0153002,.843398,-.00897282,.363421,.0208258,.843415,-.0117191,.363426,.0272024,.843438,-.0148312,.363432,.0344305,.843483,-.018309,.363447,.0425116,.84356,-.0221521,.363472,.0514471,.843646,-.0263597,.363499,.061238,.843743,-.0309315,.363527,.0718873,.84388,-.0358658,.363569,.0833969,.844079,-.0411624,.363631,.0957742,.844279,-.0468128,.363688,.109015,.844549,-.0527923,.363761,.123124,.844858,-.0588204,.363817,.138044,.84522,-.0647573,.36383,.153755,.845669,-.0713181,.363879,.170394,.846155,-.0781697,.363908,.187861,.846789,-.0853913,.363969,.206176,.847502,-.0928086,.363999,.225244,.8484,-.10005,.363997,.244926,.849461,-.107615,.364008,.265188,.850562,-.115814,.364055,.28587,.851962,-.124334,.364179,.306926,.854326,-.131995,.364233,.329605,.856295,-.139338,.363856,.35359,.858857,-.146346,.363347,.37831,.862428,-.152994,.362807,.403722,.866203,-.159463,.361963,.429537,.871629,-.165623,.36112,.456,.877365,-.171649,.359917,.482773,.883744,-.177151,.35848,.509705,.890693,-.182381,.356523,.537215,.897278,-.186076,.3533,.565493,.903958,-.188602,.349095,.594293,.910908,-.190755,.344215,.623165,.918117,-.192063,.338606,.651573,.924644,-.192758,.331544,.679869,.931054,-.192238,.323163,.708668,.937303,-.190035,.313529,.737201,.943387,-.187162,.303152,.764977,.948494,-.183876,.29146,.792683,.952546,-.178901,.277917,.819228,.958077,-.173173,.264753,.846559,.962462,-.16645,.25002,.872962,.966569,-.159452,.234873,.898729,.969108,-.15074,.218752,.923126,.973072,-.141523,.202673,.947278,.975452,-.132075,.186326,.969938,.977784,-.121257,.169396,.991325,.97899,-.110182,.153044,1.01123,.979777,-.0989634,.136485,1.0299,.980865,-.0865894,.119343,1.04727,.982432,-.0746115,.102452,1.06341,.984935,-.0621822,.0852423,1.07834,.987776,-.0495694,.0678546,1.092,.99103,-.0372386,.0506917,1.1043,.99474,-.0244353,.0333316,1.11576,.997768,-.0121448,.0164348,1.12617,1.00003,31774e-8,-169504e-9,1.13598,.825551,-756799e-11,.378425,165099e-10,.82664,-190922e-9,.378923,416504e-9,.826323,-763495e-9,.378779,.0016656,.826359,-.00171789,.378795,.00374768,.82636,-.00305402,.378795,.00666259,.826368,-.00477185,.378798,.0104104,.826364,-.00687131,.378795,.0149912,.826368,-.00935232,.378795,.0204054,.826376,-.0122146,.378797,.0266532,.826399,-.0154581,.378803,.0337355,.82646,-.0190825,.378824,.0416537,.826525,-.0230873,.378846,.0504091,.826614,-.0274719,.378876,.0600032,.82674,-.0322355,.378917,.0704393,.826888,-.0373766,.378964,.0817195,.827078,-.0428936,.379024,.0938492,.827318,-.0487778,.379099,.106828,.82764,-.0549935,.379199,.120659,.827926,-.0611058,.379227,.13526,.828325,-.0675054,.379275,.150713,.828801,-.0743455,.379332,.167034,.8294,-.0815523,.379415,.184209,.830094,-.0890779,.379495,.202203,.8309,-.096736,.379555,.220945,.831943,-.104135,.379577,.240306,.833037,-.112106,.379604,.260317,.834278,-.120554,.379668,.2808,.836192,-.129128,.3799,.301654,.838671,-.137541,.380109,.323502,.840939,-.14523,.379809,.347176,.844575,-.15248,.379593,.371706,.848379,-.159607,.37909,.39688,.853616,-.166267,.378617,.422702,.858921,-.172698,.377746,.448919,.865324,-.178823,.376749,.475661,.872207,-.184542,.375363,.502599,.880018,-.189836,.373657,.529914,.88694,-.194294,.370673,.557683,.894779,-.197022,.36662,.586848,.902242,-.199108,.36138,.615831,.909914,-.200398,.355434,.644478,.917088,-.20094,.348173,.672905,.923888,-.200671,.339482,.701327,.930495,-.198773,.32956,.730101,.937247,-.195394,.318363,.758383,.943108,-.191956,.306323,.786539,.948296,-.187227,.292576,.813637,.953472,-.181165,.278234,.840793,.958485,-.174119,.263054,.867712,.962714,-.166564,.246756,.893635,.966185,-.158181,.229945,.919028,.970146,-.148275,.212633,.943413,.973491,-.138157,.195229,.966627,.975741,-.127574,.178048,.988817,.977238,-.11554,.160312,1.00924,.978411,-.10364,.142857,1.02845,.979811,-.0913122,.125317,1.04648,.98116,-.0782558,.107627,1.06284,.983543,-.0655957,.0895862,1.07798,.986789,-.0520411,.0713756,1.092,.990292,-.0389727,.053228,1.10484,.994187,-.025808,.0351945,1.11642,.997499,-.0126071,.0173198,1.12703,.999999,275604e-9,-148602e-9,1.13674,.81075,-78735e-10,.394456,161829e-10,.808692,-198293e-9,.393453,407564e-9,.80846,-792877e-9,.39334,.00162965,.808595,-.00178416,.393407,.00366711,.808597,-.00317182,.393408,.00651934,.808598,-.00495589,.393408,.0101866,.808591,-.00713627,.393403,.0146689,.808592,-.00971285,.393402,.0199667,.80861,-.0126855,.393407,.0260803,.808633,-.0160538,.393413,.0330107,.80868,-.0198175,.393429,.0407589,.808748,-.0239758,.393453,.0493264,.808854,-.0285286,.39349,.0587161,.808992,-.0334748,.39354,.0689304,.809141,-.0388116,.393588,.0799707,.809352,-.0445375,.39366,.0918432,.809608,-.0506427,.393742,.104549,.809915,-.0570708,.393834,.118085,.810253,-.0633526,.393885,.132377,.810687,-.0700966,.393953,.147537,.811233,-.0772274,.394047,.163543,.811865,-.0847629,.394148,.180394,.812648,-.0925663,.394265,.198051,.813583,-.100416,.394363,.216443,.814683,-.108119,.394402,.235502,.815948,-.11644,.394489,.255242,.817278,-.125036,.394542,.275441,.819605,-.133655,.39486,.296094,.822256,-.142682,.395248,.317309,.825349,-.150756,.395241,.340516,.829605,-.158392,.395285,.364819,.83391,-.165801,.394922,.389736,.839808,-.172677,.394691,.415409,.845708,-.179448,.394006,.441546,.853025,-.185746,.393279,.46832,.859666,-.191684,.391655,.495302,.86789,-.197146,.390068,.52262,.875845,-.201904,.38727,.550336,.882634,-.205023,.382688,.578825,.891076,-.207098,.377543,.608103,.900589,-.208474,.371752,.63723,.90791,-.209068,.364016,.665769,.915971,-.208655,.355593,.694428,.923455,-.20729,.345439,.723224,.931514,-.203821,.334099,.751925,.937885,-.19986,.321069,.780249,.943136,-.194993,.306571,.8077,.948818,-.189132,.291556,.83497,.954433,-.181617,.275745,.86188,.959078,-.173595,.258695,.888562,.962705,-.164855,.240825,.914008,.966753,-.155129,.22268,.939145,.970704,-.144241,.204542,.963393,.973367,-.133188,.185927,.985983,.975984,-.121146,.167743,1.00704,.976994,-.108366,.149218,1.02715,.978485,-.0956746,.13131,1.0455,.980074,-.0820733,.112513,1.06221,.98225,-.0684061,.0938323,1.07782,.98553,-.0549503,.0749508,1.09199,.989529,-.0407857,.055848,1.10508,.993536,-.0271978,.0368581,1.11684,.997247,-.0132716,.0181845,1.12789,1,431817e-9,-198809e-9,1.13792,.785886,-812608e-11,.405036,157669e-10,.790388,-205278e-9,.407355,398297e-9,.790145,-820824e-9,.407231,.00159263,.790135,-.00184681,.407226,.00358336,.790119,-.00328316,.407218,.00637039,.790126,-.00512988,.40722,.0099539,.79013,-.00738684,.407221,.0143339,.790135,-.0100538,.407221,.0195107,.790134,-.0131306,.407217,.0254848,.79016,-.0166169,.407224,.0322572,.790197,-.020512,.407236,.0398284,.790273,-.0248157,.407263,.0482014,.790381,-.029527,.407304,.0573777,.790521,-.0346446,.407355,.0673602,.790704,-.0401665,.40742,.0781522,.790925,-.0460896,.407499,.0897582,.791195,-.0524017,.407589,.10218,.791522,-.0590121,.407691,.11541,.791878,-.0654876,.407748,.12939,.792361,-.0725207,.407849,.144237,.792942,-.0799844,.407963,.159924,.79362,-.0877896,.408087,.176425,.794529,-.0958451,.408259,.193733,.795521,-.103827,.408362,.211756,.796778,-.111937,.408482,.230524,.798027,-.120521,.408547,.249967,.799813,-.129242,.408721,.269926,.802387,-.138048,.409148,.290338,.805279,-.147301,.409641,.311193,.809251,-.155895,.410154,.333611,.813733,-.163942,.410297,.357615,.819081,-.171666,.410373,.382339,.825427,-.178905,.410348,.407828,.83172,-.185812,.409486,.434034,.83877,-.192318,.408776,.460493,.845817,-.198249,.407176,.487346,.854664,-.204034,.405719,.514832,.863495,-.208908,.403282,.542401,.871883,-.212765,.399293,.570683,.88065,-.214911,.393803,.599947,.89004,-.216214,.387536,.62932,.898476,-.216745,.379846,.658319,.906738,-.216387,.370625,.687138,.914844,-.215053,.360139,.71601,.923877,-.212007,.348849,.745124,.931925,-.207481,.335639,.773366,.938054,-.202418,.320798,.801636,.943895,-.196507,.304772,.829055,.949468,-.189009,.288033,.856097,.955152,-.180539,.270532,.88301,.959403,-.171437,.251639,.909296,.963309,-.161661,.232563,.934868,.967399,-.150425,.213231,.959662,.972009,-.138659,.194247,.98302,.97433,-.126595,.174718,1.00517,.975823,-.113205,.155518,1.02566,.976371,-.0996096,.136709,1.04418,.978705,-.0860754,.117571,1.06146,.981477,-.0714438,.0980046,1.07777,.984263,-.0572304,.0782181,1.09214,.988423,-.0428875,.0584052,1.10553,.993,-.0282442,.038522,1.11758,.99704,-.0140183,.0190148,1.12864,.999913,369494e-9,-145203e-9,1.13901,.777662,-84153e-10,.423844,154403e-10,.770458,-211714e-9,.419915,38845e-8,.770716,-846888e-9,.420055,.00155386,.770982,-.00190567,.420202,.00349653,.770981,-.00338782,.420201,.00621606,.77098,-.00529338,.4202,.00971274,.770983,-.00762223,.4202,.0139867,.770985,-.0103741,.420198,.0190381,.770996,-.0135489,.4202,.0248677,.771029,-.0171461,.420212,.0314764,.771052,-.0211647,.420215,.0388648,.771131,-.0256048,.420245,.047036,.771235,-.0304647,.420284,.0559911,.771383,-.0357436,.420341,.0657346,.771591,-.0414392,.420423,.0762694,.771819,-.0475462,.420506,.0875984,.772123,-.0540506,.420617,.099727,.772464,-.060797,.42072,.112637,.772855,-.0675393,.420799,.126313,.773317,-.0748323,.420893,.140824,.773981,-.0825681,.421058,.15617,.774746,-.0906307,.421226,.172322,.77566,-.0988982,.421397,.189253,.776837,-.106994,.421569,.206912,.778097,-.115528,.421704,.225359,.779588,-.124317,.421849,.24447,.781574,-.133139,.422097,.264156,.784451,-.142179,.422615,.284318,.787682,-.15165,.423269,.304902,.792433,-.160771,.424396,.3265,.797359,-.169166,.424772,.35014,.803986,-.177149,.425475,.374768,.809504,-.184745,.424996,.399928,.815885,-.19173,.424247,.425796,.823513,-.198525,.423515,.452287,.832549,-.204709,.422787,.479321,.841653,-.210447,.421187,.506718,.850401,-.215501,.418519,.53432,.859854,-.219752,.414715,.56242,.869364,-.222305,.409462,.591558,.878837,-.223744,.402926,.621074,.888636,-.224065,.395043,.650538,.898132,-.223742,.38564,.679538,.907181,-.222308,.375378,.708674,.915621,-.219837,.363212,.737714,.9239,-.215233,.349313,.767014,.931644,-.209592,.334162,.795133,.938887,-.203644,.317943,.823228,.945282,-.196349,.300581,.850822,.950758,-.18742,.282195,.877594,.956146,-.177879,.262481,.904564,.960355,-.167643,.242487,.930741,.965256,-.156671,.222668,.955868,.968029,-.144123,.201907,.979869,.97251,-.131305,.18202,1.00291,.974925,-.118335,.161909,1.02392,.975402,-.103714,.142129,1.0433,.976987,-.089415,.122447,1.06089,.979677,-.0748858,.102248,1.07713,.983184,-.0596086,.0814851,1.09218,.987466,-.0447671,.0609484,1.10585,.992348,-.0295217,.0401835,1.11829,.996674,-.0143917,.0198163,1.12966,1.00003,321364e-9,-149983e-9,1.1402,.757901,-869074e-11,.436176,151011e-10,.751195,-217848e-9,.432317,378533e-9,.751178,-871373e-9,.432307,.0015141,.751195,-.00196061,.432317,.0034068,.751198,-.00348552,.432318,.00605659,.751195,-.00544599,.432315,.00946353,.751207,-.00784203,.43232,.013628,.751213,-.0106732,.43232,.0185499,.751221,-.0139393,.432319,.0242302,.751244,-.0176398,.432325,.0306694,.7513,-.0217743,.432348,.0378698,.751358,-.0263412,.432367,.0458321,.751458,-.0313396,.432404,.0545587,.751608,-.0367682,.432464,.0640543,.7518,-.0426246,.43254,.0743222,.752065,-.0489031,.432645,.0853668,.752376,-.0555828,.432762,.0971911,.752715,-.0623861,.432859,.109768,.753137,-.069415,.432958,.123126,.753676,-.0770039,.433099,.137308,.754345,-.084971,.433272,.15229,.755235,-.0932681,.433504,.168075,.756186,-.10171,.433693,.184625,.757363,-.110019,.433857,.201897,.75884,-.11887,.434102,.220014,.760467,-.127881,.434306,.238778,.762969,-.136766,.434751,.258172,.765823,-.14612,.43529,.278062,.769676,-.15566,.436236,.298437,.774909,-.165177,.437754,.319532,.77994,-.17402,.438343,.342505,.785757,-.182201,.438609,.366693,.792487,-.190104,.438762,.391668,.80038,-.197438,.438795,.417494,.808494,-.204365,.438226,.443933,.817695,-.210714,.437283,.470929,.828111,-.216651,.436087,.498569,.837901,-.221804,.433717,.526165,.847813,-.226318,.430133,.554155,.858314,-.229297,.425213,.582822,.868891,-.230999,.418576,.612847,.878941,-.231155,.410405,.642445,.888809,-.230935,.400544,.672024,.898089,-.229343,.389613,.701366,.908081,-.226886,.377197,.730763,.916819,-.222676,.363397,.759642,.924968,-.216835,.347437,.788775,.932906,-.210245,.32995,.817135,.940025,-.202992,.312262,.844912,.946101,-.19436,.293313,.872164,.952835,-.184125,.273638,.899443,.957347,-.173657,.252385,.926389,.961434,-.162204,.231038,.951947,.965522,-.14979,.209834,.976751,.969412,-.136307,.188821,1.00022,.973902,-.122527,.168013,1.02229,.974045,-.108213,.147634,1.04199,.975775,-.0927397,.12705,1.06019,.978383,-.0778212,.106309,1.07711,.98211,-.0621216,.0849279,1.09245,.986517,-.0463847,.0633519,1.10651,.991696,-.0309353,.0419698,1.11903,.996349,-.0150914,.0206272,1.13073,1.00003,442449e-9,-231396e-9,1.14146,.727498,-885074e-11,.441528,145832e-10,.730897,-223525e-9,.443589,368298e-9,.730796,-893996e-9,.443528,.00147303,.730805,-.00201149,.443533,.00331433,.730814,-.00357596,.443538,.00589222,.730815,-.00558734,.443538,.00920678,.730822,-.00804544,.44354,.0132582,.730836,-.0109501,.443545,.0180468,.730848,-.0143008,.443546,.0235732,.730871,-.0180969,.443552,.0298382,.730915,-.022338,.443567,.0368438,.730982,-.0270225,.443591,.044591,.731076,-.0321491,.443627,.0530831,.731245,-.0377166,.443699,.0623243,.73144,-.0437216,.443777,.0723181,.7317,-.0501576,.443881,.0830691,.732034,-.0569942,.444014,.0945809,.732388,-.0638756,.444113,.106825,.732853,-.071203,.444247,.119859,.733473,-.0790076,.444442,.13369,.734195,-.0871937,.444645,.148304,.735069,-.095696,.444877,.163702,.736169,-.10426,.445133,.179861,.73747,-.112853,.44537,.196778,.738991,-.12199,.445651,.214496,.740865,-.131153,.445958,.232913,.743637,-.140245,.446548,.251977,.746797,-.149722,.447246,.271551,.751517,-.159341,.448656,.291774,.756156,-.169106,.449866,.312455,.761519,-.178436,.450919,.334552,.768295,-.186904,.451776,.358491,.776613,-.195117,.452832,.383446,.783966,-.202695,.45249,.408945,.793542,-.20985,.452587,.435364,.803192,-.216403,.451852,.462336,.813892,-.22251,.450708,.48987,.824968,-.227676,.4486,.517697,.835859,-.232443,.445156,.545975,.846825,-.235775,.440351,.574483,.858085,-.237897,.433641,.604246,.868825,-.238074,.425354,.634101,.879638,-.237661,.415383,.664201,.889966,-.236186,.404136,.693918,.899479,-.233599,.390917,.723481,.908769,-.229737,.376352,.75258,.917966,-.223836,.360372,.781764,.926304,-.217067,.342551,.811139,.934626,-.209309,.324238,.839585,.941841,-.20071,.304484,.867044,.94789,-.190602,.283607,.894579,.954196,-.179253,.262205,.921743,.958383,-.167646,.239847,.948026,.963119,-.155073,.218078,.973296,.966941,-.141426,.195899,.998135,.970836,-.126849,.174121,1.02021,.973301,-.112296,.153052,1.04085,.97448,-.0964965,.131733,1.05946,.977045,-.080489,.10997,1.07693,.980751,-.064844,.0881657,1.09254,.985475,-.0481938,.0657987,1.10697,.991089,-.0319185,.0435215,1.12004,.996122,-.0158088,.0214779,1.13173,1.00001,372455e-9,-200295e-9,1.14291,.708622,-907597e-11,.45304,141962e-10,.711162,-228911e-9,.454662,358052e-9,.709812,-914446e-9,.453797,.00143034,.709865,-.00205819,.453834,.00321935,.709864,-.00365894,.453833,.00572331,.709855,-.00571692,.453826,.00894278,.709862,-.00823201,.453828,.012878,.709875,-.011204,.453832,.0175295,.709896,-.0146323,.453839,.0228978,.709925,-.0185163,.453847,.0289839,.709974,-.0228551,.453866,.0357894,.710045,-.0276473,.453892,.0433161,.710133,-.032891,.453924,.0515665,.710292,-.0385851,.453992,.0605458,.710485,-.0447254,.45407,.0702574,.710769,-.0513051,.454192,.0807077,.711106,-.0582733,.454329,.091896,.711516,-.0652866,.45446,.103814,.712071,-.0728426,.454653,.116508,.712676,-.0808307,.45484,.129968,.713476,-.0892216,.455096,.144206,.714377,-.0979047,.455346,.159212,.715579,-.106531,.455647,.174973,.716977,-.115492,.455961,.191504,.71862,-.124821,.456315,.208835,.72084,-.134079,.4568,.226869,.723786,-.143427,.457521,.245582,.727464,-.153061,.458475,.264957,.732771,-.162768,.460239,.284948,.736515,-.172627,.460899,.30522,.743519,-.182487,.463225,.326717,.750041,-.191295,.464027,.350113,.758589,-.199746,.465227,.374782,.767703,-.207584,.465877,.400226,.777484,-.214973,.465996,.426442,.788792,-.221796,.466019,.453688,.800194,-.228038,.465083,.481246,.811234,-.233346,.462506,.509086,.822859,-.238073,.459257,.537338,.835082,-.241764,.454863,.566108,.846332,-.244241,.448163,.595126,.858355,-.244736,.439709,.625574,.87034,-.244278,.429837,.65617,.881027,-.24255,.418002,.686029,.891007,-.239912,.404325,.716039,.900874,-.236133,.389222,.745518,.911072,-.230672,.373269,.775026,.920359,-.22356,.355083,.804521,.928604,-.215591,.335533,.834045,.937175,-.206503,.315278,.861612,.942825,-.196684,.293653,.889131,.949805,-.185116,.271503,.916853,.955535,-.172703,.248821,.943541,.959843,-.159978,.225591,.970132,.964393,-.146375,.202719,.994709,.968008,-.131269,.179928,1.0186,.971013,-.11569,.158007,1.03928,.973334,-.1003,.13624,1.05887,.975775,-.0833352,.1138,1.07652,.979579,-.0668981,.0913141,1.09297,.984323,-.0500902,.0683051,1.10734,.990351,-.0332377,.0451771,1.12084,.995823,-.0161491,.0221705,1.13296,1.0001,234083e-9,-108712e-9,1.14441,.683895,-924677e-11,.46015,137429e-10,.68833,-233383e-9,.463134,346865e-9,.688368,-933547e-9,.463159,.00138748,.688367,-.00210049,.463159,.00312187,.688369,-.00373415,.463159,.00555004,.688377,-.00583449,.463163,.00867216,.688386,-.00840128,.463166,.0124884,.688398,-.0114343,.463169,.0169993,.688418,-.0149329,.463175,.0222054,.688453,-.0188964,.463188,.028108,.688515,-.0233239,.463214,.0347085,.68857,-.0282136,.463231,.0420091,.688679,-.033564,.463276,.0500132,.688854,-.0393733,.463356,.0587255,.689038,-.0456354,.46343,.0681476,.689321,-.0523433,.463553,.0782897,.689662,-.059412,.463693,.0891501,.690188,-.0665736,.4639,.100735,.690755,-.0743106,.464107,.113074,.691405,-.0824722,.464329,.126161,.692198,-.0910484,.464585,.140007,.693196,-.0998778,.464893,.154612,.69454,-.108651,.465285,.169984,.695921,-.117855,.465596,.186106,.697749,-.12734,.466056,.203034,.700375,-.136714,.466771,.220703,.703395,-.146386,.467579,.239062,.707904,-.156096,.469067,.258188,.711673,-.165904,.469851,.277759,.717489,-.175812,.471815,.297935,.724051,-.185931,.47389,.318916,.731965,-.195238,.47587,.341591,.741151,-.204021,.477523,.366062,.751416,-.212113,.478881,.391396,.761848,-.21979,.479226,.417599,.771886,-.2267,.478495,.444401,.783998,-.232991,.477622,.472084,.796523,-.238645,.475833,.500193,.808851,-.243396,.472568,.52865,.821191,-.247226,.467857,.557362,.834261,-.250102,.461871,.586768,.846762,-.251056,.453543,.617085,.859867,-.250604,.443494,.647659,.871948,-.248783,.431711,.678119,.882967,-.245855,.417911,.708399,.892826,-.242168,.401993,.738256,.90332,-.237062,.385371,.767999,.913633,-.22997,.366837,.798191,.922774,-.221687,.346372,.827756,.931371,-.212345,.325682,.856425,.938929,-.20206,.303665,.884299,.944821,-.190981,.280786,.912023,.951792,-.178065,.2573,.939669,.957712,-.164634,.233448,.96655,.961912,-.150863,.209504,.992366,.966382,-.13577,.18597,1.01633,.969588,-.119593,.162905,1.03843,.971777,-.103203,.14053,1.05841,.97433,-.0865888,.117909,1.07632,.978686,-.0690829,.0944101,1.09326,.983281,-.0516568,.0705671,1.10796,.989562,-.034558,.0468592,1.12182,.995465,-.0167808,.0229846,1.1342,.999991,373016e-9,-235606e-9,1.1459,.662251,-939016e-11,.468575,132714e-10,.666634,-237624e-9,.471675,335842e-9,.666411,-950385e-9,.471516,.00134321,.666399,-.00213833,.471509,.00302221,.666386,-.0038014,.471499,.00537283,.666405,-.00593958,.471511,.00839533,.666406,-.00855253,.471508,.0120898,.666428,-.0116401,.471519,.0164569,.666444,-.0152015,.471522,.0214971,.66649,-.0192362,.471543,.027212,.666537,-.0237428,.471558,.033603,.666617,-.0287198,.471591,.0406728,.666718,-.0341647,.471631,.0484238,.666889,-.0400759,.47171,.0568621,.667104,-.0464479,.471805,.0659915,.667374,-.0532677,.471923,.0758178,.667772,-.0603805,.472098,.0863425,.668371,-.0677392,.472363,.0975917,.668971,-.0756028,.472596,.109567,.669696,-.0839293,.472869,.122272,.670481,-.0926683,.473126,.135718,.6715,-.1016,.473442,.149914,.672911,-.110566,.47389,.164882,.674512,-.119984,.474354,.180602,.67651,-.129574,.474922,.19711,.679292,-.139106,.475764,.214371,.682798,-.148993,.476886,.232405,.686955,-.158737,.478179,.251153,.691406,-.168754,.479432,.270436,.697438,-.178703,.481481,.290374,.704761,-.188955,.484143,.311044,.713599,-.198814,.487007,.333003,.723194,-.207869,.488962,.357144,.732601,-.216189,.489815,.382169,.744193,-.22398,.490888,.408227,.754907,-.231156,.490355,.434928,.767403,-.23747,.489548,.462599,.78107,-.243503,.488274,.490908,.793893,-.248114,.484843,.519421,.807296,-.25222,.4803,.548561,.820529,-.255265,.474097,.577772,.833716,-.256741,.466041,.607782,.848403,-.25637,.456547,.638807,.860755,-.254804,.443946,.670058,.874012,-.251834,.430852,.700749,.885619,-.247867,.414903,.731446,.896069,-.242634,.397276,.761191,.906266,-.236093,.378535,.791053,.916759,-.227543,.358038,.821298,.92523,-.21783,.335705,.850747,.93436,-.207534,.313797,.879258,.941631,-.195983,.289671,.907734,.947564,-.183567,.265319,.935206,.953681,-.169345,.240815,.962739,.960008,-.154909,.216119,.989227,.964145,-.140161,.192096,1.01465,.968171,-.123411,.167855,1.03737,.969859,-.106525,.144817,1.05767,.972666,-.0891023,.12149,1.0761,.977055,-.0718094,.0975306,1.09336,.982527,-.0534213,.0730217,1.10878,.989001,-.0355579,.0483366,1.12285,.99512,-.0176383,.023938,1.13548,1.00007,368831e-9,-211581e-9,1.14744,.651047,-960845e-11,.484101,12922e-9,.644145,-241347e-9,.478968,324578e-9,.64396,-965142e-9,.478831,.00129798,.64396,-.00217154,.47883,.00292046,.643968,-.00386049,.478835,.00519202,.643974,-.00603186,.478838,.0081128,.643977,-.0086854,.478836,.011683,.643982,-.0118207,.478834,.0159031,.644024,-.0154374,.478856,.0207743,.644059,-.0195343,.478868,.0262975,.644122,-.0241103,.478896,.0324747,.644207,-.0291638,.478933,.039309,.64432,-.0346919,.478981,.0468029,.644481,-.0406919,.479053,.0549614,.644722,-.047159,.479169,.0637909,.645013,-.0540748,.479302,.0732974,.645503,-.0612001,.479541,.0834898,.646117,-.0687303,.479829,.0943873,.646707,-.0767846,.480061,.105991,.647431,-.0852465,.480343,.11831,.64831,-.0940719,.48066,.131348,.649486,-.103056,.481083,.14514,.650864,-.112261,.481528,.159676,.652604,-.121852,.482102,.174979,.654825,-.131505,.482813,.191079,.657876,-.141189,.483876,.207927,.661339,-.151239,.48499,.225586,.665463,-.161091,.486279,.243947,.670542,-.171235,.487968,.262957,.677361,-.181347,.49053,.282781,.685672,-.191679,.493862,.303311,.694551,-.201781,.49699,.324607,.703753,-.211164,.498884,.347916,.713703,-.219675,.500086,.372628,.725911,-.227836,.501554,.398694,.73862,-.23533,.502193,.425529,.752118,-.241786,.501811,.453209,.76579,-.247865,.500185,.481381,.779568,-.252696,.497159,.51011,.793991,-.256802,.492765,.539322,.808182,-.259942,.486827,.569078,.821698,-.261703,.478386,.598818,.836009,-.262006,.468772,.629762,.849824,-.260333,.456352,.661366,.863888,-.257398,.442533,.69295,.876585,-.253264,.426573,.723608,.888665,-.248026,.408964,.754378,.899537,-.241487,.389677,.784761,.9094,-.233463,.368516,.814688,.920166,-.223397,.346624,.845009,.928899,-.21255,.322717,.874431,.937156,-.200869,.298698,.902922,.943861,-.188387,.273491,.931356,.949557,-.174341,.247866,.958854,.955862,-.158994,.222496,.986098,.961721,-.143664,.197522,1.01229,.965976,-.127412,.17302,1.03571,.968652,-.109798,.148954,1.05699,.971084,-.0916787,.125044,1.07587,.975584,-.0739634,.100577,1.09372,.98122,-.055322,.0753666,1.10948,.988253,-.0366825,.0498899,1.12394,.99482,-.0180389,.024611,1.13694,1.00001,229839e-9,-188283e-9,1.14919,.613867,-964198e-11,.479449,123452e-10,.621485,-244534e-9,.485399,313091e-9,.621429,-978202e-9,.485353,.00125245,.62112,-.00220004,.485114,.00281687,.621119,-.0039111,.485112,.00500783,.621122,-.00611091,.485112,.00782498,.621133,-.00879922,.485117,.0112687,.621152,-.0119756,.485125,.0153394,.621183,-.0156396,.485139,.0200382,.621227,-.0197898,.485158,.0253663,.621298,-.0244253,.485192,.0313261,.621388,-.0295441,.485233,.0379204,.621507,-.0351432,.485286,.0451523,.621693,-.0412198,.485378,.0530277,.621933,-.0477673,.485495,.0615522,.622232,-.0547574,.485635,.0707316,.622809,-.0619417,.485943,.0805883,.623407,-.069625,.486232,.0911267,.62406,-.077796,.486516,.102354,.624835,-.0863731,.486838,.114279,.625758,-.095251,.487188,.126902,.627043,-.104299,.487695,.140285,.628438,-.113724,.488163,.154397,.630325,-.123417,.488858,.169267,.632801,-.133137,.489754,.184941,.635784,-.143052,.490815,.20136,.639406,-.153132,.492048,.218643,.643872,-.163143,.49363,.236615,.6499,-.17333,.496009,.255449,.657201,-.183622,.498994,.275006,.666221,-.194019,.502888,.295354,.674419,-.204192,.505459,.316244,.683729,-.21406,.507771,.33849,.695584,-.222854,.510245,.363166,.708583,-.231315,.512293,.389071,.721233,-.238911,.512747,.415737,.735134,-.245657,.512482,.443331,.750179,-.251879,.511526,.471891,.765073,-.256911,.508935,.500892,.779794,-.261144,.504341,.530294,.794801,-.264316,.498515,.560144,.810339,-.266276,.491015,.590213,.824818,-.266981,.481126,.620865,.839375,-.265778,.468685,.652687,.853043,-.262748,.453925,.684759,.867335,-.258474,.437912,.716209,.88037,-.253187,.419648,.747508,.891711,-.246476,.39982,.77797,.902896,-.238735,.37879,.808586,.913601,-.22885,.355891,.838843,.923019,-.217656,.331773,.869014,.933432,-.205539,.307356,.898512,.939691,-.192595,.281321,.9269,.946938,-.178945,.255441,.955297,.952372,-.163587,.229013,.983231,.95909,-.147214,.203179,1.00971,.963675,-.13064,.17792,1.03438,.968247,-.113121,.152898,1.05625,.97001,-.0945824,.128712,1.07598,.974458,-.0755648,.103349,1.094,.980168,-.0571998,.0776731,1.1104,.987295,-.0377994,.0514445,1.12491,.994432,-.0186417,.025429,1.13851,.999975,542714e-9,-282356e-9,1.15108,.592656,-980249e-11,.486018,119532e-10,.598467,-247275e-9,.490781,301531e-9,.597934,-988317e-9,.490343,.00120517,.597903,-.00222366,.490319,.0027116,.597913,-.00395315,.490327,.00482077,.597919,-.00617653,.490329,.00753264,.597936,-.00889375,.490339,.0108478,.597956,-.0121043,.490347,.0147668,.597992,-.0158073,.490365,.0192905,.598032,-.0200017,.490382,.0244204,.598109,-.0246865,.49042,.0301593,.598215,-.0298594,.490474,.03651,.59833,-.0355167,.490524,.0434757,.598525,-.0416559,.490624,.0510629,.598778,-.0482692,.490753,.0592781,.599135,-.0553114,.49094,.0681304,.599802,-.062542,.491328,.0776467,.600361,-.0703638,.491598,.0878184,.60101,-.0786256,.491882,.0986573,.601811,-.0872962,.492232,.11018,.602861,-.0962284,.492684,.1224,.604167,-.10538,.493213,.135354,.605693,-.114896,.493799,.149034,.607682,-.124654,.494576,.163469,.610672,-.13456,.4959,.178747,.613313,-.144581,.496713,.194723,.617603,-.154703,.498499,.211617,.622174,-.16489,.500188,.229183,.628855,-.175164,.503072,.247786,.636963,-.185565,.506798,.267116,.644866,-.195911,.509719,.28702,.653741,-.206104,.512776,.307763,.664942,-.216447,.516812,.329631,.67633,-.22552,.519181,.353515,.690012,-.234316,.521681,.379226,.704243,-.242032,.523129,.405901,.719396,-.249172,.523768,.433585,.734471,-.255543,.522541,.462085,.750539,-.260697,.520217,.491233,.766365,-.26501,.516293,.521094,.781677,-.268409,.509708,.551014,.797132,-.270399,.501944,.581463,.812655,-.271247,.492025,.612402,.828592,-.270708,.480424,.643798,.844044,-.268085,.465955,.67682,.857305,-.263459,.448425,.708496,.87114,-.258151,.430243,.74046,.884936,-.251171,.410578,.771583,.895772,-.243305,.38862,.802234,.906961,-.234037,.365214,.833179,.917775,-.222714,.34116,.86353,.927883,-.210175,.31572,.893557,.936617,-.196925,.289159,.922976,.943384,-.182788,.261996,.951606,.949713,-.167965,.235324,.979958,.955818,-.151109,.208408,1.00765,.961344,-.133834,.182591,1.03329,.965469,-.115987,.156958,1.0557,.968693,-.09746,.132239,1.07583,.973165,-.0778514,.106195,1.09451,.979387,-.0585067,.0797669,1.11137,.98671,-.0390409,.0530263,1.12643,.994093,-.019408,.0263163,1.14016,1.00002,540029e-9,-194487e-9,1.15299,.574483,-989066e-11,.494533,114896e-10,.574478,-249127e-9,.494528,289403e-9,.574607,-996811e-9,.494637,.00115797,.574396,-.00224241,.494458,.00260498,.574377,-.00398632,.49444,.00463102,.574386,-.00622836,.494445,.00723623,.574401,-.0089683,.494453,.010421,.574419,-.0122056,.49446,.0141859,.574459,-.0159396,.494481,.0185322,.574525,-.0201692,.49452,.0234617,.574587,-.0248924,.494547,.0289762,.574697,-.0301074,.494604,.0350797,.574853,-.0358114,.494688,.0417767,.575027,-.041999,.494772,.0490718,.575294,-.0486618,.494915,.0569728,.575733,-.0557148,.495173,.0654955,.576356,-.0630489,.495537,.0746612,.576944,-.0709285,.495836,.0844615,.57765,-.0792723,.496177,.0949142,.578491,-.0880167,.496563,.10603,.579639,-.0969462,.497096,.117841,.580989,-.10622,.497684,.130367,.582587,-.115861,.498337,.143609,.584951,-.125605,.499414,.157625,.587602,-.135608,.500518,.172413,.59076,-.145742,.501767,.187999,.594992,-.155934,.503542,.20445,.600656,-.166303,.506135,.221764,.607816,-.176681,.509542,.24002,.61522,-.187071,.51263,.258992,.623702,-.197465,.516021,.278773,.634192,-.207816,.520422,.299377,.644936,-.218183,.524073,.320802,.657888,-.2278,.528049,.34384,.670666,-.236747,.52986,.36916,.685626,-.24484,.531892,.395867,.701304,-.252071,.532727,.423488,.717727,-.258714,.532146,.452201,.733914,-.264211,.529883,.481579,.750529,-.26859,.5259,.511558,.76747,-.272046,.51999,.542042,.785189,-.274225,.513083,.572799,.800954,-.275189,.502936,.603816,.816962,-.274946,.490921,.635461,.83336,-.272695,.47684,.6676,.848143,-.268223,.459405,.70051,.861818,-.262768,.440319,.732902,.876828,-.255872,.420123,.765084,.889312,-.247703,.398379,.796391,.900412,-.238381,.374496,.827333,.912251,-.227783,.349874,.858385,.921792,-.214832,.323181,.888652,.931273,-.200949,.296624,.917763,.940295,-.186537,.269211,.947878,.946812,-.171538,.241447,.977016,.953588,-.155254,.213829,1.00501,.958841,-.137156,.186807,1.03179,.963746,-.118699,.160706,1.05502,.966468,-.0998358,.135504,1.07568,.971178,-.0805186,.109131,1.09479,.97831,-.0599348,.0818293,1.1123,.985886,-.0399661,.0545872,1.12771,.994021,-.0198682,.0269405,1.14186,1.00009,271022e-9,-12989e-8,1.15514,.538716,-990918e-11,.486732,109675e-10,.550656,-250642e-9,.497518,277412e-9,.55057,-.00100265,.497441,.00110974,.550903,-.00225672,.497733,.00249779,.550568,-.00401046,.497438,.00443906,.550574,-.00626613,.49744,.00693637,.550591,-.0090226,.497449,.00998921,.550623,-.0122795,.497469,.0135984,.550667,-.0160361,.497495,.0177654,.550724,-.0202908,.497526,.0224915,.550792,-.0250421,.497557,.0277795,.550918,-.0302878,.49763,.0336334,.551058,-.0360241,.497701,.0400573,.551276,-.0422473,.497824,.0470585,.551551,-.0489441,.497977,.0546433,.552074,-.0559596,.498312,.0628367,.552681,-.0633978,.498679,.071646,.553324,-.0713176,.499031,.0810746,.554011,-.0797268,.499365,.091129,.55488,-.0885238,.499779,.101837,.556171,-.0974417,.500444,.113239,.557498,-.106841,.501025,.125316,.559299,-.116533,.501864,.138128,.561647,-.126298,.502967,.151695,.564347,-.136388,.504129,.16604,.567863,-.146576,.505713,.181207,.572569,-.156832,.507953,.197259,.578919,-.167323,.511186,.214258,.585387,-.177712,.514042,.232038,.593134,-.188184,.517484,.250733,.603295,-.198717,.522345,.270454,.613854,-.209177,.526751,.290807,.626092,-.219644,.531595,.312202,.637868,-.229494,.534721,.334435,.652458,-.238718,.538304,.359184,.666985,-.247061,.539875,.385637,.683301,-.254652,.541042,.41328,.69998,-.261376,.540735,.441903,.717824,-.267085,.539139,.471609,.734617,-.271465,.534958,.501446,.753663,-.27528,.53032,.532571,.770512,-.277617,.522134,.563641,.787356,-.278525,.51206,.595067,.806252,-.278512,.50119,.627226,.822061,-.277023,.486791,.659402,.838959,-.273175,.470467,.692874,.85379,-.267238,.450688,.725702,.868268,-.260327,.429741,.75832,.881994,-.251946,.407223,.790189,.893885,-.242432,.383214,.821625,.905118,-.231904,.357297,.853011,.916045,-.219545,.330733,.883773,.927614,-.205378,.303916,.914435,.936005,-.190388,.275941,.944502,.944533,-.1749,.247493,.974439,.950758,-.158588,.218996,1.00286,.957078,-.141027,.191559,1.0304,.962448,-.121507,.164457,1.05466,.964993,-.102068,.138636,1.0761,.970017,-.0822598,.111861,1.09541,.97661,-.062033,.0843438,1.11317,.985073,-.0409832,.0558496,1.12911,.993515,-.020146,.0275331,1.1438,1.00006,27329e-8,-107883e-9,1.15736,.525324,-999341e-11,.498153,105385e-10,.526513,-251605e-9,.499277,265329e-9,.526517,-.00100641,.499282,.0010613,.526588,-.00226466,.499337,.00238823,.526539,-.0040255,.499302,.00424535,.526547,-.00628954,.499306,.00663364,.526561,-.00905628,.499313,.00955337,.526593,-.0123253,.499334,.0130054,.526642,-.0160957,.499365,.0169911,.5267,-.0203661,.499396,.0215122,.526792,-.0251347,.499451,.0265718,.526904,-.0303985,.499511,.0321732,.527079,-.0361554,.499617,.0383231,.527285,-.0423982,.499731,.045026,.527602,-.0491121,.499924,.0522936,.528166,-.0561127,.500306,.0601528,.52879,-.0635988,.5007,.0686059,.529421,-.071581,.501048,.0776518,.530144,-.0799854,.501421,.0873148,.531062,-.0888032,.501884,.0976084,.532374,-.0977643,.50259,.108588,.533828,-.107197,.50329,.120234,.53581,-.116887,.504312,.132602,.538063,-.126755,.505365,.145721,.5409,-.136819,.506668,.159617,.544882,-.147117,.508731,.174369,.550238,-.157446,.511601,.190028,.556038,-.167988,.514431,.206587,.563031,-.178364,.517808,.224046,.571543,-.189007,.521937,.242503,.582255,-.199546,.527415,.261977,.59272,-.210084,.531682,.282162,.605648,-.220448,.537123,.303426,.61785,-.230593,.540664,.325323,.632223,-.240238,.544467,.348993,.648819,-.24887,.547594,.375462,.665825,-.256657,.54912,.403024,.683389,-.263711,.549294,.431773,.701495,-.269666,.547649,.461494,.719197,-.274169,.543786,.491623,.737906,-.278124,.538644,.522994,.756652,-.280632,.531057,.554775,.775279,-.281741,.521972,.586441,.792688,-.281652,.509613,.618596,.811894,-.280345,.496497,.651462,.827938,-.277128,.47968,.684023,.844837,-.271646,.460688,.718024,.859239,-.264397,.438872,.751207,.874088,-.256144,.41577,.784232,.887693,-.246311,.391369,.816191,.899402,-.235497,.365872,.847828,.910973,-.223631,.338618,.87934,.92204,-.209874,.310803,.910325,.930987,-.194265,.281802,.940695,.94,-.178125,.252836,.970958,.948018,-.161479,.224239,1.00078,.955141,-.144038,.195857,1.0288,.960513,-.124915,.168487,1.05371,.963964,-.104284,.141495,1.07596,.968713,-.0838732,.114437,1.09628,.975524,-.0635579,.0863105,1.11448,.98431,-.042291,.0574774,1.13069,.992916,-.0209131,.0284343,1.14568,.999926,743097e-9,-379265e-9,1.15955,.501042,-998428e-11,.498726,100306e-10,.502992,-252112e-9,.500665,253283e-9,.502417,-.00100791,.500092,.00101259,.502965,-.00226919,.500621,.00227978,.502318,-.00403109,.499994,.00405011,.502333,-.00629832,.500005,.00632868,.502362,-.00906907,.500027,.00911446,.502369,-.0123423,.500023,.0124078,.50243,-.0161178,.500066,.016211,.502493,-.0203937,.500103,.0205256,.502592,-.0251684,.500166,.0253548,.502707,-.0304389,.50023,.0307029,.502881,-.0362015,.500335,.0365753,.503124,-.0424507,.500488,.0429798,.503443,-.0491582,.500686,.0499268,.504083,-.0561476,.501155,.0574541,.504668,-.0636846,.501524,.0655408,.505319,-.0716834,.501904,.0742072,.50609,-.0800925,.502321,.0834699,.507122,-.0888425,.502896,.0933603,.508414,-.097855,.503603,.10391,.509955,-.107304,.504416,.115113,.512061,-.116921,.505565,.127054,.514419,-.12689,.506732,.139709,.517529,-.136934,.508338,.153173,.522085,-.147327,.510987,.167528,.526986,-.157612,.513527,.182708,.533122,-.168213,.516717,.198881,.540807,-.178688,.520832,.215986,.550687,-.189511,.52632,.234335,.560567,-.199998,.531009,.253375,.571698,-.210652,.535839,.273499,.584364,-.220917,.541091,.294355,.599066,-.23137,.546875,.316525,.614148,-.241206,.551306,.339671,.631157,-.250379,.555187,.36531,.647919,-.258397,.556595,.392767,.666112,-.265528,.556949,.421397,.686158,-.271827,.556617,.451433,.704838,-.27674,.552975,.482131,.723957,-.280733,.547814,.513458,.74262,-.283359,.53997,.545446,.762009,-.284541,.530422,.57775,.781314,-.284507,.518546,.610434,.799116,-.283309,.504178,.643178,.817604,-.280378,.48843,.676248,.83459,-.275619,.469457,.709698,.850974,-.26856,.447698,.744245,.866747,-.260094,.424791,.777695,.881412,-.249929,.399913,.810392,.8936,-.239137,.37308,.842872,.905943,-.226818,.345705,.874677,.916408,-.213699,.31706,.906257,.927215,-.198428,.288444,.936881,.935625,-.181643,.258329,.96795,.944076,-.164386,.228488,.998216,.951229,-.146339,.199763,1.02689,.958793,-.127709,.172153,1.0535,.963219,-.107244,.144989,1.07646,.967562,-.0857764,.11685,1.09675,.974866,-.0645377,.0880571,1.11576,.983353,-.0431732,.0587352,1.13227,.992503,-.0218356,.0294181,1.1478,1.00003,605203e-9,-231013e-9,1.16207,.482935,-101177e-10,.504695,968142e-11,.477554,-251521e-9,.499071,240676e-9,.477904,-.00100683,.499436,96342e-8,.478368,-.00226636,.499899,.0021687,.477977,-.00402719,.499513,.00385384,.477993,-.00629226,.499525,.0060221,.478011,-.00906011,.499536,.00867289,.478051,-.0123305,.499566,.0118074,.478089,-.016102,.499587,.0154269,.478171,-.0203736,.499645,.0195341,.478254,-.025143,.499692,.0241318,.47839,-.0304071,.499779,.0292247,.478588,-.0361631,.499911,.0348196,.478812,-.0424023,.500046,.0409231,.479208,-.0490724,.500326,.047552,.479841,-.0560722,.500805,.0547377,.480392,-.0636125,.501152,.0624607,.481068,-.0716134,.501561,.0707473,.481898,-.0800062,.502054,.0796118,.483022,-.0886568,.502728,.0890974,.484332,-.0977553,.503479,.0992099,.486126,-.107173,.504546,.10999,.488066,-.11677,.50557,.121476,.490521,-.126725,.506849,.133672,.494232,-.136793,.50911,.146731,.498302,-.147116,.511345,.160577,.503565,-.157446,.514344,.175335,.510902,-.168121,.518824,.191207,.519263,-.178799,.523666,.208058,.528204,-.189407,.528296,.225875,.538854,-.200145,.533724,.244782,.551278,-.210701,.539833,.264753,.565222,-.221303,.546131,.285745,.579403,-.231688,.551496,.307592,.595469,-.241718,.556809,.330582,.610929,-.250992,.559641,.354995,.629433,-.259602,.562379,.382471,.648504,-.267038,.563676,.411126,.66756,-.273388,.562092,.440924,.689143,-.278788,.560807,.472118,.709056,-.282783,.555701,.503774,.729855,-.285836,.548698,.536364,.748954,-.287078,.538544,.56895,.768373,-.287133,.526711,.601991,.78827,-.285839,.512511,.635403,.807465,-.283238,.496323,.668797,.825194,-.27906,.477638,.702584,.842203,-.272286,.456253,.736393,.857749,-.263854,.432412,.77096,.874799,-.253943,.407806,.80489,.887497,-.24237,.38033,.83771,.89966,-.230278,.352446,.870376,.911753,-.21646,.323268,.902256,.923011,-.202071,.294314,.933306,.932375,-.185519,.264104,.965177,.940537,-.167604,.234035,.996303,.948904,-.149068,.20412,1.0261,.955263,-.129539,.175431,1.05304,.960303,-.109932,.148116,1.07617,.965512,-.0880572,.119693,1.09742,.973466,-.0660548,.0901619,1.11721,.98284,-.0439228,.0599875,1.13436,.992216,-.0219588,.0298975,1.15006,.999946,119402e-9,-208547e-10,1.16471,.447827,-100414e-10,.491543,914833e-11,.454778,-251257e-9,.499172,22891e-8,.453519,-.00100342,.497787,914184e-9,.45357,-.00225776,.497847,.00205701,.453578,-.00401371,.497855,.00365705,.45357,-.00627107,.497841,.00571453,.453598,-.00902968,.497864,.00823019,.453627,-.0122888,.497882,.0112049,.453684,-.0160475,.497923,.0146405,.453764,-.0203044,.49798,.0185394,.453866,-.0250576,.498049,.0229054,.453996,-.0303028,.49813,.0277424,.454196,-.0360379,.498267,.0330587,.454457,-.0422521,.498445,.0388613,.454926,-.0488393,.498812,.0451767,.455525,-.0558653,.499272,.0520153,.456074,-.0633772,.499625,.0593754,.456752,-.0713606,.500049,.0672751,.457648,-.07971,.500615,.0757447,.458849,-.0883032,.501399,.0848231,.46029,-.0974095,.502293,.0945135,.462,-.106729,.503301,.104848,.464121,-.116354,.504533,.115884,.466889,-.126214,.506172,.127652,.470744,-.136324,.508667,.14024,.47488,-.146595,.510995,.153673,.480845,-.157027,.514832,.168053,.488262,-.167658,.519506,.183508,.496547,-.178343,.524347,.199948,.506254,-.188916,.52983,.217503,.517961,-.199975,.536357,.236272,.531484,-.210624,.543641,.256096,.545496,-.221227,.550048,.277085,.559497,-.231568,.555076,.298615,.575752,-.241698,.560541,.321547,.591999,-.251172,.564156,.345602,.610654,-.260178,.567607,.371851,.630484,-.268094,.56923,.40076,.651807,-.274661,.569779,.430801,.67239,-.280331,.566791,.461939,.693024,-.284501,.562007,.493854,.715473,-.287852,.555791,.526992,.736323,-.28929,.546345,.560102,.755771,-.289405,.534,.593543,.775424,-.2881,.519114,.627256,.795447,-.285562,.502543,.661464,.815319,-.281416,.484773,.695206,.831769,-.275523,.463445,.729044,.849464,-.267516,.440269,.764069,.866775,-.257584,.415049,.799089,.881252,-.245817,.388049,.831948,.894209,-.233127,.35889,.865526,.906922,-.219579,.329915,.89818,.919686,-.204491,.300441,.930013,.929044,-.188962,.269445,.962061,.938393,-.171079,.238402,.994214,.94661,-.15199,.208204,1.02533,.953095,-.131953,.178653,1.0529,.958644,-.111233,.150684,1.0771,.963925,-.0903098,.122359,1.09855,.971995,-.0680505,.0923342,1.11874,.981658,-.0448512,.0614195,1.13635,.991649,-.0221931,.0303582,1.15238,.999985,393403e-9,-111086e-9,1.16772,.396806,-971563e-11,.457671,842355e-11,.429186,-249421e-9,.495017,21625e-8,.429324,-998052e-9,.495173,865322e-9,.429175,-.00224487,.494999,.00194637,.429129,-.00399041,.494952,.00346004,.429153,-.00623476,.494974,.00540684,.429168,-.0089773,.494983,.00778714,.429207,-.0122175,.495012,.0106022,.429257,-.0159542,.495047,.0138535,.429338,-.0201864,.495106,.0175443,.429431,-.0249104,.495165,.0216774,.429587,-.0301252,.495279,.0262594,.429796,-.0358249,.495432,.0312968,.430065,-.0419972,.495621,.0367985,.430588,-.0485144,.496061,.042798,.43113,-.0555028,.496472,.0492914,.431743,-.0629852,.496904,.0562907,.432448,-.0709256,.497369,.0638056,.433414,-.0791942,.498032,.071885,.434638,-.0877346,.498854,.0805517,.43611,-.0968056,.499812,.0898047,.437859,-.106002,.500891,.0997142,.440017,-.115648,.502198,.110289,.443236,-.125427,.504389,.121644,.44697,-.135492,.506809,.133769,.451689,-.145746,.509858,.146787,.45811,-.156219,.514247,.160793,.465305,-.166834,.518816,.175791,.474085,-.177546,.524331,.191906,.484808,-.188262,.53104,.209199,.49732,-.199346,.538511,.227825,.509693,-.209951,.544554,.247269,.524367,-.220533,.551616,.267978,.539228,-.231082,.557368,.289672,.55644,-.241342,.563782,.31268,.574204,-.250964,.568851,.33651,.593388,-.260306,.57312,.362219,.613358,-.268667,.574916,.390322,.634512,-.275591,.575053,.420478,.65563,-.281328,.572404,.451614,.678265,-.285948,.568893,.484112,.70011,-.289408,.561878,.517348,.723005,-.291328,.55359,.551355,.743744,-.291418,.541099,.585109,.763949,-.290252,.526489,.619487,.784186,-.287648,.509496,.65404,.804304,-.283782,.491484,.688649,.823629,-.278067,.470517,.723133,.84094,-.270588,.44705,.757163,.857852,-.261188,.421252,.792816,.874934,-.249313,.394191,.827248,.888709,-.236492,.365359,.861074,.902589,-.222185,.336016,.894417,.914201,-.207314,.30527,.926825,.925978,-.191146,.274532,.9595,.93512,-.174135,.243393,.991583,.943656,-.155231,.212414,1.02356,.951719,-.134403,.182005,1.05239,.957164,-.113023,.153043,1.07754,.962656,-.0914493,.124186,1.09984,.970695,-.0694179,.0941654,1.12,.980749,-.0466199,.0629671,1.13849,.991205,-.0227032,.0311146,1.15494,.999884,632388e-9,-254483e-9,1.1706,.379821,-957289e-11,.460637,789337e-11,.405188,-247483e-9,.491396,204064e-9,.404796,-989434e-9,.490914,815853e-9,.40483,-.00222607,.490949,.00183559,.40473,-.00395723,.49084,.00326332,.404731,-.00618287,.490836,.00509945,.404768,-.00890258,.490871,.00734463,.404791,-.0121156,.490883,.00999992,.404857,-.0158214,.490938,.0130676,.404943,-.0200178,.491004,.0165503,.405059,-.0247027,.491093,.0204521,.405213,-.0298729,.491205,.0247788,.405399,-.0355226,.491333,.0295373,.405731,-.0416352,.491604,.034741,.406303,-.0480807,.492116,.0404255,.406814,-.0550458,.492506,.0465732,.407404,-.0624652,.492926,.0532058,.408149,-.0702958,.493442,.0603442,.409128,-.0784623,.494136,.0680297,.410408,-.087007,.495054,.0762786,.411813,-.0959639,.495962,.0851046,.413735,-.105075,.497257,.0945878,.416137,-.114646,.498882,.104725,.41934,-.124394,.501132,.11563,.423326,-.134328,.503883,.127325,.428419,-.14458,.50747,.139911,.43484,-.154979,.511964,.153481,.442641,-.165628,.517328,.168114,.452511,-.176365,.524258,.183995,.463473,-.187298,.531248,.200953,.475564,-.198244,.538367,.219176,.488664,-.208938,.545175,.238514,.504073,-.219599,.553227,.259129,.520832,-.230378,.560653,.280997,.538455,-.240703,.567523,.303821,.55709,-.250548,.573287,.327948,.576646,-.259964,.577795,.353362,.596705,-.268721,.580077,.380336,.618053,-.276054,.58018,.4101,.640303,-.282176,.578747,.44161,.662365,-.286931,.574294,.474106,.684542,-.290521,.567035,.507549,.707984,-.292672,.558687,.541853,.730913,-.293189,.547606,.576581,.752948,-.292199,.533471,.61172,.773452,-.289508,.516395,.646339,.794715,-.285716,.497873,.682131,.814251,-.280051,.476845,.716396,.833057,-.272873,.453449,.751503,.84959,-.263982,.427857,.786085,.867022,-.252745,.400335,.821355,.882277,-.239655,.371304,.85646,.895375,-.225386,.340397,.890828,.909347,-.209587,.310005,.923532,.921885,-.193433,.2796,.956419,.932127,-.176135,.247276,.989445,.941869,-.157872,.216186,1.02221,.949735,-.137577,.185602,1.05195,.956617,-.115285,.155767,1.07822,.961974,-.0928418,.126103,1.10149,.96972,-.0700592,.0956758,1.12207,.98012,-.0474671,.0643269,1.1408,.990825,-.0238113,.0320863,1.1577,.999876,381574e-9,-812203e-10,1.17403,.367636,-961342e-11,.469176,753287e-11,.380377,-244772e-9,.485434,191797e-9,.380416,-978857e-9,.485475,767015e-9,.380376,-.00220165,.485435,.00172522,.380419,-.00391408,.485487,.00306734,.380438,-.00611549,.485505,.00479332,.380462,-.00880558,.485525,.00690391,.380496,-.0119837,.485551,.00940039,.38056,-.0156487,.485605,.0122848,.38064,-.0197988,.485666,.0155601,.380767,-.0244324,.48577,.0192313,.380909,-.0295444,.485871,.0233032,.381142,-.0351321,.48606,.0277861,.381472,-.0411535,.486336,.0326939,.382015,-.0475408,.486833,.0380565,.382523,-.0544395,.487231,.0438615,.383129,-.061784,.487683,.0501332,.383952,-.0695085,.488313,.0568996,.38498,-.0775819,.489077,.0641952,.386331,-.0860443,.490113,.0720324,.387788,-.0948406,.491099,.0804379,.389808,-.103899,.492566,.0894899,.39252,-.113313,.494601,.0992098,.395493,-.123007,.496619,.109641,.399826,-.132859,.499912,.120919,.405341,-.143077,.504061,.133107,.411932,-.153465,.508905,.146263,.420591,-.164108,.515482,.160544,.43101,-.174893,.523191,.176123,.441881,-.185839,.53026,.192757,.453919,-.196633,.537295,.210535,.468715,-.207611,.546156,.229886,.485182,-.218517,.555173,.250543,.501926,-.229249,.562728,.27221,.51785,-.239481,.567494,.294892,.536947,-.249395,.573889,.318987,.557115,-.259,.578831,.344348,.577966,-.268075,.582055,.371223,.599489,-.276115,.583307,.399834,.62479,-.282523,.583902,.431415,.647504,-.287663,.57953,.464301,.670601,-.291538,.573103,.498123,.693539,-.293842,.563731,.532662,.717385,-.294681,.553169,.567925,.741533,-.293717,.539908,.603502,.762142,-.291156,.521902,.639074,.783014,-.28719,.502815,.674439,.805158,-.281773,.482598,.710497,.823646,-.274682,.458949,.7456,.841879,-.266184,.433129,.781085,.859515,-.255682,.406064,.816,.875335,-.242849,.376509,.851074,.890147,-.228329,.345502,.886473,.903144,-.212491,.31428,.920751,.916618,-.195695,.282994,.954606,.927953,-.178267,.251091,.988402,.937414,-.159549,.219107,1.02141,.946823,-.140022,.18896,1.05167,.954651,-.118154,.158667,1.07819,.959955,-.0946636,.128808,1.1025,.96858,-.0711792,.0973787,1.12391,.97938,-.0475046,.0650965,1.14322,.990498,-.024059,.0326267,1.16077,.999844,-512408e-10,112444e-9,1.17727,.316912,-934977e-11,.425996,695559e-11,.356423,-241372e-9,.479108,179562e-9,.356272,-965292e-9,.478897,71811e-8,.356262,-.00217182,.478894,.00161574,.356265,-.00386092,.478895,.00287261,.356278,-.0060324,.478905,.00448907,.356293,-.00868565,.478914,.00646572,.356346,-.0118207,.478965,.00880438,.356395,-.0154355,.479001,.0115066,.356484,-.019529,.479075,.0145762,.356609,-.0240991,.47918,.018018,.356766,-.0291413,.479305,.0218379,.357009,-.0346498,.479512,.0260454,.357424,-.0405462,.479909,.0306657,.357899,-.0468825,.480337,.0357054,.358424,-.0536887,.480771,.0411728,.359041,-.0609416,.481242,.0470841,.359903,-.0685239,.481943,.0534831,.360932,-.0764883,.482741,.0603795,.362196,-.0848364,.483688,.0678028,.363847,-.0935002,.484947,.0758086,.365972,-.102471,.486588,.0844173,.368741,-.111751,.488787,.0937199,.372146,-.121334,.491405,.103732,.377114,-.131147,.495604,.114608,.38226,-.141213,.499436,.126345,.389609,-.151632,.505334,.139116,.397925,-.162073,.51168,.152995,.407824,-.172819,.518876,.168071,.420014,-.183929,.527639,.184495,.434266,-.195032,.537588,.20232,.447352,-.205792,.544379,.221189,.463726,-.216704,.553422,.241616,.481406,-.227531,.562074,.263298,.498707,-.238017,.568227,.286116,.518039,-.247936,.574473,.3101,.538277,-.257437,.579191,.335401,.561166,-.266829,.584807,.362246,.583189,-.275329,.586476,.390609,.606024,-.28234,.585578,.420998,.632419,-.287924,.584496,.454357,.656128,-.291972,.577766,.488233,.679953,-.29456,.56875,.523248,.704654,-.295816,.558388,.559168,.729016,-.295157,.544826,.595326,.752062,-.292779,.528273,.631864,.773138,-.288681,.508482,.667793,.794869,-.283358,.487341,.704035,.815101,-.27608,.46354,.739925,.834212,-.26767,.438672,.775539,.852368,-.257397,.411239,.810895,.870207,-.245689,.3829,.846472,.884063,-.231452,.351496,.881788,.898284,-.215561,.31895,.917438,.912964,-.198208,.287367,.952422,.924666,-.180426,.254487,.987551,.934429,-.161525,.222226,1.02142,.943485,-.141197,.191143,1.05218,.9521,-.120085,.161112,1.07937,.957876,-.0975881,.130982,1.10403,.966943,-.0726842,.0990553,1.12616,.978313,-.0483705,.0662818,1.14619,.990048,-.0239072,.0329243,1.16413,.999984,461885e-9,-772859e-10,1.18099,.321287,-935049e-11,.455413,659662e-11,.332595,-237513e-9,.471437,167562e-9,.332729,-949964e-9,.471618,670192e-9,.332305,-.00213618,.471028,.00150712,.332326,-.00379765,.471055,.00267959,.332344,-.00593353,.471072,.00418751,.332356,-.00854349,.471077,.00603172,.332403,-.0116268,.471121,.00821362,.332461,-.0151824,.47117,.0107357,.332552,-.0192088,.471251,.0136014,.332657,-.0237024,.47133,.0168152,.332835,-.0286615,.471487,.0203853,.333083,-.0340765,.471708,.0243212,.333547,-.0398563,.47219,.0286518,.333989,-.0460916,.472587,.0333763,.334532,-.0527897,.473054,.0385084,.335167,-.0599284,.473568,.0440638,.33608,-.0673514,.474362,.0500962,.337146,-.0752237,.475231,.0566022,.338462,-.083418,.476282,.0636272,.34014,-.0919382,.477615,.0712153,.342341,-.100741,.479404,.079417,.345088,-.109905,.481618,.0882631,.349049,-.119369,.485081,.0978851,.353939,-.129033,.489317,.108336,.359893,-.139038,.494309,.119698,.366945,-.149411,.499983,.132024,.375814,-.159843,.507185,.145558,.387112,-.170664,.516392,.160433,.40023,-.181897,.526519,.176648,.412555,-.192785,.53423,.193922,.427023,-.203663,.542741,.212662,.443685,-.214695,.552066,.232944,.461499,-.225561,.560762,.254495,.480975,-.236257,.569421,.277531,.501,-.24639,.576101,.301724,.521691,-.256101,.581493,.327112,.543478,-.265289,.585221,.353917,.566094,-.273938,.587614,.381941,.589578,-.281679,.587991,.41172,.614583,-.287655,.585928,.444148,.641813,-.292228,.582092,.478617,.666189,-.295172,.57398,.51397,.690475,-.29648,.561676,.550118,.715543,-.296203,.548758,.586933,.740405,-.293999,.532792,.62384,.762183,-.28998,.512735,.660723,.786069,-.28478,.492402,.69807,.806812,-.277568,.469058,.734422,.826987,-.268951,.443017,.770946,.844588,-.259049,.415501,.80699,.863725,-.2471,.387328,.842107,.879137,-.234157,.356108,.878078,.894634,-.218719,.324315,.914058,.909162,-.201293,.291813,.949922,.92072,-.18267,.258474,.985337,.93158,-.163212,.225593,1.0205,.941238,-.142771,.193986,1.05273,.949293,-.120956,.163392,1.08075,.956226,-.0985743,.132934,1.10559,.96546,-.075118,.101255,1.12823,.977403,-.0497921,.0675441,1.149,.989648,-.0241574,.0334681,1.16765,1.00001,5762e-7,-184807e-9,1.18519,.303474,-916603e-11,.4542,61243e-10,.308894,-232869e-9,.462306,155592e-9,.309426,-931661e-9,.463093,622499e-9,.308643,-.0020949,.461933,.00139979,.308651,-.0037242,.461941,.00248874,.308662,-.00581873,.46195,.00388933,.308687,-.00837818,.461974,.00560247,.308728,-.0114016,.462011,.00762948,.308789,-.0148884,.462067,.00997326,.308882,-.0188369,.462151,.0126375,.309007,-.0232436,.462263,.0156271,.30918,-.0281054,.462417,.0189498,.309442,-.0334065,.462667,.0226167,.309901,-.0390589,.463162,.0266614,.310331,-.0452042,.463555,.0310715,.310858,-.0517735,.464019,.0358698,.311576,-.0587359,.464669,.0410848,.312436,-.0660383,.465406,.0467453,.313526,-.0737266,.466339,.0528718,.314903,-.0817574,.467504,.0595039,.316814,-.090167,.469226,.0666888,.318965,-.0987555,.470981,.0744658,.322077,-.107792,.473814,.082912,.325947,-.117098,.477241,.0920846,.331008,-.126602,.48184,.102137,.337893,-.136619,.488334,.113135,.345106,-.146838,.494415,.12511,.355111,-.157357,.503275,.138356,.365095,-.167955,.510966,.152686,.378344,-.179157,.521508,.16856,.391599,-.190143,.530455,.18561,.407786,-.20123,.541275,.204308,.425294,-.212456,.551784,.224623,.444021,-.223568,.561493,.246172,.463418,-.234154,.569886,.268979,.484077,-.244546,.577116,.293411,.505513,-.254301,.582914,.318936,.527672,-.263564,.587208,.345856,.550565,-.272332,.589277,.374054,.573656,-.280011,.588426,.403276,.59827,-.286924,.587504,.43474,.624731,-.291994,.583401,.468767,.652396,-.295159,.576997,.504411,.67732,-.296954,.565863,.54114,.703147,-.296877,.552316,.57816,.728715,-.295147,.536773,.616124,.752448,-.291275,.51771,.653885,.775169,-.285905,.496087,.691537,.799307,-.279064,.474232,.729251,.819482,-.270294,.447676,.766267,.837659,-.260032,.419656,.802616,.856903,-.248497,.391328,.838583,.873325,-.235252,.360285,.874711,.889788,-.221126,.329215,.91077,.904486,-.204304,.296392,.94653,.917711,-.185562,.262159,.983828,.928969,-.165635,.229142,1.01955,.939707,-.14442,.19673,1.05317,.948167,-.122147,.165095,1.0823,.955222,-.099098,.13451,1.10791,.964401,-.0755332,.102476,1.1312,.976605,-.0513817,.0689667,1.15218,.989085,-.0258499,.034506,1.17129,.999908,617773e-9,-271268e-9,1.18961,.285803,-905752e-11,.452348,572272e-11,.284689,-22732e-8,.450581,143626e-9,.285263,-910214e-9,.451482,575099e-9,.285302,-.00204784,.451553,.00129395,.285318,-.00364057,.451574,.0023006,.28533,-.00568813,.451585,.00359547,.285361,-.00819001,.451618,.00517934,.285397,-.0111458,.45165,.007054,.285447,-.0145536,.451688,.00922167,.285527,-.0184127,.451758,.0116869,.285688,-.0227207,.451929,.0144555,.28584,-.0274712,.452055,.0175341,.286136,-.0326278,.452369,.0209406,.286574,-.0381792,.452853,.0246965,.287012,-.0441879,.453272,.0287996,.287542,-.0506096,.453752,.033268,.288299,-.0573634,.454488,.0381504,.289186,-.0645458,.455294,.0434447,.290302,-.0720405,.456301,.0491973,.291776,-.0799046,.457648,.0554453,.29372,-.088117,.459483,.0622311,.296052,-.0965328,.461571,.0695992,.299563,-.105409,.465085,.077658,.30335,-.114553,.468506,.0864176,.309167,-.123917,.474423,.0961078,.31529,-.13381,.47995,.106643,.324163,-.144021,.488592,.118322,.333272,-.154382,.496461,.131133,.344224,-.165015,.50562,.145208,.357733,-.176168,.516719,.16073,.373046,-.187468,.528513,.177807,.38788,-.198488,.537713,.196072,.405133,-.209545,.547999,.21605,.423845,-.220724,.55759,.237484,.443777,-.231518,.566246,.26039,.464824,-.242035,.574326,.284835,.486635,-.251898,.58037,.310518,.51012,-.261304,.58568,.337678,.535301,-.270384,.590197,.366242,.559193,-.27841,.590569,.395873,.583544,-.285325,.588161,.426857,.608834,-.291113,.584249,.459477,.635753,-.294882,.57763,.494734,.664367,-.297088,.569479,.532023,.689688,-.297364,.555064,.569629,.715732,-.295949,.539522,.608124,.741307,-.292259,.521613,.646231,.764949,-.287063,.49969,.684938,.788599,-.28012,.476747,.723548,.81048,-.27153,.45116,.761135,.831372,-.261289,.424101,.798916,.850092,-.249559,.39443,.835952,.867777,-.236348,.363849,.871606,.884632,-.221569,.332477,.907843,.90047,-.20618,.300667,.944187,.914524,-.188771,.266552,.981371,.926892,-.168362,.232349,1.01841,.937951,-.146761,.199359,1.05308,.947236,-.123813,.1675,1.0839,.954367,-.099984,.136166,1.11047,.963907,-.0759278,.103808,1.13414,.976218,-.0511367,.0697061,1.15575,.988772,-.0267415,.0352529,1.17531,.999888,-520778e-9,289926e-9,1.19389,.263546,-883274e-11,.441896,526783e-11,.262352,-221849e-9,.439889,132311e-9,.262325,-886683e-9,.439848,528824e-9,.26228,-.00199476,.439765,.00118975,.262372,-.00354671,.439922,.00211568,.26239,-.00554141,.439941,.00330652,.262412,-.00797888,.439961,.00476346,.262453,-.0108584,.440002,.00648818,.262528,-.0141788,.440085,.0084835,.262615,-.017938,.440166,.0107533,.262744,-.0221346,.440291,.0133044,.262939,-.026762,.440493,.0161445,.263277,-.0317573,.440889,.0192974,.26368,-.0371832,.441338,.0227699,.264106,-.0430371,.441753,.0265698,.264624,-.0493035,.442227,.0307178,.265378,-.0558669,.442985,.0352616,.266253,-.0628718,.443795,.0401968,.267478,-.0701569,.445008,.04559,.269062,-.077845,.446599,.0514539,.270926,-.0857941,.448349,.0578382,.273693,-.0940773,.451221,.0648363,.276746,-.102704,.454097,.0724389,.281693,-.111735,.459517,.0808744,.287335,-.121004,.46531,.0901551,.29448,-.130734,.472605,.100371,.30257,-.140777,.480251,.111644,.312465,-.15111,.489444,.124111,.324856,-.16189,.500919,.137979,.33774,-.172946,.511317,.153163,.35255,-.184152,.522684,.169817,.367786,-.19522,.53248,.187886,.385474,-.20632,.543326,.207634,.404976,-.217744,.554109,.229165,.425203,-.228691,.563395,.252068,.446704,-.239299,.571565,.276471,.468951,-.249348,.577935,.302323,.493487,-.258933,.584309,.329882,.517861,-.268009,.58773,.358525,.543309,-.276238,.589612,.388585,.569704,-.28356,.589294,.419787,.594871,-.289497,.585137,.452114,.622555,-.294452,.580356,.486466,.651167,-.296918,.57185,.523079,.677332,-.297647,.558428,.5611,.703718,-.296321,.542232,.599592,.730262,-.293339,.524541,.639138,.754304,-.288036,.502691,.677978,.778051,-.281018,.479212,.716537,.801557,-.272414,.454071,.75586,.822559,-.262419,.425952,.794477,.843051,-.250702,.397313,.832664,.86232,-.237264,.366534,.869876,.879044,-.222716,.334816,.906973,.896362,-.206827,.303143,.943558,.910342,-.189659,.269699,.979759,.924119,-.171108,.236411,1.01718,.935374,-.149579,.202224,1.05289,.944295,-.126295,.16989,1.08496,.952227,-.101511,.138089,1.11256,.962041,-.0766392,.105053,1.1375,.97528,-.0511967,.070329,1.15983,.988476,-.025463,.0351268,1.17987,.999962,286808e-10,145564e-10,1.19901,.227089,-841413e-11,.404216,472707e-11,.239725,-215083e-9,.426708,120833e-9,.239904,-860718e-9,.427028,483555e-9,.239911,-.00193661,.427039,.00108806,.239914,-.00344276,.42704,.00193457,.239933,-.00537907,.427064,.00302363,.239944,-.00774482,.427065,.00435604,.239993,-.01054,.427122,.00593398,.240052,-.0137626,.427179,.00775987,.240148,-.0174115,.427279,.00983854,.240278,-.021484,.42741,.0121763,.240472,-.0259729,.427618,.0147827,.240839,-.0308131,.428086,.0176837,.241201,-.0360893,.428482,.0208775,.241626,-.0417723,.428907,.0243821,.242207,-.0478337,.42952,.0282228,.24298,-.0542199,.430332,.0324333,.243881,-.0610015,.431222,.0370252,.245123,-.0680874,.432512,.0420535,.24667,-.0755482,.434088,.0475414,.248779,-.0832873,.436323,.0535542,.251665,-.0913546,.439509,.0601716,.255305,-.0998489,.443478,.0674282,.260049,-.108576,.448713,.0754673,.266192,-.117754,.455524,.084339,.273158,-.127294,.4627,.0941683,.282131,-.137311,.472068,.10515,.293332,-.147736,.483565,.117402,.304667,-.158357,.493702,.130824,.317785,-.169274,.504708,.145724,.333245,-.180595,.517107,.16215,.349843,-.191892,.528849,.180149,.367944,-.203168,.540301,.199746,.387579,-.214443,.551514,.221047,.408247,-.225624,.560906,.243981,.43014,-.236422,.56959,.268513,.452669,-.24654,.576098,.294409,.476196,-.256157,.580925,.322002,.501157,-.265289,.584839,.351052,.527632,-.273671,.587614,.3812,.555754,-.281254,.589119,.412994,.581682,-.287448,.585204,.445498,.608196,-.292614,.579006,.479505,.635661,-.296068,.571297,.514643,.664999,-.297395,.560855,.552213,.691039,-.296645,.544525,.591365,.7179,-.293785,.526535,.630883,.744059,-.289089,.50545,.670932,.76863,-.282239,.482514,.710904,.793273,-.273688,.457246,.750259,.814731,-.26328,.428872,.78948,.835603,-.251526,.399384,.828597,.85489,-.238339,.368811,.866892,.872828,-.223607,.336617,.90563,.889462,-.207538,.303997,.943538,.904929,-.190297,.270812,.980591,.919101,-.172034,.237453,1.01935,.930536,-.152058,.204431,1.05498,.941223,-.129515,.172495,1.08717,.94982,-.104263,.140175,1.11551,.960592,-.0781944,.106465,1.14098,.974629,-.051688,.0711592,1.16418,.98811,-.0253929,.0354432,1.18465,1.00004,804378e-9,-330876e-9,1.20462,.214668,-821282e-11,.406619,433582e-11,.218053,-208144e-9,.413025,109887e-9,.217987,-832212e-9,.412901,439362e-9,.217971,-.00187246,.412876,988623e-9,.217968,-.00332855,.41286,.00175772,.217985,-.00520055,.412882,.00274729,.218014,-.00748814,.412916,.00395842,.218054,-.0101901,.412957,.00539274,.218106,-.0133057,.413005,.00705348,.218217,-.0168342,.413139,.00894581,.218338,-.0207707,.413258,.0110754,.21855,-.0251001,.413509,.0134551,.218913,-.0297861,.413992,.0161081,.219265,-.0348956,.414383,.0190307,.219696,-.0403909,.414839,.0222458,.220329,-.0462003,.415567,.025792,.220989,-.0524208,.41621,.0296637,.222027,-.058948,.417385,.0339323,.223301,-.0658208,.418779,.0386055,.224988,-.0730347,.420665,.0437355,.227211,-.0805274,.423198,.0493844,.230131,-.088395,.426566,.0556135,.233908,-.0966208,.43091,.0624829,.239092,-.105223,.437148,.0701636,.245315,-.11424,.444302,.0786949,.253166,-.12368,.453262,.0882382,.262374,-.133569,.463211,.0988682,.273145,-.143836,.474271,.110727,.285512,-.154577,.4863,.123945,.299512,-.165501,.498817,.138581,.314287,-.176698,.510341,.154676,.331083,-.188066,.522583,.172459,.349615,-.199597,.534879,.191979,.369318,-.210843,.546083,.21309,.390377,-.222068,.5562,.235998,.412411,-.233059,.564704,.260518,.435715,-.24357,.572314,.286795,.461196,-.253356,.579395,.314559,.485587,-.262362,.581985,.343581,.511908,-.270895,.584347,.374367,.539798,-.278452,.58505,.406015,.567974,-.284877,.583344,.439168,.594303,-.290124,.577348,.473005,.622951,-.294183,.570751,.508534,.652404,-.296389,.561541,.544764,.679291,-.296605,.546426,.582927,.706437,-.294095,.528599,.622681,.734485,-.28978,.508676,.663567,.758841,-.283363,.484768,.704092,.78537,-.275015,.460434,.745101,.807315,-.264689,.432166,.784712,.8271,-.252597,.401807,.824241,.849191,-.239154,.371458,.863803,.867046,-.224451,.338873,.903063,.8852,-.208342,.306175,.942763,.901771,-.190684,.272759,.981559,.915958,-.172105,.239306,1.02048,.928046,-.152214,.206071,1.05765,.939961,-.130247,.17367,1.08999,.948711,-.10672,.142201,1.11829,.959305,-.0808688,.108454,1.14467,.973009,-.0539145,.0728109,1.16839,.987631,-.0262947,.0360625,1.19004,.999978,.00132758,-559424e-9,1.21058,.193925,-793421e-11,.391974,392537e-11,.196746,-200315e-9,.397675,991033e-10,.19667,-801099e-9,.397521,396342e-9,.196633,-.00180246,.397445,891829e-9,.196654,-.00320443,.397482,.00158582,.196659,-.00500647,.39748,.00247867,.196683,-.0072086,.397506,.00357167,.196728,-.00981001,.397562,.00486675,.196792,-.0128096,.397633,.00636707,.19689,-.0162055,.397746,.00807752,.197017,-.0199943,.397884,.0100052,.19729,-.024139,.39827,.0121691,.197583,-.0286671,.398639,.0145755,.197927,-.0335858,.399034,.0172355,.198383,-.0388806,.399554,.0201718,.199002,-.0444736,.400289,.0234194,.199739,-.0504583,.401111,.026984,.200784,-.056729,.402349,.0309217,.202075,-.0633643,.403841,.0352496,.203898,-.0703247,.406076,.0400313,.206199,-.0775565,.408841,.0453282,.209252,-.085184,.41259,.0511794,.213638,-.0931994,.418288,.0577459,.21881,-.101617,.424681,.0650508,.225642,-.11052,.433429,.0732759,.233717,-.119772,.442897,.0824683,.242823,-.129505,.452888,.0927484,.254772,-.139906,.466407,.104417,.266603,-.150402,.477413,.117211,.28073,-.161395,.490519,.131598,.295399,-.172465,.50201,.147407,.312705,-.183982,.515311,.165031,.331335,-.195532,.52786,.184336,.351037,-.206971,.5392,.205361,.372175,-.218117,.54941,.228043,.394548,-.229327,.558642,.25267,.419598,-.240052,.567861,.279071,.443922,-.249937,.573332,.306882,.471495,-.259407,.58013,.33661,.496769,-.267749,.580564,.367328,.524951,-.275524,.581696,.399753,.55318,-.282148,.579885,.433134,.581577,-.287533,.575471,.467534,.609231,-.291612,.567445,.502943,.637478,-.293911,.557657,.53871,.667795,-.295096,.546535,.576568,.694272,-.294073,.529561,.614929,.722937,-.290386,.510561,.655909,.749682,-.284481,.487846,.697663,.774754,-.276188,.462487,.738515,.799301,-.266215,.43481,.779802,.820762,-.254116,.404879,.820045,.843231,-.240393,.374559,.860294,.861857,-.225503,.341582,.900965,.880815,-.209382,.308778,.941727,.89766,-.19155,.275232,.980916,.912926,-.172346,.240938,1.02162,.926391,-.151799,.207223,1.0597,.938429,-.129968,.17484,1.09291,.947834,-.10651,.142984,1.12248,.958432,-.0824098,.109902,1.149,.972402,-.0565242,.0744454,1.1733,.987191,-.028427,.0373794,1.19538,.999975,385685e-10,-4203e-8,1.21676,.178114,-766075e-11,.385418,354027e-11,.176074,-191966e-9,.381002,887135e-10,.17601,-767549e-9,.380861,354715e-9,.17598,-.00172696,.380798,798168e-9,.175994,-.00307012,.380824,.00141928,.176017,-.00479684,.380858,.00221859,.176019,-.00690648,.380839,.00319714,.176072,-.00939888,.380913,.0043572,.176131,-.0122726,.380979,.005702,.176239,-.0155264,.38112,.00723689,.176371,-.0191551,.381272,.00896907,.176638,-.023117,.381669,.0109194,.176912,-.0274633,.382015,.0130903,.177279,-.032173,.382476,.0154949,.17774,-.0372219,.383041,.0181669,.178344,-.0426132,.38378,.0211209,.179153,-.0483309,.384773,.0243899,.180197,-.0543447,.386076,.0280062,.181581,-.0607122,.387809,.032004,.18344,-.0673855,.390205,.036453,.186139,-.0743989,.393944,.0414162,.189432,-.0817731,.39832,.0469394,.193795,-.0895464,.404188,.0531442,.199641,-.0978264,.4121,.0601374,.206679,-.106499,.421425,.0680078,.214865,-.115654,.431504,.076919,.224406,-.125268,.442526,.0868835,.235876,-.135475,.455465,.0981875,.248335,-.146023,.4681,.110759,.262868,-.157016,.482069,.124885,.278962,-.168245,.496182,.140645,.295082,-.17958,.507401,.157838,.313738,-.191227,.520252,.17695,.333573,-.202718,.531708,.197817,.356433,-.214424,.544509,.220785,.378853,-.225492,.55373,.245306,.402717,-.236236,.561348,.271593,.428375,-.246568,.568538,.299776,.454724,-.255941,.573462,.329433,.482291,-.264511,.576356,.360598,.509706,-.272129,.576446,.393204,.538805,-.278979,.575298,.427227,.568919,-.284528,.572154,.462157,.596804,-.288801,.564691,.497997,.625987,-.291334,.555134,.534467,.656414,-.292722,.545051,.571736,.683916,-.292185,.528813,.610158,.711809,-.290043,.51106,.649061,.739547,-.285246,.490103,.690081,.766914,-.277647,.465523,.732554,.791375,-.267603,.437718,.773982,.814772,-.256109,.40882,.81609,.836691,-.242281,.377823,.856849,.856984,-.227155,.34496,.898363,.876332,-.210395,.311335,.939471,.894988,-.192612,.277703,.980799,.911113,-.173236,.243019,1.02215,.924092,-.152258,.209037,1.06139,.936828,-.129575,.175909,1.09635,.946869,-.10594,.143852,1.12707,.958284,-.081318,.110289,1.15419,.972325,-.0556133,.0747232,1.17909,.986878,-.0297899,.0383149,1.20163,.999936,-.00197169,912402e-9,1.22338,.151174,-720365e-11,.351531,309789e-11,.155594,-18279e-8,.361806,78608e-9,.156099,-731569e-9,.362982,314615e-9,.156053,-.00164578,.362869,707845e-9,.156093,-.0029261,.362961,.00125884,.156099,-.00457155,.362959,.00196783,.15612,-.00658224,.362982,.00283622,.156168,-.00895774,.363048,.00386625,.156221,-.0116962,.363101,.00506109,.156324,-.0147973,.363241,.00642675,.156476,-.0182503,.363448,.00797175,.156731,-.0220266,.36384,.00971484,.156994,-.026176,.364179,.0116575,.157341,-.0306701,.36462,.0138207,.157867,-.0354591,.365364,.0162356,.15846,-.0406141,.366111,.0189092,.159308,-.0460519,.367248,.021885,.160426,-.0518096,.368767,.0252004,.161877,-.0578906,.370745,.0288825,.163995,-.0642812,.373831,.0330139,.16655,-.0710067,.377366,.0376283,.170237,-.0781522,.382799,.0428493,.175096,-.0857172,.389915,.0487324,.181069,-.0938025,.398487,.0554214,.188487,-.102363,.408799,.0630189,.197029,-.111343,.419991,.071634,.206684,-.120812,.431455,.0812797,.218698,-.131033,.445746,.0923651,.230726,-.141373,.457471,.104545,.245516,-.152387,.472388,.118449,.261551,-.163628,.486671,.133923,.277437,-.174814,.49762,.150849,.296662,-.186713,.51162,.169924,.31795,-.198513,.525435,.190848,.339422,-.210119,.536267,.213504,.362143,-.221354,.545982,.237947,.387198,-.23224,.555364,.264427,.412349,-.24257,.561489,.292519,.439274,-.252284,.566903,.322561,.466779,-.261023,.569614,.353952,.496011,-.26899,.571589,.387278,.524964,-.275498,.570325,.421356,.556518,-.281449,.568792,.457314,.584363,-.285526,.560268,.493199,.614214,-.28844,.55205,.530276,.645684,-.289777,.541906,.56855,.673446,-.289722,.526464,.606927,.701924,-.287792,.509872,.645945,.73037,-.284315,.490649,.685564,.757405,-.278804,.467964,.726511,.784025,-.269543,.441468,.768601,.808255,-.258117,.41216,.811321,.830739,-.244728,.380606,.853496,.851914,-.229428,.348111,.895374,.872586,-.212508,.314732,.937674,.891581,-.194025,.280338,.979869,.907641,-.174711,.245203,1.02253,.922233,-.153509,.21077,1.06371,.935878,-.130418,.177399,1.09972,.946338,-.105558,.144507,1.13124,.957265,-.080059,.110508,1.15973,.971668,-.0539766,.0742311,1.18515,.9866,-.0277101,.0375224,1.20858,1.00021,-515531e-9,135226e-9,1.23135,.137468,-686011e-11,.345041,273315e-11,.13703,-173378e-9,.343936,690761e-10,.136986,-693048e-9,.34383,276126e-9,.136964,-.00155931,.343761,621337e-9,.137003,-.00277211,.343863,.00110494,.137012,-.00433103,.343868,.00172744,.137043,-.00623606,.343916,.00249022,.13709,-.0084868,.343986,.00339559,.137145,-.0110814,.344045,.00444687,.137242,-.0140187,.344177,.00565007,.137431,-.0172713,.344491,.00701868,.137644,-.0208605,.344805,.00856042,.13791,-.024792,.345172,.0102863,.138295,-.0290461,.345734,.0122185,.138764,-.0335957,.346371,.0143771,.139415,-.038467,.347298,.0167894,.140272,-.0436176,.348527,.0194895,.141457,-.0491016,.350276,.0225043,.14303,-.0548764,.352646,.0258962,.145289,-.0610096,.356206,.0297168,.148502,-.0674777,.361488,.0340562,.152188,-.074345,.367103,.0389534,.157359,-.0817442,.375247,.0445541,.16379,-.0896334,.385064,.0509535,.171376,-.098005,.396082,.0582611,.179901,-.106817,.407418,.06654,.189892,-.116239,.420031,.075994,.201838,-.12627,.434321,.0867239,.214311,-.136701,.447631,.0987517,.228902,-.147616,.462046,.112353,.245107,-.158871,.476942,.127605,.262292,-.170261,.490285,.144469,.281215,-.182017,.503783,.163282,.301058,-.193729,.515505,.183873,.322752,-.205512,.52682,.206466,.347547,-.217214,.539473,.231194,.370969,-.227966,.546625,.257288,.397533,-.238555,.55472,.285789,.42398,-.248278,.559468,.315746,.452928,-.257422,.564095,.347724,.482121,-.265306,.565426,.380922,.510438,-.272043,.563205,.415639,.541188,-.277614,.561087,.451702,.571667,-.281927,.554922,.48845,.602432,-.285015,.546838,.526442,.634126,-.286512,.537415,.564896,.662816,-.286388,.522906,.604037,.692411,-.284734,.507003,.643795,.720946,-.281297,.488398,.68298,.748293,-.276262,.466353,.723466,.776931,-.269978,.443573,.764565,.801065,-.260305,.415279,.805838,.825843,-.247426,.384773,.849985,.84807,-.232437,.352555,.893174,.869122,-.215806,.318642,.936564,.888963,-.197307,.28381,.980253,.905547,-.177203,.247888,1.02463,.918554,-.155542,.212904,1.06714,.931395,-.131948,.1787,1.10451,.941749,-.106723,.145902,1.13694,.954551,-.0804939,.111193,1.1666,.970279,-.0534239,.0744697,1.19249,.986117,-.0257452,.0368788,1.21665,.999938,.00190634,-.0010291,1.23981,.118493,-647439e-11,.32272,23772e-10,.118765,-163023e-9,.323456,598573e-10,.118772,-65212e-8,.323477,239447e-9,.118843,-.00146741,.323657,538881e-9,.118804,-.00260846,.323553,95826e-8,.118826,-.00407576,.323595,.00149845,.118846,-.00586826,.323617,.00216047,.118886,-.00798578,.32367,.00294679,.118947,-.0104273,.323753,.00386124,.119055,-.0131909,.323922,.00490999,.119241,-.0162444,.324251,.00610804,.11944,-.0196339,.324544,.00745805,.119739,-.0233378,.325026,.00897805,.12011,-.0273179,.325586,.0106895,.120571,-.0316143,.326231,.0126073,.12124,-.0361939,.327264,.0147654,.122162,-.0410511,.328733,.0172001,.123378,-.0462233,.330659,.0199375,.125183,-.0517109,.333754,.0230498,.127832,-.0575652,.338507,.026597,.130909,-.0637441,.343666,.0306345,.135221,-.0704302,.351063,.035273,.14082,-.0776364,.360604,.0406137,.146781,-.0852293,.369638,.0466788,.155121,-.0935351,.3827,.0537628,.16398,-.102234,.39522,.0617985,.173926,-.111465,.40793,.07097,.185137,-.121296,.42105,.0813426,.19826,-.13169,.435735,.0931596,.212938,-.142614,.450932,.106547,.229046,-.153884,.465726,.121575,.246246,-.165382,.479461,.138286,.264637,-.176806,.492106,.15666,.284959,-.188793,.504774,.17728,.308157,-.200763,.518805,.19988,.330951,-.21239,.528231,.224293,.3549,-.223521,.536376,.250541,.381502,-.234169,.544846,.278902,.409529,-.244077,.551717,.309227,.437523,-.253363,.55517,.341426,.467624,-.261659,.557772,.37518,.497268,-.268498,.556442,.41007,.528294,-.274018,.553915,.446445,.559053,-.278169,.549153,.483779,.589329,-.281229,.539878,.522249,.622503,-.282902,.53162,.561754,.652382,-.282815,.518119,.601544,.681847,-.281247,.502187,.641574,.712285,-.277986,.484824,.682633,.740094,-.273017,.463483,.723426,.768478,-.266692,.441299,.763747,.794556,-.258358,.415238,.805565,.819408,-.248807,.386912,.847254,.843411,-.236214,.356165,.891091,.862397,-.219794,.320562,.936174,.883113,-.201768,.285322,.982562,.90023,-.181672,.249713,1.02862,.915192,-.159279,.214546,1.07163,.928458,-.134725,.180285,1.10995,.94069,-.10913,.147119,1.14354,.953409,-.0821315,.112492,1.17372,.969537,-.0542677,.0752014,1.20043,.985612,-.0259096,.0370361,1.22528,.999835,.00298198,-.00151801,1.24959,.10097,-602574e-11,.300277,202619e-11,.101577,-152164e-9,.302077,511662e-10,.101572,-608889e-9,.302066,204751e-9,.101566,-.00136997,.302047,460753e-9,.101592,-.00243557,.302114,819497e-9,.101608,-.0038053,.30214,.00128154,.101627,-.00547906,.30216,.0018483,.101669,-.00745647,.302224,.00252223,.101732,-.00973615,.302318,.00330716,.101844,-.0123097,.302513,.00421061,.102025,-.0151681,.30285,.00524481,.102224,-.0183334,.303166,.0064154,.102515,-.0217819,.303654,.00774063,.102886,-.0255067,.304243,.0092398,.103395,-.029514,.305089,.0109339,.104109,-.0337912,.306301,.0128561,.105074,-.0383565,.30798,.0150338,.10654,-.0432132,.310726,.0175228,.108478,-.0484244,.314351,.0203648,.111015,-.0539339,.319032,.0236325,.114682,-.0598885,.32605,.0274188,.11911,-.0663375,.334109,.0317905,.124736,-.0733011,.344013,.0368502,.131479,-.0807744,.355358,.0427104,.139283,-.0888204,.367614,.0494788,.148054,-.0973394,.380072,.0572367,.159037,-.10665,.395678,.0662704,.169794,-.116221,.40795,.0763192,.18314,-.126632,.423546,.087956,.197515,-.137383,.438213,.101042,.213514,-.148641,.453248,.115827,.23065,-.160117,.46688,.132283,.249148,-.171807,.479962,.150644,.270219,-.183695,.494618,.171073,.292338,-.195574,.506937,.193378,.314999,-.207205,.516463,.217585,.340991,-.218955,.528123,.24428,.367982,-.229917,.537025,.272784,.39432,-.239737,.541627,.302742,.423364,-.249048,.546466,.335112,.453751,-.257329,.549466,.369032,.48416,-.264623,.549503,.404577,.515262,-.270411,.547008,.441337,.547036,-.274581,.542249,.479162,.576614,-.277266,.533015,.517904,.611143,-.279144,.525512,.558508,.640989,-.279001,.51154,.598995,.671182,-.277324,.495641,.639935,.700848,-.273908,.477526,.681017,.729862,-.269063,.457955,.722764,.758273,-.262282,.434846,.764349,.784121,-.254281,.409203,.806206,.809798,-.24505,.382694,.848617,.834953,-.233861,.354034,.892445,.856817,-.221308,.321764,.936263,.877609,-.205996,.288118,.982401,.897489,-.186702,.253277,1.02975,.913792,-.164618,.217963,1.07488,.92785,-.140023,.183221,1.11487,.940378,-.11328,.149385,1.14947,.95273,-.0853958,.114152,1.1807,.969059,-.0568698,.0769845,1.20912,.985574,-.0276502,.0381186,1.23498,.999943,.00239052,-.00126861,1.25987,.0852715,-560067e-11,.279021,171162e-11,.0854143,-140871e-9,.279483,430516e-10,.0854191,-563385e-9,.2795,172184e-9,.0854188,-.00126753,.279493,387464e-9,.0854229,-.00225337,.279501,68918e-8,.0854443,-.00352086,.279549,.00107803,.0854697,-.00506962,.279591,.00155536,.0855093,-.00689873,.279652,.00212354,.0855724,-.00900821,.279752,.00278703,.0856991,-.0113799,.280011,.0035551,.085855,-.0140314,.280297,.00443449,.0860682,-.016963,.280682,.00543636,.086344,-.0201438,.281159,.0065788,.0867426,-.0235999,.281886,.00787977,.087239,-.0273069,.282745,.0093606,.0879815,-.031269,.284139,.011056,.0891258,-.035531,.28647,.0130065,.0906909,-.0400947,.289708,.0152495,.0927624,-.0449638,.293904,.0178454,.0958376,-.0502427,.300471,.0208915,.0995827,-.0559514,.30806,.0244247,.104526,-.0622152,.317874,.0285721,.110532,-.0690046,.329332,.0334227,.117385,-.0763068,.341217,.0390466,.12522,-.084184,.353968,.0455786,.134037,-.0925248,.366797,.0530773,.144014,-.101487,.380209,.0617424,.156013,-.111273,.395956,.071777,.168872,-.121431,.41053,.0830905,.183089,-.132105,.425073,.0959341,.198763,-.143286,.439833,.110448,.216159,-.154841,.454507,.126769,.234859,-.166588,.468368,.14495,.255879,-.178626,.482846,.165233,.27677,-.190218,.493489,.187217,.301184,-.202227,.506549,.211659,.325852,-.213764,.5158,.237922,.352824,-.22487,.525442,.26632,.380882,-.235246,.532487,.296691,.410137,-.244847,.537703,.329179,.439787,-.253122,.540361,.363135,.472291,-.260517,.542734,.399222,.501856,-.266519,.538826,.436352,.534816,-.270905,.535152,.474505,.565069,-.273826,.525979,.513988,.597154,-.275333,.516394,.554852,.630473,-.275314,.506206,.596592,.660574,-.273323,.489769,.638117,.692015,-.270008,.472578,.680457,.720647,-.265001,.452134,.723008,.750528,-.258311,.430344,.765954,.777568,-.250046,.405624,.809012,.80387,-.240114,.378339,.852425,.828439,-.228737,.349877,.895346,.851472,-.216632,.318968,.940695,.873906,-.202782,.287489,.987235,.89467,-.187059,.254394,1.03348,.912281,-.168818,.221294,1.07812,.927358,-.146494,.18675,1.11928,.940385,-.120009,.152322,1.15609,.952672,-.0917183,.117514,1.18875,.968496,-.0620321,.0797405,1.21821,.985236,-.0314945,.0402383,1.24523,.99998,-575153e-9,110644e-9,1.27133,.0702429,-512222e-11,.255273,140947e-11,.0702981,-128826e-9,.255469,354488e-10,.0703691,-515562e-9,.255727,141874e-9,.0703805,-.00116,.255754,31929e-8,.0703961,-.00206224,.255813,567999e-9,.0704102,-.00322223,.255839,88871e-8,.0704298,-.00463928,.255863,.00128272,.0704759,-.00631375,.255953,.00175283,.0705434,-.00824317,.256079,.00230342,.0706693,-.010412,.25636,.0029443,.0708189,-.0128439,.256647,.00368031,.0710364,-.0155177,.257084,.00452614,.0713223,-.0184374,.257637,.00549706,.0717182,-.0216002,.258416,.00661246,.072321,-.0249966,.259699,.00790147,.0731446,-.0286566,.261475,.0093884,.0743352,-.0325888,.264132,.0111186,.0760676,-.036843,.26815,.013145,.078454,-.0414292,.273636,.0155251,.0818618,-.0464634,.281653,.0183525,.0857382,-.0519478,.289992,.0216642,.0908131,-.0579836,.30066,.0255956,.0967512,-.0645124,.312204,.0301954,.103717,-.0716505,.325001,.0356017,.111596,-.0793232,.338129,.041896,.120933,-.087645,.352853,.0492447,.130787,-.096492,.366192,.0576749,.142311,-.105973,.380864,.0673969,.155344,-.116182,.396575,.0785899,.169535,-.126815,.411443,.0912377,.185173,-.138015,.426256,.105607,.201755,-.149325,.439607,.121551,.221334,-.161207,.455467,.139608,.241461,-.173162,.469096,.159591,.26294,-.18504,.481014,.18156,.286776,-.196881,.493291,.205781,.311596,-.208311,.503556,.231819,.338667,-.219671,.513268,.260274,.366021,-.230451,.519414,.290862,.395875,-.240131,.526766,.323196,.425564,-.248566,.52905,.357071,.457094,-.256195,.530796,.393262,.488286,-.262331,.528703,.430797,.522291,-.267141,.52727,.470231,.554172,-.270411,.519848,.510477,.586427,-.271986,.510307,.551594,.619638,-.27192,.499158,.593849,.650656,-.269817,.483852,.636314,.68284,-.266267,.467515,.679679,.714356,-.26113,.44931,.723884,.742717,-.254067,.425789,.767245,.770894,-.245652,.401144,.811819,.797358,-.235554,.374224,.856315,.823377,-.223896,.346167,.901077,.847456,-.210865,.316056,.946502,.870697,-.196574,.284503,.993711,.891068,-.180814,.251628,1.04134,.909267,-.163314,.219065,1.08609,.925653,-.143304,.186446,1.12702,.940017,-.121322,.153416,1.16371,.952398,-.0973872,.120334,1.19712,.967568,-.0698785,.08352,1.22791,.984772,-.0390031,.0439209,1.25672,1.00026,-.0070087,.00315668,1.28428,.0556653,-459654e-11,.227325,112556e-11,.0565238,-116382e-9,.230826,284985e-10,.0565717,-465666e-9,.231026,114036e-9,.0565859,-.00104773,.231079,256656e-9,.0565761,-.00186255,.231025,45663e-8,.0565913,-.00291002,.231058,714664e-9,.0566108,-.00418998,.231085,.00103224,.0566532,-.00570206,.231169,.00141202,.0567473,-.00743666,.231417,.00186018,.0568567,-.00940298,.231661,.00238264,.0569859,-.0115991,.231895,.00298699,.0572221,-.0140096,.232456,.00368957,.057519,-.0166508,.233096,.00450303,.0579534,-.01951,.234094,.00544945,.0585922,-.0225991,.235629,.00655564,.0595647,-.0259416,.238106,.00785724,.0609109,-.0295661,.241557,.00939127,.0628751,-.0335126,.246652,.0112198,.0656908,-.0378604,.254091,.0134168,.0691347,-.0426543,.262666,.0160374,.0732165,-.0478967,.272029,.0191514,.0782863,-.0536716,.283007,.0228597,.0843973,-.0600683,.295732,.0272829,.0913598,-.0670095,.308779,.032484,.0994407,-.0745516,.322886,.0385886,.108189,-.082712,.336408,.0457133,.118574,-.0914927,.351692,.0539832,.129989,-.100854,.366502,.0635162,.142722,-.110837,.381675,.0744386,.156654,-.121353,.3963,.0868483,.172151,-.132414,.411477,.100963,.188712,-.143809,.42508,.116795,.208093,-.155765,.441328,.134715,.227936,-.167608,.454328,.154396,.249495,-.179579,.467235,.176179,.27362,-.191488,.480248,.200193,.296371,-.202618,.487886,.225775,.324234,-.214133,.499632,.25441,.353049,-.225212,.509532,.285077,.381785,-.234875,.514265,.317047,.414038,-.244205,.521282,.351874,.445251,-.252145,.522931,.388279,.476819,-.258433,.520947,.425825,.509209,-.263411,.517669,.465104,.542759,-.266732,.512841,.505741,.574822,-.268263,.503317,.547611,.609324,-.268489,.493035,.590953,.641772,-.266941,.478816,.63488,.674049,-.263297,.462863,.679072,.705071,-.257618,.442931,.723487,.734709,-.250625,.421299,.768708,.763704,-.24179,.397085,.814375,.791818,-.231115,.370577,.859907,.817439,-.21922,.34232,.906715,.843202,-.205658,.312627,.953943,.866639,-.190563,.280933,1.00185,.888129,-.173978,.248393,1.05105,.907239,-.155485,.216007,1.09704,.923893,-.134782,.183233,1.13857,.938882,-.11249,.150376,1.17539,.952464,-.0890706,.117177,1.20924,.968529,-.0646523,.0813095,1.24055,.984763,-.038606,.0439378,1.27018,1.00053,-.01238,.00598668,1.29873,.0437928,-409594e-11,.204012,879224e-12,.0440166,-103395e-9,.205049,221946e-10,.0440529,-413633e-9,.205225,887981e-10,.0440493,-930594e-9,.2052,199858e-9,.0439884,-.00165352,.204901,355495e-9,.0440716,-.0025849,.205255,556983e-9,.0440968,-.00372222,.205311,805326e-9,.0441359,-.00506478,.205391,.00110333,.0442231,-.00660384,.205638,.00145768,.0443254,-.00835246,.205877,.00187275,.0444832,-.0102992,.20627,.00235938,.0447001,-.0124449,.206796,.0029299,.0450168,-.0147935,.207593,.0036005,.0454816,-.017336,.208819,.00439246,.0462446,-.0201156,.211036,.00533864,.0473694,-.0231568,.214388,.00646984,.0490191,-.0264941,.219357,.00783856,.0512776,-.030184,.226061,.00950182,.0541279,-.0342661,.234094,.0115156,.0578989,-.0388539,.244297,.0139687,.0620835,-.0438735,.254457,.0169015,.0673497,-.04951,.266706,.0204554,.0731759,-.0556263,.278753,.0246606,.0803937,-.0624585,.29309,.0297126,.0879287,-.0697556,.305856,.0355868,.0970669,-.0778795,.321059,.0425768,.106508,-.0863541,.333873,.05056,.11776,-.0955935,.349008,.0598972,.130081,-.105438,.363776,.0706314,.144454,-.115899,.380112,.0828822,.1596,-.126827,.394843,.0967611,.176097,-.138161,.409033,.112381,.194726,-.149904,.424257,.129952,.213944,-.161675,.436945,.149333,.235516,-.173659,.450176,.170892,.260564,-.185963,.466305,.194984,.285183,-.197582,.477328,.220805,.311095,-.208697,.486566,.248694,.338924,-.219519,.494811,.279015,.369757,-.229766,.504065,.311725,.3996,-.238879,.507909,.345844,.430484,-.246802,.509805,.381749,.46413,-.253924,.511436,.420251,.497077,-.259319,.508787,.459957,.530434,-.263297,.50394,.501356,.565725,-.265619,.49804,.544252,.599254,-.265842,.487346,.587856,.631251,-.263978,.472975,.631969,.663972,-.26043,.457135,.677471,.697724,-.255358,.439844,.723744,.727725,-.248308,.417872,.770653,.756417,-.239181,.39273,.817357,.785419,-.22814,.367839,.864221,.81266,-.215681,.339449,.912701,.839391,-.201623,.309279,.962419,.86366,-.185624,.278029,1.0122,.885028,-.16797,.245294,1.06186,.904639,-.148336,.212689,1.10934,.922048,-.12637,.179616,1.15063,.936952,-.102928,.146749,1.18885,.951895,-.0785268,.112733,1.22352,.967198,-.0530153,.0760056,1.25681,.984405,-.02649,.0383183,1.28762,1.00021,70019e-8,-20039e-8,1.31656,.0325964,-355447e-11,.176706,655682e-12,.0329333,-899174e-10,.178527,165869e-10,.0329181,-359637e-9,.178453,663498e-10,.0329085,-808991e-9,.178383,149332e-9,.0329181,-.00143826,.178394,265873e-9,.0329425,-.00224678,.178517,416597e-9,.0329511,-.00323575,.17849,603299e-9,.033011,-.00439875,.178695,829422e-9,.0330733,-.00574059,.178843,.00109908,.0331857,-.00725896,.179176,.00141933,.0333445,-.00895289,.179618,.0017999,.0335674,-.0108219,.180238,.00225316,.033939,-.0128687,.181417,.00279765,.0345239,-.015114,.183395,.0034564,.0354458,-.017596,.186616,.00425864,.0368313,-.0203524,.191547,.00524936,.0386115,-.0234105,.197508,.00647033,.0410303,-.0268509,.205395,.00798121,.0442245,-.0307481,.215365,.0098557,.0478659,-.0350863,.225595,.0121417,.0522416,-.0399506,.236946,.0149385,.0574513,-.045357,.249442,.0183189,.0631208,-.0512863,.261222,.0223644,.0701124,-.0579273,.275418,.0272418,.0777331,-.0650652,.288989,.0329458,.0862709,-.0728813,.302546,.0396819,.096103,-.081363,.317164,.04757,.106976,-.0904463,.331733,.0567012,.119175,-.100105,.34661,.067202,.132919,-.110375,.362249,.0792588,.147727,-.121115,.376978,.0928672,.163618,-.132299,.390681,.108228,.182234,-.143887,.406571,.125502,.201809,-.155827,.42042,.144836,.225041,-.168357,.438411,.166706,.247621,-.18004,.450368,.189909,.27097,-.191536,.460083,.215251,.296658,-.203024,.469765,.243164,.325892,-.214056,.481837,.273388,.35406,-.224104,.487474,.305344,.384372,-.233489,.492773,.339741,.41749,-.241874,.498451,.376287,.45013,-.248834,.499632,.414195,.481285,-.254658,.495233,.454077,.519183,-.259367,.496401,.496352,.551544,-.261818,.487686,.538798,.587349,-.262964,.479453,.583626,.621679,-.262128,.467709,.629451,.654991,-.258998,.452123,.67566,.686873,-.254119,.433495,.723248,.719801,-.246946,.413657,.771156,.750355,-.237709,.390366,.81989,.780033,-.226549,.364947,.868601,.809254,-.214186,.337256,.920034,.836576,-.199639,.307395,.971706,.861774,-.183169,.275431,1.02479,.885707,-.165111,.243431,1.07837,.904742,-.144363,.210921,1.12783,.915604,-.121305,.17647,1.17254,.930959,-.0962119,.143106,1.21012,.948404,-.069969,.108112,1.24474,.967012,-.0427586,.0708478,1.27718,.984183,-.0147043,.032335,1.3083,.999577,.0142165,-.00726867,1.3382,.0229227,-299799e-11,.148623,462391e-12,.0232194,-758796e-10,.15054,117033e-10,.0232315,-303636e-9,.15063,468397e-10,.0232354,-683189e-9,.150624,105472e-9,.0232092,-.0012136,.150445,187744e-9,.0232523,-.00189765,.150679,294847e-9,.0232828,-.00273247,.150789,428013e-9,.0233371,-.00371287,.150995,591134e-9,.0234015,-.00484794,.15118,787642e-9,.023514,-.00612877,.151562,.00102547,.023679,-.00756125,.152116,.00131351,.0239559,-.00914651,.153162,.00166594,.0244334,-.010904,.155133,.00210182,.025139,-.0128615,.158035,.00264406,.0262598,-.0150628,.162751,.00332923,.0277875,-.0175532,.168944,.00419773,.0298472,-.0203981,.176835,.00530034,.0325444,-.023655,.186686,.00669777,.0355581,-.0272982,.196248,.00842661,.0392841,-.0314457,.207352,.0105854,.0436815,-.0361157,.219279,.0132458,.0485272,-.0412932,.230728,.0164736,.0541574,-.0470337,.242994,.0203715,.0609479,-.0535002,.257042,.0250953,.0685228,-.0605409,.27102,.0306856,.0768042,-.0680553,.28406,.037193,.0864844,-.0765011,.299186,.0449795,.0969415,-.0852674,.3132,.0538316,.108478,-.0947333,.327138,.0641149,.121705,-.10481,.342345,.0759185,.136743,-.115474,.358472,.0894116,.152986,-.126536,.374067,.104562,.170397,-.138061,.388267,.121632,.191392,-.150203,.406467,.140996,.211566,-.161751,.418641,.161696,.233567,-.173407,.430418,.184557,.257769,-.185397,.44277,.210092,.28531,-.197048,.457191,.237827,.311726,-.20784,.464712,.267253,.340537,-.218345,.472539,.299332,.372921,-.228306,.482331,.333988,.402924,-.236665,.484378,.369722,.434475,-.244097,.484717,.407836,.469736,-.250547,.487093,.448465,.505045,-.25511,.485575,.490263,.540262,-.258444,.481225,.534495,.576347,-.259903,.473481,.579451,.608656,-.259572,.4603,.625604,.646679,-.257908,.450341,.674511,.679902,-.253663,.431561,.723269,.714159,-.247419,.412684,.773263,.745345,-.239122,.389388,.824182,.778248,-.228837,.365361,.876634,.807208,-.216197,.337667,.92945,.835019,-.201772,.307197,.985261,.860261,-.185291,.274205,1.04299,.877601,-.165809,.240178,1.09816,.898211,-.143897,.207571,1.14694,.915789,-.119513,.174904,1.19008,.931831,-.0932919,.141423,1.2297,.949244,-.0656528,.105603,1.26553,.967527,-.0370262,.0679551,1.29986,.984139,-.00730117,.0283133,1.33252,.999713,.0234648,-.0121785,1.36397,.0152135,-245447e-11,.122795,304092e-12,.0151652,-615778e-10,.122399,76292e-10,.0151181,-245948e-9,.122023,304802e-10,.0151203,-553394e-9,.12203,686634e-10,.015125,-983841e-9,.122037,122463e-9,.0151427,-.00153774,.12214,192706e-9,.0151708,-.0022103,.122237,281219e-9,.0152115,-.00300741,.12238,390804e-9,.0152877,-.00392494,.1227,526317e-9,.015412,-.00496597,.123244,69443e-8,.0156201,-.00613314,.124228,90547e-8,.0159658,-.00744113,.125945,.0011732,.0165674,-.00892546,.129098,.00151888,.017487,-.010627,.133865,.00197007,.018839,-.0126043,.140682,.0025637,.020554,-.0148814,.148534,.00333637,.0226727,-.0175123,.157381,.00433738,.0251879,-.0205266,.166685,.00561664,.0283635,-.0240319,.177796,.00725563,.0318694,-.0279432,.188251,.00928811,.0361044,-.0324313,.200038,.011835,.0406656,-.0373527,.210685,.0149146,.0463846,-.0430132,.224182,.0187254,.0525696,-.0491013,.23634,.0232283,.0598083,-.0559175,.250013,.0286521,.0679437,-.0633657,.263981,.0350634,.0771181,-.0714602,.278072,.0425882,.0881273,-.0803502,.29511,.0514487,.0996628,-.0896903,.309976,.0615766,.112702,-.099644,.325611,.0732139,.126488,-.109829,.339321,.0862324,.142625,-.120859,.35574,.101275,.15953,-.131956,.369845,.117892,.176991,-.143145,.38146,.136205,.199715,-.155292,.40052,.157252,.220787,-.167066,.412055,.179966,.243697,-.178396,.423133,.204418,.272106,-.190433,.439524,.232141,.297637,-.201265,.447041,.261109,.325273,-.211834,.454488,.292627,.357219,-.221889,.465004,.326669,.387362,-.230729,.468527,.362426,.423131,-.23924,.475836,.401533,.45543,-.246067,.475017,.441902,.493393,-.251557,.478017,.484239,.526253,-.255571,.4709,.528586,.560554,-.257752,.463167,.574346,.599306,-.258076,.456452,.621655,.634541,-.256471,.443725,.670492,.668907,-.253283,.428719,.721943,.705619,-.247562,.411348,.772477,.739034,-.240626,.388939,.8264,.771408,-.231493,.36425,.881702,.803312,-.220125,.337321,.9385,.828457,-.206645,.305364,.997437,.854819,-.190664,.273715,1.05693,.878666,-.171429,.242218,1.11251,.898404,-.149235,.209556,1.16398,.917416,-.12435,.176863,1.21014,.933133,-.0972703,.142775,1.25178,.95066,-.0683607,.106735,1.29028,.968589,-.0378724,.0681609,1.32703,.984776,-.00605712,.0273966,1.36158,.99994,.0263276,-.0138124,1.3943,.00867437,-186005e-11,.0928979,173682e-12,.00864003,-466389e-10,.0925237,435505e-11,.00864593,-186594e-9,.0925806,174322e-10,.00864095,-419639e-9,.0924903,392862e-10,.00863851,-746272e-9,.0924589,702598e-10,.00868531,-.00116456,.0929,111188e-9,.00869667,-.00167711,.0928529,163867e-9,.00874332,-.00228051,.0930914,23104e-8,.00882709,-.00297864,.0935679,31741e-8,.00898874,-.00377557,.0946165,430186e-9,.00929346,-.00469247,.0967406,580383e-9,.00978271,-.00575491,.100084,783529e-9,.0105746,-.00701514,.105447,.00106304,.0116949,-.00851797,.112494,.00144685,.0130419,-.0102757,.119876,.00196439,.0148375,-.012381,.129034,.00266433,.0168725,-.01482,.137812,.00358364,.0193689,-.0176563,.147696,.00478132,.0222691,-.0209211,.157795,.00631721,.0256891,-.0246655,.168431,.00826346,.0294686,-.0288597,.178587,.0106714,.0340412,-.0336441,.190251,.0136629,.0393918,-.039033,.202999,.0173272,.0453947,-.0450087,.215655,.0217448,.0521936,-.0515461,.228686,.0269941,.0600279,-.058817,.242838,.033272,.0692398,-.0667228,.258145,.0406457,.0793832,-.0752401,.273565,.0492239,.0902297,-.0841851,.287735,.0590105,.102014,-.0936479,.301161,.0702021,.116054,-.103967,.317438,.0832001,.13191,-.114622,.334166,.0977951,.148239,-.125452,.348192,.113985,.165809,-.136453,.361094,.131928,.184616,-.147648,.373534,.151811,.207491,-.159607,.39101,.174476,.230106,-.171119,.402504,.198798,.257036,-.182906,.418032,.225796,.281172,-.193605,.425468,.254027,.312034,-.204771,.440379,.285713,.340402,-.214988,.445406,.319196,.370231,-.224711,.44968,.35537,.407105,-.233516,.460747,.393838,.439037,-.240801,.460624,.433747,.47781,-.24762,.465957,.477234,.510655,-.251823,.460054,.52044,.550584,-.255552,.459172,.567853,.585872,-.257036,.450311,.615943,.620466,-.257535,.437763,.667693,.660496,-.255248,.426639,.718988,.695578,-.251141,.409185,.772503,.732176,-.244718,.39015,.827023,.760782,-.236782,.362594,.885651,.79422,-.225923,.33711,.943756,.824521,-.213855,.308272,1.00874,.854964,-.197723,.278529,1.06764,.878065,-.179209,.246208,1.12836,.899834,-.157569,.21329,1.18318,.918815,-.133206,.181038,1.23161,.934934,-.106545,.146993,1.27644,.952115,-.0780574,.111175,1.31842,.96906,-.0478279,.0728553,1.35839,.985178,-.0160014,.032579,1.39697,1.00039,.0173126,-.0095256,1.43312,.00384146,-124311e-11,.0613583,778271e-13,.00390023,-314043e-10,.0622919,196626e-11,.00389971,-125622e-9,.0622632,787379e-11,.00389491,-282352e-9,.0620659,1778e-8,.00391618,-502512e-9,.0624687,320918e-10,.00392662,-784458e-9,.0625113,515573e-10,.00396053,-.00112907,.0628175,778668e-10,.00401911,-.00153821,.0633286,113811e-9,.00414994,-.0020208,.0646443,16445e-8,.00441223,-.00260007,.0673886,237734e-9,.00484427,-.0033097,.0716528,345929e-9,.00549109,-.00418966,.0774998,505987e-9,.00636293,-.00527331,.0844758,739208e-9,.00746566,-.00660428,.0921325,.00107347,.00876625,-.00818826,.0997067,.00153691,.0103125,-.0100811,.107433,.00217153,.0123309,-.0123643,.117088,.00303427,.0146274,-.0150007,.126438,.00416018,.0172295,-.0180531,.135672,.00561513,.0204248,-.0215962,.146244,.007478,.0241597,-.0256234,.157481,.00981046,.0284693,-.0302209,.169125,.0127148,.033445,-.0353333,.181659,.0162453,.0391251,-.0410845,.1944,.0205417,.0454721,-.0473451,.207082,.0256333,.0530983,-.0542858,.221656,.0317036,.0615356,-.0618384,.236036,.0388319,.0703363,-.0697631,.248398,.046974,.0810391,-.0784757,.263611,.0565246,.0920144,-.0873488,.275857,.0671724,.105584,-.0973652,.292555,.0798105,.119506,-.107271,.306333,.0935945,.134434,-.117608,.318888,.109106,.153399,-.128938,.337552,.127074,.171258,-.139944,.349955,.14643,.191059,-.151288,.361545,.168,.215069,-.163018,.378421,.192082,.237838,-.174226,.38879,.217838,.266965,-.186063,.405857,.246931,.292827,-.196909,.414146,.277505,.324352,-.207473,.426955,.310711,.354427,-.217713,.433429,.346794,.389854,-.227183,.443966,.385237,.420749,-.235131,.44471,.424955,.459597,-.242786,.451729,.468446,.495316,-.248767,.45072,.513422,.534903,-.253351,.450924,.560618,.572369,-.256277,.445266,.609677,.612383,-.2576,.438798,.660995,.644037,-.256931,.421693,.713807,.686749,-.254036,.4109,.767616,.719814,-.249785,.390151,.82533,.754719,-.244283,.367847,.888311,.792022,-.235076,.345013,.948177,.822404,-.225061,.316193,1.01661,.853084,-.211113,.287013,1.08075,.879871,-.19449,.255424,1.14501,.901655,-.174023,.222879,1.20203,.919957,-.1509,.18989,1.25698,.938412,-.124923,.15606,1.30588,.953471,-.0968139,.120512,1.3529,.970451,-.066734,.0828515,1.3986,.985522,-.034734,.0424458,1.44148,1.00099,-.00102222,678929e-9,1.48398,965494e-9,-627338e-12,.0306409,197672e-13,99168e-8,-158573e-10,.0314638,499803e-12,991068e-9,-634012e-10,.031363,200682e-11,974567e-9,-14144e-8,.03036,457312e-11,998079e-9,-252812e-9,.031496,860131e-11,.00102243,-396506e-9,.0319955,148288e-10,.00107877,-577593e-9,.0331376,249141e-10,.00121622,-816816e-9,.0359396,423011e-10,.0014455,-.00113761,.0399652,724613e-10,.00178791,-.00156959,.0450556,123929e-9,.00225668,-.00214064,.0508025,208531e-9,.00285627,-.00287655,.0568443,341969e-9,.0035991,-.00380271,.0630892,544158e-9,.00455524,-.00496264,.0702204,842423e-9,.00569143,-.0063793,.0773426,.00126704,.00716928,-.00813531,.0860839,.00186642,.00885307,-.0101946,.0944079,.00267014,.0109316,-.0126386,.103951,.00374033,.0133704,-.0154876,.113786,.0051304,.0161525,-.0187317,.123477,.00688858,.0194267,-.0224652,.133986,.00910557,.0230967,-.0265976,.143979,.0118074,.0273627,-.0312848,.154645,.0151266,.0323898,-.0365949,.166765,.0191791,.0379225,-.0422914,.177932,.0239236,.0447501,-.0487469,.19167,.0296568,.0519391,-.0556398,.203224,.0362924,.0599464,-.0631646,.215652,.0440585,.0702427,-.0714308,.232089,.0531619,.0806902,-.0800605,.245258,.0634564,.0923194,-.0892815,.258609,.0752481,.106938,-.09931,.276654,.0888914,.121238,-.109575,.289847,.104055,.138817,-.120461,.307566,.121266,.15595,-.131209,.320117,.139944,.178418,-.143049,.339677,.161591,.197875,-.154074,.349886,.184303,.224368,-.166307,.369352,.210669,.252213,-.178051,.386242,.238895,.277321,-.189335,.395294,.269182,.310332,-.200683,.412148,.302508,.338809,-.210856,.418266,.337264,.372678,-.220655,.428723,.374881,.405632,-.230053,.433887,.415656,.442293,-.237993,.439911,.457982,.477256,-.244897,.440175,.502831,.515592,-.250657,.441079,.550277,.550969,-.255459,.435219,.601102,.592883,-.257696,.432882,.651785,.629092,-.259894,.421054,.708961,.672033,-.258592,.41177,.763806,.709147,-.256525,.395267,.824249,.745367,-.254677,.375013,.8951,.784715,-.247892,.353906,.959317,.818107,-.240162,.327801,1.03153,.847895,-.229741,.298821,1.10601,.879603,-.213084,.269115,1.164,.902605,-.195242,.236606,1.22854,.922788,-.174505,.203442,1.29017,.944831,-.150169,.169594,1.34157,.959656,-.124099,.135909,1.3956,.972399,-.0960626,.0990563,1.45128,.986549,-.0657097,.0602348,1.50312,1.00013,-.0333558,.0186694,1.55364,619747e-11,-1e-7,.00778326,796756e-16,237499e-13,-999999e-13,282592e-10,114596e-15,100292e-11,-166369e-11,250354e-9,677492e-14,350752e-11,-637769e-11,357289e-9,631655e-13,826445e-11,-174689e-10,516179e-9,31851e-11,242481e-10,-450868e-10,.0010223,130577e-11,455631e-10,-89044e-9,.00144302,374587e-11,971222e-10,-178311e-9,.00241912,102584e-10,171403e-9,-313976e-9,.00354938,236481e-10,292747e-9,-520026e-9,.00513765,496014e-10,789827e-9,-.00118187,.0238621,139056e-9,.00114093,-.00171827,.0286691,244093e-9,.00176119,-.00249667,.0368565,420623e-9,.0022233,-.00333742,.0400469,65673e-8,.00343382,-.00481976,.0535751,.00109323,.00427602,-.00600755,.057099,.00155268,.00461435,-.00737637,.0551084,.00215031,.00695698,-.00971401,.0715767,.00316529,.00867619,-.0120943,.0793314,.00436995,.0106694,-.0148202,.0869391,.0058959,.0140351,-.0183501,.101572,.00798757,.0168939,-.022006,.11018,.0104233,.020197,-.0261568,.119041,.0134167,.0254702,-.0312778,.135404,.0173009,.0298384,-.0362469,.1437,.0215428,.035159,-.042237,.15512,.0268882,.0427685,-.0488711,.17128,.033235,.0494848,-.0557997,.181813,.0404443,.0592394,-.0635578,.198745,.0490043,.0681463,-.071838,.210497,.0588239,.0804753,-.0809297,.228864,.0702835,.0942205,-.0906488,.247008,.0834012,.106777,-.100216,.258812,.0975952,.124471,-.110827,.278617,.114162,.138389,-.121193,.287049,.131983,.159543,-.13253,.307151,.152541,.176432,-.143611,.31564,.174673,.201723,-.15548,.33538,.199842,.229721,-.167166,.355256,.227097,.250206,-.178238,.360047,.256014,.282118,-.189905,.378761,.28855,.312821,-.201033,.39181,.323348,.341482,-.211584,.397716,.360564,.377368,-.221314,.410141,.400004,.418229,-.230474,.423485,.442371,.444881,-.239443,.418874,.488796,.488899,-.245987,.427545,.535012,.520317,-.253948,.422147,.589678,.568566,-.256616,.42719,.637683,.599607,-.26376,.415114,.703363,.64222,-.268687,.408715,.771363,.685698,-.2694,.399722,.83574,.732327,-.266642,.388651,.897764,.769873,-.267712,.369198,.983312,.806733,-.263479,.346802,1.06222,.843466,-.254575,.321368,1.13477,.873008,-.242749,.29211,1.20712,.908438,-.22725,.262143,1.27465,.936321,-.207621,.228876,1.33203,.950353,-.187932,.19484,1.40439,.96442,-.165154,.163178,1.4732,.979856,-.139302,.127531,1.53574,.982561,-.11134,.0903457,1.59982,.996389,-.0808124,.0489007,1.6577],t=[1,0,0,0,1,791421e-36,0,0,1,104392e-29,0,0,1,349405e-26,0,0,1,109923e-23,0,0,1,947414e-22,0,0,1,359627e-20,0,0,1,772053e-19,0,0,1,108799e-17,0,0,1,110655e-16,0,0,1,865818e-16,0,0,.999998,545037e-15,0,0,.999994,285095e-14,0,0,.999989,126931e-13,0,0,.999973,489938e-13,0,0,.999947,166347e-12,0,0,.999894,502694e-12,0,0,.999798,136532e-11,0,0,.999617,335898e-11,0,0,.999234,752126e-11,0,0,.998258,152586e-10,0,0,.99504,266207e-10,0,0,.980816,236802e-10,0,0,.967553,207684e-11,0,0,.966877,403733e-11,0,0,.965752,741174e-11,0,0,.96382,127746e-10,0,0,.960306,202792e-10,0,0,.953619,280232e-10,0,0,.941103,278816e-10,0,0,.926619,160221e-10,0,0,.920983,235164e-10,0,0,.912293,311924e-10,0,.0158731,.899277,348118e-10,0,.0476191,.880884,26041e-9,0,.0793651,.870399,338726e-10,0,.111111,.856138,392906e-10,0,.142857,.837436,372874e-10,0,.174603,.820973,392558e-10,0,.206349,.803583,434658e-10,0,.238095,.782168,40256e-9,0,.269841,.764107,448159e-10,0,.301587,.743092,457627e-10,0,.333333,.721626,455314e-10,0,.365079,.700375,477335e-10,0,.396825,.677334,461072e-10,0,.428571,.655702,484393e-10,0,.460317,.632059,464583e-10,0,.492064,.610125,483923e-10,0,.52381,.58653,464342e-10,0,.555556,.564508,477033e-10,0,.587302,.541405,459263e-10,0,.619048,.519556,46412e-9,0,.650794,.497292,448913e-10,0,.68254,.475898,445789e-10,0,.714286,.454722,433496e-10,0,.746032,.434042,423054e-10,0,.777778,.414126,413737e-10,0,.809524,.394387,397265e-10,0,.84127,.375841,390709e-10,0,.873016,.357219,369938e-10,0,.904762,.340084,365618e-10,0,.936508,.322714,342533e-10,0,.968254,.306974,339596e-10,0,1,1,101524e-23,0,0,1,10292e-22,0,0,1,130908e-23,0,0,1,473331e-23,0,0,1,625319e-22,0,0,1,107932e-20,0,0,1,163779e-19,0,0,1,203198e-18,0,0,1,204717e-17,0,0,.999999,168995e-16,0,0,.999998,115855e-15,0,0,.999996,66947e-14,0,0,.999991,330863e-14,0,0,.999983,141737e-13,0,0,.999968,532626e-13,0,0,.99994,177431e-12,0,0,.999891,528835e-12,0,0,.999797,142169e-11,0,0,.999617,347057e-11,0,0,.999227,77231e-10,0,0,.998239,155753e-10,0,0,.994937,268495e-10,0,0,.980225,213742e-10,0,0,.967549,21631e-10,0,0,.966865,417989e-11,0,0,.965739,763341e-11,0,0,.963794,130892e-10,0,0,.960244,206456e-10,0,0,.953495,282016e-10,0,148105e-9,.940876,271581e-10,0,.002454,.926569,164159e-10,0,.00867491,.920905,239521e-10,0,.01956,.912169,315127e-10,0,.035433,.899095,346626e-10,0,.056294,.882209,290223e-10,0,.0818191,.870272,342992e-10,0,.111259,.855977,394164e-10,0,.142857,.837431,372343e-10,0,.174603,.820826,396691e-10,0,.206349,.803408,435395e-10,0,.238095,.782838,419579e-10,0,.269841,.763941,450953e-10,0,.301587,.742904,455847e-10,0,.333333,.721463,458833e-10,0,.365079,.700197,477159e-10,0,.396825,.677501,470641e-10,0,.428571,.655527,484732e-10,0,.460317,.6324,476834e-10,0,.492064,.609964,484213e-10,0,.52381,.586839,475541e-10,0,.555556,.564353,476951e-10,0,.587302,.541589,467611e-10,0,.619048,.519413,463493e-10,0,.650794,.497337,453994e-10,0,.68254,.475797,445308e-10,0,.714286,.454659,435787e-10,0,.746032,.434065,424839e-10,0,.777778,.414018,41436e-9,0,.809524,.39455,401902e-10,0,.84127,.375742,390813e-10,0,.873016,.357501,377116e-10,0,.904762,.339996,36535e-9,0,.936508,.323069,351265e-10,0,.968254,.306897,339112e-10,0,1,1,10396e-19,0,0,1,104326e-20,0,0,1,110153e-20,0,0,1,144668e-20,0,0,1,34528e-19,0,0,1,175958e-19,0,0,1,12627e-17,0,0,1,936074e-18,0,0,1,645742e-17,0,0,.999998,401228e-16,0,0,.999997,222338e-15,0,0,.999995,10967e-13,0,0,.999991,482132e-14,0,0,.999981,189434e-13,0,0,.999967,667716e-13,0,0,.999938,212066e-12,0,0,.999886,60977e-11,0,0,.999792,159504e-11,0,0,.999608,381191e-11,0,0,.999209,833727e-11,0,0,.998179,165288e-10,0,0,.994605,274387e-10,0,0,.979468,167316e-10,0,0,.967529,242877e-11,0,0,.966836,461696e-11,0,0,.96569,830977e-11,0,0,.963706,140427e-10,0,244659e-11,.960063,217353e-10,0,760774e-9,.953113,286606e-10,0,.00367261,.940192,247691e-10,0,.00940263,.927731,195814e-10,0,.018333,.920669,252531e-10,0,.0306825,.911799,324277e-10,0,.0465556,.89857,340982e-10,0,.0659521,.883283,319622e-10,0,.0887677,.86989,35548e-9,0,.114784,.855483,397143e-10,0,.143618,.837987,391665e-10,0,.174606,.820546,411306e-10,0,.206349,.802878,436753e-10,0,.238095,.783402,444e-7,0,.269841,.763439,458726e-10,0,.301587,.742925,467097e-10,0,.333333,.721633,478887e-10,0,.365079,.69985,481251e-10,0,.396825,.67783,491811e-10,0,.428571,.655126,488199e-10,0,.460318,.632697,496025e-10,0,.492064,.609613,48829e-9,0,.52381,.587098,492754e-10,0,.555556,.564119,482625e-10,0,.587302,.541813,482807e-10,0,.619048,.519342,471552e-10,0,.650794,.497514,466765e-10,0,.68254,.475879,455582e-10,0,.714286,.454789,446007e-10,0,.746032,.434217,435382e-10,0,.777778,.414086,421753e-10,0,.809524,.394744,412093e-10,0,.84127,.375782,396634e-10,0,.873016,.357707,386419e-10,0,.904762,.340038,370345e-10,0,.936508,.323284,359725e-10,0,.968254,.306954,3436e-8,0,1,1,599567e-19,0,0,1,600497e-19,0,0,1,614839e-19,0,0,1,686641e-19,0,0,1,972658e-19,0,0,1,221271e-18,0,0,1,833195e-18,0,0,1,403601e-17,0,0,.999999,206001e-16,0,0,.999998,101739e-15,0,0,.999997,470132e-15,0,0,.999993,200436e-14,0,0,.999988,783682e-14,0,0,.999979,280338e-13,0,0,.999962,917033e-13,0,0,.999933,274514e-12,0,0,.999881,753201e-12,0,0,.999783,189826e-11,0,0,.999594,440279e-11,0,0,.999178,93898e-10,0,0,.998073,181265e-10,0,0,.993993,280487e-10,0,0,.979982,149422e-10,0,0,.968145,378481e-11,0,0,.966786,53771e-10,0,0,.965611,947508e-11,0,388934e-10,.963557,156616e-10,0,9693e-7,.959752,235144e-10,0,.00370329,.952461,291568e-10,0,.00868428,.940193,240102e-10,0,.0161889,.929042,231235e-10,0,.0263948,.920266,273968e-10,0,.0394088,.911178,337915e-10,0,.0552818,.897873,333629e-10,0,.0740138,.884053,351405e-10,0,.0955539,.869455,378034e-10,0,.119795,.854655,399378e-10,0,.14656,.838347,419108e-10,0,.175573,.820693,440831e-10,0,.206388,.802277,445599e-10,0,.238095,.783634,472691e-10,0,.269841,.763159,476984e-10,0,.301587,.742914,491487e-10,0,.333333,.721662,502312e-10,0,.365079,.699668,502817e-10,0,.396825,.677839,51406e-9,0,.428571,.655091,511095e-10,0,.460317,.632665,516067e-10,0,.492064,.609734,512255e-10,0,.52381,.587043,510263e-10,0,.555556,.564298,50565e-9,0,.587302,.541769,497951e-10,0,.619048,.519529,492698e-10,0,.650794,.497574,482066e-10,0,.68254,.476028,473689e-10,0,.714286,.454961,461941e-10,0,.746032,.434341,450618e-10,0,.777778,.414364,438355e-10,0,.809524,.394832,424196e-10,0,.84127,.376109,412563e-10,0,.873016,.35779,396226e-10,0,.904762,.340379,384886e-10,0,.936508,.323385,368214e-10,0,.968254,.307295,356636e-10,0,1,1,106465e-17,0,0,1,106555e-17,0,0,1,107966e-17,0,0,1,114601e-17,0,0,1,137123e-17,0,0,1,21243e-16,0,0,.999999,489653e-17,0,0,.999999,160283e-16,0,0,.999998,62269e-15,0,0,.999997,251859e-15,0,0,.999996,996192e-15,0,0,.999992,374531e-14,0,0,.999986,132022e-13,0,0,.999975,433315e-13,0,0,.999959,131956e-12,0,0,.999927,372249e-12,0,0,.999871,972461e-12,0,0,.999771,235343e-11,0,0,.999572,52768e-10,0,0,.999133,109237e-10,0,0,.997912,203675e-10,0,0,.993008,279396e-10,0,0,.980645,139604e-10,0,0,.970057,646596e-11,0,0,.966717,65089e-10,0,474145e-10,.965497,111863e-10,0,89544e-8,.96334,179857e-10,0,.0032647,.959294,259045e-10,0,.0075144,.951519,292327e-10,0,.0138734,.940517,249769e-10,0,.0224952,.93014,26803e-9,0,.0334828,.91972,303656e-10,0,.0468973,.910294,353323e-10,0,.0627703,.897701,351002e-10,0,.0811019,.884522,388104e-10,0,.10186,.869489,412932e-10,0,.124985,.853983,415781e-10,0,.150372,.838425,454066e-10,0,.177868,.820656,471624e-10,0,.207245,.801875,475243e-10,0,.238143,.783521,505621e-10,0,.269841,.763131,50721e-9,0,.301587,.74261,523293e-10,0,.333333,.72148,528699e-10,0,.365079,.699696,538677e-10,0,.396825,.677592,539255e-10,0,.428571,.65525,546367e-10,0,.460317,.632452,541348e-10,0,.492064,.609903,544976e-10,0,.52381,.586928,536201e-10,0,.555556,.564464,535185e-10,0,.587302,.541801,524949e-10,0,.619048,.519681,51812e-9,0,.650794,.497685,507687e-10,0,.68254,.47622,496243e-10,0,.714286,.455135,485714e-10,0,.746032,.4346,471847e-10,0,.777778,.414564,459294e-10,0,.809524,.395165,444705e-10,0,.84127,.376333,430772e-10,0,.873016,.358197,416229e-10,0,.904762,.34064,401019e-10,0,.936508,.323816,386623e-10,0,.968254,.307581,370933e-10,0,1,1,991541e-17,0,0,1,992077e-17,0,0,1,100041e-16,0,0,1,10385e-15,0,0,1,115777e-16,0,0,1,150215e-16,0,0,.999999,254738e-16,0,0,.999999,598822e-16,0,0,.999998,179597e-15,0,0,.999997,602367e-15,0,0,.999994,206835e-14,0,0,.99999,694952e-14,0,0,.999984,223363e-13,0,0,.999972,678578e-13,0,0,.999952,193571e-12,0,0,.999919,516594e-12,0,0,.99986,128739e-11,0,0,.999753,299298e-11,0,0,.999546,648258e-11,0,0,.999074,129985e-10,0,0,.997671,232176e-10,0,0,.991504,256701e-10,0,0,.981148,131141e-10,0,0,.971965,869048e-11,0,280182e-10,.966624,808301e-11,0,695475e-9,.965344,135235e-10,0,.00265522,.963048,210592e-10,0,.00622975,.958673,287473e-10,0,.0116234,.950262,281379e-10,0,.018976,.940836,271089e-10,0,.0283844,.930996,30926e-9,0,.0399151,.919848,348359e-10,0,.0536063,.909136,366092e-10,0,.0694793,.897554,384162e-10,0,.0875342,.884691,430971e-10,0,.107749,.869414,447803e-10,0,.130087,.853462,452858e-10,0,.154481,.838187,495769e-10,0,.180833,.820381,502709e-10,0,.209005,.801844,522713e-10,0,.238791,.783061,541505e-10,0,.269869,.763205,553712e-10,0,.301587,.742362,564909e-10,0,.333333,.721393,572646e-10,0,.365079,.699676,581012e-10,0,.396825,.677395,58096e-9,0,.428571,.655208,585766e-10,0,.460317,.632451,583602e-10,0,.492064,.609839,580234e-10,0,.52381,.587093,577161e-10,0,.555556,.564467,568447e-10,0,.587302,.542043,563166e-10,0,.619048,.519826,55156e-9,0,.650794,.497952,541682e-10,0,.68254,.476477,528971e-10,0,.714286,.455412,514952e-10,0,.746032,.434926,502222e-10,0,.777778,.4149,485779e-10,0,.809524,.395552,472242e-10,0,.84127,.376712,454891e-10,0,.873016,.358622,440924e-10,0,.904762,.341048,422984e-10,0,.936508,.324262,408582e-10,0,.968254,.308013,390839e-10,0,1,1,613913e-16,0,0,1,614145e-16,0,0,1,617708e-16,0,0,1,633717e-16,0,0,1,681648e-16,0,0,1,808291e-16,0,0,1,114608e-15,0,0,.999998,210507e-15,0,0,.999997,499595e-15,0,0,.999995,139897e-14,0,0,.999994,419818e-14,0,0,.999988,127042e-13,0,0,.999979,375153e-13,0,0,.999965,106206e-12,0,0,.999945,285381e-12,0,0,.999908,723611e-12,0,0,.999846,17255e-10,0,0,.999733,386104e-11,0,0,.999511,808493e-11,0,0,.998993,156884e-10,0,0,.997326,265538e-10,0,0,.989706,206466e-10,0,0,.981713,130756e-10,0,70005e-10,.973636,106473e-10,0,464797e-9,.966509,10194e-9,0,.00201743,.965149,165881e-10,0,.00497549,.962669,249147e-10,0,.00953262,.95786,317449e-10,0,.0158211,.949334,281045e-10,0,.0239343,.941041,303263e-10,0,.0339372,.931575,356754e-10,0,.0458738,.920102,397075e-10,0,.059772,.908002,384886e-10,0,.075645,.897269,43027e-9,0,.0934929,.884559,479925e-10,0,.113302,.869161,48246e-9,0,.135045,.853342,509505e-10,0,.158678,.837633,542846e-10,0,.184136,.820252,554139e-10,0,.211325,.801872,581412e-10,0,.240113,.782418,585535e-10,0,.270306,.7631,610923e-10,0,.301594,.742183,613678e-10,0,.333333,.721098,627275e-10,0,.365079,.699512,629413e-10,0,.396825,.677372,636351e-10,0,.428571,.655059,633555e-10,0,.460317,.632567,636513e-10,0,.492064,.609784,628965e-10,0,.52381,.587237,625546e-10,0,.555556,.564525,615825e-10,0,.587302,.542181,605048e-10,0,.619048,.520017,596329e-10,0,.650794,.498204,581516e-10,0,.68254,.476742,569186e-10,0,.714286,.455803,553833e-10,0,.746032,.435251,537807e-10,0,.777778,.415374,522025e-10,0,.809524,.395921,503421e-10,0,.84127,.377253,488211e-10,0,.873016,.359021,468234e-10,0,.904762,.341637,453269e-10,0,.936508,.3247,433014e-10,0,.968254,.308625,418007e-10,0,1,1,286798e-15,0,0,1,286877e-15,0,0,1,288094e-15,0,0,1,293506e-15,0,0,1,309262e-15,0,0,.999999,348593e-15,0,0,.999999,444582e-15,0,0,.999998,688591e-15,0,0,.999996,134391e-14,0,0,.999993,317438e-14,0,0,.999989,835609e-14,0,0,.999983,228677e-13,0,0,.999974,623361e-13,0,0,.999959,165225e-12,0,0,.999936,419983e-12,0,0,.999896,101546e-11,0,0,.99983,232376e-11,0,0,.999709,50156e-10,0,0,.999469,10167e-9,0,0,.998886,190775e-10,0,0,.996819,300511e-10,0,0,.988837,185092e-10,0,168222e-12,.982178,134622e-10,0,259622e-9,.975017,125961e-10,0,.00142595,.967101,13507e-9,0,.00382273,.964905,205003e-10,0,.00764164,.96218,29546e-9,0,.0130121,.956821,343738e-10,0,.0200253,.948829,305063e-10,0,.0287452,.941092,346487e-10,0,.039218,.931883,412061e-10,0,.0514748,.920211,444651e-10,0,.0655351,.907307,431252e-10,0,.0814082,.89684,490382e-10,0,.0990939,.884119,53334e-9,0,.118583,.869148,54114e-9,0,.139856,.853377,578536e-10,0,.162882,.836753,592285e-10,0,.187615,.820063,622787e-10,0,.213991,.801694,645492e-10,0,.241918,.782116,65353e-9,0,.271267,.762673,674344e-10,0,.301847,.742133,682788e-10,0,.333333,.720779,691959e-10,0,.365079,.699386,696817e-10,0,.396826,.67732,699583e-10,0,.428572,.654888,698447e-10,0,.460318,.632499,694063e-10,0,.492064,.609825,691612e-10,0,.52381,.587287,681576e-10,0,.555556,.564743,674138e-10,0,.587302,.542409,661617e-10,0,.619048,.520282,647785e-10,0,.650794,.498506,633836e-10,0,.68254,.477102,615905e-10,0,.714286,.456167,601013e-10,0,.746032,.435728,581457e-10,0,.777778,.415809,564215e-10,0,.809524,.396517,544997e-10,0,.84127,.377737,525061e-10,0,.873016,.359698,506831e-10,0,.904762,.342164,48568e-9,0,.936508,.325417,467826e-10,0,.968254,.309186,446736e-10,0,1,1,109018e-14,0,0,1,10904e-13,0,0,1,109393e-14,0,0,1,11095e-13,0,0,1,1154e-12,0,0,1,126089e-14,0,0,.999999,15059e-13,0,0,.999997,207899e-14,0,0,.999994,348164e-14,0,0,.999993,705728e-14,0,0,.999987,163692e-13,0,0,.999981,406033e-13,0,0,.999969,10245e-11,0,0,.999953,255023e-12,0,0,.999925,61511e-11,0,0,.999881,142218e-11,0,0,.99981,313086e-11,0,0,.99968,653119e-11,0,0,.999418,12832e-9,0,0,.998748,232497e-10,0,0,.996066,329522e-10,0,0,.988379,179613e-10,0,108799e-9,.982567,143715e-10,0,921302e-9,.976097,148096e-10,0,.00280738,.968475,178905e-10,0,.00596622,.964606,253921e-10,0,.0105284,.961564,348623e-10,0,.0165848,.955517,357612e-10,0,.0242,.948381,343493e-10,0,.03342,.941095,405849e-10,0,.0442777,.931923,475394e-10,0,.0567958,.91996,484328e-10,0,.0709879,.907419,502146e-10,0,.086861,.89618,561654e-10,0,.104415,.88337,587612e-10,0,.123643,.869046,618057e-10,0,.144531,.853278,657392e-10,0,.167057,.836091,66303e-9,0,.191188,.819644,704445e-10,0,.216878,.801246,714071e-10,0,.244062,.782031,740093e-10,0,.272649,.762066,74685e-9,0,.302509,.741964,766647e-10,0,.333442,.720554,766328e-10,0,.365079,.699098,777857e-10,0,.396826,.677189,774633e-10,0,.428572,.65484,776235e-10,0,.460318,.632496,770316e-10,0,.492064,.609908,762669e-10,0,.52381,.587312,753972e-10,0,.555556,.564938,739994e-10,0,.587302,.542577,728382e-10,0,.619048,.52062,71112e-9,0,.650794,.498819,694004e-10,0,.68254,.477555,675575e-10,0,.714286,.456568,653449e-10,0,.746032,.436278,636068e-10,0,.777778,.41637,613466e-10,0,.809524,.397144,594177e-10,0,.84127,.378412,570987e-10,0,.873016,.360376,550419e-10,0,.904762,.342906,527422e-10,0,.936508,.326136,506544e-10,0,.968254,.30997,484307e-10,0,1,1,354014e-14,0,0,1,354073e-14,0,0,1,354972e-14,0,0,1,358929e-14,0,0,1,370093e-14,0,0,.999999,396194e-14,0,0,.999998,453352e-14,0,0,.999997,578828e-14,0,0,.999994,863812e-14,0,0,.999991,153622e-13,0,0,.999985,316356e-13,0,0,.999977,712781e-13,0,0,.999964,166725e-12,0,0,.999945,390501e-12,0,0,.999912,895622e-12,0,0,.999866,198428e-11,0,0,.999786,421038e-11,0,0,.999647,850239e-11,0,0,.999356,162059e-10,0,0,.998563,282652e-10,0,0,.994928,336309e-10,0,244244e-10,.987999,178458e-10,0,523891e-9,.982893,159162e-10,0,.00194729,.977044,178056e-10,0,.00451099,.969972,230624e-10,0,.00835132,.964237,313922e-10,0,.013561,.960791,406145e-10,0,.0202056,.954292,372796e-10,0,.0283321,.948052,403199e-10,0,.0379739,.940938,479537e-10,0,.0491551,.931689,545292e-10,0,.0618918,.91987,54038e-9,0,.0761941,.907665,589909e-10,0,.0920672,.895281,642651e-10,0,.109511,.882621,659707e-10,0,.12852,.86873,709973e-10,0,.149085,.853008,742221e-10,0,.171189,.835944,761754e-10,0,.194809,.818949,797052e-10,0,.21991,.800951,812434e-10,0,.246447,.781847,838075e-10,0,.274352,.761649,84501e-9,0,.303535,.74152,860258e-10,0,.333857,.720495,866233e-10,0,.365104,.698742,868326e-10,0,.396826,.677096,87133e-9,0,.428572,.654782,863497e-10,0,.460318,.632335,860206e-10,0,.492064,.610031,849337e-10,0,.52381,.587457,838279e-10,0,.555556,.56513,82309e-9,0,.587302,.542877,803542e-10,0,.619048,.5209,786928e-10,0,.650794,.499291,765171e-10,0,.68254,.477971,744753e-10,0,.714286,.457221,72209e-9,0,.746032,.436803,697448e-10,0,.777778,.417083,675333e-10,0,.809524,.397749,648058e-10,0,.84127,.379177,625759e-10,0,.873016,.361061,598584e-10,0,.904762,.343713,575797e-10,0,.936508,.326894,549999e-10,0,.968254,.310816,527482e-10,0,1,1,10153e-12,0,0,1,101544e-13,0,0,1,101751e-13,0,0,1,102662e-13,0,0,1,10521e-12,0,0,.999999,111049e-13,0,0,.999999,123408e-13,0,0,.999996,14924e-12,0,0,.999992,204471e-13,0,0,.999989,326539e-13,0,0,.99998,603559e-13,0,0,.999971,123936e-12,0,0,.999955,269058e-12,0,0,.999933,593604e-12,0,0,.999901,129633e-11,0,0,.999847,275621e-11,0,0,.999761,564494e-11,0,0,.999607,110485e-10,0,0,.999282,204388e-10,0,0,.99831,341084e-10,0,22038e-11,.993288,294949e-10,0,242388e-9,.987855,192736e-10,0,.0012503,.983167,182383e-10,0,.0032745,.977908,218633e-10,0,.00646321,.971194,290662e-10,0,.0109133,.963867,386401e-10,0,.0166927,.95982,462827e-10,0,.0238494,.953497,420705e-10,0,.0324178,.947621,477743e-10,0,.0424225,.940611,568258e-10,0,.0538808,.931174,618061e-10,0,.0668047,.919919,627098e-10,0,.0812014,.907856,694714e-10,0,.0970745,.894509,735008e-10,0,.114424,.881954,763369e-10,0,.133246,.868309,821896e-10,0,.153534,.852511,83769e-9,0,.175275,.835821,881615e-10,0,.198453,.817981,896368e-10,0,.223042,.800504,930906e-10,0,.249009,.78141,945056e-10,0,.276304,.761427,963605e-10,0,.304862,.74094,968088e-10,0,.334584,.720233,981481e-10,0,.365322,.698592,979122e-10,0,.396826,.676763,981057e-10,0,.428571,.654808,973956e-10,0,.460318,.632326,962619e-10,0,.492064,.610049,952996e-10,0,.52381,.58763,933334e-10,0,.555556,.565261,917573e-10,0,.587302,.543244,896636e-10,0,.619048,.521273,873304e-10,0,.650794,.499818,852648e-10,0,.68254,.478536,823961e-10,0,.714286,.457826,79939e-9,0,.746032,.437549,77126e-9,0,.777778,.41776,743043e-10,0,.809524,.39863,716426e-10,0,.84127,.379954,686456e-10,0,.873016,.362025,660514e-10,0,.904762,.344581,630755e-10,0,.936508,.327909,605439e-10,0,.968254,.311736,576345e-10,0,1,1,263344e-13,0,0,1,263373e-13,0,0,1,263815e-13,0,0,1,265753e-13,0,0,1,271132e-13,0,0,.999999,283279e-13,0,0,.999997,30833e-12,0,0,.999995,358711e-13,0,0,.999992,461266e-13,0,0,.999985,67574e-12,0,0,.999977,11358e-11,0,0,.999966,213657e-12,0,0,.999948,431151e-12,0,0,.999923,896656e-12,0,0,.999884,186603e-11,0,0,.999826,381115e-11,0,0,.999732,754184e-11,0,0,.999561,143192e-10,0,0,.999191,257061e-10,0,0,.997955,405724e-10,0,744132e-10,.992228,276537e-10,0,716477e-9,.987638,208885e-10,0,.0022524,.983395,215226e-10,0,.00484816,.978614,270795e-10,0,.00860962,.972389,365282e-10,0,.0136083,.964392,474747e-10,0,.0198941,.95861,509141e-10,0,.0275023,.952806,48963e-9,0,.0364584,.94712,571119e-10,0,.04678,.940104,671704e-10,0,.0584799,.930398,687586e-10,0,.0715665,.919866,738161e-10,0,.086045,.907853,813235e-10,0,.101918,.894078,834582e-10,0,.119186,.881177,892093e-10,0,.137845,.867575,944548e-10,0,.157891,.852107,969607e-10,0,.179316,.835502,101456e-9,0,.202106,.81756,103256e-9,0,.226243,.79984,106954e-9,0,.251704,.780998,108066e-9,0,.278451,.761132,110111e-9,0,.306436,.740429,110459e-9,0,.335586,.719836,111219e-9,0,.365796,.698467,11145e-8,0,.3969,.676446,110393e-9,0,.428571,.654635,110035e-9,0,.460318,.632411,108548e-9,0,.492064,.609986,106963e-9,0,.52381,.587872,105238e-9,0,.555556,.565528,102665e-9,0,.587302,.543563,100543e-9,0,.619048,.52176,976182e-10,0,.650794,.500188,947099e-10,0,.68254,.479204,919929e-10,0,.714286,.458413,886139e-10,0,.746032,.438314,857839e-10,0,.777778,.418573,82411e-9,0,.809524,.39947,792211e-10,0,.84127,.380892,759546e-10,0,.873016,.362953,727571e-10,0,.904762,.345601,695738e-10,0,.936508,.328895,664907e-10,0,.968254,.312808,634277e-10,0,1,1,628647e-13,0,0,1,628705e-13,0,0,1,629587e-13,0,0,1,633441e-13,0,0,.999999,644087e-13,0,0,.999998,667856e-13,0,0,.999997,715889e-13,0,0,.999995,809577e-13,0,0,.999989,992764e-13,0,0,.999983,135834e-12,0,0,.999974,210482e-12,0,0,.999959,365215e-12,0,0,.999939,686693e-12,0,0,.999911,13472e-10,0,0,.999868,26731e-10,0,0,.999804,524756e-11,0,0,.9997,100403e-10,0,0,.99951,185019e-10,0,0,.999078,322036e-10,0,620676e-11,.997428,470002e-10,0,341552e-9,.99162,287123e-10,0,.00143727,.987479,234706e-10,0,.00349201,.983582,260083e-10,0,.0066242,.979186,337927e-10,0,.0109113,.97325,454689e-10,0,.0164064,.965221,573759e-10,0,.0231463,.957262,544114e-10,0,.0311571,.952211,587006e-10,0,.0404572,.946631,692256e-10,0,.0510592,.939391,787819e-10,0,.0629723,.929795,792368e-10,0,.0762025,.91965,875075e-10,0,.090753,.907737,950903e-10,0,.106626,.893899,972963e-10,0,.123822,.880239,10459e-8,0,.142337,.866562,107689e-9,0,.16217,.85164,113081e-9,0,.183314,.835021,116636e-9,0,.20576,.817311,120074e-9,0,.229496,.798845,121921e-9,0,.254502,.780479,12475e-8,0,.280753,.760694,125255e-9,0,.308212,.740142,126719e-9,0,.336825,.719248,12636e-8,0,.366517,.698209,126712e-9,0,.397167,.676398,125769e-9,0,.428578,.654378,124432e-9,0,.460318,.632484,123272e-9,0,.492064,.610113,12085e-8,0,.52381,.587931,118411e-9,0,.555556,.565872,11569e-8,0,.587302,.543814,112521e-9,0,.619048,.522265,109737e-9,0,.650794,.500835,106228e-9,0,.68254,.479818,102591e-9,0,.714286,.459258,991288e-10,0,.746032,.439061,952325e-10,0,.777778,.419552,91895e-9,0,.809524,.400399,879051e-10,0,.84127,.381976,844775e-10,0,.873016,.364009,806316e-10,0,.904762,.346761,771848e-10,0,.936508,.330049,735429e-10,0,.968254,.314018,702103e-10,0,1,1,139968e-12,0,0,1,139979e-12,0,0,1,140145e-12,0,0,1,14087e-11,0,0,.999999,142865e-12,0,0,.999998,147279e-12,0,0,.999997,156057e-12,0,0,.999992,17276e-11,0,0,.999989,204352e-12,0,0,.99998,26494e-11,0,0,.999969,383435e-12,0,0,.999953,618641e-12,0,0,.999929,108755e-11,0,0,.999898,201497e-11,0,0,.999849,381346e-11,0,0,.999778,719815e-11,0,0,.999661,133215e-10,0,0,.999451,238313e-10,0,0,.998936,401343e-10,0,113724e-9,.99662,517346e-10,0,820171e-9,.991094,304323e-10,0,.00238143,.987487,281757e-10,0,.00493527,.983731,320048e-10,0,.00856859,.979647,423905e-10,0,.0133393,.973837,562935e-10,0,.0192863,.96584,677442e-10,0,.0264369,.956309,623073e-10,0,.03481,.951523,704131e-10,0,.0444184,.946003,836594e-10,0,.0552713,.938454,911736e-10,0,.0673749,.929279,938264e-10,0,.0807329,.919239,103754e-9,0,.0953479,.907293,109928e-9,0,.111221,.893936,115257e-9,0,.128352,.879674,122265e-9,0,.14674,.865668,125733e-9,0,.166382,.850998,132305e-9,0,.187276,.834498,134844e-9,0,.209413,.816903,139276e-9,0,.232786,.798235,140984e-9,0,.257382,.779724,14378e-8,0,.283181,.760251,144623e-9,0,.310156,.739808,145228e-9,0,.338269,.718762,14539e-8,0,.367461,.697815,144432e-9,0,.397646,.67631,143893e-9,0,.428685,.654278,141846e-9,0,.460318,.632347,13935e-8,0,.492064,.610296,137138e-9,0,.52381,.588039,133806e-9,0,.555556,.566218,130755e-9,0,.587302,.544346,127128e-9,0,.619048,.522701,123002e-9,0,.650794,.501542,119443e-9,0,.68254,.480508,115055e-9,0,.714286,.460092,111032e-9,0,.746032,.440021,106635e-9,0,.777778,.420446,102162e-9,0,.809524,.401512,98184e-9,0,.84127,.38299,936497e-10,0,.873016,.365232,89813e-9,0,.904762,.347865,853073e-10,0,.936508,.331342,817068e-10,0,.968254,.315202,773818e-10,0,1,1,29368e-11,0,0,1,2937e-10,0,0,1,293998e-12,0,0,1,295298e-12,0,0,.999999,298865e-12,0,0,.999998,3067e-10,0,0,.999995,322082e-12,0,0,.999992,350767e-12,0,0,.999986,403538e-12,0,0,.999976,501372e-12,0,0,.999964,68562e-11,0,0,.999945,10374e-10,0,0,.999919,171269e-11,0,0,.999882,300175e-11,0,0,.999829,542144e-11,0,0,.999749,984182e-11,0,0,.99962,176213e-10,0,0,.999382,305995e-10,0,138418e-10,.998751,496686e-10,0,389844e-9,.995344,510733e-10,0,.00150343,.990768,345829e-10,0,.00352451,.987464,342841e-10,0,.00655379,.983846,399072e-10,0,.0106554,.980007,533219e-10,0,.0158723,.974494,696992e-10,0,.0222333,.96622,776754e-10,0,.029758,.956273,747718e-10,0,.0384596,.950952,864611e-10,0,.0483473,.945215,100464e-9,0,.0594266,.937287,103729e-9,0,.0717019,.928649,111665e-9,0,.0851752,.918791,12353e-8,0,.0998479,.906685,127115e-9,0,.115721,.893706,13628e-8,0,.132794,.879248,142427e-9,0,.151067,.864685,148091e-9,0,.170538,.850032,153517e-9,0,.191204,.833853,157322e-9,0,.213063,.816353,161086e-9,0,.236107,.797834,164111e-9,0,.260329,.778831,165446e-9,0,.285714,.759756,167492e-9,0,.312243,.739419,166928e-9,0,.339887,.718491,167e-6,0,.368604,.697392,165674e-9,0,.398329,.676102,163815e-9,0,.428961,.654243,162003e-9,0,.460331,.632176,158831e-9,0,.492064,.610407,155463e-9,0,.52381,.588394,152062e-9,0,.555556,.56645,147665e-9,0,.587302,.5449,14375e-8,0,.619048,.523276,138905e-9,0,.650794,.502179,134189e-9,0,.68254,.481359,129392e-9,0,.714286,.46092,124556e-9,0,.746032,.441084,11957e-8,0,.777778,.421517,114652e-9,0,.809524,.402721,109688e-9,0,.84127,.384222,104667e-9,0,.873016,.366534,999633e-10,0,.904762,.349205,950177e-10,0,.936508,.332702,907301e-10,0,.968254,.316599,859769e-10,0,1,1,585473e-12,0,0,1,585507e-12,0,0,1,58602e-11,0,0,.999999,588259e-12,0,0,.999999,594381e-12,0,0,.999998,607754e-12,0,0,.999995,633729e-12,0,0,.99999,68137e-11,0,0,.999984,767003e-12,0,0,.999973,921212e-12,0,0,.999959,120218e-11,0,0,.999936,172024e-11,0,0,.999907,268088e-11,0,0,.999866,445512e-11,0,0,.999806,768481e-11,0,0,.999716,1342e-8,0,0,.999576,232473e-10,0,0,.9993,391694e-10,0,129917e-9,.998498,608429e-10,0,845035e-9,.994132,489743e-10,0,.00237616,.99031,384644e-10,0,.00484456,.987409,421768e-10,0,.00832472,.983981,504854e-10,0,.0128643,.980268,671028e-10,0,.0184947,.974875,852749e-10,0,.025237,.966063,85531e-9,0,.0331046,.956779,900588e-10,0,.0421067,.950259,10577e-8,0,.0522487,.944239,119458e-9,0,.0635343,.936341,122164e-9,0,.0759654,.928047,134929e-9,0,.0895434,.918065,145544e-9,0,.104269,.906267,150531e-9,0,.120142,.893419,161652e-9,0,.137163,.878758,16593e-8,0,.15533,.863699,174014e-9,0,.174645,.848876,177877e-9,0,.195106,.833032,184049e-9,0,.21671,.815557,186088e-9,0,.239454,.797323,19054e-8,0,.263332,.778124,191765e-9,0,.288336,.758929,192535e-9,0,.314451,.738979,192688e-9,0,.341658,.718213,191522e-9,0,.369924,.696947,190491e-9,0,.399202,.675807,187913e-9,0,.429416,.654147,184451e-9,0,.460447,.63229,181442e-9,0,.492064,.610499,177139e-9,0,.523809,.588747,172596e-9,0,.555555,.566783,167457e-9,0,.587301,.545359,162518e-9,0,.619048,.523984,156818e-9,0,.650794,.502917,151884e-9,0,.68254,.482294,145514e-9,0,.714286,.461945,140199e-9,0,.746032,.442133,134101e-9,0,.777778,.422705,128374e-9,0,.809524,.403916,122996e-9,0,.84127,.38554,116808e-9,0,.873016,.367909,111973e-9,0,.904762,.350651,105938e-9,0,.936508,.334208,101355e-9,0,.968254,.318123,957629e-10,0,1,1,111633e-11,0,0,1,111639e-11,0,0,1,111725e-11,0,0,1,112096e-11,0,0,.999999,11311e-10,0,0,.999997,115315e-11,0,0,.999995,11956e-10,0,0,.999989,127239e-11,0,0,.999981,140772e-11,0,0,.999969,164541e-11,0,0,.999952,206607e-11,0,0,.999928,281783e-11,0,0,.999895,416835e-11,0,0,.999848,658728e-11,0,0,.999781,108648e-10,0,0,.999682,182579e-10,0,0,.999523,306003e-10,0,159122e-10,.999205,499862e-10,0,391184e-9,.998131,73306e-9,0,.00147534,.993334,513229e-10,0,.0034227,.99016,467783e-10,0,.00632232,.987321,523413e-10,0,.0102295,.984099,64267e-9,0,.0151794,.980432,843042e-10,0,.0211947,.974976,102819e-9,0,.0282899,.966429,996234e-10,0,.0364739,.957633,111074e-9,0,.0457522,.949422,128644e-9,0,.0561278,.943045,140076e-9,0,.0676023,.935448,146349e-9,0,.0801762,.927225,161854e-9,0,.0938499,.917033,169135e-9,0,.108623,.905762,179987e-9,0,.124496,.892879,189832e-9,0,.141469,.878435,195881e-9,0,.159541,.863114,20466e-8,0,.178713,.84776,209473e-9,0,.198985,.832084,214861e-9,0,.220355,.814915,217695e-9,0,.242823,.796711,220313e-9,0,.266385,.777603,22313e-8,0,.291036,.757991,222471e-9,0,.316767,.738371,222869e-9,0,.343563,.717872,221243e-9,0,.371402,.696619,218089e-9,0,.400248,.675379,21562e-8,0,.430047,.65411,21169e-8,0,.460709,.63241,206947e-9,0,.492079,.61046,201709e-9,0,.52381,.58903,196753e-9,0,.555556,.567267,189637e-9,0,.587302,.545886,184735e-9,0,.619048,.524714,177257e-9,0,.650794,.503789,171424e-9,0,.68254,.483204,164688e-9,0,.714286,.462976,157172e-9,0,.746032,.443294,151341e-9,0,.777778,.423988,143737e-9,0,.809524,.405325,138098e-9,0,.84127,.386981,130698e-9,0,.873016,.369436,125276e-9,0,.904762,.35219,118349e-9,0,.936508,.335804,11312e-8,0,.968254,.319749,106687e-9,0,1,1,204685e-11,0,0,1,204694e-11,0,0,1,204831e-11,0,0,.999999,205428e-11,0,0,.999999,207056e-11,0,0,.999997,210581e-11,0,0,.999993,21732e-10,0,0,.999987,229365e-11,0,0,.999979,250243e-11,0,0,.999965,286127e-11,0,0,.999947,348028e-11,0,0,.999918,455588e-11,0,0,.999881,643303e-11,0,0,.999828,970064e-11,0,0,.999753,153233e-10,0,0,.999642,24793e-9,0,0,.999464,402032e-10,0,122947e-9,.999089,635852e-10,0,807414e-9,.997567,857026e-10,0,.00227206,.992903,594912e-10,0,.00462812,.990011,578515e-10,0,.00794162,.987192,65399e-9,0,.0122534,.98418,819675e-10,0,.0175888,.980491,105514e-9,0,.0239635,.974779,121532e-9,0,.031387,.96675,119144e-9,0,.0398644,.958248,136125e-9,0,.0493982,.948884,155408e-9,0,.0599896,.941673,162281e-9,0,.0716382,.934521,176754e-9,0,.0843437,.926205,192873e-9,0,.0981056,.916089,200038e-9,0,.112923,.904963,213624e-9,0,.128796,.892089,221834e-9,0,.145725,.878028,232619e-9,0,.163709,.86249,238632e-9,0,.182749,.846587,247002e-9,0,.202847,.830988,250702e-9,0,.224001,.814165,255562e-9,0,.246214,.796135,257505e-9,0,.269482,.777052,258625e-9,0,.293805,.757201,258398e-9,0,.319176,.737655,256714e-9,0,.345587,.717477,255187e-9,0,.373021,.696433,251792e-9,0,.401454,.675084,247223e-9,0,.430844,.653907,242213e-9,0,.461125,.632561,237397e-9,0,.492187,.610658,229313e-9,0,.52381,.589322,224402e-9,0,.555556,.567857,216116e-9,0,.587302,.54652,209124e-9,0,.619048,.525433,201601e-9,0,.650794,.504679,192957e-9,0,.68254,.484203,186052e-9,0,.714286,.464203,177672e-9,0,.746032,.444549,170005e-9,0,.777778,.425346,162401e-9,0,.809524,.406706,1544e-7,0,.84127,.388576,147437e-9,0,.873016,.37094,139493e-9,0,.904762,.353996,133219e-9,0,.936508,.337391,125573e-9,0,.968254,.321648,119867e-9,0,1,1,362511e-11,0,0,1,362525e-11,0,0,1,362739e-11,0,0,.999999,363673e-11,0,0,.999998,366214e-11,0,0,.999996,371698e-11,0,0,.999992,382116e-11,0,0,.999986,400554e-11,0,0,.999976,432058e-11,0,0,.999961,485194e-11,0,0,.999938,574808e-11,0,0,.999908,726643e-11,0,0,.999865,984707e-11,0,0,.999807,142217e-10,0,0,.999723,215581e-10,0,0,.999602,336114e-10,0,119113e-10,.999398,527353e-10,0,355813e-9,.998946,805809e-10,0,.00137768,.996647,942908e-10,0,.00322469,.992298,668733e-10,0,.00597897,.989802,716564e-10,0,.00968903,.987019,821355e-10,0,.0143845,.984219,104555e-9,0,.0200831,.980425,131245e-9,0,.0267948,.974241,139613e-9,0,.034525,.967006,145931e-9,0,.0432757,.95893,167153e-9,0,.0530471,.949157,188146e-9,0,.0638386,.94062,194625e-9,0,.0756487,.933509,213721e-9,0,.0884762,.925088,229616e-9,0,.10232,.915178,239638e-9,0,.117178,.904093,254814e-9,0,.133051,.891337,263685e-9,0,.149939,.877326,274789e-9,0,.167841,.861794,280534e-9,0,.18676,.845758,289534e-9,0,.206696,.829792,294446e-9,0,.22765,.813037,296877e-9,0,.249625,.795285,300217e-9,0,.27262,.776323,299826e-9,0,.296636,.756673,299787e-9,0,.321671,.736856,297867e-9,0,.347718,.716883,294052e-9,0,.374768,.696089,289462e-9,0,.402804,.67505,285212e-9,0,.431796,.653509,27653e-8,0,.461695,.63258,271759e-9,0,.49242,.61104,262811e-9,0,.523822,.589567,255151e-9,0,.555556,.568322,246434e-9,0,.587302,.547235,237061e-9,0,.619048,.52616,228343e-9,0,.650794,.505716,219236e-9,0,.68254,.485274,209595e-9,0,.714286,.465411,201011e-9,0,.746032,.445854,19109e-8,0,.777778,.426911,182897e-9,0,.809524,.408222,173569e-9,0,.84127,.390307,165496e-9,0,.873016,.372624,156799e-9,0,.904762,.355804,14917e-8,0,.936508,.33924,140907e-9,0,.968254,.323534,134062e-9,0,1,1,622487e-11,0,0,1,62251e-10,0,0,1,622837e-11,0,0,.999999,624259e-11,0,0,.999998,628127e-11,0,0,.999996,636451e-11,0,0,.999991,65218e-10,0,0,.999984,679782e-11,0,0,.999973,726361e-11,0,0,.999955,803644e-11,0,0,.999931,931397e-11,0,0,.999896,114299e-10,0,0,.999847,149402e-10,0,0,.999784,207461e-10,0,0,.999692,302493e-10,0,0,.999554,454957e-10,0,997275e-10,.999326,690762e-10,0,724813e-9,.998757,101605e-9,0,.0020972,.995367,958745e-10,0,.00432324,.99209,832808e-10,0,.00746347,.989517,887601e-10,0,.0115534,.987008,10564e-8,0,.0166134,.98421,133179e-9,0,.0226552,.98021,161746e-9,0,.0296838,.973676,161821e-9,0,.0377016,.967052,178635e-9,0,.0467079,.959385,206765e-9,0,.0567013,.949461,22476e-8,0,.0676796,.939578,23574e-8,0,.0796403,.932416,25893e-8,0,.0925812,.923759,271228e-9,0,.106501,.914223,289165e-9,0,.121397,.902942,301156e-9,0,.13727,.890419,313852e-9,0,.15412,.876639,324408e-9,0,.171946,.861316,33249e-8,0,.190751,.84496,338497e-9,0,.210537,.828427,345861e-9,0,.231305,.811871,347863e-9,0,.253057,.794397,350225e-9,0,.275797,.775726,349915e-9,0,.299525,.75617,347297e-9,0,.324242,.736091,344232e-9,0,.349947,.716213,340835e-9,0,.376633,.695736,332369e-9,0,.404289,.674961,327943e-9,0,.432895,.653518,318533e-9,0,.462415,.632574,310391e-9,0,.492788,.61134,300755e-9,0,.523909,.590017,290506e-9,0,.555556,.568752,280446e-9,0,.587302,.548061,269902e-9,0,.619048,.52711,258815e-9,0,.650794,.506682,248481e-9,0,.68254,.486524,237141e-9,0,.714286,.466812,226872e-9,0,.746032,.44732,216037e-9,0,.777778,.428473,205629e-9,0,.809524,.409921,195691e-9,0,.84127,.392028,185457e-9,0,.873016,.374606,176436e-9,0,.904762,.357601,166508e-9,0,.936508,.341348,158385e-9,0,.968254,.32542,149203e-9,0,1,1,103967e-10,0,0,1,10397e-9,0,0,1,104019e-10,0,0,.999999,104231e-10,0,0,.999998,104806e-10,0,0,.999995,106042e-10,0,0,.999991,108366e-10,0,0,.999982,112415e-10,0,0,.999968,119174e-10,0,0,.99995,130227e-10,0,0,.999922,148176e-10,0,0,.999884,177303e-10,0,0,.99983,224564e-10,0,0,.999758,300966e-10,0,0,.999654,423193e-10,0,549083e-11,.999503,614848e-10,0,296087e-9,.999237,903576e-10,0,.00123144,.998491,1271e-7,0,.00295954,.994594,107754e-9,0,.00555829,.99178,103025e-9,0,.00907209,.989265,11154e-8,0,.0135257,.986998,136296e-9,0,.0189327,.984137,169154e-9,0,.0252993,.979798,196671e-9,0,.0326272,.97337,196678e-9,0,.0409157,.967239,223121e-9,0,.0501623,.959543,253809e-9,0,.0603638,.949466,265972e-9,0,.0715171,.939074,288372e-9,0,.0836187,.931118,310983e-9,0,.0966657,.922525,325561e-9,0,.110656,.912983,345725e-9,0,.125588,.901617,3556e-7,0,.141461,.889487,374012e-9,0,.158275,.875787,383445e-9,0,.176031,.860654,393972e-9,0,.19473,.844417,400311e-9,0,.214374,.82741,405004e-9,0,.234967,.810545,407378e-9,0,.256512,.793312,407351e-9,0,.279011,.774847,406563e-9,0,.302468,.755621,404903e-9,0,.326887,.735511,397486e-9,0,.352266,.715435,39357e-8,0,.378605,.695403,384739e-9,0,.405897,.674681,376108e-9,0,.43413,.65359,365997e-9,0,.463277,.632471,354957e-9,0,.493295,.61151,343593e-9,0,.524106,.59064,331841e-9,0,.555561,.569386,318891e-9,0,.587302,.548785,3072e-7,0,.619048,.528146,29361e-8,0,.650794,.507872,281709e-9,0,.68254,.487805,268627e-9,0,.714286,.468196,255887e-9,0,.746032,.448922,243997e-9,0,.777778,.430093,231662e-9,0,.809524,.411845,220339e-9,0,.84127,.393808,208694e-9,0,.873016,.376615,198045e-9,0,.904762,.359655,187375e-9,0,.936508,.343452,177371e-9,0,.968254,.32765,167525e-9,0,1,1,169351e-10,0,0,1,169356e-10,0,0,1,169427e-10,0,0,.999999,169736e-10,0,0,.999998,170575e-10,0,0,.999995,172372e-10,0,0,.99999,175739e-10,0,0,.999979,181568e-10,0,0,.999966,191206e-10,0,0,.999944,20677e-9,0,0,.999912,231644e-10,0,0,.999869,271268e-10,0,0,.999811,334272e-10,0,0,.99973,433979e-10,0,0,.999617,590083e-10,0,680315e-10,.999445,829497e-10,0,612796e-9,.999138,118019e-9,0,.00187408,.998095,156712e-9,0,.00395791,.993919,125054e-9,0,.00692144,.991333,126091e-9,0,.0107962,.989226,144912e-9,0,.0155986,.986954,175737e-9,0,.0213364,.983982,213883e-9,0,.0280114,.979128,234526e-9,0,.0356226,.973327,243725e-9,0,.0441668,.967416,2773e-7,0,.0536399,.959729,308799e-9,0,.0640376,.949758,322447e-9,0,.0753554,.939173,350021e-9,0,.0875893,.9296,370089e-9,0,.100736,.921181,391365e-9,0,.114793,.91164,413636e-9,0,.129759,.900435,427068e-9,0,.145632,.888183,441046e-9,0,.162412,.874772,454968e-9,0,.180101,.859566,461882e-9,0,.1987,.843579,471556e-9,0,.218213,.826453,474335e-9,0,.238641,.809164,477078e-9,0,.259989,.792179,47755e-8,0,.282262,.773866,472573e-9,0,.305464,.754944,469765e-9,0,.329599,.735133,462371e-9,0,.35467,.714858,453674e-9,0,.380678,.694829,443888e-9,0,.407622,.674453,432052e-9,0,.435493,.653685,420315e-9,0,.464275,.632666,406829e-9,0,.493938,.611676,392234e-9,0,.524422,.591193,379208e-9,0,.555624,.570145,36319e-8,0,.587302,.549566,349111e-9,0,.619048,.529278,334166e-9,0,.650794,.509026,318456e-9,0,.68254,.489186,30449e-8,0,.714286,.469662,289051e-9,0,.746032,.450691,275494e-9,0,.777778,.431841,261437e-9,0,.809524,.413752,247846e-9,0,.84127,.395951,235085e-9,0,.873016,.378633,222245e-9,0,.904762,.36194,210533e-9,0,.936508,.345599,198494e-9,0,.968254,.329999,188133e-9,0,1,1,269663e-10,0,0,1,26967e-9,0,0,1,269772e-10,0,0,.999999,270214e-10,0,0,.999998,271415e-10,0,0,.999994,27398e-9,0,0,.999988,278771e-10,0,0,.999977,287019e-10,0,0,.999961,300544e-10,0,0,.999937,322138e-10,0,0,.999904,356163e-10,0,0,.999854,409465e-10,0,0,.99979,492651e-10,0,0,.999699,621722e-10,0,88288e-11,.999572,819715e-10,0,223369e-9,.999381,111689e-9,0,.00105414,.999016,153862e-9,0,.0026493,.997437,187667e-9,0,.00508608,.993545,155672e-9,0,.00840554,.991135,161455e-9,0,.012629,.989157,188241e-9,0,.0177661,.986874,226229e-9,0,.0238198,.983714,268668e-9,0,.0307887,.978301,277109e-9,0,.0386688,.973227,303446e-9,0,.0474554,.967317,341851e-9,0,.0571428,.959477,370885e-9,0,.0677256,.950012,392753e-9,0,.0791988,.939484,42781e-8,0,.0915576,.928135,443866e-9,0,.104798,.919819,472959e-9,0,.118918,.910049,491551e-9,0,.133915,.899181,512616e-9,0,.149788,.886881,523563e-9,0,.166537,.87359,540183e-9,0,.184164,.858613,547386e-9,0,.202669,.842809,554809e-9,0,.222056,.825727,558316e-9,0,.242329,.808086,557824e-9,0,.263492,.790728,556346e-9,0,.285551,.772987,552672e-9,0,.30851,.7541,543738e-9,0,.332376,.734669,536107e-9,0,.357153,.714411,523342e-9,0,.382845,.694196,512238e-9,0,.409454,.674252,497465e-9,0,.436977,.65357,481096e-9,0,.465404,.632999,467054e-9,0,.494713,.611994,448771e-9,0,.524864,.591604,431889e-9,0,.555779,.571134,415238e-9,0,.587302,.550528,396369e-9,0,.619048,.530292,379477e-9,0,.650794,.510364,361488e-9,0,.68254,.490749,343787e-9,0,.714286,.471266,327822e-9,0,.746032,.452462,310626e-9,0,.777778,.433907,295352e-9,0,.809524,.415659,279179e-9,0,.84127,.398138,264685e-9,0,.873016,.380833,249905e-9,0,.904762,.364247,236282e-9,0,.936508,.348041,222905e-9,0,.968254,.332389,210522e-9,0,1,1,420604e-10,0,0,1,420614e-10,0,0,1,420757e-10,0,0,.999999,42138e-9,0,0,.999997,423067e-10,0,0,.999993,426668e-10,0,0,.999986,433372e-10,0,0,.999974,444857e-10,0,0,.999956,463554e-10,0,0,.99993,493105e-10,0,0,.999892,539077e-10,0,0,.999838,610005e-10,0,0,.999767,718822e-10,0,0,.999666,884581e-10,0,365471e-10,.999525,113398e-9,0,485623e-9,.999311,150043e-9,0,.00162096,.998865,200063e-9,0,.00355319,.996278,211014e-9,0,.00633818,.992956,189672e-9,0,.0100043,.991017,210262e-9,0,.0145648,.989055,244292e-9,0,.0200237,.986741,290481e-9,0,.0263798,.983288,334303e-9,0,.033629,.977784,340307e-9,0,.0417652,.973037,377864e-9,0,.0507821,.967181,4239e-7,0,.060673,.958971,443854e-9,0,.0714314,.950093,483039e-9,0,.0830518,.939552,517934e-9,0,.0955288,.927678,539449e-9,0,.108859,.918278,568604e-9,0,.123038,.908449,588505e-9,0,.138065,.897713,612473e-9,0,.153938,.885533,625575e-9,0,.170657,.872131,63854e-8,0,.188224,.857517,647034e-9,0,.20664,.841796,65209e-8,0,.225909,.824726,6544e-7,0,.246035,.807297,655744e-9,0,.267022,.789058,646716e-9,0,.288878,.77189,643898e-9,0,.311607,.753082,629973e-9,0,.335216,.7341,621564e-9,0,.359713,.714094,605171e-9,0,.385103,.693839,588752e-9,0,.41139,.673891,573294e-9,0,.438576,.653565,552682e-9,0,.466656,.633326,533446e-9,0,.495617,.612582,514635e-9,0,.525431,.59205,49303e-8,0,.556041,.571918,471842e-9,0,.587338,.551572,451713e-9,0,.619048,.531553,430049e-9,0,.650794,.51175,410445e-9,0,.68254,.49238,390098e-9,0,.714286,.473143,370033e-9,0,.746032,.45423,351205e-9,0,.777778,.435963,332049e-9,0,.809524,.41787,315021e-9,0,.84127,.400387,297315e-9,0,.873016,.383332,281385e-9,0,.904762,.366665,265397e-9,0,.936508,.350633,250601e-9,0,.968254,.334964,23589e-8,0,1,1,643736e-10,0,0,1,64375e-9,0,0,1,643947e-10,0,0,.999999,64481e-9,0,0,.999997,647143e-10,0,0,.999994,652119e-10,0,0,.999985,661359e-10,0,0,.999972,677116e-10,0,0,.999952,702599e-10,0,0,.999922,742517e-10,0,0,.99988,803906e-10,0,0,.99982,897315e-10,0,0,.999741,103838e-9,0,0,.999629,12496e-8,0,149024e-9,.999474,156161e-9,0,861027e-9,.999229,201034e-9,0,.00231198,.998662,259069e-9,0,.00458147,.995299,245439e-9,0,.00770895,.992732,24498e-8,0,.0117126,.990847,273211e-9,0,.0165989,.988911,316492e-9,0,.0223674,.98654,37161e-8,0,.0290135,.982636,410352e-9,0,.0365309,.977346,421756e-9,0,.0449117,.972909,475578e-9,0,.0541481,.966821,522482e-9,0,.0642326,.958686,545008e-9,0,.075158,.949754,589286e-9,0,.0869181,.939184,619995e-9,0,.0995074,.927505,654266e-9,0,.112922,.916606,682362e-9,0,.127157,.906707,704286e-9,0,.142212,.895937,725909e-9,0,.158085,.883913,743939e-9,0,.174776,.870642,755157e-9,0,.192287,.856241,764387e-9,0,.210619,.84069,771032e-9,0,.229775,.823728,765906e-9,0,.249761,.806481,767604e-9,0,.270582,.787924,754385e-9,0,.292243,.770588,749668e-9,0,.314753,.751991,731613e-9,0,.338118,.733407,717655e-9,0,.362347,.713688,700604e-9,0,.387447,.693595,678765e-9,0,.413424,.673426,657042e-9,0,.440284,.65359,635892e-9,0,.468027,.633576,611569e-9,0,.496645,.613144,586011e-9,0,.526122,.592711,563111e-9,0,.556417,.572722,537699e-9,0,.587451,.552762,512556e-9,0,.619048,.532985,489757e-9,0,.650794,.513219,464139e-9,0,.68254,.493992,442193e-9,0,.714286,.47509,418629e-9,0,.746032,.456287,397045e-9,0,.777778,.438152,375504e-9,0,.809524,.420294,35492e-8,0,.84127,.402749,335327e-9,0,.873016,.385879,316422e-9,0,.904762,.369352,298333e-9,0,.936508,.353301,281417e-9,0,.968254,.337781,265203e-9,0,1,1,968267e-10,0,0,1,968284e-10,0,0,1,968556e-10,0,0,.999999,969733e-10,0,0,.999997,972913e-10,0,0,.999993,979688e-10,0,0,.999984,992239e-10,0,0,.999969,101356e-9,0,0,.999946,104784e-9,0,0,.999913,110111e-9,0,0,.999868,118217e-9,0,0,.999801,130396e-9,0,0,.999712,148523e-9,0,124907e-10,.999589,175233e-9,0,355405e-9,.999416,213999e-9,0,.0013528,.999136,268529e-9,0,.00312557,.998367,333088e-9,0,.00573045,.994701,304757e-9,0,.00919397,.992497,318031e-9,0,.0135261,.990608,353863e-9,0,.0187278,.988715,409044e-9,0,.0247947,.986241,472967e-9,0,.0317196,.981696,495104e-9,0,.039494,.977097,532873e-9,0,.0481087,.972583,594447e-9,0,.0575549,.966142,636867e-9,0,.0678242,.95823,669899e-9,0,.0789089,.949677,719499e-9,0,.0908023,.939226,750584e-9,0,.103499,.927501,793183e-9,0,.116993,.915199,81995e-8,0,.131282,.90498,847654e-9,0,.146364,.894243,868929e-9,0,.162237,.882154,884278e-9,0,.178902,.869161,898108e-9,0,.196358,.854751,901254e-9,0,.21461,.839368,90679e-8,0,.23366,.822874,901541e-9,0,.253512,.805514,897297e-9,0,.274174,.78716,881856e-9,0,.29565,.769061,870032e-9,0,.31795,.751,851719e-9,0,.341081,.732614,830671e-9,0,.365053,.713171,806569e-9,0,.389874,.693472,78338e-8,0,.415553,.673528,756404e-9,0,.442098,.653397,726872e-9,0,.469512,.633781,700494e-9,0,.497794,.613877,67105e-8,0,.526935,.593506,640361e-9,0,.556908,.573667,613502e-9,0,.587657,.553932,583177e-9,0,.61906,.534345,554375e-9,0,.650794,.515042,527811e-9,0,.68254,.495674,499367e-9,0,.714286,.477132,47429e-8,0,.746032,.458609,447726e-9,0,.777778,.440354,424205e-9,0,.809524,.422765,399549e-9,0,.84127,.405472,378315e-9,0,.873016,.388482,355327e-9,0,.904762,.372191,336122e-9,0,.936508,.356099,315247e-9,0,.968254,.340737,29794e-8,0,1,1,143327e-9,0,0,1,14333e-8,0,0,1,143366e-9,0,0,.999999,143524e-9,0,0,.999996,143952e-9,0,0,.999991,144862e-9,0,0,.999981,146544e-9,0,0,.999966,149391e-9,0,0,.999941,153946e-9,0,0,.999905,160971e-9,0,0,.999852,171562e-9,0,0,.99978,18729e-8,0,0,.999681,210386e-9,0,826239e-10,.999546,243906e-9,0,664807e-9,.999352,291739e-9,0,.00196192,.999027,357419e-9,0,.00405941,.997886,422349e-9,0,.00699664,.99419,385008e-9,0,.0107896,.99214,409775e-9,0,.0154415,.990274,456418e-9,0,.0209488,.988455,527008e-9,0,.0273037,.985804,597685e-9,0,.0344969,.98103,613124e-9,0,.0425183,.976674,668321e-9,0,.0513575,.972021,736985e-9,0,.0610046,.965274,773789e-9,0,.0714508,.958046,830852e-9,0,.0826877,.949333,875766e-9,0,.0947085,.939135,917088e-9,0,.107507,.927119,952244e-9,0,.121078,.91469,990626e-9,0,.135419,.903006,.00101304,0,.150526,.892368,.00103834,0,.166399,.880231,.00105002,0,.183038,.867432,.00106331,0,.200443,.853208,.00106783,0,.218618,.837956,.00106458,0,.237566,.821772,.00105945,0,.257291,.804328,.00104685,0,.2778,.786465,.00103178,0,.2991,.768004,.00101077,0,.321199,.74972,985504e-9,0,.344106,.731682,962893e-9,0,.36783,.712813,932146e-9,0,.392383,.693139,89871e-8,0,.417774,.673566,869678e-9,0,.444013,.653483,835525e-9,0,.471107,.633891,799853e-9,0,.49906,.614433,766838e-9,0,.527869,.594586,732227e-9,0,.557517,.574769,696442e-9,0,.587966,.555149,663935e-9,0,.61913,.535898,629826e-9,0,.650794,.516753,596486e-9,0,.68254,.497816,567078e-9,0,.714286,.479034,534399e-9,0,.746032,.460975,507013e-9,0,.777778,.442935,477421e-9,0,.809524,.425263,451101e-9,0,.84127,.408248,424964e-9,0,.873016,.391339,39993e-8,0,.904762,.37513,377619e-9,0,.936508,.359172,354418e-9,0,.968254,.343876,334823e-9,0,1,1,209042e-9,0,0,1,209045e-9,0,0,1,209093e-9,0,0,.999999,209304e-9,0,0,.999996,209871e-9,0,0,.999991,211078e-9,0,0,.999979,213304e-9,0,0,.999963,217061e-9,0,0,.999933,223042e-9,0,0,.999894,232206e-9,0,0,.999837,245901e-9,0,0,.999756,266023e-9,0,102927e-11,.999648,295204e-9,0,233468e-9,.999499,336958e-9,0,.00108237,.999283,395563e-9,0,.00268832,.998896,473785e-9,0,.00511138,.997006,520008e-9,0,.00837705,.993819,497261e-9,0,.0124928,.991632,523722e-9,0,.0174561,.989875,587258e-9,0,.0232596,.988109,676329e-9,0,.0298932,.985155,747701e-9,0,.0373453,.980479,768803e-9,0,.0456045,.976271,841054e-9,0,.0546593,.971347,911469e-9,0,.0644994,.964528,953057e-9,0,.0751152,.957632,.00102221,0,.0864981,.948681,.00106122,0,.0986407,.938716,.00111857,0,.111537,.926629,.00114762,0,.125182,.914025,.00118995,0,.139571,.901026,.00121228,0,.154703,.890358,.00123946,0,.170576,.878283,.0012527,0,.18719,.865459,.00125536,0,.204547,.851407,.00126134,0,.222648,.836276,.00124759,0,.241498,.820436,.00124443,0,.261101,.803253,.00122071,0,.281465,.785562,.00120107,0,.302595,.76718,.00117762,0,.324501,.748551,.00114289,0,.347192,.730564,.00110872,0,.370679,.712253,.00107636,0,.394973,.692867,.00103646,0,.420085,.673695,996793e-9,0,.446027,.653912,95675e-8,0,.47281,.634129,916739e-9,0,.500441,.615004,874401e-9,0,.528921,.595587,833411e-9,0,.558244,.575965,794556e-9,0,.588384,.5566,75196e-8,0,.619281,.537428,716381e-9,0,.650795,.518623,676558e-9,0,.68254,.499964,64074e-8,0,.714286,.481356,605984e-9,0,.746032,.463279,570256e-9,0,.777778,.445673,540138e-9,0,.809524,.428032,507299e-9,0,.84127,.411112,479553e-9,0,.873016,.394444,450737e-9,0,.904762,.378247,424269e-9,0,.936508,.362415,399111e-9,0,.968254,.347103,375274e-9,0,1,1,300729e-9,0,0,1,300733e-9,0,0,1,300797e-9,0,0,.999998,301072e-9,0,0,.999996,301817e-9,0,0,.999989,303398e-9,0,0,.999977,306309e-9,0,0,.999958,311209e-9,0,0,.999927,318975e-9,0,0,.999884,330804e-9,0,0,.99982,34834e-8,0,0,.999733,373854e-9,0,326995e-10,.999613,410424e-9,0,477174e-9,.999447,462047e-9,0,.00161099,.999204,533322e-9,0,.00353153,.998725,624964e-9,0,.00627965,.995871,631786e-9,0,.0098693,.993194,632017e-9,0,.0143011,.991541,68923e-8,0,.019568,.989773,766892e-9,0,.0256593,.987647,863668e-9,0,.0325625,.984193,922089e-9,0,.0402647,.980016,970749e-9,0,.0487532,.975859,.00106027,0,.058016,.970514,.00112239,0,.0680419,.963625,.00117212,0,.0788208,.956959,.00125211,0,.0903439,.947956,.00129411,0,.102604,.93809,.00135879,0,.115594,.92659,.00139309,0,.129309,.913829,.00143253,0,.143745,.90005,.00145809,0,.158901,.888129,.0014748,0,.174774,.87607,.00148756,0,.191365,.863461,.00148714,0,.208674,.849594,.00148892,0,.226705,.834531,.00146496,0,.245461,.81903,.0014579,0,.264947,.802122,.00143039,0,.28517,.78445,.00139717,0,.306137,.766434,.00136312,0,.327857,.747816,.00132597,0,.350341,.729519,.00128323,0,.373598,.711454,.00123803,0,.397642,.692699,.00119097,0,.422485,.673723,.00114565,0,.448139,.654386,.00109552,0,.474619,.634673,.00104553,0,.501933,.615554,99985e-8,0,.530089,.596462,948207e-9,0,.559087,.577385,902299e-9,0,.588913,.558257,856448e-9,0,.619525,.5392,810395e-9,0,.650826,.520543,768558e-9,0,.68254,.502206,7239e-7,0,.714286,.48402,685794e-9,0,.746032,.465779,64471e-8,0,.777778,.448455,609583e-9,0,.809524,.431091,57227e-8,0,.84127,.414147,54042e-8,0,.873016,.39765,506545e-9,0,.904762,.381576,477635e-9,0,.936508,.365881,448446e-9,0,.968254,.350582,421424e-9,0,1,1,427144e-9,0,0,1,427151e-9,0,0,1,427232e-9,0,0,.999998,42759e-8,0,0,.999995,428555e-9,0,0,.999988,430603e-9,0,0,.999976,434368e-9,0,0,.999952,440688e-9,0,0,.999919,450667e-9,0,0,.999871,46578e-8,0,0,.999801,488024e-9,0,0,.999704,520092e-9,0,129791e-9,.999572,565553e-9,0,821056e-9,.999389,628906e-9,0,.00225241,.999114,714911e-9,0,.00449109,.998488,819218e-9,0,.00756249,.995234,80415e-8,0,.0114716,.993021,830181e-9,0,.0162131,.991407,902645e-9,0,.021776,.989625,996934e-9,0,.0281471,.987064,.00109707,0,.0353118,.983265,.00114353,0,.0432562,.979535,.0012272,0,.0519665,.975224,.00132642,0,.0614298,.969574,.00138092,0,.0716348,.963021,.00145896,0,.0825709,.956046,.00152834,0,.094229,.947136,.00158217,0,.106602,.937313,.0016347,0,.119682,.926073,.00168383,0,.133465,.913121,.00171627,0,.147947,.899165,.00174229,0,.163125,.885891,.00176137,0,.178998,.873783,.00176406,0,.195566,.861331,.00176156,0,.21283,.847569,.00175346,0,.230793,.832785,.00172753,0,.249459,.817442,.00170204,0,.268832,.800613,.00166576,0,.28892,.783597,.00162909,0,.30973,.76571,.0015826,0,.331271,.747021,.00153106,0,.353554,.728593,.00148036,0,.37659,.710661,.00142808,0,.400391,.692426,.00136906,0,.424973,.673623,.00131066,0,.450347,.65494,.00125569,0,.476531,.635448,.00119517,0,.503535,.616221,.00113828,0,.531372,.597531,.0010816,0,.560047,.578795,.00102673,0,.589554,.559892,970985e-9,0,.619869,.541307,919773e-9,0,.650923,.522608,868479e-9,0,.68254,.504484,82137e-8,0,.714286,.486603,772916e-9,0,.746032,.468802,730353e-9,0,.777778,.451172,684955e-9,0,.809524,.434348,647565e-9,0,.84127,.417445,605863e-9,0,.873016,.401077,571885e-9,0,.904762,.385039,536034e-9,0,.936508,.369483,504227e-9,0,.968254,.354272,473165e-9,0,1,1,599525e-9,0,0,1,599533e-9,0,0,1,599639e-9,0,0,.999998,600097e-9,0,0,.999994,601336e-9,0,0,.999987,603958e-9,0,0,.999972,608775e-9,0,0,.999949,616842e-9,0,0,.999912,629534e-9,0,0,.999857,648658e-9,0,0,.999781,676615e-9,0,538873e-11,.999674,716574e-9,0,308602e-9,.999528,772641e-9,0,.00127003,.999326,849806e-9,0,.00300783,.999009,952682e-9,0,.00556637,.998112,.00106394,0,.00895889,.994496,.00102228,0,.0131827,.992806,.00108586,0,.0182277,.991211,.0011759,0,.0240795,.989415,.00128955,0,.030723,.986499,.00139038,0,.0381418,.982679,.00144539,0,.046321,.978839,.00153954,0,.0552459,.974295,.00164417,0,.0649034,.968784,.00171517,0,.0752814,.962324,.00180282,0,.0863693,.954956,.00186387,0,.0981578,.94624,.00193817,0,.110639,.936517,.00198156,0,.123806,.925186,.00203042,0,.137655,.91252,.0020664,0,.15218,.898441,.00207822,0,.16738,.884394,.0020992,0,.183253,.871273,.00208748,0,.199799,.859057,.00208686,0,.21702,.845243,.00205519,0,.234918,.830723,.00202868,0,.253496,.815801,.00199501,0,.272761,.79914,.00194193,0,.292719,.782372,.00188824,0,.313377,.76482,.00183695,0,.334745,.746586,.00177418,0,.356833,.7281,.00170628,0,.379654,.709842,.00164063,0,.403221,.692019,.00157355,0,.427548,.67364,.00150262,0,.452651,.655277,.00143473,0,.478545,.636438,.00136371,0,.505246,.617364,.00129911,0,.532768,.598603,.00123014,0,.561122,.580195,.00116587,0,.590309,.561786,.00110398,0,.620318,.543377,.00104148,0,.651102,.525093,983984e-9,0,.682545,.506791,92667e-8,0,.714286,.489291,874326e-9,0,.746032,.471811,821734e-9,0,.777778,.454435,774698e-9,0,.809524,.437493,727302e-9,0,.84127,.420977,684039e-9,0,.873016,.404729,64373e-8,0,.904762,.388756,60285e-8,0,.936508,.373344,56765e-8,0,.968254,.358191,531929e-9,0,1,1,832169e-9,0,0,1,832178e-9,0,0,1,83231e-8,0,0,.999998,832893e-9,0,0,.999995,834465e-9,0,0,.999985,837791e-9,0,0,.999969,843893e-9,0,0,.999944,854086e-9,0,0,.999903,870071e-9,0,0,.999843,894042e-9,0,0,.999759,928865e-9,0,531805e-10,.999643,978242e-9,0,579365e-9,.99948,.00104684,0,.00182774,.999255,.00114012,0,.00387804,.998885,.00126188,0,.00675709,.997405,.00135888,0,.010468,.99424,.00133626,0,.0150018,.992458,.00140905,0,.0203443,.990929,.00152305,0,.0264786,.989116,.00165882,0,.0333875,.985624,.00174128,0,.0410536,.982003,.00182108,0,.0494609,.978336,.00194498,0,.0585941,.973184,.00202708,0,.0684396,.9678,.00212166,0,.0789851,.961348,.00221366,0,.0902199,.953841,.00228219,0,.102134,.94534,.00235662,0,.114721,.935552,.00240572,0,.127972,.924064,.00244405,0,.141884,.911827,.00247557,0,.156451,.897731,.00248374,0,.171672,.883409,.00249863,0,.187545,.868625,.00246688,0,.20407,.856529,.00246523,0,.221249,.842999,.00242368,0,.239083,.828505,.00237354,0,.257578,.813825,.00232588,0,.276738,.797813,.00226731,0,.296569,.781097,.00219704,0,.31708,.764038,.00212394,0,.338281,.746067,.00204786,0,.360181,.727687,.00196728,0,.382794,.709571,.00188779,0,.406133,.691503,.00180532,0,.430213,.673673,.00171849,0,.45505,.655732,.00164147,0,.480662,.637399,.00155858,0,.507065,.618616,.00147641,0,.534278,.60005,.00140125,0,.562313,.581713,.00132441,0,.59118,.563546,.00125014,0,.620875,.545605,.00118249,0,.651373,.527559,.0011116,0,.682593,.509764,.00104979,0,.714286,.49193,985977e-9,0,.746032,.475011,928592e-9,0,.777778,.457878,873466e-9,0,.809524,.440979,819585e-9,0,.84127,.424613,772365e-9,0,.873016,.408549,722195e-9,0,.904762,.392771,680014e-9,0,.936508,.377317,636797e-9,0,.968254,.362352,598318e-9,0,1,1,.00114313,0,0,1,.00114314,0,0,.999999,.00114331,0,0,.999998,.00114404,0,0,.999994,.00114601,0,0,.999984,.00115019,0,0,.999967,.00115784,0,0,.999937,.0011706,0,0,.999894,.00119054,0,0,.999828,.00122031,0,0,.999735,.00126331,0,169263e-9,.999606,.00132382,0,949167e-9,.999426,.0014071,0,.00249668,.999173,.00151895,0,.00486392,.99873,.00166102,0,.00806323,.996243,.0017023,0,.0120895,.993779,.00172782,0,.0169288,.9919,.0018108,0,.0225633,.990524,.00196028,0,.028974,.98868,.00212014,0,.036142,.984663,.00217598,0,.044049,.981457,.00230563,0,.0526781,.977608,.00243966,0,.0620137,.972215,.00251336,0,.0720418,.966798,.0026285,0,.0827499,.960241,.00271409,0,.0941271,.952489,.00278381,0,.106164,.944127,.00285399,0,.118852,.934282,.00290994,0,.132185,.923271,.00294558,0,.146157,.910803,.00296269,0,.160766,.896705,.00296803,0,.176007,.88238,.00296637,0,.19188,.867116,.00293163,0,.208385,.853636,.00289418,0,.225523,.840469,.00284663,0,.243296,.82639,.00278594,0,.261709,.811759,.00271618,0,.280767,.796113,.00263187,0,.300476,.779518,.00254589,0,.320845,.763142,.00246003,0,.341883,.745464,.00236529,0,.363601,.727491,.00226536,0,.386011,.709414,.00216375,0,.409128,.691396,.00207127,0,.432967,.67368,.00197106,0,.457545,.656049,.00187022,0,.482881,.638188,.00177605,0,.508992,.620177,.00168482,0,.535899,.601506,.00158909,0,.563619,.58362,.00150583,0,.592165,.565496,.00141791,0,.621544,.54789,.00133693,0,.651743,.530323,.00126038,0,.682709,.512795,.00118556,0,.714286,.495199,.00111527,0,.746032,.478101,.0010489,0,.777778,.461511,984264e-9,0,.809524,.444879,92591e-8,0,.84127,.428424,866582e-9,0,.873016,.412495,814463e-9,0,.904762,.396975,764498e-9,0,.936508,.381614,715967e-9,0,.968254,.366732,672483e-9,0,1,1,.00155501,0,0,1,.00155503,0,0,1,.00155524,0,0,.999998,.00155615,0,0,.999994,.0015586,0,0,.999983,.00156379,0,0,.999963,.0015733,0,0,.999932,.00158911,0,0,.999882,.00161376,0,0,.99981,.00165041,0,100875e-10,.999708,.00170304,0,367658e-9,.999565,.00177658,0,.0014234,.999368,.00187688,0,.00327939,.999081,.00200989,0,.00596629,.99852,.00217177,0,.0094852,.99549,.0021745,0,.013824,.993252,.00222357,0,.0189642,.991727,.00235022,0,.0248856,.989951,.00250561,0,.0315669,.988029,.00268829,0,.0389882,.984029,.0027496,0,.0471302,.980683,.00289793,0,.0559754,.976554,.00303315,0,.0655081,.97139,.00313257,0,.0757138,.965544,.00323656,0,.08658,.95912,.00333432,0,.0980954,.951183,.0034039,0,.110251,.942974,.00347515,0,.123038,.932642,.00350381,0,.13645,.922158,.00354519,0,.150482,.909404,.00353851,0,.165129,.896071,.0035435,0,.18039,.881206,.00349936,0,.196263,.866077,.00347256,0,.212748,.85093,.003415,0,.229847,.837703,.00333367,0,.247561,.823878,.003249,0,.265895,.809449,.00316347,0,.284854,.794379,.00306351,0,.304445,.778138,.0029499,0,.324675,.761997,.00284099,0,.345555,.744938,.00272104,0,.367095,.727212,.00260715,0,.389309,.709549,.00248855,0,.41221,.691704,.00236783,0,.435814,.673689,.00225178,0,.460138,.656453,.00213765,0,.485203,.639128,.00202178,0,.511028,.621512,.00191443,0,.537634,.603598,.00180977,0,.565041,.58559,.00170456,0,.593268,.567852,.00160927,0,.622327,.5503,.00151395,0,.652217,.533033,.00142499,0,.682907,.515942,.00133955,0,.714296,.498814,.0012602,0,.746032,.481595,.00118188,0,.777778,.465117,.00111171,0,.809524,.448865,.00104091,0,.84127,.432711,976618e-9,0,.873016,.416822,91859e-8,0,.904762,.401272,857704e-9,0,.936508,.386226,807172e-9,0,.968254,.371321,75464e-8,0,1,1,.00209596,0,0,1,.00209598,0,0,1,.00209624,0,0,.999997,.00209736,0,0,.999991,.00210039,0,0,.999979,.00210678,0,0,.999959,.00211847,0,0,.999925,.0021379,0,0,.99987,.00216809,0,0,.999791,.00221281,0,681487e-10,.999677,.00227669,0,658161e-9,.999521,.00236533,0,.00200635,.999301,.00248514,0,.0041779,.998977,.00264185,0,.00718648,.998191,.00281695,0,.0110239,.994801,.00278518,0,.015672,.993091,.00288774,0,.0211091,.991571,.00303931,0,.0273123,.9897,.00321643,0,.034259,.987023,.00337332,0,.0419282,.983289,.00346146,0,.0502998,.979892,.00363704,0,.0593562,.975111,.00373601,0,.069081,.970351,.0038842,0,.0794598,.964131,.00397053,0,.0904798,.957747,.00408078,0,.10213,.949536,.00413533,0,.1144,.941372,.00420305,0,.127284,.931049,.00422815,0,.140772,.920647,.00425048,0,.154862,.908033,.0042281,0,.169548,.895028,.00422026,0,.184828,.879968,.00415042,0,.200701,.864875,.00408821,0,.217167,.84918,.00400909,0,.234227,.834934,.00391178,0,.251884,.821397,.00380066,0,.270141,.807135,.00367974,0,.289004,.792363,.00355172,0,.308479,.776661,.003411,0,.328575,.760705,.00328123,0,.349301,.744408,.00314003,0,.370668,.726994,.0029906,0,.392689,.709598,.00285034,0,.415379,.692112,.00271179,0,.438754,.674435,.00257185,0,.46283,.65676,.00243425,0,.48763,.639982,.00230351,0,.513173,.622983,.0021777,0,.539482,.605471,.00204991,0,.566579,.58796,.00193759,0,.594488,.570463,.00181976,0,.623226,.553058,.00171497,0,.6528,.535894,.00161109,0,.683198,.519089,.00151394,0,.714354,.502454,.00142122,0,.746032,.485681,.00133488,0,.777778,.468935,.00124975,0,.809524,.452951,.00117309,0,.84127,.437139,.00110155,0,.873016,.421446,.00103124,0,.904762,.405951,966387e-9,0,.936508,.391003,908119e-9,0,.968254,.376198,848057e-9,0,1,1,.00280076,0,0,1,.00280078,0,0,.999999,.00280109,0,0,.999997,.00280246,0,0,.999992,.00280616,0,0,.999979,.00281396,0,0,.999956,.00282822,0,0,.999916,.00285186,0,0,.999857,.0028885,0,0,.999768,.00294259,0,196026e-9,.999645,.00301946,0,.00104842,.99947,.00312541,0,.00270199,.999229,.00326733,0,.00519449,.998852,.00344992,0,.00852602,.997558,.00361052,0,.0126804,.994417,.0035898,0,.017635,.992824,.00372393,0,.023365,.991344,.00390695,0,.0298456,.989337,.00410392,0,.0370529,.985811,.00420987,0,.0449651,.982772,.00437488,0,.0535615,.979001,.00455069,0,.0628243,.974102,.00464462,0,.0727368,.969197,.00480577,0,.0832844,.962759,.00487818,0,.0944545,.956207,.00498176,0,.106236,.947909,.00503392,0,.118619,.939596,.00507474,0,.131595,.929642,.00509798,0,.145159,.918807,.00508476,0,.159305,.906921,.00505634,0,.174028,.893312,.00498845,0,.189327,.878933,.0049133,0,.2052,.863986,.0048259,0,.221647,.847936,.00470848,0,.23867,.832253,.00456889,0,.25627,.818619,.00442726,0,.274453,.804788,.00427677,0,.293222,.790241,.00411906,0,.312585,.775162,.00394833,0,.33255,.759463,.00377366,0,.353126,.743598,.00361026,0,.374324,.72697,.00343627,0,.396158,.709646,.00326422,0,.418641,.69277,.00309717,0,.44179,.675371,.0029356,0,.465624,.657863,.00277712,0,.490163,.640772,.00261738,0,.515429,.624441,.0024737,0,.541445,.607497,.00233125,0,.568236,.590438,.00218994,0,.595828,.573224,.0020664,0,.624242,.556168,.00193526,0,.653496,.539232,.00182463,0,.683588,.522352,.00170735,0,.714482,.506172,.00160555,0,.746032,.489842,.00150451,0,.777778,.473463,.00140938,0,.809524,.457266,.00132568,0,.84127,.441609,.0012376,0,.873016,.426348,.00116265,0,.904762,.411002,.00108935,0,.936508,.396045,.00101946,0,.968254,.381448,955665e-9,0,1,1,.0037121,0,0,1,.00371213,0,0,1,.00371251,0,0,.999997,.00371417,0,0,.99999,.00371863,0,0,.999977,.00372807,0,0,.99995,.00374529,0,0,.999908,.0037738,0,0,.999843,.00381789,0,123596e-10,.999745,.00388273,0,407442e-9,.999608,.00397443,0,.0015447,.999415,.00409998,0,.00351385,.999143,.00426662,0,.0063316,.9987,.00447625,0,.00998679,.996363,.00455323,0,.0144569,.994021,.00461052,0,.0197151,.992372,.00476359,0,.0257344,.991007,.00499101,0,.0324882,.988767,.0051972,0,.0399517,.984872,.00528407,0,.0481022,.982004,.00548926,0,.0569191,.977714,.00564385,0,.0663839,.973076,.0057693,0,.0764801,.967565,.0058924,0,.0871928,.961384,.00599629,0,.0985095,.954435,.00605998,0,.110419,.946303,.0061133,0,.122912,.937662,.00612028,0,.13598,.927867,.00612209,0,.149617,.916475,.00604813,0,.163817,.90541,.00603088,0,.178577,.891591,.00592218,0,.193894,.877573,.00578854,0,.209767,.862511,.00566648,0,.226196,.846861,.00551481,0,.243182,.83068,.00533754,0,.260728,.815725,.00515487,0,.278837,.802321,.0049655,0,.297515,.787826,.00475421,0,.316768,.773454,.00456002,0,.336605,.758224,.00434727,0,.357034,.74265,.00414444,0,.378067,.726729,.00393738,0,.399717,.710155,.00373575,0,.421998,.693312,.00353736,0,.444928,.67653,.00334368,0,.468523,.659444,.00315981,0,.492806,.642051,.00297809,0,.517798,.625758,.00280592,0,.543525,.609615,.00264254,0,.570012,.592919,.00248459,0,.597288,.576298,.00233327,0,.625379,.559489,.00219519,0,.654307,.542891,.00205441,0,.684084,.526255,.00193385,0,.714693,.509853,.00180745,0,.746044,.494131,.00169817,0,.777778,.478114,.0015913,0,.809524,.462274,.00148981,0,.84127,.446412,.00139537,0,.873016,.431274,.00130984,0,.904762,.41635,.00122403,0,.936508,.401476,.00114809,0,.968254,.386993,.00107563,0,1,1,.00488216,0,0,1,.0048822,0,0,1,.00488265,0,0,.999997,.00488463,0,0,.999988,.00488999,0,0,.999974,.00490129,0,0,.999946,.00492191,0,0,.999897,.00495598,0,0,.999825,.00500855,0,744791e-10,.999718,.00508559,0,712744e-9,.999565,.005194,0,.00215249,.999352,.00534147,0,.00444576,.999046,.00553523,0,.00759218,.998492,.00577016,0,.0115714,.995564,.00578487,0,.0163557,.993339,.00586414,0,.021915,.991834,.00606002,0,.0282201,.990496,.00633312,0,.0352433,.987826,.00651941,0,.042959,.98383,.00660842,0,.0513439,.98109,.00685523,0,.0603772,.976131,.00695778,0,.0700402,.971922,.00714236,0,.0803163,.965901,.00721437,0,.0911908,.959606,.00732017,0,.102651,.952504,.00735788,0,.114686,.944365,.00738493,0,.127286,.935652,.00737969,0,.140443,.925813,.00733612,0,.154151,.914397,.00723094,0,.168405,.903257,.00714002,0,.183201,.890015,.00700149,0,.198536,.876014,.00682813,0,.214409,.861436,.00665567,0,.23082,.845752,.00644526,0,.24777,.829169,.00621635,0,.265263,.813435,.00597789,0,.283301,.799701,.00575694,0,.301889,.785726,.00549866,0,.321035,.77152,.0052503,0,.340746,.75683,.00499619,0,.361032,.741951,.0047543,0,.381904,.726367,.0045084,0,.403374,.710537,.00426784,0,.425457,.693965,.00403487,0,.448169,.677724,.0038075,0,.47153,.66117,.00359431,0,.495561,.644274,.00338354,0,.520284,.627449,.00318163,0,.545725,.611645,.00299672,0,.571911,.595614,.00281016,0,.598873,.579426,.00264252,0,.62664,.563016,.00247509,0,.655239,.546728,.00232647,0,.684692,.530539,.00217803,0,.714999,.514164,.00204216,0,.746106,.498344,.00191403,0,.777778,.482957,.00179203,0,.809524,.467336,.00167695,0,.84127,.451994,.00157567,0,.873016,.436514,.00147113,0,.904762,.42178,.00138034,0,.936508,.407271,.00129219,0,.968254,.392822,.0012098,0,1,1,.00637427,0,0,1,.00637431,0,0,.999999,.00637485,0,0,.999996,.00637721,0,0,.999987,.00638357,0,0,.999971,.006397,0,0,.999939,.00642142,0,0,.999888,.00646177,0,0,.999807,.00652387,0,207916e-9,.999689,.00661454,0,.00112051,.99952,.00674155,0,.00287719,.999283,.00691313,0,.00550145,.998936,.00713598,0,.00897928,.998165,.00738501,0,.0132829,.994847,.00734388,0,.01838,.993182,.00749991,0,.0242381,.991665,.0077246,0,.030826,.989708,.00797579,0,.0381152,.986663,.00813011,0,.0460794,.983288,.00830365,0,.0546951,.980104,.00853496,0,.0639411,.974855,.00861045,0,.0737988,.97045,.00879133,0,.0842516,.964509,.00886377,0,.0952848,.957594,.00890346,0,.106886,.950546,.00893289,0,.119044,.942225,.00890074,0,.131749,.933365,.00886826,0,.144994,.923202,.0087316,0,.158772,.912605,.00863082,0,.173078,.901099,.00847403,0,.187908,.888177,.00825838,0,.203261,.873955,.00801834,0,.219134,.860091,.00779026,0,.235527,.84434,.00752478,0,.252443,.828517,.00724074,0,.269883,.81239,.00693769,0,.287851,.79721,.00664817,0,.306352,.783489,.00634763,0,.325393,.769514,.00604221,0,.344981,.755419,.00573568,0,.365126,.741083,.00544359,0,.385839,.726059,.00515515,0,.407132,.710809,.00487139,0,.42902,.695052,.00459846,0,.45152,.678886,.00433412,0,.474651,.663042,.00407981,0,.498433,.646634,.00384264,0,.52289,.630117,.00360897,0,.548048,.613804,.00338863,0,.573936,.598338,.00318486,0,.600584,.582687,.00298377,0,.628027,.566809,.00280082,0,.656295,.550817,.00262255,0,.685417,.534937,.00245835,0,.715406,.519151,.00230574,0,.74624,.503118,.0021549,0,.777778,.487723,.00202008,0,.809524,.472725,.00189355,0,.84127,.457599,.00177108,0,.873016,.442558,.00165843,0,.904762,.427624,.00155494,0,.936508,.413171,.00145273,0,.968254,.399122,.00136454,0,1,1,.00826496,0,0,1,.00826499,0,0,1,.00826564,0,0,.999996,.00826842,0,0,.999987,.00827589,0,0,.999967,.00829167,0,0,.999933,.00832037,0,0,.999876,.00836768,0,109338e-10,.999786,.00844031,0,427145e-9,.999655,.00854603,0,.0016384,.999468,.00869337,0,.00372392,.999203,.008891,0,.00668513,.998803,.00914387,0,.0104968,.99748,.00935838,0,.015125,.994446,.00933309,0,.0205338,.99292,.00953084,0,.0266884,.991414,.0097893,0,.0335565,.989049,.0100228,0,.0411086,.98582,.0101664,0,.0493181,.982441,.0103582,0,.0581613,.978595,.0105292,0,.0676169,.973495,.0106274,0,.0776661,.968405,.0107261,0,.0882926,.962717,.0108234,0,.0994817,.955478,.0108102,0,.111221,.948275,.0107914,0,.123499,.940006,.0107161,0,.136308,.930831,.0106309,0,.149639,.920648,.0104083,0,.163485,.910205,.0102312,0,.177843,.898445,.0100051,0,.192707,.885986,.00971928,0,.208077,.872204,.00940747,0,.22395,.858436,.0091085,0,.240326,.843454,.00876595,0,.257208,.827437,.00839794,0,.274596,.811488,.00803692,0,.292496,.796039,.00767352,0,.310911,.781083,.0073097,0,.329849,.767642,.00694032,0,.349316,.753901,.00657476,0,.369323,.740131,.00622699,0,.38988,.725845,.0058838,0,.410999,.710991,.00555586,0,.432696,.696002,.00523089,0,.454987,.680461,.00492494,0,.47789,.664875,.00463464,0,.501426,.649273,.00435422,0,.52562,.63302,.0040875,0,.550498,.61705,.00384075,0,.576089,.601154,.00359557,0,.602427,.586008,.00337636,0,.629544,.570699,.00316019,0,.657479,.555166,.00296033,0,.686264,.539645,.00277552,0,.715924,.524159,.00259499,0,.746459,.508682,.00243257,0,.777789,.493163,.00227851,0,.809524,.478004,.00213083,0,.84127,.46347,.00199502,0,.873016,.448778,.00186967,0,.904762,.434105,.00174732,0,.936508,.419576,.00163861,0,.968254,.405541,.00153341,0,1,1,.0106462,0,0,1,.0106462,0,0,.999999,.010647,0,0,.999995,.0106502,0,0,.999985,.0106589,0,0,.999964,.0106773,0,0,.999925,.0107106,0,0,.999861,.0107655,0,712986e-10,.999763,.0108497,0,743959e-9,.999616,.0109716,0,.00227361,.999408,.0111408,0,.0046983,.999112,.0113659,0,.00800158,.998637,.0116475,0,.0121493,.996223,.0117231,0,.0171023,.994006,.0118064,0,.0228218,.992444,.0120254,0,.0292711,.991028,.0123314,0,.036417,.98803,.0124954,0,.0442295,.984816,.0126538,0,.0526815,.981399,.0128537,0,.0617492,.977085,.0129694,0,.0714114,.972154,.013091,0,.0816495,.966617,.0131166,0,.0924472,.960628,.0131583,0,.10379,.953295,.0131094,0,.115665,.94575,.0129966,0,.128062,.937654,.0128796,0,.140972,.927716,.0126477,0,.154387,.917932,.0123889,0,.168301,.907719,.012131,0,.182709,.89584,.0118013,0,.197608,.883526,.0114145,0,.212994,.870301,.0110075,0,.228867,.856272,.0106019,0,.245227,.842251,.0101938,0,.262074,.826466,.00973254,0,.279412,.810859,.0092846,0,.297244,.795051,.00883304,0,.315575,.780053,.00840272,0,.334412,.76575,.00796438,0,.35376,.752298,.00752526,0,.373631,.739153,.00711486,0,.394034,.725514,.00670361,0,.414983,.711473,.00632656,0,.436491,.696936,.00595206,0,.458575,.682126,.00559191,0,.481253,.667027,.00525362,0,.504547,.651875,.00493805,0,.528481,.636463,.00462848,0,.553081,.620641,.00433936,0,.578377,.604931,.00407,0,.604404,.589549,.00380864,0,.631197,.574712,.00357049,0,.658795,.559775,.00334466,0,.687238,.544514,.00312505,0,.716559,.529555,.00293199,0,.746776,.514402,.00274204,0,.777849,.499302,.00256647,0,.809524,.484114,.00239901,0,.84127,.469308,.00225148,0,.873016,.455133,.00210178,0,.904762,.440939,.0019727,0,.936508,.426627,.00184382,0,.968254,.412509,.00172548,0,1,1,.013628,0,0,1,.0136281,0,0,.999999,.0136289,0,0,.999995,.0136327,0,0,.999983,.0136427,0,0,.99996,.0136638,0,0,.999917,.0137022,0,0,.999846,.0137652,0,204597e-9,.999736,.0138615,0,.00116837,.999573,.0140007,0,.00303325,.99934,.0141927,0,.00580613,.999004,.0144457,0,.00945626,.998407,.0147489,0,.0139421,.995464,.014731,0,.0192202,.993328,.0148283,0,.0252495,.991799,.0150797,0,.0319921,.990397,.0154316,0,.0394138,.986835,.0155005,0,.0474843,.983938,.0157308,0,.0561763,.980154,.0158753,0,.0654661,.975659,.0159581,0,.0753326,.970171,.0159832,0,.0857571,.964803,.0160084,0,.0967236,.958366,.0159484,0,.108218,.950613,.0158001,0,.120227,.942874,.0155845,0,.132741,.935005,.0154292,0,.145751,.924991,.0150742,0,.159249,.914814,.0146757,0,.17323,.904743,.0143097,0,.187687,.893216,.0138695,0,.202619,.880769,.0133706,0,.218021,.868136,.0128606,0,.233894,.85469,.0123403,0,.250238,.840593,.0118091,0,.267052,.825808,.011253,0,.284341,.81009,.0107099,0,.302106,.79504,.0101636,0,.320354,.779757,.00964041,0,.33909,.764697,.00911896,0,.358322,.750913,.00859533,0,.378059,.738175,.00811592,0,.398311,.725242,.00764504,0,.41909,.711864,.00718885,0,.440412,.698009,.00675843,0,.462292,.683841,.00634984,0,.484748,.669391,.00595502,0,.507802,.654731,.00558671,0,.531477,.639805,.00523578,0,.555802,.624789,.00490834,0,.580805,.609325,.00459448,0,.606522,.593975,.00430342,0,.63299,.578983,.00403019,0,.66025,.564442,.0037707,0,.688346,.549835,.0035316,0,.717319,.535039,.00330255,0,.7472,.520403,.00308932,0,.777982,.505687,.00289335,0,.809524,.490939,.00270818,0,.84127,.476233,.0025343,0,.873016,.461624,.00237097,0,.904762,.447833,.00222065,0,.936508,.433992,.00207561,0,.968254,.420147,.00194955,0,1,1,.0173415,0,0,1,.0173416,0,0,.999999,.0173426,0,0,.999995,.0173468,0,0,.999983,.0173582,0,0,.999954,.0173822,0,0,.999908,.0174258,0,669501e-11,.999828,.0174973,0,427399e-9,.999705,.0176063,0,.00171019,.999524,.0177631,0,.0039248,.999263,.0179781,0,.00705382,.998878,.018258,0,.0110552,.998012,.0185551,0,.0158812,.994614,.0184264,0,.0214852,.993132,.0186385,0,.0278239,.991563,.0189067,0,.0348585,.989298,.0191577,0,.0425544,.986036,.0192522,0,.050881,.982558,.0194063,0,.059811,.978531,.019486,0,.0693209,.974198,.0195847,0,.0793895,.968148,.0194749,0,.0899984,.962565,.0194277,0,.101132,.956041,.0192991,0,.112775,.947749,.0189893,0,.124917,.94018,.018704,0,.137547,.93165,.0183458,0,.150655,.921798,.0178775,0,.164236,.911573,.0173618,0,.178281,.901569,.0168482,0,.192788,.890341,.016265,0,.207752,.877835,.0156199,0,.223171,.865472,.0149516,0,.239044,.852905,.0143274,0,.255371,.838906,.0136643,0,.272153,.824888,.0129903,0,.289393,.809977,.0123218,0,.307093,.794697,.0116572,0,.325259,.780028,.0110307,0,.343896,.765124,.0104236,0,.363012,.750411,.0098219,0,.382617,.737264,.00924397,0,.402719,.724799,.00868719,0,.423332,.712253,.00816476,0,.444469,.699267,.00767262,0,.466146,.685618,.00719746,0,.488383,.671736,.00673916,0,.511199,.657777,.00631937,0,.534618,.643497,.00592411,0,.558668,.62889,.00553928,0,.58338,.614299,.0051934,0,.608787,.599197,.00485985,0,.634929,.584175,.00454357,0,.661849,.569541,.00425787,0,.689594,.555193,.00397905,0,.718211,.540947,.00372364,0,.747742,.526593,.00348599,0,.778205,.512335,.00326103,0,.80953,.498017,.00305137,0,.84127,.483609,.00285485,0,.873016,.469368,.00267472,0,.904762,.455037,.00249945,0,.936508,.441493,.00234792,0,.968254,.428147,.00219936,0,1,1,.0219422,0,0,1,.0219423,0,0,.999998,.0219434,0,0,.999993,.0219481,0,0,.999981,.021961,0,0,.999949,.0219879,0,0,.999896,.0220367,0,593194e-10,.999808,.0221167,0,75364e-8,.99967,.0222383,0,.00237884,.999466,.0224125,0,.00495612,.999174,.0226495,0,.00844887,.998725,.0229525,0,.0128058,.996979,.0231123,0,.0179742,.994317,.0230742,0,.0239047,.992781,.0232895,0,.0305526,.991191,.0235734,0,.0378786,.987787,.0236152,0,.0458475,.985092,.0237994,0,.0544287,.981121,.0238553,0,.0635952,.976924,.0238706,0,.0733233,.97218,.0238704,0,.0835922,.965956,.0236598,0,.0943839,.959998,.0234735,0,.105682,.953245,.0232277,0,.117474,.944445,.0226973,0,.129747,.937087,.0223527,0,.142491,.928341,.0218144,0,.155697,.9184,.0211516,0,.169358,.907959,.0204553,0,.183469,.89808,.0197673,0,.198024,.887047,.0189915,0,.21302,.875221,.0182082,0,.228455,.86269,.0173584,0,.244329,.850735,.0165718,0,.260639,.837545,.0157524,0,.277389,.823639,.0149482,0,.29458,.809699,.0141431,0,.312216,.794797,.0133527,0,.3303,.780578,.0126193,0,.34884,.766019,.0118914,0,.367842,.751447,.0111839,0,.387315,.737275,.010514,0,.40727,.724545,.00987277,0,.427717,.712644,.00926569,0,.448671,.700432,.00869029,0,.470149,.687664,.00814691,0,.492167,.674288,.00763012,0,.514746,.660966,.00714437,0,.537911,.647264,.00668457,0,.561688,.633431,.00626581,0,.586108,.619133,.00585593,0,.611206,.604935,.00548188,0,.637022,.590236,.00513288,0,.663599,.575473,.0047906,0,.690989,.561228,.00448895,0,.719242,.547054,.00420233,0,.748411,.533175,.00392869,0,.778531,.519163,.00367445,0,.809583,.505328,.00344097,0,.84127,.491446,.00322003,0,.873016,.477356,.00301283,0,.904762,.46356,.00282592,0,.936508,.449623,.00264956,0,.968254,.436068,.00246956,0,1,1,.0276135,0,0,1,.0276136,0,0,.999998,.0276148,0,0,.999993,.0276201,0,0,.999976,.0276342,0,0,.999945,.027664,0,0,.999884,.0277179,0,18679e-8,.999784,.027806,0,.00119607,.99963,.0279394,0,.00318407,.999401,.0281295,0,.00613601,.999066,.0283858,0,.00999963,.998524,.0287027,0,.0147164,.995702,.0286256,0,.0202295,.993593,.0286733,0,.0264876,.992067,.0288989,0,.0334452,.990548,.0292135,0,.0410621,.986775,.0291296,0,.0493032,.984054,.0293099,0,.0581381,.979481,.0291881,0,.0675397,.975297,.0291598,0,.0774848,.96981,.028954,0,.0879528,.963524,.028628,0,.0989258,.957398,.0283135,0,.110388,.950088,.0278469,0,.122327,.941538,.0271798,0,.134729,.933332,.0265388,0,.147587,.924392,.0257776,0,.160889,.914581,.024916,0,.174631,.904347,.0240242,0,.188806,.894324,.0231229,0,.203409,.883724,.022153,0,.218437,.872207,.0211355,0,.233888,.859927,.0201048,0,.249761,.848373,.0191263,0,.266056,.836023,.0181306,0,.282774,.82289,.0171718,0,.299917,.809324,.0162196,0,.317488,.795361,.0152622,0,.335493,.781253,.01439,0,.353936,.767338,.013533,0,.372825,.753156,.0127244,0,.392168,.739122,.0119454,0,.411976,.725358,.0112054,0,.432259,.712949,.010487,0,.453032,.701621,.00984032,0,.47431,.689703,.00921495,0,.496111,.677216,.00862492,0,.518456,.664217,.00806882,0,.541367,.65137,.00755922,0,.564872,.638,.00705705,0,.589001,.62453,.00661266,0,.613789,.610601,.00618432,0,.639277,.59676,.00578033,0,.66551,.582433,.00540927,0,.692539,.568026,.00506104,0,.720422,.55414,.0047353,0,.749216,.540178,.00442889,0,.778974,.526513,.00414363,0,.809711,.512954,.00388237,0,.84127,.499403,.00362875,0,.873016,.486026,.00340827,0,.904762,.472345,.00318598,0,.936508,.458828,.00297635,0,.968254,.445379,.00279447,0,1,1,.0345716,0,0,1,.0345717,0,0,.999999,.034573,0,0,.999991,.0345787,0,0,.999974,.0345941,0,0,.999937,.0346263,0,188589e-11,.999869,.0346847,0,409238e-9,.999757,.0347798,0,.0017674,.999582,.0349233,0,.00413658,.999322,.0351265,0,.00747408,.998939,.0353967,0,.0117157,.998219,.0357018,0,.0167966,.994974,.0354726,0,.0226572,.993201,.0355621,0,.0292445,.991573,.0357641,0,.0365123,.989301,.0359252,0,.0444203,.985712,.0358017,0,.0529334,.982411,.0358353,0,.0620214,.977827,.035617,0,.0716574,.973278,.0354398,0,.0818186,.967397,.0350483,0,.0924846,.960696,.0344795,0,.103638,.954349,.0339861,0,.115263,.946066,.0331323,0,.127348,.938012,.032359,0,.13988,.929413,.0314413,0,.152849,.920355,.0304103,0,.166248,.910586,.0292785,0,.18007,.900609,.0281391,0,.194308,.890093,.0269103,0,.208958,.880013,.0257269,0,.224018,.869001,.0244671,0,.239485,.85751,.0232252,0,.255359,.84582,.0220117,0,.271638,.834383,.0208274,0,.288324,.822158,.0196628,0,.305419,.809056,.0185306,0,.322927,.795832,.0174174,0,.340851,.782547,.0163758,0,.359199,.7689,.015391,0,.377975,.755526,.0144488,0,.397189,.741681,.0135372,0,.416851,.728178,.0126957,0,.436971,.714642,.0118812,0,.457564,.702756,.0111165,0,.478644,.69175,.0104145,0,.500229,.680159,.00974439,0,.522339,.668073,.00911926,0,.544997,.655405,.00851393,0,.56823,.642921,.00797637,0,.592068,.629993,.00745119,0,.616546,.616828,.00696972,0,.641705,.603305,.00652425,0,.66759,.589833,.00610188,0,.694255,.575945,.00570834,0,.72176,.561745,.00533384,0,.750168,.548277,.00500001,0,.779545,.534467,.00467582,0,.809933,.521032,.00438092,0,.841272,.507877,.00410348,0,.873016,.494654,.00383618,0,.904762,.481592,.00358699,0,.936508,.468509,.00337281,0,.968254,.455293,.00316196,0,1,1,.0430698,0,0,1,.0430699,0,0,.999998,.0430713,0,0,.999991,.0430773,0,0,.99997,.0430936,0,0,.999928,.0431277,0,406396e-10,.999852,.0431893,0,744376e-9,.999724,.0432895,0,.0024806,.999527,.0434397,0,.00524779,.99923,.0436507,0,.00898164,.998783,.0439255,0,.0136083,.997507,.0441104,0,.0190582,.994418,.0438225,0,.0252694,.992864,.0439396,0,.0321879,.991127,.0440962,0,.039767,.987331,.0438408,0,.0479667,.984819,.0438991,0,.056752,.980384,.0435906,0,.0660929,.975846,.0432543,0,.075963,.970748,.0428293,0,.0863398,.964303,.042153,0,.0972035,.95772,.0414111,0,.108537,.950747,.0405893,0,.120325,.942533,.0394887,0,.132554,.934045,.0383544,0,.145215,.924942,.037057,0,.158296,.915811,.0356993,0,.17179,.90612,.0342401,0,.185691,.896434,.0328078,0,.199993,.886021,.031288,0,.214691,.876081,.0297776,0,.229782,.865608,.0282334,0,.245265,.854924,.026749,0,.261138,.843607,.02526,0,.277401,.832456,.0238214,0,.294056,.821342,.0224682,0,.311104,.809303,.0211297,0,.328548,.796468,.0198387,0,.346394,.784046,.0186227,0,.364645,.771262,.0174561,0,.38331,.758118,.0163806,0,.402396,.745075,.0153287,0,.421912,.731926,.0143647,0,.44187,.71863,.0134363,0,.462283,.705414,.0125603,0,.483165,.693792,.0117508,0,.504535,.683108,.0110016,0,.52641,.67183,.0102757,0,.548816,.66015,.00962044,0,.571776,.647907,.00898031,0,.595323,.635734,.00840811,0,.619489,.623208,.00786211,0,.644317,.610438,.00734953,0,.669852,.597345,.00687688,0,.696148,.584138,.00643469,0,.723267,.5707,.00602236,0,.75128,.556966,.0056324,0,.780258,.543607,.00528277,0,.810268,.530213,.00493999,0,.841311,.516912,.00462265,0,.873016,.503916,.0043307,0,.904762,.491146,.00406858,0,.936508,.478439,.00381436,0,.968254,.465834,.00358003,0,1,1,.0534039,0,0,1,.053404,0,0,.999998,.0534055,0,0,.999989,.0534116,0,0,.999968,.0534283,0,0,.999918,.0534633,0,155895e-9,.99983,.0535262,0,.00120914,.999685,.0536281,0,.00334944,.999461,.0537799,0,.00653077,.999119,.0539902,0,.0106718,.998582,.0542524,0,.0156907,.995919,.0540318,0,.0215147,.993735,.0538914,0,.0280801,.992126,.0539557,0,.0353323,.990266,.0540401,0,.0432247,.986317,.0536064,0,.0517172,.983213,.0534425,0,.0607754,.978303,.0528622,0,.0703698,.973665,.0523363,0,.0804742,.968091,.0516165,0,.0910667,.961026,.0505434,0,.102128,.954333,.049523,0,.113641,.946372,.0481698,0,.125591,.938254,.0467674,0,.137965,.929516,.0452341,0,.150754,.920106,.0435083,0,.163947,.910899,.0417399,0,.177537,.901532,.0399389,0,.191516,.891919,.0380901,0,.205881,.882006,.0362341,0,.220626,.871965,.0343444,0,.235749,.862145,.0324832,0,.251248,.852058,.0306681,0,.267121,.84161,.0289097,0,.283368,.830806,.0272079,0,.299992,.820476,.0256089,0,.316992,.809514,.0240394,0,.334374,.797865,.0225379,0,.35214,.785621,.0211235,0,.370296,.773765,.0197908,0,.388849,.761629,.0185235,0,.407807,.748891,.0173358,0,.427178,.736437,.0162305,0,.446974,.723707,.0151778,0,.467207,.710606,.0141791,0,.487892,.698019,.0132592,0,.509046,.686203,.0123887,0,.530687,.675692,.0115976,0,.552839,.664826,.0108325,0,.575527,.65349,.0101348,0,.59878,.641774,.00947756,0,.622634,.629794,.00886058,0,.647128,.617647,.00828526,0,.672308,.60534,.00775312,0,.698231,.592718,.00726033,0,.724958,.579746,.00679731,0,.752563,.566763,.00636111,0,.781127,.553515,.00595228,0,.810733,.540118,.00556876,0,.841426,.527325,.00523051,0,.873016,.514265,.00490712,0,.904762,.501406,.00460297,0,.936508,.488922,.00431247,0,.968254,.476541,.0040472,0,1,1,.0659184,0,0,1,.0659185,0,0,.999998,.06592,0,0,.999988,.0659259,0,0,.999963,.0659423,0,0,.999907,.0659764,0,374198e-9,.999806,.0660376,0,.00182071,.999639,.0661361,0,.0043894,.999378,.0662814,0,.00800055,.998985,.0664779,0,.0125594,.998285,.0666914,0,.0179786,.995071,.0661989,0,.0241822,.993172,.0660454,0,.031106,.991438,.0660105,0,.0386952,.988428,.0656875,0,.0469032,.985218,.0652913,0,.0556905,.981128,.0647107,0,.065023,.976015,.0638491,0,.0748717,.97097,.062993,0,.0852112,.964582,.0617927,0,.0960199,.957383,.0603626,0,.107279,.949969,.0588128,0,.118971,.941843,.0570274,0,.131084,.933624,.0551885,0,.143604,.924543,.053122,0,.156521,.914919,.0508897,0,.169825,.905773,.0486418,0,.18351,.896434,.0463364,0,.197569,.887195,.0440623,0,.211997,.877706,.0417799,0,.226789,.867719,.03945,0,.241944,.858587,.037243,0,.257458,.849317,.0350956,0,.273331,.839585,.0329852,0,.289563,.829856,.0310028,0,.306154,.819589,.0290953,0,.323108,.809714,.0272738,0,.340426,.79934,.0255631,0,.358113,.788224,.0239175,0,.376175,.776619,.0223831,0,.394616,.76521,.0209298,0,.413445,.753716,.0195786,0,.432671,.741564,.0183001,0,.452305,.729413,.0171259,0,.472358,.717146,.0159933,0,.492845,.70436,.0149495,0,.513783,.69219,.0139681,0,.535189,.680289,.0130577,0,.557087,.669611,.0122198,0,.5795,.659113,.0114174,0,.602459,.648148,.0106729,0,.625997,.636905,.00998997,0,.650154,.625154,.00934313,0,.674976,.613481,.00874839,0,.700518,.60154,.00818265,0,.726845,.58943,.00766889,0,.754032,.576828,.00717153,0,.782167,.564194,.00672696,0,.811344,.551501,.00630863,0,.841644,.538635,.00592177,0,.873016,.525724,.00554888,0,.904762,.513209,.00520225,0,.936508,.500457,.00488231,0,.968254,.48799,.00457153,0,1,1,.0810131,0,0,1,.0810133,0,0,.999997,.0810145,0,0,.999985,.08102,0,0,.999956,.0810347,0,195026e-10,.999893,.0810656,0,719316e-9,.999777,.0811205,0,.00259774,.999583,.081208,0,.00561807,.999281,.0813343,0,.00967472,.998813,.0814969,0,.0146627,.997597,.0815217,0,.0204902,.994379,.0808502,0,.0270802,.992744,.0806792,0,.0343674,.990745,.0804589,0,.0422974,.986646,.0796107,0,.0508242,.983611,.0790913,0,.0599087,.978869,.0780746,0,.0695175,.973475,.0768218,0,.0796223,.967845,.0754926,0,.0901983,.960778,.0737063,0,.101224,.953333,.0718052,0,.112682,.945274,.0695946,0,.124555,.936955,.0672492,0,.136831,.928319,.0647732,0,.149496,.919075,.0620947,0,.162542,.909114,.0591816,0,.175958,.900137,.0563917,0,.189739,.891069,.0535392,0,.203877,.882262,.0507642,0,.218368,.873232,.0479793,0,.233208,.864042,.045226,0,.248393,.855002,.0425413,0,.263923,.846569,.0400126,0,.279796,.837714,.0375269,0,.296012,.828918,.0352027,0,.312573,.819783,.0330011,0,.329479,.810129,.0308908,0,.346734,.800866,.0289112,0,.364342,.79093,.0270255,0,.382307,.780593,.0252758,0,.400637,.769511,.0236178,0,.419337,.758558,.0220652,0,.438418,.747632,.0206289,0,.457889,.736146,.0192873,0,.477761,.724093,.0180333,0,.49805,.71234,.0168264,0,.51877,.700201,.015746,0,.53994,.687949,.0147027,0,.561581,.676163,.0137512,0,.583718,.665001,.0128655,0,.60638,.65472,.0120366,0,.629599,.644213,.0112604,0,.653415,.633382,.0105413,0,.677874,.62212,.00986498,0,.70303,.610631,.00923308,0,.728948,.599078,.00864206,0,.755706,.587519,.00811784,0,.783396,.575505,.00761237,0,.812121,.563148,.00713949,0,.841989,.550828,.00668379,0,.873035,.538458,.00627715,0,.904762,.525905,.00588336,0,.936508,.513517,.00552687,0,.968254,.501395,.00519681,0,1,1,.0991506,0,0,1,.0991504,0,0,.999996,.0991515,0,0,.999984,.0991558,0,0,.999947,.0991672,0,114389e-9,.999874,.0991912,0,.00121503,.999739,.0992331,0,.00356108,.999514,.0992983,0,.00705578,.999159,.0993877,0,.011574,.998586,.0994837,0,.017003,.995731,.0988425,0,.0232484,.993384,.098276,0,.0302318,.991615,.0979269,0,.0378884,.989029,.0973432,0,.0461641,.985373,.0963539,0,.0550136,.981278,.0952306,0,.0643988,.975777,.0936233,0,.0742868,.970526,.0920219,0,.0846501,.963755,.0898912,0,.0954644,.956676,.0876064,0,.106709,.948099,.0847751,0,.118367,.939718,.0818638,0,.130423,.931305,.078857,0,.142862,.922342,.0756127,0,.155674,.912842,.0721473,0,.168849,.903304,.0686195,0,.182378,.89411,.0650589,0,.196255,.885512,.0616022,0,.210473,.877193,.0582434,0,.225027,.86877,.0548979,0,.239915,.860267,.0516095,0,.255132,.851915,.048468,0,.270678,.843912,.0454447,0,.286551,.83604,.0425612,0,.302751,.828245,.0398752,0,.31928,.820159,.0373198,0,.336138,.81167,.034916,0,.35333,.802659,.0326402,0,.370858,.793921,.0304901,0,.388728,.784713,.0284857,0,.406944,.774946,.0266186,0,.425515,.76448,.0248593,0,.444449,.753793,.0232114,0,.463756,.743506,.0217039,0,.483447,.732555,.0202841,0,.503535,.720965,.0189648,0,.524036,.709422,.0177189,0,.544968,.697756,.0165626,0,.56635,.685565,.015483,0,.588208,.673987,.0144892,0,.610569,.66244,.0135607,0,.633466,.651675,.0126956,0,.656936,.641598,.0118788,0,.681025,.63121,.0111261,0,.705788,.620514,.010437,0,.731289,.609366,.00978747,0,.757606,.598137,.00917257,0,.784834,.586966,.00859778,0,.813085,.575549,.00806803,0,.842485,.563797,.00757294,0,.87313,.551758,.00710592,0,.904762,.539894,.0066841,0,.936508,.527901,.00627901,0,.968254,.515819,.00590506,0,1,1,.120864,0,0,1,.120864,0,0,.999996,.120864,0,0,.99998,.120867,0,0,.99994,.120872,0,323781e-9,.999852,.120884,0,.00188693,.999693,.120903,0,.00473489,.999426,.120929,0,.00872704,.999002,.120955,0,.0137237,.998235,.120918,0,.0196068,.994608,.119764,0,.0262803,.992997,.119265,0,.0336657,.990968,.11863,0,.0416987,.987002,.117261,0,.0503261,.983524,.116009,0,.0595035,.97875,.114252,0,.0691935,.972652,.11193,0,.0793645,.966613,.109555,0,.0899894,.959275,.106612,0,.101045,.951272,.103375,0,.112512,.942323,.0996594,0,.124372,.933679,.0958841,0,.136611,.924822,.0919265,0,.149216,.915742,.0878061,0,.162176,.906348,.0834894,0,.175482,.896883,.079085,0,.189125,.88774,.0746745,0,.203098,.87986,.0705773,0,.217396,.871998,.0665005,0,.232015,.864325,.0625413,0,.24695,.856685,.0586781,0,.2622,.84925,.0550063,0,.277761,.841719,.0514727,0,.293634,.834755,.0481398,0,.309819,.827853,.0450172,0,.326315,.820888,.0420969,0,.343126,.813616,.0393702,0,.360254,.805767,.0367771,0,.377701,.797338,.0343274,0,.395474,.789122,.0320529,0,.413577,.780601,.0299485,0,.432018,.771424,.0279812,0,.450804,.761502,.0261054,0,.469944,.751166,.0243942,0,.489451,.741276,.0228087,0,.509337,.730898,.0213265,0,.529617,.719878,.0199307,0,.550307,.708379,.0186574,0,.571428,.697165,.0174446,0,.593003,.685554,.0163144,0,.615059,.673631,.015276,0,.637628,.662385,.0143003,0,.660746,.651059,.0134112,0,.68446,.640451,.0125794,0,.70882,.630536,.011793,0,.733893,.620316,.0110547,0,.759756,.609722,.0103668,0,.786505,.598804,.00973009,0,.814259,.587871,.00912812,0,.843157,.577121,.00858916,0,.87334,.566019,.00807333,0,.904762,.554664,.00759687,0,.936508,.543101,.00714759,0,.968254,.531558,.00673418,0,1,1,.146767,0,0,1,.146767,0,0,.999997,.146767,0,0,.999977,.146765,0,320658e-11,.999929,.146762,0,682576e-9,.999823,.146753,0,.00276402,.999633,.146735,0,.00614771,.999314,.146699,0,.0106613,.998796,.14662,0,.0161546,.997124,.146107,0,.0225063,.994062,.144857,0,.0296198,.992154,.144011,0,.037417,.989186,.142712,0,.0458348,.985279,.140926,0,.0548211,.980826,.13885,0,.0643326,.975056,.136168,0,.074333,.969005,.133217,0,.0847917,.961554,.12959,0,.0956828,.954206,.125886,0,.106984,.945046,.121335,0,.118675,.935678,.116492,0,.130741,.926748,.111635,0,.143166,.917764,.106625,0,.155939,.908358,.101325,0,.169049,.899219,.0960249,0,.182487,.890089,.0906527,0,.196245,.881488,.0853905,0,.210317,.874031,.0804177,0,.224697,.866932,.0756005,0,.23938,.859976,.0709019,0,.254364,.853375,.0664391,0,.269646,.846971,.0622012,0,.285223,.840483,.058129,0,.301096,.833969,.0542762,0,.317265,.82806,.0507042,0,.333729,.822128,.047368,0,.350491,.815989,.044272,0,.367554,.809336,.0413444,0,.38492,.802177,.038601,0,.402594,.79441,.0360227,0,.420582,.786573,.0336383,0,.438891,.778619,.0314321,0,.457527,.77,.029362,0,.476499,.760698,.0274102,0,.49582,.750932,.0256146,0,.5155,.740993,.023974,0,.535555,.731159,.0224182,0,.556,.720836,.0209889,0,.576855,.709913,.0196411,0,.598143,.698415,.0183824,0,.619888,.68745,.0172222,0,.642123,.676154,.0161509,0,.664883,.664383,.0151397,0,.688211,.6533,.0141873,0,.71216,.642072,.0133105,0,.736792,.631412,.0124932,0,.762186,.621622,.0117408,0,.788439,.611681,.0110358,0,.815672,.60142,.0103775,0,.844034,.59083,.00975623,0,.873699,.580254,.00918084,0,.904765,.569841,.00864721,0,.936508,.559224,.00815731,0,.968254,.548315,.00767924,0,1,1,.177563,0,0,1,.177563,0,0,.999994,.177562,0,0,.999972,.177555,0,664171e-10,.999914,.177536,0,.0012276,.999787,.177496,0,.00388025,.999556,.17742,0,.00783463,.999165,.177285,0,.0128953,.9985,.177037,0,.0189053,.995388,.175634,0,.025742,.993102,.174375,0,.033309,.990992,.173121,0,.0415298,.986932,.170896,0,.0503425,.982786,.16847,0,.0596964,.977592,.165455,0,.0695498,.971075,.161676,0,.0798676,.963967,.157458,0,.0906201,.956397,.152836,0,.101783,.947489,.147467,0,.113333,.937564,.14145,0,.125254,.928182,.135383,0,.137529,.919027,.129212,0,.150144,.909618,.12276,0,.163088,.900492,.116273,0,.176351,.891671,.1098,0,.189924,.883146,.103362,0,.203799,.875151,.0970799,0,.21797,.868338,.0911732,0,.232433,.862033,.0854966,0,.247182,.856107,.0800691,0,.262216,.850644,.0749618,0,.27753,.845261,.070079,0,.293124,.839885,.0654321,0,.308997,.834609,.0610975,0,.325149,.829083,.0569741,0,.341581,.82404,.0531736,0,.358294,.818968,.049665,0,.37529,.813496,.0463856,0,.392573,.807533,.0433217,0,.410148,.80099,.0404402,0,.428019,.793891,.0377578,0,.446192,.786281,.0352616,0,.464676,.778773,.0329577,0,.483478,.770737,.030808,0,.502608,.762094,.0287964,0,.522079,.752898,.0269254,0,.541905,.743306,.0251926,0,.5621,.733416,.023595,0,.582684,.723742,.0221155,0,.603677,.713542,.0207435,0,.625106,.702755,.019434,0,.646998,.691484,.0182046,0,.66939,.680531,.0170771,0,.692324,.66953,.0160339,0,.715849,.658126,.0150677,0,.740028,.646933,.0141551,0,.764937,.636107,.0133179,0,.790673,.625271,.0125284,0,.817358,.615225,.0117937,0,.84515,.605678,.0111181,0,.874244,.59583,.0104759,0,.904828,.585704,.00986672,0,.936508,.575413,.00929712,0,.968254,.565373,.00876713,0,1,1,.214058,0,0,.999999,.214058,0,0,.999994,.214055,0,0,.999966,.214039,0,259642e-9,.999893,.213998,0,.00200075,.999737,.21391,0,.00527775,.999449,.213745,0,.00983959,.99896,.213458,0,.0154755,.9979,.212855,0,.0220249,.994278,.210779,0,.0293654,.992254,.20926,0,.0374021,.98881,.206908,0,.0460604,.984715,.204009,0,.0552802,.979738,.200471,0,.0650127,.972884,.195813,0,.0752175,.965996,.190856,0,.0858612,.957974,.185077,0,.0969155,.949155,.17868,0,.108356,.939288,.171513,0,.120163,.928996,.163838,0,.132319,.919563,.156246,0,.144808,.910004,.148359,0,.157618,.900791,.140417,0,.170737,.892135,.132569,0,.184155,.883803,.124741,0,.197866,.876034,.117091,0,.211861,.869219,.109835,0,.226134,.863062,.102859,0,.240682,.857795,.0962928,0,.255499,.853009,.0900725,0,.270583,.848603,.0842101,0,.285931,.844335,.0786527,0,.301542,.840208,.0734397,0,.317415,.836035,.0685334,0,.33355,.83172,.0639275,0,.349948,.827135,.0595909,0,.36661,.822797,.0556204,0,.383539,.818387,.0519394,0,.400738,.813565,.0485317,0,.41821,.808142,.0453138,0,.435961,.802212,.0423354,0,.453997,.79573,.0395553,0,.472324,.788741,.036988,0,.490951,.781093,.0345688,0,.509887,.773597,.0323297,0,.529144,.765622,.0302719,0,.548735,.757083,.0283477,0,.568674,.747992,.0265562,0,.588979,.738591,.0248844,0,.609671,.728719,.0233342,0,.630773,.719146,.0219081,0,.652314,.709165,.0205711,0,.674328,.69875,.0193248,0,.696854,.687884,.0181582,0,.719942,.676818,.0170746,0,.743651,.666247,.0160718,0,.768057,.655284,.0151262,0,.793253,.64401,.0142561,0,.819363,.633353,.0134327,0,.846547,.622674,.012653,0,.875017,.612265,.0119354,0,.905021,.602455,.0112533,0,.936508,.593147,.0106234,0,.968254,.583592,.0100213,0,1,1,.25717,0,0,1,.25717,0,0,.999992,.257164,0,0,.999958,.257135,0,641715e-9,.999864,.25706,0,.00305314,.999666,.256897,0,.00700975,.999302,.256596,0,.0122194,.998663,.25607,0,.0184622,.995607,.254123,0,.0255773,.993094,.252081,0,.0334439,.9907,.249867,0,.0419696,.98594,.246118,0,.0510823,.981214,.242049,0,.0607242,.974966,.236869,0,.0708486,.967589,.230724,0,.081417,.95915,.223635,0,.0923974,.950257,.21596,0,.103763,.940165,.207296,0,.115491,.929396,.197901,0,.127562,.919288,.188437,0,.13996,.909428,.178762,0,.15267,.900105,.169072,0,.165679,.891418,.159478,0,.178979,.883347,.15002,0,.192558,.875992,.140813,0,.20641,.869466,.13196,0,.220529,.863699,.123501,0,.234907,.858553,.115436,0,.249542,.854379,.107901,0,.264428,.850894,.10088,0,.279564,.847632,.0942296,0,.294947,.844571,.0879861,0,.310575,.84163,.0821534,0,.326448,.838542,.0766409,0,.342566,.835412,.0715322,0,.358929,.831899,.0666883,0,.37554,.828177,.0622175,0,.392399,.82416,.0580452,0,.409511,.820393,.054267,0,.426878,.816068,.0507172,0,.444506,.811201,.0474041,0,.4624,.805785,.0443174,0,.480566,.799878,.0414562,0,.499013,.793469,.0388147,0,.517749,.786473,.0363453,0,.536785,.778874,.0340225,0,.556134,.771277,.0318599,0,.575809,.763426,.0298859,0,.595827,.755044,.0280357,0,.616207,.746161,.0262979,0,.636973,.737124,.0247295,0,.65815,.72761,.0232514,0,.679772,.717822,.0218755,0,.701876,.708279,.0205942,0,.724509,.698333,.0193947,0,.74773,.68802,.0182717,0,.771609,.677321,.0172044,0,.79624,.666504,.0162122,0,.821743,.656184,.0152924,0,.84828,.64556,.0144326,0,.876069,.634636,.0136157,0,.905404,.624124,.0128612,0,.936508,.613914,.0121435,0,.968254,.603589,.0114887,0,1,1,.307946,0,0,.999999,.307945,0,0,.999988,.307934,0,204479e-10,.999944,.307886,0,.00127833,.999824,.307756,0,.00445047,.999565,.30748,0,.00914673,.999085,.306966,0,.0150498,.998103,.306004,0,.0219367,.994249,.303028,0,.0296485,.991807,.300435,0,.038068,.987773,.296554,0,.0471062,.982673,.2916,0,.0566942,.976623,.285641,0,.0667768,.968757,.27815,0,.0773099,.959849,.269529,0,.088257,.950663,.260248,0,.0995879,.940129,.249704,0,.111277,.92895,.238291,0,.123304,.917996,.226501,0,.13565,.907813,.214669,0,.148299,.898305,.202835,0,.161237,.889626,.191158,0,.174455,.88175,.179695,0,.187941,.874715,.168548,0,.201687,.868746,.15792,0,.215687,.863703,.147807,0,.229933,.859315,.138149,0,.24442,.855538,.128993,0,.259145,.852428,.120414,0,.274103,.850168,.112498,0,.289293,.848132,.105054,0,.304711,.846291,.0981087,0,.320357,.844431,.0915942,0,.33623,.842493,.0855056,0,.35233,.840368,.0798204,0,.368658,.83798,.0745097,0,.385214,.83523,.0695424,0,.402002,.832091,.0649092,0,.419023,.828667,.0606291,0,.436282,.824805,.0566523,0,.453782,.820988,.0530229,0,.471529,.816635,.0496364,0,.489528,.811725,.0464658,0,.507788,.806316,.0435082,0,.526317,.800469,.0407873,0,.545124,.794107,.038255,0,.564221,.787218,.0358825,0,.583621,.779872,.0336785,0,.603341,.772097,.0316379,0,.623397,.764484,.0297379,0,.643812,.756428,.0279581,0,.664611,.748022,.0263153,0,.685824,.739268,.0247799,0,.707488,.73024,.0233385,0,.729646,.720893,.0220035,0,.752354,.71119,.0207555,0,.77568,.701791,.0195843,0,.799715,.692184,.0184891,0,.824574,.682258,.0174541,0,.850417,.67206,.0164873,0,.877466,.661717,.0155959,0,.90604,.651462,.0147519,0,.936528,.641467,.0139727,0,.968254,.631229,.0132363,0,1,1,.367573,0,0,.999999,.367571,0,0,.999984,.367553,0,183382e-9,.999925,.367473,0,.00225254,.999759,.367259,0,.00628165,.99941,.366801,0,.0117858,.998739,.365946,0,.0184359,.995529,.363191,0,.0260114,.992875,.360171,0,.0343581,.989135,.355981,0,.0433637,.984166,.350401,0,.0529438,.977871,.343348,0,.0630334,.96951,.334341,0,.0735805,.959964,.323862,0,.0845437,.950162,.312521,0,.095889,.938882,.299577,0,.107588,.926992,.285573,0,.119617,.915589,.271212,0,.131957,.904791,.256611,0,.144591,.895177,.242224,0,.157503,.886403,.227952,0,.170682,.878957,.214192,0,.184117,.872418,.200795,0,.197799,.867029,.188015,0,.21172,.862835,.175975,0,.225873,.859411,.164526,0,.240253,.856655,.153693,0,.254854,.854519,.14352,0,.269673,.852828,.13397,0,.284707,.851412,.124984,0,.299953,.850609,.116748,0,.315408,.849855,.10905,0,.331073,.849017,.101839,0,.346946,.848079,.0951359,0,.363028,.846911,.0888774,0,.379318,.845445,.0830375,0,.395818,.84362,.0775844,0,.41253,.841411,.0725054,0,.429457,.838768,.0677691,0,.446602,.835801,.0634016,0,.463968,.832341,.0593095,0,.481561,.828424,.0555121,0,.499386,.824312,.052024,0,.51745,.819918,.0487865,0,.535761,.815072,.0457801,0,.554328,.809863,.0430184,0,.573162,.804164,.0404245,0,.592275,.798034,.0380146,0,.611681,.791436,.0357436,0,.631398,.784498,.0336475,0,.651445,.777125,.0316666,0,.671845,.769365,.0298122,0,.692628,.761579,.0281001,0,.713827,.753746,.0265049,0,.735484,.745573,.0250067,0,.75765,.737083,.0236026,0,.78039,.728545,.0223302,0,.803789,.719691,.0211243,0,.82796,.710569,.0199983,0,.853056,.701216,.0189569,0,.879298,.692094,.0179702,0,.907014,.682909,.0170418,0,.936691,.673509,.0161732,0,.968254,.663863,.0153406,0,1,1,.437395,0,0,.999998,.437394,0,0,.99998,.437363,0,616704e-9,.999891,.437232,0,.00367925,.999656,.436877,0,.00867446,.999148,.436121,0,.0150679,.997959,.434564,0,.022531,.993464,.430134,0,.0308507,.990606,.426077,0,.0398805,.985027,.419397,0,.0495148,.978491,.41118,0,.0596749,.969643,.40048,0,.0703001,.959189,.38769,0,.0813427,.948223,.373575,0,.0927641,.935955,.357622,0,.104533,.923237,.34043,0,.116624,.911074,.322735,0,.129015,.899724,.30479,0,.141687,.890189,.287392,0,.154626,.881796,.270248,0,.167818,.874781,.253659,0,.181252,.869166,.237786,0,.194918,.864725,.222618,0,.208807,.861565,.208356,0,.222913,.859284,.194867,0,.237229,.857677,.18212,0,.25175,.856714,.17018,0,.266473,.856155,.158969,0,.281392,.8558,.148413,0,.296505,.855672,.138578,0,.311811,.855538,.129345,0,.327306,.855689,.120861,0,.342991,.855767,.112969,0,.358864,.855618,.105593,0,.374925,.85525,.0987451,0,.391176,.854583,.0923727,0,.407616,.853534,.0864143,0,.424249,.852061,.0808338,0,.441076,.850253,.0756771,0,.4581,.848004,.0708612,0,.475324,.845333,.0663784,0,.492754,.842376,.0622631,0,.510394,.838956,.0584112,0,.528251,.835121,.0548328,0,.546331,.830842,.0514838,0,.564644,.826212,.048355,0,.583198,.821522,.0454714,0,.602005,.816551,.0428263,0,.621078,.811211,.0403612,0,.640434,.805479,.038039,0,.660089,.799409,.0358739,0,.680066,.79306,.0338727,0,.70039,.786395,.0319985,0,.721094,.779416,.030241,0,.742215,.77214,.0285951,0,.7638,.764636,.0270747,0,.785912,.756836,.0256354,0,.808628,.749315,.0243027,0,.832055,.741561,.0230497,0,.856338,.733589,.0218801,0,.88169,.725479,.020784,0,.908441,.717255,.0197702,0,.937125,.708829,.0188168,0,.968254,.700191,.0179113,0,1,1,.518937,0,0,.999998,.518933,0,0,.999967,.518883,0,.00147741,.999832,.51866,0,.00573221,.999466,.518057,0,.011826,.998644,.516752,0,.0192116,.994458,.512347,0,.027573,.991223,.507675,0,.0367099,.985515,.500188,0,.046487,.978308,.490408,0,.0568071,.968359,.477357,0,.0675984,.95682,.461752,0,.0788059,.943929,.443796,0,.090386,.930224,.423893,0,.102304,.916514,.402682,0,.114532,.903653,.380914,0,.127047,.892315,.359212,0,.139828,.882942,.338102,0,.152861,.875438,.31773,0,.16613,.869642,.298186,0,.179624,.865304,.279491,0,.193332,.862382,.261804,0,.207247,.860666,.245146,0,.22136,.859788,.229406,0,.235666,.859608,.214605,0,.250158,.859912,.200691,0,.264832,.86053,.187623,0,.279684,.861368,.17539,0,.294711,.862237,.163901,0,.309911,.863127,.153175,0,.32528,.863923,.143147,0,.340819,.864567,.133781,0,.356524,.865013,.125042,0,.372397,.86539,.116952,0,.388438,.865591,.109476,0,.404645,.865517,.102542,0,.421022,.865084,.0960688,0,.437569,.864309,.0900499,0,.454287,.863151,.0844328,0,.471181,.861649,.0792218,0,.488253,.859742,.0743482,0,.505507,.857446,.0697963,0,.522947,.854757,.0655364,0,.54058,.851783,.061608,0,.558412,.848516,.0579701,0,.576449,.844897,.0545742,0,.594701,.840956,.0514167,0,.613178,.836676,.0484598,0,.631892,.832075,.0456934,0,.650856,.827191,.0431178,0,.670088,.822295,.0407718,0,.689606,.817294,.0386032,0,.709434,.812013,.0365675,0,.7296,.806465,.0346547,0,.750138,.800691,.0328717,0,.771093,.794709,.031211,0,.792519,.788493,.0296504,0,.814488,.782049,.0281782,0,.837097,.775403,.0267965,0,.860481,.76857,.0255002,0,.884842,.761536,.0242759,0,.910494,.754303,.0231142,0,.937985,.74692,.0220305,0,.968254,.739745,.0210192,0,1,1,.613914,0,0,.999996,.613907,0,963597e-10,.999942,.613814,0,.00301247,.999704,.613407,0,.00870385,.999046,.612302,0,.0160714,.995516,.608266,0,.0245899,.991726,.602863,0,.0339681,.985157,.593956,0,.0440254,.97642,.581748,0,.0546409,.964404,.565183,0,.0657284,.950601,.545273,0,.0772246,.935158,.522129,0,.0890812,.919364,.496782,0,.10126,.904754,.470571,0,.113731,.89176,.444037,0,.126469,.881492,.418322,0,.139454,.873656,.393522,0,.15267,.868053,.369795,0,.166101,.864336,.347171,0,.179736,.862259,.325737,0,.193565,.861556,.305532,0,.207578,.861776,.286416,0,.221769,.862661,.268355,0,.23613,.864015,.251334,0,.250656,.865711,.235352,0,.265343,.867519,.220302,0,.280187,.869351,.206161,0,.295183,.871144,.192908,0,.31033,.872839,.180505,0,.325624,.874307,.168848,0,.341065,.875667,.158021,0,.35665,.876758,.147877,0,.37238,.87764,.138441,0,.388253,.878237,.129627,0,.404269,.878563,.121415,0,.42043,.878572,.113741,0,.436735,.87842,.106652,0,.453187,.878057,.100097,0,.469786,.877413,.0940128,0,.486536,.87646,.0883462,0,.503439,.875233,.0830924,0,.520498,.8737,.0781975,0,.537717,.871873,.07364,0,.555102,.86978,.0694103,0,.572657,.867405,.0654696,0,.59039,.864751,.0617914,0,.608307,.861818,.0583491,0,.626419,.858645,.0551443,0,.644733,.855307,.0521894,0,.663264,.851736,.0494334,0,.682025,.847927,.0468504,0,.701032,.843888,.0444261,0,.720308,.839629,.0421497,0,.739875,.835158,.0400082,0,.759764,.830509,.0380076,0,.780014,.825714,.0361488,0,.800673,.820729,.0343956,0,.821803,.815751,.0327781,0,.843492,.810752,.031275,0,.86586,.805587,.0298542,0,.889087,.800317,.0285397,0,.913466,.79489,.0272948,0,.93952,.789314,.0261139,0,.96835,.783593,.0249938,0,1,1,.724258,0,0,.999992,.724243,0,726889e-9,.99987,.724044,0,.00569574,.999336,.72317,0,.0131702,.996271,.719432,0,.0220738,.991159,.712576,0,.0319405,.982465,.700927,0,.0425202,.97049,.684297,0,.0536599,.953973,.661244,0,.065258,.935546,.633804,0,.0772427,.916596,.603071,0,.0895616,.899353,.57105,0,.102175,.885216,.539206,0,.11505,.875076,.508714,0,.128164,.868334,.479571,0,.141495,.864414,.451796,0,.155026,.862678,.425328,0,.168745,.862835,.400352,0,.182639,.864067,.376532,0,.196699,.866086,.35391,0,.210915,.868557,.332424,0,.225282,.871271,.312053,0,.239792,.874058,.292764,0,.25444,.8768,.27453,0,.269223,.87939,.257297,0,.284135,.8819,.24114,0,.299174,.884187,.225934,0,.314337,.886262,.211669,0,.329622,.888119,.198311,0,.345026,.889709,.185783,0,.360549,.891054,.174063,0,.376189,.892196,.163143,0,.391946,.893101,.152952,0,.407819,.893803,.143475,0,.423808,.894277,.134647,0,.439914,.894532,.126434,0,.456137,.894576,.1188,0,.472479,.894393,.111694,0,.48894,.893976,.105069,0,.505523,.893346,.0989077,0,.52223,.892502,.0931724,0,.539064,.891441,.0878276,0,.556028,.890276,.082903,0,.573125,.888972,.0783505,0,.590361,.887469,.0741083,0,.607741,.885785,.0701633,0,.62527,.883914,.0664835,0,.642957,.881872,.0630567,0,.660809,.879651,.0598527,0,.678836,.877267,.0568615,0,.69705,.874717,.05406,0,.715465,.872012,.0514378,0,.734098,.869157,.0489805,0,.752968,.866155,.0466727,0,.772101,.863014,.0445056,0,.791529,.859748,.0424733,0,.81129,.856416,.0405957,0,.831438,.852958,.0388273,0,.852044,.849382,.0371619,0,.87321,.845694,.0355959,0,.89509,.841893,.0341155,0,.917932,.837981,.0327141,0,.942204,.833963,.0313856,0,.968981,.829847,.0301275,0,1,1,.85214,0,0,.999969,.852095,0,.00279627,.999483,.851408,0,.0107635,.994545,.84579,0,.0206454,.986188,.835231,0,.0315756,.969847,.814687,0,.0432021,.945951,.783735,0,.0553396,.91917,.746074,0,.0678766,.895488,.706938,0,.0807395,.878232,.669534,0,.0938767,.868252,.635168,0,.10725,.863873,.603069,0,.120832,.863369,.572514,0,.134598,.86545,.543169,0,.148533,.868803,.514578,0,.16262,.872794,.486762,0,.176849,.87702,.459811,0,.19121,.881054,.433654,0,.205694,.884974,.408574,0,.220294,.888587,.384525,0,.235005,.891877,.36156,0,.24982,.894793,.339661,0,.264737,.89743,.318913,0,.279751,.899796,.299302,0,.294859,.901943,.280843,0,.310058,.903858,.263481,0,.325346,.905574,.247197,0,.340721,.907069,.231915,0,.356181,.908379,.217614,0,.371725,.90952,.20425,0,.387353,.910483,.191758,0,.403063,.91128,.180092,0,.418854,.911936,.169222,0,.434727,.912454,.159098,0,.450682,.912835,.149668,0,.466718,.913078,.140884,0,.482837,.913192,.132709,0,.499038,.913175,.125095,0,.515324,.91304,.118012,0,.531695,.912781,.111417,0,.548153,.91241,.105281,0,.5647,.911924,.0995691,0,.581338,.911331,.0942531,0,.59807,.910637,.0893076,0,.6149,.90984,.0846998,0,.63183,.908941,.0804044,0,.648865,.907944,.0763984,0,.666011,.906857,.0726638,0,.683273,.90568,.0691783,0,.700659,.904416,.0659222,0,.718176,.903067,.0628782,0,.735834,.901637,.0600307,0,.753646,.900128,.0573647,0,.771625,.898544,.0548668,0,.78979,.89689,.052527,0,.808162,.895165,.0503306,0,.826771,.893371,.0482668,0,.845654,.891572,.0463605,0,.864863,.889763,.0445998,0,.884472,.887894,.0429451,0,.904592,.885967,.0413884,0,.925407,.883984,.0399225,0,.947271,.881945,.0385405,0,.97105,.879854,.0372362,0,1,.999804,.995833,0,0,.938155,.933611,0,.0158731,.864755,.854311,0,.0317461,.888594,.865264,0,.0476191,.905575,.863922,0,.0634921,.915125,.850558,0,.0793651,.920665,.829254,0,.0952381,.924073,.802578,0,.111111,.926304,.772211,0,.126984,.927829,.739366,0,.142857,.928924,.705033,0,.15873,.92973,.670019,0,.174603,.930339,.634993,0,.190476,.930811,.600485,0,.206349,.931191,.566897,0,.222222,.93149,.534485,0,.238095,.931737,.503429,0,.253968,.931939,.473811,0,.269841,.932108,.445668,0,.285714,.93225,.418993,0,.301587,.932371,.393762,0,.31746,.932474,.369939,0,.333333,.932562,.347479,0,.349206,.932638,.326336,0,.365079,.932703,.306462,0,.380952,.93276,.287805,0,.396825,.932809,.270313,0,.412698,.932851,.253933,0,.428571,.932887,.23861,0,.444444,.932917,.224289,0,.460317,.932943,.210917,0,.47619,.932965,.19844,0,.492063,.932982,.186807,0,.507937,.932995,.175966,0,.52381,.933005,.165869,0,.539683,.933011,.156468,0,.555556,.933013,.147719,0,.571429,.933013,.139579,0,.587302,.93301,.132007,0,.603175,.933004,.124965,0,.619048,.932994,.118416,0,.634921,.932982,.112326,0,.650794,.932968,.106663,0,.666667,.93295,.101397,0,.68254,.932931,.0964993,0,.698413,.932908,.0919438,0,.714286,.932883,.0877057,0,.730159,.932856,.0837623,0,.746032,.932827,.0800921,0,.761905,.932796,.0766754,0,.777778,.932762,.0734936,0,.793651,.932727,.0705296,0,.809524,.932689,.0677676,0,.825397,.93265,.0651929,0,.84127,.932609,.0627917,0,.857143,.932565,.0605515,0,.873016,.932521,.0584606,0,.888889,.932474,.0565082,0,.904762,.932427,.0546841,0,.920635,.932377,.0529793,0,.936508,.932326,.0513851,0,.952381,.932274,.0498936,0,.968254,.93222,.0484975,0,.984127,.932164,.0471899,0,1],i=new Float32Array(e),r=new Float32Array(t);Ze.LTC_FLOAT_1=new Ls(i,64,64,yn,ws,_a,ln,ln,Ht,Qt,1),Ze.LTC_FLOAT_2=new Ls(r,64,64,yn,ws,_a,ln,ln,Ht,Qt,1);const s=new Uint16Array(e.length);e.forEach(function(a,l){s[l]=Fv.toHalfFloat(a)});const o=new Uint16Array(t.length);t.forEach(function(a,l){o[l]=Fv.toHalfFloat(a)}),Ze.LTC_HALF_1=new Ls(s,64,64,yn,So,_a,ln,ln,Ht,Qt,1),Ze.LTC_HALF_2=new Ls(o,64,64,yn,So,_a,ln,ln,Ht,Qt,1)}}class Nse extends Cs{constructor(e,t){const i=[1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],r=new ot;r.setAttribute("position",new je(i,3)),r.computeBoundingSphere();const s=new Kn({fog:!1});super(r,s);this.light=e,this.color=t,this.type="RectAreaLightHelper";const o=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],a=new ot;a.setAttribute("position",new je(o,3)),a.computeBoundingSphere(),this.add(new En(a,new mi({side:Hn,fog:!1})))}updateMatrixWorld(){if(this.scale.set(.5*this.light.width,.5*this.light.height,1),this.color!==void 0)this.material.color.set(this.color),this.children[0].material.color.set(this.color);else{this.material.color.copy(this.light.color).multiplyScalar(this.light.intensity);const e=this.material.color,t=Math.max(e.r,e.g,e.b);t>1&&e.multiplyScalar(1/t),this.children[0].material.color.copy(this.material.color)}this.matrixWorld.extractRotation(this.light.matrixWorld).scale(this.scale).copyPosition(this.light.matrixWorld),this.children[0].matrixWorld.copy(this.matrixWorld)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}class Ose extends vi{constructor(e){super(e);this.dracoLoader=null,this.ktx2Loader=null,this.meshoptDecoder=null,this.pluginCallbacks=[],this.register(function(t){return new kse(t)}),this.register(function(t){return new Xse(t)}),this.register(function(t){return new Yse(t)}),this.register(function(t){return new Hse(t)}),this.register(function(t){return new Gse(t)}),this.register(function(t){return new Vse(t)}),this.register(function(t){return new Wse(t)}),this.register(function(t){return new Use(t)}),this.register(function(t){return new $se(t)})}load(e,t,i,r){const s=this;let o;this.resourcePath!==""?o=this.resourcePath:this.path!==""?o=this.path:o=Ps.extractUrlBase(e),this.manager.itemStart(e);const a=function(c){r?r(c):console.error(c),s.manager.itemError(e),s.manager.itemEnd(e)},l=new Br(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(this.withCredentials),l.load(e,function(c){try{s.parse(c,o,function(u){t(u),s.manager.itemEnd(e)},a)}catch(u){a(u)}},i,a)}setDRACOLoader(e){return this.dracoLoader=e,this}setDDSLoader(){throw new Error('THREE.GLTFLoader: "MSFT_texture_dds" no longer supported. Please update to "KHR_texture_basisu".')}setKTX2Loader(e){return this.ktx2Loader=e,this}setMeshoptDecoder(e){return this.meshoptDecoder=e,this}register(e){return this.pluginCallbacks.indexOf(e)===-1&&this.pluginCallbacks.push(e),this}unregister(e){return this.pluginCallbacks.indexOf(e)!==-1&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(e),1),this}parse(e,t,i,r){let s;const o={},a={};if(typeof e=="string")s=e;else if(Ps.decodeText(new Uint8Array(e,0,4))===rR){try{o[Yt.KHR_BINARY_GLTF]=new qse(e)}catch(f){r&&r(f);return}s=o[Yt.KHR_BINARY_GLTF].content}else s=Ps.decodeText(new Uint8Array(e));const l=JSON.parse(s);if(l.asset===void 0||l.asset.version[0]<2){r&&r(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported."));return}const c=new o0e(l,{path:t||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});c.fileLoader.setRequestHeader(this.requestHeader);for(let u=0;u<this.pluginCallbacks.length;u++){const f=this.pluginCallbacks[u](c);a[f.name]=f,o[f.name]=!0}if(l.extensionsUsed)for(let u=0;u<l.extensionsUsed.length;++u){const f=l.extensionsUsed[u],h=l.extensionsRequired||[];switch(f){case Yt.KHR_MATERIALS_UNLIT:o[f]=new zse;break;case Yt.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS:o[f]=new Qse;break;case Yt.KHR_DRACO_MESH_COMPRESSION:o[f]=new jse(l,this.dracoLoader);break;case Yt.KHR_TEXTURE_TRANSFORM:o[f]=new Zse;break;case Yt.KHR_MESH_QUANTIZATION:o[f]=new Jse;break;default:h.indexOf(f)>=0&&a[f]===void 0&&console.warn('THREE.GLTFLoader: Unknown extension "'+f+'".')}}c.setExtensions(o),c.setPlugins(a),c.parse(i,r)}}function Bse(){let n={};return{get:function(e){return n[e]},add:function(e,t){n[e]=t},remove:function(e){delete n[e]},removeAll:function(){n={}}}}const Yt={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_IOR:"KHR_materials_ior",KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS:"KHR_materials_pbrSpecularGlossiness",KHR_MATERIALS_SPECULAR:"KHR_materials_specular",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_MATERIALS_VOLUME:"KHR_materials_volume",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression"};class Use{constructor(e){this.parser=e,this.name=Yt.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}_markDefs(){const e=this.parser,t=this.parser.json.nodes||[];for(let i=0,r=t.length;i<r;i++){const s=t[i];s.extensions&&s.extensions[this.name]&&s.extensions[this.name].light!==void 0&&e._addNodeRef(this.cache,s.extensions[this.name].light)}}_loadLight(e){const t=this.parser,i="light:"+e;let r=t.cache.get(i);if(r)return r;const s=t.json,l=((s.extensions&&s.extensions[this.name]||{}).lights||[])[e];let c;const u=new We(16777215);l.color!==void 0&&u.fromArray(l.color);const f=l.range!==void 0?l.range:0;switch(l.type){case"directional":c=new ka(u),c.target.position.set(0,0,-1),c.add(c.target);break;case"point":c=new Cc(u),c.distance=f;break;case"spot":c=new za(u),c.distance=f,l.spot=l.spot||{},l.spot.innerConeAngle=l.spot.innerConeAngle!==void 0?l.spot.innerConeAngle:0,l.spot.outerConeAngle=l.spot.outerConeAngle!==void 0?l.spot.outerConeAngle:Math.PI/4,c.angle=l.spot.outerConeAngle,c.penumbra=1-l.spot.innerConeAngle/l.spot.outerConeAngle,c.target.position.set(0,0,-1),c.add(c.target);break;default:throw new Error("THREE.GLTFLoader: Unexpected light type: "+l.type)}return c.position.set(0,0,0),c.decay=2,l.intensity!==void 0&&(c.intensity=l.intensity),c.name=t.createUniqueName(l.name||"light_"+e),r=Promise.resolve(c),t.cache.add(i,r),r}createNodeAttachment(e){const t=this,i=this.parser,s=i.json.nodes[e],a=(s.extensions&&s.extensions[this.name]||{}).light;return a===void 0?null:this._loadLight(a).then(function(l){return i._getNodeRef(t.cache,a,l)})}}class zse{constructor(){this.name=Yt.KHR_MATERIALS_UNLIT}getMaterialType(){return mi}extendParams(e,t,i){const r=[];e.color=new We(1,1,1),e.opacity=1;const s=t.pbrMetallicRoughness;if(s){if(Array.isArray(s.baseColorFactor)){const o=s.baseColorFactor;e.color.fromArray(o),e.opacity=o[3]}s.baseColorTexture!==void 0&&r.push(i.assignTexture(e,"map",s.baseColorTexture))}return Promise.all(r)}}class kse{constructor(e){this.parser=e,this.name=Yt.KHR_MATERIALS_CLEARCOAT}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:Do}extendMaterialParams(e,t){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[],o=r.extensions[this.name];if(o.clearcoatFactor!==void 0&&(t.clearcoat=o.clearcoatFactor),o.clearcoatTexture!==void 0&&s.push(i.assignTexture(t,"clearcoatMap",o.clearcoatTexture)),o.clearcoatRoughnessFactor!==void 0&&(t.clearcoatRoughness=o.clearcoatRoughnessFactor),o.clearcoatRoughnessTexture!==void 0&&s.push(i.assignTexture(t,"clearcoatRoughnessMap",o.clearcoatRoughnessTexture)),o.clearcoatNormalTexture!==void 0&&(s.push(i.assignTexture(t,"clearcoatNormalMap",o.clearcoatNormalTexture)),o.clearcoatNormalTexture.scale!==void 0)){const a=o.clearcoatNormalTexture.scale;t.clearcoatNormalScale=new Ie(a,-a)}return Promise.all(s)}}class Hse{constructor(e){this.parser=e,this.name=Yt.KHR_MATERIALS_TRANSMISSION}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:Do}extendMaterialParams(e,t){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[],o=r.extensions[this.name];return o.transmissionFactor!==void 0&&(t.transmission=o.transmissionFactor),o.transmissionTexture!==void 0&&s.push(i.assignTexture(t,"transmissionMap",o.transmissionTexture)),Promise.all(s)}}class Gse{constructor(e){this.parser=e,this.name=Yt.KHR_MATERIALS_VOLUME}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:Do}extendMaterialParams(e,t){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[],o=r.extensions[this.name];t.thickness=o.thicknessFactor!==void 0?o.thicknessFactor:0,o.thicknessTexture!==void 0&&s.push(i.assignTexture(t,"thicknessMap",o.thicknessTexture)),t.attenuationDistance=o.attenuationDistance||0;const a=o.attenuationColor||[1,1,1];return t.attenuationTint=new We(a[0],a[1],a[2]),Promise.all(s)}}class Vse{constructor(e){this.parser=e,this.name=Yt.KHR_MATERIALS_IOR}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:Do}extendMaterialParams(e,t){const r=this.parser.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=r.extensions[this.name];return t.ior=s.ior!==void 0?s.ior:1.5,Promise.resolve()}}class Wse{constructor(e){this.parser=e,this.name=Yt.KHR_MATERIALS_SPECULAR}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:Do}extendMaterialParams(e,t){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[],o=r.extensions[this.name];t.specularIntensity=o.specularFactor!==void 0?o.specularFactor:1,o.specularTexture!==void 0&&s.push(i.assignTexture(t,"specularIntensityMap",o.specularTexture));const a=o.specularColorFactor||[1,1,1];return t.specularTint=new We(a[0],a[1],a[2]),o.specularColorTexture!==void 0&&s.push(i.assignTexture(t,"specularTintMap",o.specularColorTexture).then(function(l){l.encoding=Ms})),Promise.all(s)}}class Xse{constructor(e){this.parser=e,this.name=Yt.KHR_TEXTURE_BASISU}loadTexture(e){const t=this.parser,i=t.json,r=i.textures[e];if(!r.extensions||!r.extensions[this.name])return null;const s=r.extensions[this.name],o=i.images[s.source],a=t.options.ktx2Loader;if(!a){if(i.extensionsRequired&&i.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return null}return t.loadTextureImage(e,o,a)}}class Yse{constructor(e){this.parser=e,this.name=Yt.EXT_TEXTURE_WEBP,this.isSupported=null}loadTexture(e){const t=this.name,i=this.parser,r=i.json,s=r.textures[e];if(!s.extensions||!s.extensions[t])return null;const o=s.extensions[t],a=r.images[o.source];let l=i.textureLoader;if(a.uri){const c=i.options.manager.getHandler(a.uri);c!==null&&(l=c)}return this.detectSupport().then(function(c){if(c)return i.loadTextureImage(e,a,l);if(r.extensionsRequired&&r.extensionsRequired.indexOf(t)>=0)throw new Error("THREE.GLTFLoader: WebP required by asset but unsupported.");return i.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const t=new Image;t.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",t.onload=t.onerror=function(){e(t.height===1)}})),this.isSupported}}class $se{constructor(e){this.name=Yt.EXT_MESHOPT_COMPRESSION,this.parser=e}loadBufferView(e){const t=this.parser.json,i=t.bufferViews[e];if(i.extensions&&i.extensions[this.name]){const r=i.extensions[this.name],s=this.parser.getDependency("buffer",r.buffer),o=this.parser.options.meshoptDecoder;if(!o||!o.supported){if(t.extensionsRequired&&t.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files");return null}return Promise.all([s,o.ready]).then(function(a){const l=r.byteOffset||0,c=r.byteLength||0,u=r.count,f=r.byteStride,h=new ArrayBuffer(u*f),d=new Uint8Array(a[0],l,c);return o.decodeGltfBuffer(new Uint8Array(h),u,f,d,r.mode,r.filter),h})}else return null}}const rR="glTF",V1=12,sR={JSON:1313821514,BIN:5130562};class qse{constructor(e){this.name=Yt.KHR_BINARY_GLTF,this.content=null,this.body=null;const t=new DataView(e,0,V1);if(this.header={magic:Ps.decodeText(new Uint8Array(e.slice(0,4))),version:t.getUint32(4,!0),length:t.getUint32(8,!0)},this.header.magic!==rR)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");const i=this.header.length-V1,r=new DataView(e,V1);let s=0;for(;s<i;){const o=r.getUint32(s,!0);s+=4;const a=r.getUint32(s,!0);if(s+=4,a===sR.JSON){const l=new Uint8Array(e,V1+s,o);this.content=Ps.decodeText(l)}else if(a===sR.BIN){const l=V1+s;this.body=e.slice(l,l+o)}s+=o}if(this.content===null)throw new Error("THREE.GLTFLoader: JSON content not found.")}}class jse{constructor(e,t){if(!t)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=Yt.KHR_DRACO_MESH_COMPRESSION,this.json=e,this.dracoLoader=t,this.dracoLoader.preload()}decodePrimitive(e,t){const i=this.json,r=this.dracoLoader,s=e.extensions[this.name].bufferView,o=e.extensions[this.name].attributes,a={},l={},c={};for(const u in o){const f=Uv[u]||u.toLowerCase();a[f]=o[u]}for(const u in e.attributes){const f=Uv[u]||u.toLowerCase();if(o[u]!==void 0){const h=i.accessors[e.attributes[u]],d=W1[h.componentType];c[f]=d,l[f]=h.normalized===!0}}return t.getDependency("bufferView",s).then(function(u){return new Promise(function(f){r.decodeDracoFile(u,function(h){for(const d in h.attributes){const m=h.attributes[d],v=l[d];v!==void 0&&(m.normalized=v)}f(h)},a,c)})})}}class Zse{constructor(){this.name=Yt.KHR_TEXTURE_TRANSFORM}extendTexture(e,t){return t.texCoord!==void 0&&console.warn('THREE.GLTFLoader: Custom UV sets in "'+this.name+'" extension not yet supported.'),t.offset===void 0&&t.rotation===void 0&&t.scale===void 0||(e=e.clone(),t.offset!==void 0&&e.offset.fromArray(t.offset),t.rotation!==void 0&&(e.rotation=t.rotation),t.scale!==void 0&&e.repeat.fromArray(t.scale),e.needsUpdate=!0),e}}class Bv extends Oa{constructor(e){super();this.isGLTFSpecularGlossinessMaterial=!0;const t=["#ifdef USE_SPECULARMAP","	uniform sampler2D specularMap;","#endif"].join(`
`),i=["#ifdef USE_GLOSSINESSMAP","	uniform sampler2D glossinessMap;","#endif"].join(`
`),r=["vec3 specularFactor = specular;","#ifdef USE_SPECULARMAP","	vec4 texelSpecular = texture2D( specularMap, vUv );","	texelSpecular = sRGBToLinear( texelSpecular );","	// reads channel RGB, compatible with a glTF Specular-Glossiness (RGBA) texture","	specularFactor *= texelSpecular.rgb;","#endif"].join(`
`),s=["float glossinessFactor = glossiness;","#ifdef USE_GLOSSINESSMAP","	vec4 texelGlossiness = texture2D( glossinessMap, vUv );","	// reads channel A, compatible with a glTF Specular-Glossiness (RGBA) texture","	glossinessFactor *= texelGlossiness.a;","#endif"].join(`
`),o=["PhysicalMaterial material;","material.diffuseColor = diffuseColor.rgb * ( 1. - max( specularFactor.r, max( specularFactor.g, specularFactor.b ) ) );","vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );","float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );","material.roughness = max( 1.0 - glossinessFactor, 0.0525 ); // 0.0525 corresponds to the base mip of a 256 cubemap.","material.roughness += geometryRoughness;","material.roughness = min( material.roughness, 1.0 );","material.specularColor = specularFactor;"].join(`
`),a={specular:{value:new We().setHex(16777215)},glossiness:{value:1},specularMap:{value:null},glossinessMap:{value:null}};this._extraUniforms=a,this.onBeforeCompile=function(l){for(const c in a)l.uniforms[c]=a[c];l.fragmentShader=l.fragmentShader.replace("uniform float roughness;","uniform vec3 specular;").replace("uniform float metalness;","uniform float glossiness;").replace("#include <roughnessmap_pars_fragment>",t).replace("#include <metalnessmap_pars_fragment>",i).replace("#include <roughnessmap_fragment>",r).replace("#include <metalnessmap_fragment>",s).replace("#include <lights_physical_fragment>",o)},Object.defineProperties(this,{specular:{get:function(){return a.specular.value},set:function(l){a.specular.value=l}},specularMap:{get:function(){return a.specularMap.value},set:function(l){a.specularMap.value=l,l?this.defines.USE_SPECULARMAP="":delete this.defines.USE_SPECULARMAP}},glossiness:{get:function(){return a.glossiness.value},set:function(l){a.glossiness.value=l}},glossinessMap:{get:function(){return a.glossinessMap.value},set:function(l){a.glossinessMap.value=l,l?(this.defines.USE_GLOSSINESSMAP="",this.defines.USE_UV=""):(delete this.defines.USE_GLOSSINESSMAP,delete this.defines.USE_UV)}}}),delete this.metalness,delete this.roughness,delete this.metalnessMap,delete this.roughnessMap,this.setValues(e)}copy(e){return super.copy(e),this.specularMap=e.specularMap,this.specular.copy(e.specular),this.glossinessMap=e.glossinessMap,this.glossiness=e.glossiness,delete this.metalness,delete this.roughness,delete this.metalnessMap,delete this.roughnessMap,this}}class Qse{constructor(){this.name=Yt.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS,this.specularGlossinessParams=["color","map","lightMap","lightMapIntensity","aoMap","aoMapIntensity","emissive","emissiveIntensity","emissiveMap","bumpMap","bumpScale","normalMap","normalMapType","displacementMap","displacementScale","displacementBias","specularMap","specular","glossinessMap","glossiness","alphaMap","envMap","envMapIntensity","refractionRatio"]}getMaterialType(){return Bv}extendParams(e,t,i){const r=t.extensions[this.name];e.color=new We(1,1,1),e.opacity=1;const s=[];if(Array.isArray(r.diffuseFactor)){const o=r.diffuseFactor;e.color.fromArray(o),e.opacity=o[3]}if(r.diffuseTexture!==void 0&&s.push(i.assignTexture(e,"map",r.diffuseTexture)),e.emissive=new We(0,0,0),e.glossiness=r.glossinessFactor!==void 0?r.glossinessFactor:1,e.specular=new We(1,1,1),Array.isArray(r.specularFactor)&&e.specular.fromArray(r.specularFactor),r.specularGlossinessTexture!==void 0){const o=r.specularGlossinessTexture;s.push(i.assignTexture(e,"glossinessMap",o)),s.push(i.assignTexture(e,"specularMap",o))}return Promise.all(s)}createMaterial(e){const t=new Bv(e);return t.fog=!0,t.color=e.color,t.map=e.map===void 0?null:e.map,t.lightMap=null,t.lightMapIntensity=1,t.aoMap=e.aoMap===void 0?null:e.aoMap,t.aoMapIntensity=1,t.emissive=e.emissive,t.emissiveIntensity=1,t.emissiveMap=e.emissiveMap===void 0?null:e.emissiveMap,t.bumpMap=e.bumpMap===void 0?null:e.bumpMap,t.bumpScale=1,t.normalMap=e.normalMap===void 0?null:e.normalMap,t.normalMapType=ba,e.normalScale&&(t.normalScale=e.normalScale),t.displacementMap=null,t.displacementScale=1,t.displacementBias=0,t.specularMap=e.specularMap===void 0?null:e.specularMap,t.specular=e.specular,t.glossinessMap=e.glossinessMap===void 0?null:e.glossinessMap,t.glossiness=e.glossiness,t.alphaMap=null,t.envMap=e.envMap===void 0?null:e.envMap,t.envMapIntensity=1,t.refractionRatio=.98,t}}class Jse{constructor(){this.name=Yt.KHR_MESH_QUANTIZATION}}class Dc extends O0{constructor(e,t,i,r){super(e,t,i,r)}copySampleValue_(e){const t=this.resultBuffer,i=this.sampleValues,r=this.valueSize,s=e*r*3+r;for(let o=0;o!==r;o++)t[o]=i[s+o];return t}}Dc.prototype.beforeStart_=Dc.prototype.copySampleValue_;Dc.prototype.afterEnd_=Dc.prototype.copySampleValue_;Dc.prototype.interpolate_=function(n,e,t,i){const r=this.resultBuffer,s=this.sampleValues,o=this.valueSize,a=o*2,l=o*3,c=i-e,u=(t-e)/c,f=u*u,h=f*u,d=n*l,m=d-l,v=-2*h+3*f,_=h-f,g=1-v,x=_-f+u;for(let b=0;b!==o;b++){const w=s[m+b+o],S=s[m+b+a]*c,A=s[d+b+o],T=s[d+b]*c;r[b]=g*w+x*S+v*A+_*T}return r};const Kse=new Rn;class e0e extends Dc{interpolate_(e,t,i,r){const s=super.interpolate_(e,t,i,r);return Kse.fromArray(s).normalize().toArray(s),s}}const Oo={FLOAT:5126,FLOAT_MAT3:35675,FLOAT_MAT4:35676,FLOAT_VEC2:35664,FLOAT_VEC3:35665,FLOAT_VEC4:35666,LINEAR:9729,REPEAT:10497,SAMPLER_2D:35678,POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6,UNSIGNED_BYTE:5121,UNSIGNED_SHORT:5123},W1={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},oR={9728:Qt,9729:Ht,9984:e1,9985:a3,9986:t1,9987:C0},aR={33071:ln,33648:Ku,10497:bs},lR={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},Uv={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",TEXCOORD_0:"uv",TEXCOORD_1:"uv2",COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},Ga={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},t0e={CUBICSPLINE:void 0,LINEAR:ec,STEP:rf},zv={OPAQUE:"OPAQUE",MASK:"MASK",BLEND:"BLEND"};function cR(n,e){return typeof n!="string"||n===""?"":(/^https?:\/\//i.test(e)&&/^\//.test(n)&&(e=e.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(n)||/^data:.*,.*$/i.test(n)||/^blob:.*$/i.test(n)?n:e+n)}function n0e(n){return n.DefaultMaterial===void 0&&(n.DefaultMaterial=new Oa({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:xa})),n.DefaultMaterial}function X1(n,e,t){for(const i in t.extensions)n[i]===void 0&&(e.userData.gltfExtensions=e.userData.gltfExtensions||{},e.userData.gltfExtensions[i]=t.extensions[i])}function Nc(n,e){e.extras!==void 0&&(typeof e.extras=="object"?Object.assign(n.userData,e.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+e.extras))}function i0e(n,e,t){let i=!1,r=!1;for(let a=0,l=e.length;a<l;a++){const c=e[a];if(c.POSITION!==void 0&&(i=!0),c.NORMAL!==void 0&&(r=!0),i&&r)break}if(!i&&!r)return Promise.resolve(n);const s=[],o=[];for(let a=0,l=e.length;a<l;a++){const c=e[a];if(i){const u=c.POSITION!==void 0?t.getDependency("accessor",c.POSITION):n.attributes.position;s.push(u)}if(r){const u=c.NORMAL!==void 0?t.getDependency("accessor",c.NORMAL):n.attributes.normal;o.push(u)}}return Promise.all([Promise.all(s),Promise.all(o)]).then(function(a){const l=a[0],c=a[1];return i&&(n.morphAttributes.position=l),r&&(n.morphAttributes.normal=c),n.morphTargetsRelative=!0,n})}function r0e(n,e){if(n.updateMorphTargets(),e.weights!==void 0)for(let t=0,i=e.weights.length;t<i;t++)n.morphTargetInfluences[t]=e.weights[t];if(e.extras&&Array.isArray(e.extras.targetNames)){const t=e.extras.targetNames;if(n.morphTargetInfluences.length===t.length){n.morphTargetDictionary={};for(let i=0,r=t.length;i<r;i++)n.morphTargetDictionary[t[i]]=i}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function s0e(n){const e=n.extensions&&n.extensions[Yt.KHR_DRACO_MESH_COMPRESSION];let t;return e?t="draco:"+e.bufferView+":"+e.indices+":"+uR(e.attributes):t=n.indices+":"+uR(n.attributes)+":"+n.mode,t}function uR(n){let e="";const t=Object.keys(n).sort();for(let i=0,r=t.length;i<r;i++)e+=t[i]+":"+n[t[i]]+";";return e}function kv(n){switch(n){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:throw new Error("THREE.GLTFLoader: Unsupported normalized accessor component type.")}}class o0e{constructor(e={},t={}){this.json=e,this.extensions={},this.plugins={},this.options=t,this.cache=new Bse,this.associations=new Map,this.primitiveCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.textureCache={},this.nodeNamesUsed={},typeof createImageBitmap!="undefined"&&/Firefox/.test(navigator.userAgent)===!1?this.textureLoader=new _v(this.options.manager):this.textureLoader=new Ba(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new Br(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),this.options.crossOrigin==="use-credentials"&&this.fileLoader.setWithCredentials(!0)}setExtensions(e){this.extensions=e}setPlugins(e){this.plugins=e}parse(e,t){const i=this,r=this.json,s=this.extensions;this.cache.removeAll(),this._invokeAll(function(o){return o._markDefs&&o._markDefs()}),Promise.all(this._invokeAll(function(o){return o.beforeRoot&&o.beforeRoot()})).then(function(){return Promise.all([i.getDependencies("scene"),i.getDependencies("animation"),i.getDependencies("camera")])}).then(function(o){const a={scene:o[0][r.scene||0],scenes:o[0],animations:o[1],cameras:o[2],asset:r.asset,parser:i,userData:{}};X1(s,a,r),Nc(a,r),Promise.all(i._invokeAll(function(l){return l.afterRoot&&l.afterRoot(a)})).then(function(){e(a)})}).catch(t)}_markDefs(){const e=this.json.nodes||[],t=this.json.skins||[],i=this.json.meshes||[];for(let r=0,s=t.length;r<s;r++){const o=t[r].joints;for(let a=0,l=o.length;a<l;a++)e[o[a]].isBone=!0}for(let r=0,s=e.length;r<s;r++){const o=e[r];o.mesh!==void 0&&(this._addNodeRef(this.meshCache,o.mesh),o.skin!==void 0&&(i[o.mesh].isSkinnedMesh=!0)),o.camera!==void 0&&this._addNodeRef(this.cameraCache,o.camera)}}_addNodeRef(e,t){t!==void 0&&(e.refs[t]===void 0&&(e.refs[t]=e.uses[t]=0),e.refs[t]++)}_getNodeRef(e,t,i){if(e.refs[t]<=1)return i;const r=i.clone();return r.name+="_instance_"+e.uses[t]++,r}_invokeOne(e){const t=Object.values(this.plugins);t.push(this);for(let i=0;i<t.length;i++){const r=e(t[i]);if(r)return r}return null}_invokeAll(e){const t=Object.values(this.plugins);t.unshift(this);const i=[];for(let r=0;r<t.length;r++){const s=e(t[r]);s&&i.push(s)}return i}getDependency(e,t){const i=e+":"+t;let r=this.cache.get(i);if(!r){switch(e){case"scene":r=this.loadScene(t);break;case"node":r=this.loadNode(t);break;case"mesh":r=this._invokeOne(function(s){return s.loadMesh&&s.loadMesh(t)});break;case"accessor":r=this.loadAccessor(t);break;case"bufferView":r=this._invokeOne(function(s){return s.loadBufferView&&s.loadBufferView(t)});break;case"buffer":r=this.loadBuffer(t);break;case"material":r=this._invokeOne(function(s){return s.loadMaterial&&s.loadMaterial(t)});break;case"texture":r=this._invokeOne(function(s){return s.loadTexture&&s.loadTexture(t)});break;case"skin":r=this.loadSkin(t);break;case"animation":r=this.loadAnimation(t);break;case"camera":r=this.loadCamera(t);break;default:throw new Error("Unknown type: "+e)}this.cache.add(i,r)}return r}getDependencies(e){let t=this.cache.get(e);if(!t){const i=this,r=this.json[e+(e==="mesh"?"es":"s")]||[];t=Promise.all(r.map(function(s,o){return i.getDependency(e,o)})),this.cache.add(e,t)}return t}loadBuffer(e){const t=this.json.buffers[e],i=this.fileLoader;if(t.type&&t.type!=="arraybuffer")throw new Error("THREE.GLTFLoader: "+t.type+" buffer type is not supported.");if(t.uri===void 0&&e===0)return Promise.resolve(this.extensions[Yt.KHR_BINARY_GLTF].body);const r=this.options;return new Promise(function(s,o){i.load(cR(t.uri,r.path),s,void 0,function(){o(new Error('THREE.GLTFLoader: Failed to load buffer "'+t.uri+'".'))})})}loadBufferView(e){const t=this.json.bufferViews[e];return this.getDependency("buffer",t.buffer).then(function(i){const r=t.byteLength||0,s=t.byteOffset||0;return i.slice(s,s+r)})}loadAccessor(e){const t=this,i=this.json,r=this.json.accessors[e];if(r.bufferView===void 0&&r.sparse===void 0)return Promise.resolve(null);const s=[];return r.bufferView!==void 0?s.push(this.getDependency("bufferView",r.bufferView)):s.push(null),r.sparse!==void 0&&(s.push(this.getDependency("bufferView",r.sparse.indices.bufferView)),s.push(this.getDependency("bufferView",r.sparse.values.bufferView))),Promise.all(s).then(function(o){const a=o[0],l=lR[r.type],c=W1[r.componentType],u=c.BYTES_PER_ELEMENT,f=u*l,h=r.byteOffset||0,d=r.bufferView!==void 0?i.bufferViews[r.bufferView].byteStride:void 0,m=r.normalized===!0;let v,_;if(d&&d!==f){const g=Math.floor(h/d),x="InterleavedBuffer:"+r.bufferView+":"+r.componentType+":"+g+":"+r.count;let b=t.cache.get(x);b||(v=new c(a,g*d,r.count*d/u),b=new Fa(v,d/u),t.cache.add(x,b)),_=new Ro(b,l,h%d/u,m)}else a===null?v=new c(r.count*l):v=new c(a,h,r.count*l),_=new Tt(v,l,m);if(r.sparse!==void 0){const g=lR.SCALAR,x=W1[r.sparse.indices.componentType],b=r.sparse.indices.byteOffset||0,w=r.sparse.values.byteOffset||0,S=new x(o[1],b,r.sparse.count*g),A=new c(o[2],w,r.sparse.count*l);a!==null&&(_=new Tt(_.array.slice(),_.itemSize,_.normalized));for(let T=0,F=S.length;T<F;T++){const U=S[T];if(_.setX(U,A[T*l]),l>=2&&_.setY(U,A[T*l+1]),l>=3&&_.setZ(U,A[T*l+2]),l>=4&&_.setW(U,A[T*l+3]),l>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return _})}loadTexture(e){const t=this.json,i=this.options,r=t.textures[e],s=t.images[r.source];let o=this.textureLoader;if(s.uri){const a=i.manager.getHandler(s.uri);a!==null&&(o=a)}return this.loadTextureImage(e,s,o)}loadTextureImage(e,t,i){const r=this,s=this.json,o=this.options,a=s.textures[e],l=(t.uri||t.bufferView)+":"+a.sampler;if(this.textureCache[l])return this.textureCache[l];const c=self.URL||self.webkitURL;let u=t.uri||"",f=!1,h=!0;const d=u.search(/\.jpe?g($|\?)/i)>0||u.search(/^data\:image\/jpeg/)===0;if((t.mimeType==="image/jpeg"||d)&&(h=!1),t.bufferView!==void 0)u=r.getDependency("bufferView",t.bufferView).then(function(v){if(t.mimeType==="image/png"){const g=new DataView(v,25,1).getUint8(0,!1);h=g===6||g===4||g===3}f=!0;const _=new Blob([v],{type:t.mimeType});return u=c.createObjectURL(_),u});else if(t.uri===void 0)throw new Error("THREE.GLTFLoader: Image "+e+" is missing URI and bufferView");const m=Promise.resolve(u).then(function(v){return new Promise(function(_,g){let x=_;i.isImageBitmapLoader===!0&&(x=function(b){const w=new Tn(b);w.needsUpdate=!0,_(w)}),i.load(cR(v,o.path),x,void 0,g)})}).then(function(v){f===!0&&c.revokeObjectURL(u),v.flipY=!1,a.name&&(v.name=a.name),h||(v.format=Or);const g=(s.samplers||{})[a.sampler]||{};return v.magFilter=oR[g.magFilter]||Ht,v.minFilter=oR[g.minFilter]||C0,v.wrapS=aR[g.wrapS]||bs,v.wrapT=aR[g.wrapT]||bs,r.associations.set(v,{type:"textures",index:e}),v}).catch(function(){return console.error("THREE.GLTFLoader: Couldn't load texture",u),null});return this.textureCache[l]=m,m}assignTexture(e,t,i){const r=this;return this.getDependency("texture",i.index).then(function(s){if(i.texCoord!==void 0&&i.texCoord!=0&&!(t==="aoMap"&&i.texCoord==1)&&console.warn("THREE.GLTFLoader: Custom UV set "+i.texCoord+" for texture "+t+" not yet supported."),r.extensions[Yt.KHR_TEXTURE_TRANSFORM]){const o=i.extensions!==void 0?i.extensions[Yt.KHR_TEXTURE_TRANSFORM]:void 0;if(o){const a=r.associations.get(s);s=r.extensions[Yt.KHR_TEXTURE_TRANSFORM].extendTexture(s,o),r.associations.set(s,a)}}return e[t]=s,s})}assignFinalMaterial(e){const t=e.geometry;let i=e.material;const r=t.attributes.tangent!==void 0,s=t.attributes.color!==void 0,o=t.attributes.normal===void 0;if(e.isPoints){const a="PointsMaterial:"+i.uuid;let l=this.cache.get(a);l||(l=new Fo,si.prototype.copy.call(l,i),l.color.copy(i.color),l.map=i.map,l.sizeAttenuation=!1,this.cache.add(a,l)),i=l}else if(e.isLine){const a="LineBasicMaterial:"+i.uuid;let l=this.cache.get(a);l||(l=new Kn,si.prototype.copy.call(l,i),l.color.copy(i.color),this.cache.add(a,l)),i=l}if(r||s||o){let a="ClonedMaterial:"+i.uuid+":";i.isGLTFSpecularGlossinessMaterial&&(a+="specular-glossiness:"),r&&(a+="vertex-tangents:"),s&&(a+="vertex-colors:"),o&&(a+="flat-shading:");let l=this.cache.get(a);l||(l=i.clone(),s&&(l.vertexColors=!0),o&&(l.flatShading=!0),r&&(l.normalScale&&(l.normalScale.y*=-1),l.clearcoatNormalScale&&(l.clearcoatNormalScale.y*=-1)),this.cache.add(a,l),this.associations.set(l,this.associations.get(i))),i=l}i.aoMap&&t.attributes.uv2===void 0&&t.attributes.uv!==void 0&&t.setAttribute("uv2",t.attributes.uv),e.material=i}getMaterialType(){return Oa}loadMaterial(e){const t=this,i=this.json,r=this.extensions,s=i.materials[e];let o;const a={},l=s.extensions||{},c=[];if(l[Yt.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS]){const f=r[Yt.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS];o=f.getMaterialType(),c.push(f.extendParams(a,s,t))}else if(l[Yt.KHR_MATERIALS_UNLIT]){const f=r[Yt.KHR_MATERIALS_UNLIT];o=f.getMaterialType(),c.push(f.extendParams(a,s,t))}else{const f=s.pbrMetallicRoughness||{};if(a.color=new We(1,1,1),a.opacity=1,Array.isArray(f.baseColorFactor)){const h=f.baseColorFactor;a.color.fromArray(h),a.opacity=h[3]}f.baseColorTexture!==void 0&&c.push(t.assignTexture(a,"map",f.baseColorTexture)),a.metalness=f.metallicFactor!==void 0?f.metallicFactor:1,a.roughness=f.roughnessFactor!==void 0?f.roughnessFactor:1,f.metallicRoughnessTexture!==void 0&&(c.push(t.assignTexture(a,"metalnessMap",f.metallicRoughnessTexture)),c.push(t.assignTexture(a,"roughnessMap",f.metallicRoughnessTexture))),o=this._invokeOne(function(h){return h.getMaterialType&&h.getMaterialType(e)}),c.push(Promise.all(this._invokeAll(function(h){return h.extendMaterialParams&&h.extendMaterialParams(e,a)})))}s.doubleSided===!0&&(a.side=wo);const u=s.alphaMode||zv.OPAQUE;return u===zv.BLEND?(a.transparent=!0,a.depthWrite=!1):(a.format=Or,a.transparent=!1,u===zv.MASK&&(a.alphaTest=s.alphaCutoff!==void 0?s.alphaCutoff:.5)),s.normalTexture!==void 0&&o!==mi&&(c.push(t.assignTexture(a,"normalMap",s.normalTexture)),a.normalScale=new Ie(1,-1),s.normalTexture.scale!==void 0&&a.normalScale.set(s.normalTexture.scale,-s.normalTexture.scale)),s.occlusionTexture!==void 0&&o!==mi&&(c.push(t.assignTexture(a,"aoMap",s.occlusionTexture)),s.occlusionTexture.strength!==void 0&&(a.aoMapIntensity=s.occlusionTexture.strength)),s.emissiveFactor!==void 0&&o!==mi&&(a.emissive=new We().fromArray(s.emissiveFactor)),s.emissiveTexture!==void 0&&o!==mi&&c.push(t.assignTexture(a,"emissiveMap",s.emissiveTexture)),Promise.all(c).then(function(){let f;return o===Bv?f=r[Yt.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS].createMaterial(a):f=new o(a),s.name&&(f.name=s.name),f.map&&(f.map.encoding=Ms),f.emissiveMap&&(f.emissiveMap.encoding=Ms),Nc(f,s),t.associations.set(f,{type:"materials",index:e}),s.extensions&&X1(r,f,s),f})}createUniqueName(e){const t=Nt.sanitizeNodeName(e||"");let i=t;for(let r=1;this.nodeNamesUsed[i];++r)i=t+"_"+r;return this.nodeNamesUsed[i]=!0,i}loadGeometries(e){const t=this,i=this.extensions,r=this.primitiveCache;function s(a){return i[Yt.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(a,t).then(function(l){return hR(l,a,t)})}const o=[];for(let a=0,l=e.length;a<l;a++){const c=e[a],u=s0e(c),f=r[u];if(f)o.push(f.promise);else{let h;c.extensions&&c.extensions[Yt.KHR_DRACO_MESH_COMPRESSION]?h=s(c):h=hR(new ot,c,t),r[u]={primitive:c,promise:h},o.push(h)}}return Promise.all(o)}loadMesh(e){const t=this,i=this.json,r=this.extensions,s=i.meshes[e],o=s.primitives,a=[];for(let l=0,c=o.length;l<c;l++){const u=o[l].material===void 0?n0e(this.cache):this.getDependency("material",o[l].material);a.push(u)}return a.push(t.loadGeometries(o)),Promise.all(a).then(function(l){const c=l.slice(0,l.length-1),u=l[l.length-1],f=[];for(let d=0,m=u.length;d<m;d++){const v=u[d],_=o[d];let g;const x=c[d];if(_.mode===Oo.TRIANGLES||_.mode===Oo.TRIANGLE_STRIP||_.mode===Oo.TRIANGLE_FAN||_.mode===void 0)g=s.isSkinnedMesh===!0?new If(v,x):new En(v,x),g.isSkinnedMesh===!0&&!g.geometry.attributes.skinWeight.normalized&&g.normalizeSkinWeights(),_.mode===Oo.TRIANGLE_STRIP?g.geometry=dR(g.geometry,bL):_.mode===Oo.TRIANGLE_FAN&&(g.geometry=dR(g.geometry,i7));else if(_.mode===Oo.LINES)g=new dr(v,x);else if(_.mode===Oo.LINE_STRIP)g=new Cs(v,x);else if(_.mode===Oo.LINE_LOOP)g=new H3(v,x);else if(_.mode===Oo.POINTS)g=new uc(v,x);else throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+_.mode);Object.keys(g.geometry.morphAttributes).length>0&&r0e(g,s),g.name=t.createUniqueName(s.name||"mesh_"+e),Nc(g,s),_.extensions&&X1(r,g,_),t.assignFinalMaterial(g),f.push(g)}if(f.length===1)return f[0];const h=new es;for(let d=0,m=f.length;d<m;d++)h.add(f[d]);return h})}loadCamera(e){let t;const i=this.json.cameras[e],r=i[i.type];if(!r){console.warn("THREE.GLTFLoader: Missing camera parameters.");return}return i.type==="perspective"?t=new Qn(ur.radToDeg(r.yfov),r.aspectRatio||1,r.znear||1,r.zfar||2e6):i.type==="orthographic"&&(t=new F0(-r.xmag,r.xmag,r.ymag,-r.ymag,r.znear,r.zfar)),i.name&&(t.name=this.createUniqueName(i.name)),Nc(t,i),Promise.resolve(t)}loadSkin(e){const t=this.json.skins[e],i={joints:t.joints};return t.inverseBindMatrices===void 0?Promise.resolve(i):this.getDependency("accessor",t.inverseBindMatrices).then(function(r){return i.inverseBindMatrices=r,i})}loadAnimation(e){const i=this.json.animations[e],r=[],s=[],o=[],a=[],l=[];for(let c=0,u=i.channels.length;c<u;c++){const f=i.channels[c],h=i.samplers[f.sampler],d=f.target,m=d.node!==void 0?d.node:d.id,v=i.parameters!==void 0?i.parameters[h.input]:h.input,_=i.parameters!==void 0?i.parameters[h.output]:h.output;r.push(this.getDependency("node",m)),s.push(this.getDependency("accessor",v)),o.push(this.getDependency("accessor",_)),a.push(h),l.push(d)}return Promise.all([Promise.all(r),Promise.all(s),Promise.all(o),Promise.all(a),Promise.all(l)]).then(function(c){const u=c[0],f=c[1],h=c[2],d=c[3],m=c[4],v=[];for(let g=0,x=u.length;g<x;g++){const b=u[g],w=f[g],S=h[g],A=d[g],T=m[g];if(b===void 0)continue;b.updateMatrix(),b.matrixAutoUpdate=!0;let F;switch(Ga[T.path]){case Ga.weights:F=Sc;break;case Ga.rotation:F=No;break;case Ga.position:case Ga.scale:default:F=Tc;break}const U=b.name?b.name:b.uuid,N=A.interpolation!==void 0?t0e[A.interpolation]:ec,O=[];Ga[T.path]===Ga.weights?b.traverse(function(D){D.isMesh===!0&&D.morphTargetInfluences&&O.push(D.name?D.name:D.uuid)}):O.push(U);let G=S.array;if(S.normalized){const D=kv(G.constructor),P=new Float32Array(G.length);for(let I=0,C=G.length;I<C;I++)P[I]=G[I]*D;G=P}for(let D=0,P=O.length;D<P;D++){const I=new F(O[D]+"."+Ga[T.path],w.array,G,N);A.interpolation==="CUBICSPLINE"&&(I.createInterpolant=function(B){const Y=this instanceof No?e0e:Dc;return new Y(this.times,this.values,this.getValueSize()/3,B)},I.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0),v.push(I)}}const _=i.name?i.name:"animation_"+e;return new Ec(_,void 0,v)})}createNodeMesh(e){const t=this.json,i=this,r=t.nodes[e];return r.mesh===void 0?null:i.getDependency("mesh",r.mesh).then(function(s){const o=i._getNodeRef(i.meshCache,r.mesh,s);return r.weights!==void 0&&o.traverse(function(a){if(!!a.isMesh)for(let l=0,c=r.weights.length;l<c;l++)a.morphTargetInfluences[l]=r.weights[l]}),o})}loadNode(e){const t=this.json,i=this.extensions,r=this,s=t.nodes[e],o=s.name?r.createUniqueName(s.name):"";return function(){const a=[],l=r._invokeOne(function(c){return c.createNodeMesh&&c.createNodeMesh(e)});return l&&a.push(l),s.camera!==void 0&&a.push(r.getDependency("camera",s.camera).then(function(c){return r._getNodeRef(r.cameraCache,s.camera,c)})),r._invokeAll(function(c){return c.createNodeAttachment&&c.createNodeAttachment(e)}).forEach(function(c){a.push(c)}),Promise.all(a)}().then(function(a){let l;if(s.isBone===!0?l=new lc:a.length>1?l=new es:a.length===1?l=a[0]:l=new At,l!==a[0])for(let c=0,u=a.length;c<u;c++)l.add(a[c]);if(s.name&&(l.userData.name=s.name,l.name=o),Nc(l,s),s.extensions&&X1(i,l,s),s.matrix!==void 0){const c=new $e;c.fromArray(s.matrix),l.applyMatrix4(c)}else s.translation!==void 0&&l.position.fromArray(s.translation),s.rotation!==void 0&&l.quaternion.fromArray(s.rotation),s.scale!==void 0&&l.scale.fromArray(s.scale);return r.associations.set(l,{type:"nodes",index:e}),l})}loadScene(e){const t=this.json,i=this.extensions,r=this.json.scenes[e],s=this,o=new es;r.name&&(o.name=s.createUniqueName(r.name)),Nc(o,r),r.extensions&&X1(i,o,r);const a=r.nodes||[],l=[];for(let c=0,u=a.length;c<u;c++)l.push(fR(a[c],o,t,s));return Promise.all(l).then(function(){return o})}}function fR(n,e,t,i){const r=t.nodes[n];return i.getDependency("node",n).then(function(s){if(r.skin===void 0)return s;let o;return i.getDependency("skin",r.skin).then(function(a){o=a;const l=[];for(let c=0,u=o.joints.length;c<u;c++)l.push(i.getDependency("node",o.joints[c]));return Promise.all(l)}).then(function(a){return s.traverse(function(l){if(!l.isMesh)return;const c=[],u=[];for(let f=0,h=a.length;f<h;f++){const d=a[f];if(d){c.push(d);const m=new $e;o.inverseBindMatrices!==void 0&&m.fromArray(o.inverseBindMatrices.array,f*16),u.push(m)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',o.joints[f])}l.bind(new Df(c,u),l.matrixWorld)}),s})}).then(function(s){e.add(s);const o=[];if(r.children){const a=r.children;for(let l=0,c=a.length;l<c;l++){const u=a[l];o.push(fR(u,s,t,i))}}return Promise.all(o)})}function a0e(n,e,t){const i=e.attributes,r=new fr;if(i.POSITION!==void 0){const a=t.json.accessors[i.POSITION],l=a.min,c=a.max;if(l!==void 0&&c!==void 0){if(r.set(new Z(l[0],l[1],l[2]),new Z(c[0],c[1],c[2])),a.normalized){const u=kv(W1[a.componentType]);r.min.multiplyScalar(u),r.max.multiplyScalar(u)}}else{console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.");return}}else return;const s=e.targets;if(s!==void 0){const a=new Z,l=new Z;for(let c=0,u=s.length;c<u;c++){const f=s[c];if(f.POSITION!==void 0){const h=t.json.accessors[f.POSITION],d=h.min,m=h.max;if(d!==void 0&&m!==void 0){if(l.setX(Math.max(Math.abs(d[0]),Math.abs(m[0]))),l.setY(Math.max(Math.abs(d[1]),Math.abs(m[1]))),l.setZ(Math.max(Math.abs(d[2]),Math.abs(m[2]))),h.normalized){const v=kv(W1[h.componentType]);l.multiplyScalar(v)}a.max(l)}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}r.expandByVector(a)}n.boundingBox=r;const o=new R0;r.getCenter(o.center),o.radius=r.min.distanceTo(r.max)/2,n.boundingSphere=o}function hR(n,e,t){const i=e.attributes,r=[];function s(o,a){return t.getDependency("accessor",o).then(function(l){n.setAttribute(a,l)})}for(const o in i){const a=Uv[o]||o.toLowerCase();a in n.attributes||r.push(s(i[o],a))}if(e.indices!==void 0&&!n.index){const o=t.getDependency("accessor",e.indices).then(function(a){n.setIndex(a)});r.push(o)}return Nc(n,e),a0e(n,e,t),Promise.all(r).then(function(){return e.targets!==void 0?i0e(n,e.targets,t):n})}function dR(n,e){let t=n.getIndex();if(t===null){const o=[],a=n.getAttribute("position");if(a!==void 0){for(let l=0;l<a.count;l++)o.push(l);n.setIndex(o),t=n.getIndex()}else return console.error("THREE.GLTFLoader.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),n}const i=t.count-2,r=[];if(e===i7)for(let o=1;o<=i;o++)r.push(t.getX(0)),r.push(t.getX(o)),r.push(t.getX(o+1));else for(let o=0;o<i;o++)o%2==0?(r.push(t.getX(o)),r.push(t.getX(o+1)),r.push(t.getX(o+2))):(r.push(t.getX(o+2)),r.push(t.getX(o+1)),r.push(t.getX(o)));r.length/3!==i&&console.error("THREE.GLTFLoader.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");const s=n.clone();return s.setIndex(r),s}/*!
fflate - fast JavaScript compression/decompression
<https://101arrowz.github.io/fflate>
Licensed under MIT. https://github.com/101arrowz/fflate/blob/master/LICENSE
version 0.6.9
*/var pR={},Hv=function(n){return URL.createObjectURL(new Blob([n],{type:"text/javascript"}))},mR=function(n){return new Worker(n)};try{URL.revokeObjectURL(Hv(""))}catch{Hv=function(e){return"data:application/javascript;charset=UTF-8,"+encodeURI(e)},mR=function(e){return new Worker(e,{type:"module"})}}var l0e=function(n,e,t,i,r){var s=mR(pR[e]||(pR[e]=Hv(n)));return s.onerror=function(o){return r(o.error,null)},s.onmessage=function(o){return r(null,o.data)},s.postMessage(t,i),s},Gt=Uint8Array,xi=Uint16Array,Bo=Uint32Array,Uf=new Gt([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),zf=new Gt([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),Y1=new Gt([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),gR=function(n,e){for(var t=new xi(31),i=0;i<31;++i)t[i]=e+=1<<n[i-1];for(var r=new Bo(t[30]),i=1;i<30;++i)for(var s=t[i];s<t[i+1];++s)r[s]=s-t[i]<<5|i;return[t,r]},vR=gR(Uf,2),Gv=vR[0],m9=vR[1];Gv[28]=258,m9[258]=28;var xR=gR(zf,0),yR=xR[0],Vv=xR[1],$1=new xi(32768);for(var Cn=0;Cn<32768;++Cn){var Va=(Cn&43690)>>>1|(Cn&21845)<<1;Va=(Va&52428)>>>2|(Va&13107)<<2,Va=(Va&61680)>>>4|(Va&3855)<<4,$1[Cn]=((Va&65280)>>>8|(Va&255)<<8)>>>1}var Rs=function(n,e,t){for(var i=n.length,r=0,s=new xi(e);r<i;++r)++s[n[r]-1];var o=new xi(e);for(r=0;r<e;++r)o[r]=o[r-1]+s[r-1]<<1;var a;if(t){a=new xi(1<<e);var l=15-e;for(r=0;r<i;++r)if(n[r])for(var c=r<<4|n[r],u=e-n[r],f=o[n[r]-1]++<<u,h=f|(1<<u)-1;f<=h;++f)a[$1[f]>>>l]=c}else for(a=new xi(i),r=0;r<i;++r)n[r]&&(a[r]=$1[o[n[r]-1]++]>>>15-n[r]);return a},Uo=new Gt(288);for(var Cn=0;Cn<144;++Cn)Uo[Cn]=8;for(var Cn=144;Cn<256;++Cn)Uo[Cn]=9;for(var Cn=256;Cn<280;++Cn)Uo[Cn]=7;for(var Cn=280;Cn<288;++Cn)Uo[Cn]=8;var kf=new Gt(32);for(var Cn=0;Cn<32;++Cn)kf[Cn]=5;var _R=Rs(Uo,9,0),bR=Rs(Uo,9,1),wR=Rs(kf,5,0),MR=Rs(kf,5,1),g9=function(n){for(var e=n[0],t=1;t<n.length;++t)n[t]>e&&(e=n[t]);return e},Fs=function(n,e,t){var i=e/8|0;return(n[i]|n[i+1]<<8)>>(e&7)&t},v9=function(n,e){var t=e/8|0;return(n[t]|n[t+1]<<8|n[t+2]<<16)>>(e&7)},q1=function(n){return(n/8|0)+(n&7&&1)},Is=function(n,e,t){(e==null||e<0)&&(e=0),(t==null||t>n.length)&&(t=n.length);var i=new(n instanceof xi?xi:n instanceof Bo?Bo:Gt)(t-e);return i.set(n.subarray(e,t)),i},j1=function(n,e,t){var i=n.length;if(!i||t&&!t.l&&i<5)return e||new Gt(0);var r=!e||t,s=!t||t.i;t||(t={}),e||(e=new Gt(i*3));var o=function($){var ge=e.length;if($>ge){var be=new Gt(Math.max(ge*2,$));be.set(e),e=be}},a=t.f||0,l=t.p||0,c=t.b||0,u=t.l,f=t.d,h=t.m,d=t.n,m=i*8;do{if(!u){t.f=a=Fs(n,l,1);var v=Fs(n,l+1,3);if(l+=3,v)if(v==1)u=bR,f=MR,h=9,d=5;else if(v==2){var b=Fs(n,l,31)+257,w=Fs(n,l+10,15)+4,S=b+Fs(n,l+5,31)+1;l+=14;for(var A=new Gt(S),T=new Gt(19),F=0;F<w;++F)T[Y1[F]]=Fs(n,l+F*3,7);l+=w*3;for(var U=g9(T),N=(1<<U)-1,O=Rs(T,U,1),F=0;F<S;){var G=O[Fs(n,l,N)];l+=G&15;var _=G>>>4;if(_<16)A[F++]=_;else{var D=0,P=0;for(_==16?(P=3+Fs(n,l,3),l+=2,D=A[F-1]):_==17?(P=3+Fs(n,l,7),l+=3):_==18&&(P=11+Fs(n,l,127),l+=7);P--;)A[F++]=D}}var I=A.subarray(0,b),C=A.subarray(b);h=g9(I),d=g9(C),u=Rs(I,h,1),f=Rs(C,d,1)}else throw"invalid block type";else{var _=q1(l)+4,g=n[_-4]|n[_-3]<<8,x=_+g;if(x>i){if(s)throw"unexpected EOF";break}r&&o(c+g),e.set(n.subarray(_,x),c),t.b=c+=g,t.p=l=x*8;continue}if(l>m){if(s)throw"unexpected EOF";break}}r&&o(c+131072);for(var B=(1<<h)-1,Y=(1<<d)-1,j=l;;j=l){var D=u[v9(n,l)&B],re=D>>>4;if(l+=D&15,l>m){if(s)throw"unexpected EOF";break}if(!D)throw"invalid length/literal";if(re<256)e[c++]=re;else if(re==256){j=l,u=null;break}else{var ie=re-254;if(re>264){var F=re-257,ve=Uf[F];ie=Fs(n,l,(1<<ve)-1)+Gv[F],l+=ve}var de=f[v9(n,l)&Y],ye=de>>>4;if(!de)throw"invalid distance";l+=de&15;var C=yR[ye];if(ye>3){var ve=zf[ye];C+=v9(n,l)&(1<<ve)-1,l+=ve}if(l>m){if(s)throw"unexpected EOF";break}r&&o(c+131072);for(var te=c+ie;c<te;c+=4)e[c]=e[c-C],e[c+1]=e[c+1-C],e[c+2]=e[c+2-C],e[c+3]=e[c+3-C];c=te}}t.l=u,t.p=j,t.b=c,u&&(a=1,t.m=h,t.d=f,t.n=d)}while(!a);return c==e.length?e:Is(e,0,c)},U0=function(n,e,t){t<<=e&7;var i=e/8|0;n[i]|=t,n[i+1]|=t>>>8},Hf=function(n,e,t){t<<=e&7;var i=e/8|0;n[i]|=t,n[i+1]|=t>>>8,n[i+2]|=t>>>16},x9=function(n,e){for(var t=[],i=0;i<n.length;++i)n[i]&&t.push({s:i,f:n[i]});var r=t.length,s=t.slice();if(!r)return[zo,0];if(r==1){var o=new Gt(t[0].s+1);return o[t[0].s]=1,[o,1]}t.sort(function(S,A){return S.f-A.f}),t.push({s:-1,f:25001});var a=t[0],l=t[1],c=0,u=1,f=2;for(t[0]={s:-1,f:a.f+l.f,l:a,r:l};u!=r-1;)a=t[t[c].f<t[f].f?c++:f++],l=t[c!=u&&t[c].f<t[f].f?c++:f++],t[u++]={s:-1,f:a.f+l.f,l:a,r:l};for(var h=s[0].s,i=1;i<r;++i)s[i].s>h&&(h=s[i].s);var d=new xi(h+1),m=y9(t[u-1],d,0);if(m>e){var i=0,v=0,_=m-e,g=1<<_;for(s.sort(function(A,T){return d[T.s]-d[A.s]||A.f-T.f});i<r;++i){var x=s[i].s;if(d[x]>e)v+=g-(1<<m-d[x]),d[x]=e;else break}for(v>>>=_;v>0;){var b=s[i].s;d[b]<e?v-=1<<e-d[b]++-1:++i}for(;i>=0&&v;--i){var w=s[i].s;d[w]==e&&(--d[w],++v)}m=e}return[new Gt(d),m]},y9=function(n,e,t){return n.s==-1?Math.max(y9(n.l,e,t+1),y9(n.r,e,t+1)):e[n.s]=t},Wv=function(n){for(var e=n.length;e&&!n[--e];);for(var t=new xi(++e),i=0,r=n[0],s=1,o=function(l){t[i++]=l},a=1;a<=e;++a)if(n[a]==r&&a!=e)++s;else{if(!r&&s>2){for(;s>138;s-=138)o(32754);s>2&&(o(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(o(r),--s;s>6;s-=6)o(8304);s>2&&(o(s-3<<5|8208),s=0)}for(;s--;)o(r);s=1,r=n[a]}return[t.subarray(0,i),e]},Gf=function(n,e){for(var t=0,i=0;i<e.length;++i)t+=n[i]*e[i];return t},Z1=function(n,e,t){var i=t.length,r=q1(e+2);n[r]=i&255,n[r+1]=i>>>8,n[r+2]=n[r]^255,n[r+3]=n[r+1]^255;for(var s=0;s<i;++s)n[r+s+4]=t[s];return(r+4+i)*8},Xv=function(n,e,t,i,r,s,o,a,l,c,u){U0(e,u++,t),++r[256];for(var f=x9(r,15),h=f[0],d=f[1],m=x9(s,15),v=m[0],_=m[1],g=Wv(h),x=g[0],b=g[1],w=Wv(v),S=w[0],A=w[1],T=new xi(19),F=0;F<x.length;++F)T[x[F]&31]++;for(var F=0;F<S.length;++F)T[S[F]&31]++;for(var U=x9(T,7),N=U[0],O=U[1],G=19;G>4&&!N[Y1[G-1]];--G);var D=c+5<<3,P=Gf(r,Uo)+Gf(s,kf)+o,I=Gf(r,h)+Gf(s,v)+o+14+3*G+Gf(T,N)+(2*T[16]+3*T[17]+7*T[18]);if(D<=P&&D<=I)return Z1(e,u,n.subarray(l,l+c));var C,B,Y,j;if(U0(e,u,1+(I<P)),u+=2,I<P){C=Rs(h,d,0),B=h,Y=Rs(v,_,0),j=v;var re=Rs(N,O,0);U0(e,u,b-257),U0(e,u+5,A-1),U0(e,u+10,G-4),u+=14;for(var F=0;F<G;++F)U0(e,u+3*F,N[Y1[F]]);u+=3*G;for(var ie=[x,S],ve=0;ve<2;++ve)for(var de=ie[ve],F=0;F<de.length;++F){var ye=de[F]&31;U0(e,u,re[ye]),u+=N[ye],ye>15&&(U0(e,u,de[F]>>>5&127),u+=de[F]>>>12)}}else C=_R,B=Uo,Y=wR,j=kf;for(var F=0;F<a;++F)if(i[F]>255){var ye=i[F]>>>18&31;Hf(e,u,C[ye+257]),u+=B[ye+257],ye>7&&(U0(e,u,i[F]>>>23&31),u+=Uf[ye]);var te=i[F]&31;Hf(e,u,Y[te]),u+=j[te],te>3&&(Hf(e,u,i[F]>>>5&8191),u+=zf[te])}else Hf(e,u,C[i[F]]),u+=B[i[F]];return Hf(e,u,C[256]),u+B[256]},SR=new Bo([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),zo=new Gt(0),AR=function(n,e,t,i,r,s){var o=n.length,a=new Gt(i+o+5*(1+Math.ceil(o/7e3))+r),l=a.subarray(i,a.length-r),c=0;if(!e||o<8)for(var u=0;u<=o;u+=65535){var f=u+65535;f<o?c=Z1(l,c,n.subarray(u,f)):(l[u]=s,c=Z1(l,c,n.subarray(u,o)))}else{for(var h=SR[e-1],d=h>>>13,m=h&8191,v=(1<<t)-1,_=new xi(32768),g=new xi(v+1),x=Math.ceil(t/3),b=2*x,w=function(W){return(n[W]^n[W+1]<<x^n[W+2]<<b)&v},S=new Bo(25e3),A=new xi(288),T=new xi(32),F=0,U=0,u=0,N=0,O=0,G=0;u<o;++u){var D=w(u),P=u&32767,I=g[D];if(_[P]=I,g[D]=P,O<=u){var C=o-u;if((F>7e3||N>24576)&&C>423){c=Xv(n,l,0,S,A,T,U,N,G,u-G,c),N=F=U=0,G=u;for(var B=0;B<286;++B)A[B]=0;for(var B=0;B<30;++B)T[B]=0}var Y=2,j=0,re=m,ie=P-I&32767;if(C>2&&D==w(u-ie))for(var ve=Math.min(d,C)-1,de=Math.min(32767,u),ye=Math.min(258,C);ie<=de&&--re&&P!=I;){if(n[u+Y]==n[u+Y-ie]){for(var te=0;te<ye&&n[u+te]==n[u+te-ie];++te);if(te>Y){if(Y=te,j=ie,te>ve)break;for(var $=Math.min(ie,te-2),ge=0,B=0;B<$;++B){var be=u-ie+B+32768&32767,ue=_[be],_e=be-ue+32768&32767;_e>ge&&(ge=_e,I=be)}}}P=I,I=_[P],ie+=P-I+32768&32767}if(j){S[N++]=268435456|m9[Y]<<18|Vv[j];var Te=m9[Y]&31,X=Vv[j]&31;U+=Uf[Te]+zf[X],++A[257+Te],++T[X],O=u+Y,++F}else S[N++]=n[u],++A[n[u]]}}c=Xv(n,l,s,S,A,T,U,N,G,u-G,c),!s&&c&7&&(c=Z1(l,c+1,zo))}return Is(a,0,i+q1(c)+r)},TR=function(){for(var n=new Bo(256),e=0;e<256;++e){for(var t=e,i=9;--i;)t=(t&1&&3988292384)^t>>>1;n[e]=t}return n}(),Vf=function(){var n=-1;return{p:function(e){for(var t=n,i=0;i<e.length;++i)t=TR[t&255^e[i]]^t>>>8;n=t},d:function(){return~n}}},Yv=function(){var n=1,e=0;return{p:function(t){for(var i=n,r=e,s=t.length,o=0;o!=s;){for(var a=Math.min(o+2655,s);o<a;++o)r+=i+=t[o];i=(i&65535)+15*(i>>16),r=(r&65535)+15*(r>>16)}n=i,e=r},d:function(){return n%=65521,e%=65521,(n&255)<<24|n>>>8<<16|(e&255)<<8|e>>>8}}},Oc=function(n,e,t,i,r){return AR(n,e.level==null?6:e.level,e.mem==null?Math.ceil(Math.max(8,Math.min(13,Math.log(n.length)))*1.5):12+e.mem,t,i,!r)},Q1=function(n,e){var t={};for(var i in n)t[i]=n[i];for(var i in e)t[i]=e[i];return t},ER=function(n,e,t){for(var i=n(),r=n.toString(),s=r.slice(r.indexOf("[")+1,r.lastIndexOf("]")).replace(/ /g,"").split(","),o=0;o<i.length;++o){var a=i[o],l=s[o];if(typeof a=="function"){e+=";"+l+"=";var c=a.toString();if(a.prototype)if(c.indexOf("[native code]")!=-1){var u=c.indexOf(" ",8)+1;e+=c.slice(u,c.indexOf("(",u))}else{e+=c;for(var f in a.prototype)e+=";"+l+".prototype."+f+"="+a.prototype[f].toString()}else e+=c}else t[l]=a}return[e,t]},_9=[],c0e=function(n){var e=[];for(var t in n)(n[t]instanceof Gt||n[t]instanceof xi||n[t]instanceof Bo)&&e.push((n[t]=new n[t].constructor(n[t])).buffer);return e},LR=function(n,e,t,i){var r;if(!_9[t]){for(var s="",o={},a=n.length-1,l=0;l<a;++l)r=ER(n[l],s,o),s=r[0],o=r[1];_9[t]=ER(n[a],s,o)}var c=Q1({},_9[t][1]);return l0e(_9[t][0]+";onmessage=function(e){for(var k in e.data)self[k]=e.data[k];onmessage="+e.toString()+"}",t,c,c0e(c),i)},Wf=function(){return[Gt,xi,Bo,Uf,zf,Y1,Gv,yR,bR,MR,$1,Rs,g9,Fs,v9,q1,Is,j1,qf,Wa,$v]},Xf=function(){return[Gt,xi,Bo,Uf,zf,Y1,m9,Vv,_R,Uo,wR,kf,$1,SR,zo,Rs,U0,Hf,x9,y9,Wv,Gf,Z1,Xv,q1,Is,AR,Oc,J1,Wa]},CR=function(){return[jv,Qv,nn,Vf,TR]},PR=function(){return[Zv,IR]},RR=function(){return[Jv,nn,Yv]},FR=function(){return[DR]},Wa=function(n){return postMessage(n,[n.buffer])},$v=function(n){return n&&n.size&&new Gt(n.size)},Yf=function(n,e,t,i,r,s){var o=LR(t,i,r,function(a,l){o.terminate(),s(a,l)});return o.postMessage([n,e],e.consume?[n.buffer]:[]),function(){o.terminate()}},Ds=function(n){return n.ondata=function(e,t){return postMessage([e,t],[e.buffer])},function(e){return n.push(e.data[0],e.data[1])}},$f=function(n,e,t,i,r){var s,o=LR(n,i,r,function(a,l){a?(o.terminate(),e.ondata.call(e,a)):(l[1]&&o.terminate(),e.ondata.call(e,a,l[0],l[1]))});o.postMessage(t),e.push=function(a,l){if(s)throw"stream finished";if(!e.ondata)throw"no stream handler";o.postMessage([a,s=l],[a.buffer])},e.terminate=function(){o.terminate()}},mr=function(n,e){return n[e]|n[e+1]<<8},ti=function(n,e){return(n[e]|n[e+1]<<8|n[e+2]<<16|n[e+3]<<24)>>>0},qv=function(n,e){return ti(n,e)+ti(n,e+4)*4294967296},nn=function(n,e,t){for(;t;++e)n[e]=t,t>>>=8},jv=function(n,e){var t=e.filename;if(n[0]=31,n[1]=139,n[2]=8,n[8]=e.level<2?4:e.level==9?2:0,n[9]=3,e.mtime!=0&&nn(n,4,Math.floor(new Date(e.mtime||Date.now())/1e3)),t){n[3]=8;for(var i=0;i<=t.length;++i)n[i+10]=t.charCodeAt(i)}},Zv=function(n){if(n[0]!=31||n[1]!=139||n[2]!=8)throw"invalid gzip data";var e=n[3],t=10;e&4&&(t+=n[10]|(n[11]<<8)+2);for(var i=(e>>3&1)+(e>>4&1);i>0;i-=!n[t++]);return t+(e&2)},IR=function(n){var e=n.length;return(n[e-4]|n[e-3]<<8|n[e-2]<<16|n[e-1]<<24)>>>0},Qv=function(n){return 10+(n.filename&&n.filename.length+1||0)},Jv=function(n,e){var t=e.level,i=t==0?0:t<6?1:t==9?3:2;n[0]=120,n[1]=i<<6|(i?32-2*i:1)},DR=function(n){if((n[0]&15)!=8||n[0]>>>4>7||(n[0]<<8|n[1])%31)throw"invalid zlib data";if(n[1]&32)throw"invalid zlib data: preset dictionaries not supported"};function Kv(n,e){return!e&&typeof n=="function"&&(e=n,n={}),this.ondata=e,n}var z0=function(){function n(e,t){!t&&typeof e=="function"&&(t=e,e={}),this.ondata=t,this.o=e||{}}return n.prototype.p=function(e,t){this.ondata(Oc(e,this.o,0,0,!t),t)},n.prototype.push=function(e,t){if(this.d)throw"stream finished";if(!this.ondata)throw"no stream handler";this.d=t,this.p(e,t||!1)},n}(),NR=function(){function n(e,t){$f([Xf,function(){return[Ds,z0]}],this,Kv.call(this,e,t),function(i){var r=new z0(i.data);onmessage=Ds(r)},6)}return n}();function OR(n,e,t){if(t||(t=e,e={}),typeof t!="function")throw"no callback";return Yf(n,e,[Xf],function(i){return Wa(J1(i.data[0],i.data[1]))},0,t)}function J1(n,e){return Oc(n,e||{},0,0)}var Ur=function(){function n(e){this.s={},this.p=new Gt(0),this.ondata=e}return n.prototype.e=function(e){if(this.d)throw"stream finished";if(!this.ondata)throw"no stream handler";var t=this.p.length,i=new Gt(t+e.length);i.set(this.p),i.set(e,t),this.p=i},n.prototype.c=function(e){this.d=this.s.i=e||!1;var t=this.s.b,i=j1(this.p,this.o,this.s);this.ondata(Is(i,t,this.s.b),this.d),this.o=Is(i,this.s.b-32768),this.s.b=this.o.length,this.p=Is(this.p,this.s.p/8|0),this.s.p&=7},n.prototype.push=function(e,t){this.e(e),this.c(t)},n}(),ex=function(){function n(e){this.ondata=e,$f([Wf,function(){return[Ds,Ur]}],this,0,function(){var t=new Ur;onmessage=Ds(t)},7)}return n}();function tx(n,e,t){if(t||(t=e,e={}),typeof t!="function")throw"no callback";return Yf(n,e,[Wf],function(i){return Wa(qf(i.data[0],$v(i.data[1])))},1,t)}function qf(n,e){return j1(n,e)}var b9=function(){function n(e,t){this.c=Vf(),this.l=0,this.v=1,z0.call(this,e,t)}return n.prototype.push=function(e,t){z0.prototype.push.call(this,e,t)},n.prototype.p=function(e,t){this.c.p(e),this.l+=e.length;var i=Oc(e,this.o,this.v&&Qv(this.o),t&&8,!t);this.v&&(jv(i,this.o),this.v=0),t&&(nn(i,i.length-8,this.c.d()),nn(i,i.length-4,this.l)),this.ondata(i,t)},n}(),BR=function(){function n(e,t){$f([Xf,CR,function(){return[Ds,z0,b9]}],this,Kv.call(this,e,t),function(i){var r=new b9(i.data);onmessage=Ds(r)},8)}return n}();function UR(n,e,t){if(t||(t=e,e={}),typeof t!="function")throw"no callback";return Yf(n,e,[Xf,CR,function(){return[w9]}],function(i){return Wa(w9(i.data[0],i.data[1]))},2,t)}function w9(n,e){e||(e={});var t=Vf(),i=n.length;t.p(n);var r=Oc(n,e,Qv(e),8),s=r.length;return jv(r,e),nn(r,s-8,t.d()),nn(r,s-4,i),r}var M9=function(){function n(e){this.v=1,Ur.call(this,e)}return n.prototype.push=function(e,t){if(Ur.prototype.e.call(this,e),this.v){var i=this.p.length>3?Zv(this.p):4;if(i>=this.p.length&&!t)return;this.p=this.p.subarray(i),this.v=0}if(t){if(this.p.length<8)throw"invalid gzip stream";this.p=this.p.subarray(0,-8)}Ur.prototype.c.call(this,t)},n}(),zR=function(){function n(e){this.ondata=e,$f([Wf,PR,function(){return[Ds,Ur,M9]}],this,0,function(){var t=new M9;onmessage=Ds(t)},9)}return n}();function kR(n,e,t){if(t||(t=e,e={}),typeof t!="function")throw"no callback";return Yf(n,e,[Wf,PR,function(){return[S9]}],function(i){return Wa(S9(i.data[0]))},3,t)}function S9(n,e){return j1(n.subarray(Zv(n),-8),e||new Gt(IR(n)))}var nx=function(){function n(e,t){this.c=Yv(),this.v=1,z0.call(this,e,t)}return n.prototype.push=function(e,t){z0.prototype.push.call(this,e,t)},n.prototype.p=function(e,t){this.c.p(e);var i=Oc(e,this.o,this.v&&2,t&&4,!t);this.v&&(Jv(i,this.o),this.v=0),t&&nn(i,i.length-4,this.c.d()),this.ondata(i,t)},n}(),u0e=function(){function n(e,t){$f([Xf,RR,function(){return[Ds,z0,nx]}],this,Kv.call(this,e,t),function(i){var r=new nx(i.data);onmessage=Ds(r)},10)}return n}();function f0e(n,e,t){if(t||(t=e,e={}),typeof t!="function")throw"no callback";return Yf(n,e,[Xf,RR,function(){return[ix]}],function(i){return Wa(ix(i.data[0],i.data[1]))},4,t)}function ix(n,e){e||(e={});var t=Yv();t.p(n);var i=Oc(n,e,2,4);return Jv(i,e),nn(i,i.length-4,t.d()),i}var A9=function(){function n(e){this.v=1,Ur.call(this,e)}return n.prototype.push=function(e,t){if(Ur.prototype.e.call(this,e),this.v){if(this.p.length<2&&!t)return;this.p=this.p.subarray(2),this.v=0}if(t){if(this.p.length<4)throw"invalid zlib stream";this.p=this.p.subarray(0,-4)}Ur.prototype.c.call(this,t)},n}(),HR=function(){function n(e){this.ondata=e,$f([Wf,FR,function(){return[Ds,Ur,A9]}],this,0,function(){var t=new A9;onmessage=Ds(t)},11)}return n}();function GR(n,e,t){if(t||(t=e,e={}),typeof t!="function")throw"no callback";return Yf(n,e,[Wf,FR,function(){return[K1]}],function(i){return Wa(K1(i.data[0],$v(i.data[1])))},5,t)}function K1(n,e){return j1((DR(n),n.subarray(2,-4)),e)}var VR=function(){function n(e){this.G=M9,this.I=Ur,this.Z=A9,this.ondata=e}return n.prototype.push=function(e,t){if(!this.ondata)throw"no stream handler";if(this.s)this.s.push(e,t);else{if(this.p&&this.p.length){var i=new Gt(this.p.length+e.length);i.set(this.p),i.set(e,this.p.length)}else this.p=e;if(this.p.length>2){var r=this,s=function(){r.ondata.apply(r,arguments)};this.s=this.p[0]==31&&this.p[1]==139&&this.p[2]==8?new this.G(s):(this.p[0]&15)!=8||this.p[0]>>4>7||(this.p[0]<<8|this.p[1])%31?new this.I(s):new this.Z(s),this.s.push(this.p,t),this.p=null}}},n}(),h0e=function(){function n(e){this.G=zR,this.I=ex,this.Z=HR,this.ondata=e}return n.prototype.push=function(e,t){VR.prototype.push.call(this,e,t)},n}();function d0e(n,e,t){if(t||(t=e,e={}),typeof t!="function")throw"no callback";return n[0]==31&&n[1]==139&&n[2]==8?kR(n,e,t):(n[0]&15)!=8||n[0]>>4>7||(n[0]<<8|n[1])%31?tx(n,e,t):GR(n,e,t)}function p0e(n,e){return n[0]==31&&n[1]==139&&n[2]==8?S9(n,e):(n[0]&15)!=8||n[0]>>4>7||(n[0]<<8|n[1])%31?qf(n,e):K1(n,e)}var rx=function(n,e,t,i){for(var r in n){var s=n[r],o=e+r;s instanceof Gt?t[o]=[s,i]:Array.isArray(s)?t[o]=[s[0],Q1(i,s[1])]:rx(s,o+"/",t,i)}},WR=typeof TextEncoder!="undefined"&&new TextEncoder,sx=typeof TextDecoder!="undefined"&&new TextDecoder,XR=0;try{sx.decode(zo,{stream:!0}),XR=1}catch{}var YR=function(n){for(var e="",t=0;;){var i=n[t++],r=(i>127)+(i>223)+(i>239);if(t+r>n.length)return[e,Is(n,t-1)];r?r==3?(i=((i&15)<<18|(n[t++]&63)<<12|(n[t++]&63)<<6|n[t++]&63)-65536,e+=String.fromCharCode(55296|i>>10,56320|i&1023)):r&1?e+=String.fromCharCode((i&31)<<6|n[t++]&63):e+=String.fromCharCode((i&15)<<12|(n[t++]&63)<<6|n[t++]&63):e+=String.fromCharCode(i)}},m0e=function(){function n(e){this.ondata=e,XR?this.t=new TextDecoder:this.p=zo}return n.prototype.push=function(e,t){if(!this.ondata)throw"no callback";if(t=!!t,this.t){if(this.ondata(this.t.decode(e,{stream:!0}),t),t){if(this.t.decode().length)throw"invalid utf-8 data";this.t=null}return}if(!this.p)throw"stream finished";var i=new Gt(this.p.length+e.length);i.set(this.p),i.set(e,this.p.length);var r=YR(i),s=r[0],o=r[1];if(t){if(o.length)throw"invalid utf-8 data";this.p=null}else this.p=o;this.ondata(s,t)},n}(),g0e=function(){function n(e){this.ondata=e}return n.prototype.push=function(e,t){if(!this.ondata)throw"no callback";if(this.d)throw"stream finished";this.ondata(Xa(e),this.d=t||!1)},n}();function Xa(n,e){if(e){for(var t=new Gt(n.length),i=0;i<n.length;++i)t[i]=n.charCodeAt(i);return t}if(WR)return WR.encode(n);for(var r=n.length,s=new Gt(n.length+(n.length>>1)),o=0,a=function(u){s[o++]=u},i=0;i<r;++i){if(o+5>s.length){var l=new Gt(o+8+(r-i<<1));l.set(s),s=l}var c=n.charCodeAt(i);c<128||e?a(c):c<2048?(a(192|c>>6),a(128|c&63)):c>55295&&c<57344?(c=65536+(c&1023<<10)|n.charCodeAt(++i)&1023,a(240|c>>18),a(128|c>>12&63),a(128|c>>6&63),a(128|c&63)):(a(224|c>>12),a(128|c>>6&63),a(128|c&63))}return Is(s,0,o)}function ox(n,e){if(e){for(var t="",i=0;i<n.length;i+=16384)t+=String.fromCharCode.apply(null,n.subarray(i,i+16384));return t}else{if(sx)return sx.decode(n);var r=YR(n),s=r[0],o=r[1];if(o.length)throw"invalid utf-8 data";return s}}var $R=function(n){return n==1?3:n<6?2:n==9?1:0},qR=function(n,e){return e+30+mr(n,e+26)+mr(n,e+28)},jR=function(n,e,t){var i=mr(n,e+28),r=ox(n.subarray(e+46,e+46+i),!(mr(n,e+8)&2048)),s=e+46+i,o=ti(n,e+20),a=t&&o==4294967295?ZR(n,s):[o,ti(n,e+24),ti(n,e+42)],l=a[0],c=a[1],u=a[2];return[mr(n,e+10),l,c,r,s+mr(n,e+30)+mr(n,e+32),u]},ZR=function(n,e){for(;mr(n,e)!=1;e+=4+mr(n,e+2));return[qv(n,e+12),qv(n,e+4),qv(n,e+20)]},Ya=function(n){var e=0;if(n)for(var t in n){var i=n[t].length;if(i>65535)throw"extra field too long";e+=i+4}return e},jf=function(n,e,t,i,r,s,o,a){var l=i.length,c=t.extra,u=a&&a.length,f=Ya(c);nn(n,e,o!=null?33639248:67324752),e+=4,o!=null&&(n[e++]=20,n[e++]=t.os),n[e]=20,e+=2,n[e++]=t.flag<<1|(s==null&&8),n[e++]=r&&8,n[e++]=t.compression&255,n[e++]=t.compression>>8;var h=new Date(t.mtime==null?Date.now():t.mtime),d=h.getFullYear()-1980;if(d<0||d>119)throw"date not in range 1980-2099";if(nn(n,e,d<<25|h.getMonth()+1<<21|h.getDate()<<16|h.getHours()<<11|h.getMinutes()<<5|h.getSeconds()>>>1),e+=4,s!=null&&(nn(n,e,t.crc),nn(n,e+4,s),nn(n,e+8,t.size)),nn(n,e+12,l),nn(n,e+14,f),e+=16,o!=null&&(nn(n,e,u),nn(n,e+6,t.attrs),nn(n,e+10,o),e+=14),n.set(i,e),e+=l,f)for(var m in c){var v=c[m],_=v.length;nn(n,e,+m),nn(n,e+2,_),n.set(v,e+4),e+=4+_}return u&&(n.set(a,e),e+=u),e},ax=function(n,e,t,i,r){nn(n,e,101010256),nn(n,e+8,t),nn(n,e+10,t),nn(n,e+12,i),nn(n,e+16,r)},ep=function(){function n(e){this.filename=e,this.c=Vf(),this.size=0,this.compression=0}return n.prototype.process=function(e,t){this.ondata(null,e,t)},n.prototype.push=function(e,t){if(!this.ondata)throw"no callback - add to ZIP archive before pushing";this.c.p(e),this.size+=e.length,t&&(this.crc=this.c.d()),this.process(e,t||!1)},n}(),v0e=function(){function n(e,t){var i=this;t||(t={}),ep.call(this,e),this.d=new z0(t,function(r,s){i.ondata(null,r,s)}),this.compression=8,this.flag=$R(t.level)}return n.prototype.process=function(e,t){try{this.d.push(e,t)}catch(i){this.ondata(i,null,t)}},n.prototype.push=function(e,t){ep.prototype.push.call(this,e,t)},n}(),x0e=function(){function n(e,t){var i=this;t||(t={}),ep.call(this,e),this.d=new NR(t,function(r,s,o){i.ondata(r,s,o)}),this.compression=8,this.flag=$R(t.level),this.terminate=this.d.terminate}return n.prototype.process=function(e,t){this.d.push(e,t)},n.prototype.push=function(e,t){ep.prototype.push.call(this,e,t)},n}(),y0e=function(){function n(e){this.ondata=e,this.u=[],this.d=1}return n.prototype.add=function(e){var t=this;if(this.d&2)throw"stream finished";var i=Xa(e.filename),r=i.length,s=e.comment,o=s&&Xa(s),a=r!=e.filename.length||o&&s.length!=o.length,l=r+Ya(e.extra)+30;if(r>65535)throw"filename too long";var c=new Gt(l);jf(c,0,e,i,a);var u=[c],f=function(){for(var _=0,g=u;_<g.length;_++){var x=g[_];t.ondata(null,x,!1)}u=[]},h=this.d;this.d=0;var d=this.u.length,m=Q1(e,{f:i,u:a,o,t:function(){e.terminate&&e.terminate()},r:function(){if(f(),h){var _=t.u[d+1];_?_.r():t.d=1}h=1}}),v=0;e.ondata=function(_,g,x){if(_)t.ondata(_,g,x),t.terminate();else if(v+=g.length,u.push(g),x){var b=new Gt(16);nn(b,0,134695760),nn(b,4,e.crc),nn(b,8,v),nn(b,12,e.size),u.push(b),m.c=v,m.b=l+v+16,m.crc=e.crc,m.size=e.size,h&&m.r(),h=1}else h&&f()},this.u.push(m)},n.prototype.end=function(){var e=this;if(this.d&2)throw this.d&1?"stream finishing":"stream finished";this.d?this.e():this.u.push({r:function(){!(e.d&1)||(e.u.splice(-1,1),e.e())},t:function(){}}),this.d=3},n.prototype.e=function(){for(var e=0,t=0,i=0,r=0,s=this.u;r<s.length;r++){var o=s[r];i+=46+o.f.length+Ya(o.extra)+(o.o?o.o.length:0)}for(var a=new Gt(i+22),l=0,c=this.u;l<c.length;l++){var o=c[l];jf(a,e,o,o.f,o.u,o.c,t,o.o),e+=46+o.f.length+Ya(o.extra)+(o.o?o.o.length:0),t+=o.b}ax(a,e,this.u.length,i,t),this.ondata(null,a,!0),this.d=2},n.prototype.terminate=function(){for(var e=0,t=this.u;e<t.length;e++){var i=t[e];i.t()}this.d=2},n}();function _0e(n,e,t){if(t||(t=e,e={}),typeof t!="function")throw"no callback";var i={};rx(n,"",i,e);var r=Object.keys(i),s=r.length,o=0,a=0,l=s,c=new Array(s),u=[],f=function(){for(var v=0;v<u.length;++v)u[v]()},h=function(){var v=new Gt(a+22),_=o,g=a-o;a=0;for(var x=0;x<l;++x){var b=c[x];try{var w=b.c.length;jf(v,a,b,b.f,b.u,w);var S=30+b.f.length+Ya(b.extra),A=a+S;v.set(b.c,A),jf(v,o,b,b.f,b.u,w,a,b.m),o+=16+S+(b.m?b.m.length:0),a=A+w}catch(T){return t(T,null)}}ax(v,o,c.length,g,_),t(null,v)};s||h();for(var d=function(v){var _=r[v],g=i[_],x=g[0],b=g[1],w=Vf(),S=x.length;w.p(x);var A=Xa(_),T=A.length,F=b.comment,U=F&&Xa(F),N=U&&U.length,O=Ya(b.extra),G=b.level==0?0:8,D=function(P,I){if(P)f(),t(P,null);else{var C=I.length;c[v]=Q1(b,{size:S,crc:w.d(),c:I,f:A,m:U,u:T!=_.length||U&&F.length!=N,compression:G}),o+=30+T+O+C,a+=76+2*(T+O)+(N||0)+C,--s||h()}};if(T>65535&&D("filename too long",null),!G)D(null,x);else if(S<16e4)try{D(null,J1(x,b))}catch(P){D(P,null)}else u.push(OR(x,b,D))},m=0;m<l;++m)d(m);return f}function b0e(n,e){e||(e={});var t={},i=[];rx(n,"",t,e);var r=0,s=0;for(var o in t){var a=t[o],l=a[0],c=a[1],u=c.level==0?0:8,f=Xa(o),h=f.length,d=c.comment,m=d&&Xa(d),v=m&&m.length,_=Ya(c.extra);if(h>65535)throw"filename too long";var g=u?J1(l,c):l,x=g.length,b=Vf();b.p(l),i.push(Q1(c,{size:l.length,crc:b.d(),c:g,f,m,u:h!=o.length||m&&d.length!=v,o:r,compression:u})),r+=30+h+_+x,s+=76+2*(h+_)+(v||0)+x}for(var w=new Gt(s+22),S=r,A=s-r,T=0;T<i.length;++T){var f=i[T];jf(w,f.o,f,f.f,f.u,f.c.length);var F=30+f.f.length+Ya(f.extra);w.set(f.c,f.o+F),jf(w,r,f,f.f,f.u,f.c.length,f.o,f.m),r+=16+F+(f.m?f.m.length:0)}return ax(w,r,i.length,A,S),w}var QR=function(){function n(){}return n.prototype.push=function(e,t){this.ondata(null,e,t)},n.compression=0,n}(),w0e=function(){function n(){var e=this;this.i=new Ur(function(t,i){e.ondata(null,t,i)})}return n.prototype.push=function(e,t){try{this.i.push(e,t)}catch(i){this.ondata(i,e,t)}},n.compression=8,n}(),M0e=function(){function n(e,t){var i=this;t<32e4?this.i=new Ur(function(r,s){i.ondata(null,r,s)}):(this.i=new ex(function(r,s,o){i.ondata(r,s,o)}),this.terminate=this.i.terminate)}return n.prototype.push=function(e,t){this.i.terminate&&(e=Is(e,0)),this.i.push(e,t)},n.compression=8,n}(),S0e=function(){function n(e){this.onfile=e,this.k=[],this.o={0:QR},this.p=zo}return n.prototype.push=function(e,t){var i=this;if(!this.onfile)throw"no callback";if(!this.p)throw"stream finished";if(this.c>0){var r=Math.min(this.c,e.length),s=e.subarray(0,r);if(this.c-=r,this.d?this.d.push(s,!this.c):this.k[0].push(s),e=e.subarray(r),e.length)return this.push(e,t)}else{var o=0,a=0,l=void 0,c=void 0;this.p.length?e.length?(c=new Gt(this.p.length+e.length),c.set(this.p),c.set(e,this.p.length)):c=this.p:c=e;for(var u=c.length,f=this.c,h=f&&this.d,d=function(){var g,x=ti(c,a);if(x==67324752){o=1,l=a,m.d=null,m.c=0;var b=mr(c,a+6),w=mr(c,a+8),S=b&2048,A=b&8,T=mr(c,a+26),F=mr(c,a+28);if(u>a+30+T+F){var U=[];m.k.unshift(U),o=2;var N=ti(c,a+18),O=ti(c,a+22),G=ox(c.subarray(a+30,a+=30+T),!S);N==4294967295?(g=A?[-2]:ZR(c,a),N=g[0],O=g[1]):A&&(N=-1),a+=F,m.c=N;var D,P={name:G,compression:w,start:function(){if(!P.ondata)throw"no callback";if(!N)P.ondata(null,zo,!0);else{var I=i.o[w];if(!I)throw"unknown compression type "+w;D=N<0?new I(G):new I(G,N,O),D.ondata=function(j,re,ie){P.ondata(j,re,ie)};for(var C=0,B=U;C<B.length;C++){var Y=B[C];D.push(Y,!1)}i.k[0]==U&&i.c?i.d=D:D.push(zo,!0)}},terminate:function(){D&&D.terminate&&D.terminate()}};N>=0&&(P.size=N,P.originalSize=O),m.onfile(P)}return"break"}else if(f){if(x==134695760)return l=a+=12+(f==-2&&8),o=3,m.c=0,"break";if(x==33639248)return l=a-=4,o=3,m.c=0,"break"}},m=this;a<u-4;++a){var v=d();if(v==="break")break}if(this.p=zo,f<0){var _=o?c.subarray(0,l-12-(f==-2&&8)-(ti(c,l-16)==134695760&&4)):c.subarray(0,a);h?h.push(_,!!o):this.k[+(o==2)].push(_)}if(o&2)return this.push(c.subarray(a),t);this.p=c.subarray(a)}if(t){if(this.c)throw"invalid zip file";this.p=null}},n.prototype.register=function(e){this.o[e.compression]=e},n}();function A0e(n,e){if(typeof e!="function")throw"no callback";for(var t=[],i=function(){for(var h=0;h<t.length;++h)t[h]()},r={},s=n.length-22;ti(n,s)!=101010256;--s)if(!s||n.length-s>65558){e("invalid zip file",null);return}var o=mr(n,s+8);o||e(null,{});var a=o,l=ti(n,s+16),c=l==4294967295;if(c){if(s=ti(n,s-12),ti(n,s)!=101075792){e("invalid zip file",null);return}a=o=ti(n,s+32),l=ti(n,s+48)}for(var u=function(h){var d=jR(n,l,c),m=d[0],v=d[1],_=d[2],g=d[3],x=d[4],b=d[5],w=qR(n,b);l=x;var S=function(T,F){T?(i(),e(T,null)):(r[g]=F,--o||e(null,r))};if(!m)S(null,Is(n,w,w+v));else if(m==8){var A=n.subarray(w,w+v);if(v<32e4)try{S(null,qf(A,new Gt(_)))}catch(T){S(T,null)}else t.push(tx(A,{size:_},S))}else S("unknown compression type "+m,null)},f=0;f<a;++f)u();return i}function T0e(n){for(var e={},t=n.length-22;ti(n,t)!=101010256;--t)if(!t||n.length-t>65558)throw"invalid zip file";var i=mr(n,t+8);if(!i)return{};var r=ti(n,t+16),s=r==4294967295;if(s){if(t=ti(n,t-12),ti(n,t)!=101075792)throw"invalid zip file";i=ti(n,t+32),r=ti(n,t+48)}for(var o=0;o<i;++o){var a=jR(n,r,s),l=a[0],c=a[1],u=a[2],f=a[3],h=a[4],d=a[5],m=qR(n,d);if(r=h,!l)e[f]=Is(n,m,m+c);else if(l==8)e[f]=qf(n.subarray(m,m+c),new Gt(u));else throw"unknown compression type "+l}return e}var E0e=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",Deflate:z0,AsyncDeflate:NR,deflate:OR,deflateSync:J1,Inflate:Ur,AsyncInflate:ex,inflate:tx,inflateSync:qf,Gzip:b9,AsyncGzip:BR,gzip:UR,gzipSync:w9,Gunzip:M9,AsyncGunzip:zR,gunzip:kR,gunzipSync:S9,Zlib:nx,AsyncZlib:u0e,zlib:f0e,zlibSync:ix,Unzlib:A9,AsyncUnzlib:HR,unzlib:GR,unzlibSync:K1,compress:UR,AsyncCompress:BR,compressSync:w9,Compress:b9,Decompress:VR,AsyncDecompress:h0e,decompress:d0e,decompressSync:p0e,DecodeUTF8:m0e,EncodeUTF8:g0e,strToU8:Xa,strFromU8:ox,ZipPassThrough:ep,ZipDeflate:v0e,AsyncZipDeflate:x0e,Zip:y0e,zip:_0e,zipSync:b0e,UnzipPassThrough:QR,UnzipInflate:w0e,AsyncUnzipInflate:M0e,Unzip:S0e,unzip:A0e,unzipSync:T0e});function JR(n,e,t){const i=t.length-n-1;if(e>=t[i])return i-1;if(e<=t[n])return n;let r=n,s=i,o=Math.floor((r+s)/2);for(;e<t[o]||e>=t[o+1];)e<t[o]?s=o:r=o,o=Math.floor((r+s)/2);return o}function L0e(n,e,t,i){const r=[],s=[],o=[];r[0]=1;for(let a=1;a<=t;++a){s[a]=e-i[n+1-a],o[a]=i[n+a]-e;let l=0;for(let c=0;c<a;++c){const u=o[c+1],f=s[a-c],h=r[c]/(u+f);r[c]=l+u*h,l=f*h}r[a]=l}return r}function C0e(n,e,t,i){const r=JR(n,i,e),s=L0e(r,i,n,e),o=new $t(0,0,0,0);for(let a=0;a<=n;++a){const l=t[r-n+a],c=s[a],u=l.w*c;o.x+=l.x*u,o.y+=l.y*u,o.z+=l.z*u,o.w+=l.w*c}return o}function P0e(n,e,t,i,r){const s=[];for(let f=0;f<=t;++f)s[f]=0;const o=[];for(let f=0;f<=i;++f)o[f]=s.slice(0);const a=[];for(let f=0;f<=t;++f)a[f]=s.slice(0);a[0][0]=1;const l=s.slice(0),c=s.slice(0);for(let f=1;f<=t;++f){l[f]=e-r[n+1-f],c[f]=r[n+f]-e;let h=0;for(let d=0;d<f;++d){const m=c[d+1],v=l[f-d];a[f][d]=m+v;const _=a[d][f-1]/a[f][d];a[d][f]=h+m*_,h=v*_}a[f][f]=h}for(let f=0;f<=t;++f)o[0][f]=a[f][t];for(let f=0;f<=t;++f){let h=0,d=1;const m=[];for(let v=0;v<=t;++v)m[v]=s.slice(0);m[0][0]=1;for(let v=1;v<=i;++v){let _=0;const g=f-v,x=t-v;f>=v&&(m[d][0]=m[h][0]/a[x+1][g],_=m[d][0]*a[g][x]);const b=g>=-1?1:-g,w=f-1<=x?v-1:t-f;for(let A=b;A<=w;++A)m[d][A]=(m[h][A]-m[h][A-1])/a[x+1][g+A],_+=m[d][A]*a[g+A][x];f<=x&&(m[d][v]=-m[h][v-1]/a[x+1][f],_+=m[d][v]*a[f][x]),o[v][f]=_;const S=h;h=d,d=S}}let u=t;for(let f=1;f<=i;++f){for(let h=0;h<=t;++h)o[f][h]*=u;u*=t-f}return o}function R0e(n,e,t,i,r){const s=r<n?r:n,o=[],a=JR(n,i,e),l=P0e(a,i,n,s,e),c=[];for(let u=0;u<t.length;++u){const f=t[u].clone(),h=f.w;f.x*=h,f.y*=h,f.z*=h,c[u]=f}for(let u=0;u<=s;++u){const f=c[a-n].clone().multiplyScalar(l[u][0]);for(let h=1;h<=n;++h)f.add(c[a-n+h].clone().multiplyScalar(l[u][h]));o[u]=f}for(let u=s+1;u<=r+1;++u)o[u]=new $t(0,0,0);return o}function F0e(n,e){let t=1;for(let r=2;r<=n;++r)t*=r;let i=1;for(let r=2;r<=e;++r)i*=r;for(let r=2;r<=n-e;++r)i*=r;return t/i}function I0e(n){const e=n.length,t=[],i=[];for(let s=0;s<e;++s){const o=n[s];t[s]=new Z(o.x,o.y,o.z),i[s]=o.w}const r=[];for(let s=0;s<e;++s){const o=t[s].clone();for(let a=1;a<=s;++a)o.sub(r[s-a].clone().multiplyScalar(F0e(s,a)*i[a]));r[s]=o.divideScalar(i[0])}return r}function D0e(n,e,t,i,r){const s=R0e(n,e,t,i,r);return I0e(s)}class KR extends pr{constructor(e,t,i,r,s){super();this.degree=e,this.knots=t,this.controlPoints=[],this.startKnot=r||0,this.endKnot=s||this.knots.length-1;for(let o=0;o<i.length;++o){const a=i[o];this.controlPoints[o]=new $t(a.x,a.y,a.z,a.w)}}getPoint(e,t=new Z){const i=t,r=this.knots[this.startKnot]+e*(this.knots[this.endKnot]-this.knots[this.startKnot]),s=C0e(this.degree,this.knots,this.controlPoints,r);return s.w!==1&&s.divideScalar(s.w),i.set(s.x,s.y,s.z)}getTangent(e,t=new Z){const i=t,r=this.knots[0]+e*(this.knots[this.knots.length-1]-this.knots[0]),s=D0e(this.degree,this.knots,this.controlPoints,r,1);return i.copy(s[1]).normalize(),i}}let zt,ni,zr;class N0e extends vi{constructor(e){super(e)}load(e,t,i,r){const s=this,o=s.path===""?Ps.extractUrlBase(e):s.path,a=new Br(this.manager);a.setPath(s.path),a.setResponseType("arraybuffer"),a.setRequestHeader(s.requestHeader),a.setWithCredentials(s.withCredentials),a.load(e,function(l){try{t(s.parse(l,o))}catch(c){r?r(c):console.error(c),s.manager.itemError(e)}},i,r)}parse(e,t){if(H0e(e))zt=new k0e().parse(e);else{const r=sF(e);if(!G0e(r))throw new Error("THREE.FBXLoader: Unknown format.");if(nF(r)<7e3)throw new Error("THREE.FBXLoader: FBX version not supported, FileVersion: "+nF(r));zt=new z0e().parse(r)}const i=new Ba(this.manager).setPath(this.resourcePath||t).setCrossOrigin(this.crossOrigin);return new O0e(i,this.manager).parse(zt)}}class O0e{constructor(e,t){this.textureLoader=e,this.manager=t}parse(){ni=this.parseConnections();const e=this.parseImages(),t=this.parseTextures(e),i=this.parseMaterials(t),r=this.parseDeformers(),s=new B0e().parse(r);return this.parseScene(r,s,i),zr}parseConnections(){const e=new Map;return"Connections"in zt&&zt.Connections.connections.forEach(function(i){const r=i[0],s=i[1],o=i[2];e.has(r)||e.set(r,{parents:[],children:[]});const a={ID:s,relationship:o};e.get(r).parents.push(a),e.has(s)||e.set(s,{parents:[],children:[]});const l={ID:r,relationship:o};e.get(s).children.push(l)}),e}parseImages(){const e={},t={};if("Video"in zt.Objects){const i=zt.Objects.Video;for(const r in i){const s=i[r],o=parseInt(r);if(e[o]=s.RelativeFilename||s.Filename,"Content"in s){const a=s.Content instanceof ArrayBuffer&&s.Content.byteLength>0,l=typeof s.Content=="string"&&s.Content!=="";if(a||l){const c=this.parseImage(i[r]);t[s.RelativeFilename||s.Filename]=c}}}}for(const i in e){const r=e[i];t[r]!==void 0?e[i]=t[r]:e[i]=e[i].split("\\").pop()}return e}parseImage(e){const t=e.Content,i=e.RelativeFilename||e.Filename,r=i.slice(i.lastIndexOf(".")+1).toLowerCase();let s;switch(r){case"bmp":s="image/bmp";break;case"jpg":case"jpeg":s="image/jpeg";break;case"png":s="image/png";break;case"tif":s="image/tiff";break;case"tga":this.manager.getHandler(".tga")===null&&console.warn("FBXLoader: TGA loader not found, skipping ",i),s="image/tga";break;default:console.warn('FBXLoader: Image type "'+r+'" is not supported.');return}if(typeof t=="string")return"data:"+s+";base64,"+t;{const o=new Uint8Array(t);return window.URL.createObjectURL(new Blob([o],{type:s}))}}parseTextures(e){const t=new Map;if("Texture"in zt.Objects){const i=zt.Objects.Texture;for(const r in i){const s=this.parseTexture(i[r],e);t.set(parseInt(r),s)}}return t}parseTexture(e,t){const i=this.loadTexture(e,t);i.ID=e.id,i.name=e.attrName;const r=e.WrapModeU,s=e.WrapModeV,o=r!==void 0?r.value:0,a=s!==void 0?s.value:0;if(i.wrapS=o===0?bs:ln,i.wrapT=a===0?bs:ln,"Scaling"in e){const l=e.Scaling.value;i.repeat.x=l[0],i.repeat.y=l[1]}return i}loadTexture(e,t){let i;const r=this.textureLoader.path,s=ni.get(e.id).children;s!==void 0&&s.length>0&&t[s[0].ID]!==void 0&&(i=t[s[0].ID],(i.indexOf("blob:")===0||i.indexOf("data:")===0)&&this.textureLoader.setPath(void 0));let o;const a=e.FileName.slice(-3).toLowerCase();if(a==="tga"){const l=this.manager.getHandler(".tga");l===null?(console.warn("FBXLoader: TGA loader not found, creating placeholder texture for",e.RelativeFilename),o=new Tn):(l.setPath(this.textureLoader.path),o=l.load(i))}else a==="psd"?(console.warn("FBXLoader: PSD textures are not supported, creating placeholder texture for",e.RelativeFilename),o=new Tn):o=this.textureLoader.load(i);return this.textureLoader.setPath(r),o}parseMaterials(e){const t=new Map;if("Material"in zt.Objects){const i=zt.Objects.Material;for(const r in i){const s=this.parseMaterial(i[r],e);s!==null&&t.set(parseInt(r),s)}}return t}parseMaterial(e,t){const i=e.id,r=e.attrName;let s=e.ShadingModel;if(typeof s=="object"&&(s=s.value),!ni.has(i))return null;const o=this.parseParameters(e,t,i);let a;switch(s.toLowerCase()){case"phong":a=new wc;break;case"lambert":a=new O1;break;default:console.warn('THREE.FBXLoader: unknown material type "%s". Defaulting to MeshPhongMaterial.',s),a=new wc;break}return a.setValues(o),a.name=r,a}parseParameters(e,t,i){const r={};e.BumpFactor&&(r.bumpScale=e.BumpFactor.value),e.Diffuse?r.color=new We().fromArray(e.Diffuse.value):e.DiffuseColor&&(e.DiffuseColor.type==="Color"||e.DiffuseColor.type==="ColorRGB")&&(r.color=new We().fromArray(e.DiffuseColor.value)),e.DisplacementFactor&&(r.displacementScale=e.DisplacementFactor.value),e.Emissive?r.emissive=new We().fromArray(e.Emissive.value):e.EmissiveColor&&(e.EmissiveColor.type==="Color"||e.EmissiveColor.type==="ColorRGB")&&(r.emissive=new We().fromArray(e.EmissiveColor.value)),e.EmissiveFactor&&(r.emissiveIntensity=parseFloat(e.EmissiveFactor.value)),e.Opacity&&(r.opacity=parseFloat(e.Opacity.value)),r.opacity<1&&(r.transparent=!0),e.ReflectionFactor&&(r.reflectivity=e.ReflectionFactor.value),e.Shininess&&(r.shininess=e.Shininess.value),e.Specular?r.specular=new We().fromArray(e.Specular.value):e.SpecularColor&&e.SpecularColor.type==="Color"&&(r.specular=new We().fromArray(e.SpecularColor.value));const s=this;return ni.get(i).children.forEach(function(o){const a=o.relationship;switch(a){case"Bump":r.bumpMap=s.getTexture(t,o.ID);break;case"Maya|TEX_ao_map":r.aoMap=s.getTexture(t,o.ID);break;case"DiffuseColor":case"Maya|TEX_color_map":r.map=s.getTexture(t,o.ID),r.map!==void 0&&(r.map.encoding=Ms);break;case"DisplacementColor":r.displacementMap=s.getTexture(t,o.ID);break;case"EmissiveColor":r.emissiveMap=s.getTexture(t,o.ID),r.emissiveMap!==void 0&&(r.emissiveMap.encoding=Ms);break;case"NormalMap":case"Maya|TEX_normal_map":r.normalMap=s.getTexture(t,o.ID);break;case"ReflectionColor":r.envMap=s.getTexture(t,o.ID),r.envMap!==void 0&&(r.envMap.mapping=Qu,r.envMap.encoding=Ms);break;case"SpecularColor":r.specularMap=s.getTexture(t,o.ID),r.specularMap!==void 0&&(r.specularMap.encoding=Ms);break;case"TransparentColor":case"TransparencyFactor":r.alphaMap=s.getTexture(t,o.ID),r.transparent=!0;break;case"AmbientColor":case"ShininessExponent":case"SpecularFactor":case"VectorDisplacementColor":default:console.warn("THREE.FBXLoader: %s map is not supported in three.js, skipping texture.",a);break}}),r}getTexture(e,t){return"LayeredTexture"in zt.Objects&&t in zt.Objects.LayeredTexture&&(console.warn("THREE.FBXLoader: layered textures are not supported in three.js. Discarding all but first layer."),t=ni.get(t).children[0].ID),e.get(t)}parseDeformers(){const e={},t={};if("Deformer"in zt.Objects){const i=zt.Objects.Deformer;for(const r in i){const s=i[r],o=ni.get(parseInt(r));if(s.attrType==="Skin"){const a=this.parseSkeleton(o,i);a.ID=r,o.parents.length>1&&console.warn("THREE.FBXLoader: skeleton attached to more than one geometry is not supported."),a.geometryID=o.parents[0].ID,e[r]=a}else if(s.attrType==="BlendShape"){const a={id:r};a.rawTargets=this.parseMorphTargets(o,i),a.id=r,o.parents.length>1&&console.warn("THREE.FBXLoader: morph target attached to more than one geometry is not supported."),t[r]=a}}}return{skeletons:e,morphTargets:t}}parseSkeleton(e,t){const i=[];return e.children.forEach(function(r){const s=t[r.ID];if(s.attrType!=="Cluster")return;const o={ID:r.ID,indices:[],weights:[],transformLink:new $e().fromArray(s.TransformLink.a)};"Indexes"in s&&(o.indices=s.Indexes.a,o.weights=s.Weights.a),i.push(o)}),{rawBones:i,bones:[]}}parseMorphTargets(e,t){const i=[];for(let r=0;r<e.children.length;r++){const s=e.children[r],o=t[s.ID],a={name:o.attrName,initialWeight:o.DeformPercent,id:o.id,fullWeights:o.FullWeights.a};if(o.attrType!=="BlendShapeChannel")return;a.geoID=ni.get(parseInt(s.ID)).children.filter(function(l){return l.relationship===void 0})[0].ID,i.push(a)}return i}parseScene(e,t,i){zr=new es;const r=this.parseModels(e.skeletons,t,i),s=zt.Objects.Model,o=this;r.forEach(function(l){const c=s[l.ID];o.setLookAtProperties(l,c),ni.get(l.ID).parents.forEach(function(f){const h=r.get(f.ID);h!==void 0&&h.add(l)}),l.parent===null&&zr.add(l)}),this.bindSkeleton(e.skeletons,t,r),this.createAmbientLight(),zr.traverse(function(l){if(l.userData.transformData){l.parent&&(l.userData.transformData.parentMatrix=l.parent.matrix,l.userData.transformData.parentMatrixWorld=l.parent.matrixWorld);const c=iF(l.userData.transformData);l.applyMatrix4(c),l.updateWorldMatrix()}});const a=new U0e().parse();zr.children.length===1&&zr.children[0].isGroup&&(zr.children[0].animations=a,zr=zr.children[0]),zr.animations=a}parseModels(e,t,i){const r=new Map,s=zt.Objects.Model;for(const o in s){const a=parseInt(o),l=s[o],c=ni.get(a);let u=this.buildSkeleton(c,e,a,l.attrName);if(!u){switch(l.attrType){case"Camera":u=this.createCamera(c);break;case"Light":u=this.createLight(c);break;case"Mesh":u=this.createMesh(c,t,i);break;case"NurbsCurve":u=this.createCurve(c,t);break;case"LimbNode":case"Root":u=new lc;break;case"Null":default:u=new es;break}u.name=l.attrName?Nt.sanitizeNodeName(l.attrName):"",u.ID=a}this.getTransformData(u,l),r.set(a,u)}return r}buildSkeleton(e,t,i,r){let s=null;return e.parents.forEach(function(o){for(const a in t){const l=t[a];l.rawBones.forEach(function(c,u){if(c.ID===o.ID){const f=s;s=new lc,s.matrixWorld.copy(c.transformLink),s.name=r?Nt.sanitizeNodeName(r):"",s.ID=i,l.bones[u]=s,f!==null&&s.add(f)}})}}),s}createCamera(e){let t,i;if(e.children.forEach(function(r){const s=zt.Objects.NodeAttribute[r.ID];s!==void 0&&(i=s)}),i===void 0)t=new At;else{let r=0;i.CameraProjectionType!==void 0&&i.CameraProjectionType.value===1&&(r=1);let s=1;i.NearPlane!==void 0&&(s=i.NearPlane.value/1e3);let o=1e3;i.FarPlane!==void 0&&(o=i.FarPlane.value/1e3);let a=window.innerWidth,l=window.innerHeight;i.AspectWidth!==void 0&&i.AspectHeight!==void 0&&(a=i.AspectWidth.value,l=i.AspectHeight.value);const c=a/l;let u=45;i.FieldOfView!==void 0&&(u=i.FieldOfView.value);const f=i.FocalLength?i.FocalLength.value:null;switch(r){case 0:t=new Qn(u,c,s,o),f!==null&&t.setFocalLength(f);break;case 1:t=new F0(-a/2,a/2,l/2,-l/2,s,o);break;default:console.warn("THREE.FBXLoader: Unknown camera type "+r+"."),t=new At;break}}return t}createLight(e){let t,i;if(e.children.forEach(function(r){const s=zt.Objects.NodeAttribute[r.ID];s!==void 0&&(i=s)}),i===void 0)t=new At;else{let r;i.LightType===void 0?r=0:r=i.LightType.value;let s=16777215;i.Color!==void 0&&(s=new We().fromArray(i.Color.value));let o=i.Intensity===void 0?1:i.Intensity.value/100;i.CastLightOnObject!==void 0&&i.CastLightOnObject.value===0&&(o=0);let a=0;i.FarAttenuationEnd!==void 0&&(i.EnableFarAttenuation!==void 0&&i.EnableFarAttenuation.value===0?a=0:a=i.FarAttenuationEnd.value);const l=1;switch(r){case 0:t=new Cc(s,o,a,l);break;case 1:t=new ka(s,o);break;case 2:let c=Math.PI/3;i.InnerAngle!==void 0&&(c=ur.degToRad(i.InnerAngle.value));let u=0;i.OuterAngle!==void 0&&(u=ur.degToRad(i.OuterAngle.value),u=Math.max(u,1)),t=new za(s,o,a,c,u,l);break;default:console.warn("THREE.FBXLoader: Unknown light type "+i.LightType.value+", defaulting to a PointLight."),t=new Cc(s,o);break}i.CastShadows!==void 0&&i.CastShadows.value===1&&(t.castShadow=!0)}return t}createMesh(e,t,i){let r,s=null,o=null;const a=[];return e.children.forEach(function(l){t.has(l.ID)&&(s=t.get(l.ID)),i.has(l.ID)&&a.push(i.get(l.ID))}),a.length>1?o=a:a.length>0?o=a[0]:(o=new wc({color:13421772}),a.push(o)),"color"in s.attributes&&a.forEach(function(l){l.vertexColors=!0}),s.FBX_Deformer?(r=new If(s,o),r.normalizeSkinWeights()):r=new En(s,o),r}createCurve(e,t){const i=e.children.reduce(function(s,o){return t.has(o.ID)&&(s=t.get(o.ID)),s},null),r=new Kn({color:3342591,linewidth:1});return new Cs(i,r)}getTransformData(e,t){const i={};"InheritType"in t&&(i.inheritType=parseInt(t.InheritType.value)),"RotationOrder"in t?i.eulerOrder=rF(t.RotationOrder.value):i.eulerOrder="ZYX","Lcl_Translation"in t&&(i.translation=t.Lcl_Translation.value),"PreRotation"in t&&(i.preRotation=t.PreRotation.value),"Lcl_Rotation"in t&&(i.rotation=t.Lcl_Rotation.value),"PostRotation"in t&&(i.postRotation=t.PostRotation.value),"Lcl_Scaling"in t&&(i.scale=t.Lcl_Scaling.value),"ScalingOffset"in t&&(i.scalingOffset=t.ScalingOffset.value),"ScalingPivot"in t&&(i.scalingPivot=t.ScalingPivot.value),"RotationOffset"in t&&(i.rotationOffset=t.RotationOffset.value),"RotationPivot"in t&&(i.rotationPivot=t.RotationPivot.value),e.userData.transformData=i}setLookAtProperties(e,t){"LookAtProperty"in t&&ni.get(e.ID).children.forEach(function(r){if(r.relationship==="LookAtProperty"){const s=zt.Objects.Model[r.ID];if("Lcl_Translation"in s){const o=s.Lcl_Translation.value;e.target!==void 0?(e.target.position.fromArray(o),zr.add(e.target)):e.lookAt(new Z().fromArray(o))}}})}bindSkeleton(e,t,i){const r=this.parsePoseNodes();for(const s in e){const o=e[s];ni.get(parseInt(o.ID)).parents.forEach(function(l){if(t.has(l.ID)){const c=l.ID;ni.get(c).parents.forEach(function(f){i.has(f.ID)&&i.get(f.ID).bind(new Df(o.bones),r[f.ID])})}})}}parsePoseNodes(){const e={};if("Pose"in zt.Objects){const t=zt.Objects.Pose;for(const i in t)if(t[i].attrType==="BindPose"){const r=t[i].PoseNode;Array.isArray(r)?r.forEach(function(s){e[s.Node]=new $e().fromArray(s.Matrix.a)}):e[r.Node]=new $e().fromArray(r.Matrix.a)}}return e}createAmbientLight(){if("GlobalSettings"in zt&&"AmbientColor"in zt.GlobalSettings){const e=zt.GlobalSettings.AmbientColor.value,t=e[0],i=e[1],r=e[2];if(t!==0||i!==0||r!==0){const s=new We(t,i,r);zr.add(new k1(s,1))}}}}class B0e{parse(e){const t=new Map;if("Geometry"in zt.Objects){const i=zt.Objects.Geometry;for(const r in i){const s=ni.get(parseInt(r)),o=this.parseGeometry(s,i[r],e);t.set(parseInt(r),o)}}return t}parseGeometry(e,t,i){switch(t.attrType){case"Mesh":return this.parseMeshGeometry(e,t,i);case"NurbsCurve":return this.parseNurbsGeometry(t)}}parseMeshGeometry(e,t,i){const r=i.skeletons,s=[],o=e.parents.map(function(f){return zt.Objects.Model[f.ID]});if(o.length===0)return;const a=e.children.reduce(function(f,h){return r[h.ID]!==void 0&&(f=r[h.ID]),f},null);e.children.forEach(function(f){i.morphTargets[f.ID]!==void 0&&s.push(i.morphTargets[f.ID])});const l=o[0],c={};"RotationOrder"in l&&(c.eulerOrder=rF(l.RotationOrder.value)),"InheritType"in l&&(c.inheritType=parseInt(l.InheritType.value)),"GeometricTranslation"in l&&(c.translation=l.GeometricTranslation.value),"GeometricRotation"in l&&(c.rotation=l.GeometricRotation.value),"GeometricScaling"in l&&(c.scale=l.GeometricScaling.value);const u=iF(c);return this.genGeometry(t,a,s,u)}genGeometry(e,t,i,r){const s=new ot;e.attrName&&(s.name=e.attrName);const o=this.parseGeoNode(e,t),a=this.genBuffers(o),l=new je(a.vertex,3);if(l.applyMatrix4(r),s.setAttribute("position",l),a.colors.length>0&&s.setAttribute("color",new je(a.colors,3)),t&&(s.setAttribute("skinIndex",new c1(a.weightsIndices,4)),s.setAttribute("skinWeight",new je(a.vertexWeights,4)),s.FBX_Deformer=t),a.normal.length>0){const c=new Gn().getNormalMatrix(r),u=new je(a.normal,3);u.applyNormalMatrix(c),s.setAttribute("normal",u)}if(a.uvs.forEach(function(c,u){let f="uv"+(u+1).toString();u===0&&(f="uv"),s.setAttribute(f,new je(a.uvs[u],2))}),o.material&&o.material.mappingType!=="AllSame"){let c=a.materialIndex[0],u=0;if(a.materialIndex.forEach(function(f,h){f!==c&&(s.addGroup(u,h-u,c),c=f,u=h)}),s.groups.length>0){const f=s.groups[s.groups.length-1],h=f.start+f.count;h!==a.materialIndex.length&&s.addGroup(h,a.materialIndex.length-h,c)}s.groups.length===0&&s.addGroup(0,a.materialIndex.length,a.materialIndex[0])}return this.addMorphTargets(s,e,i,r),s}parseGeoNode(e,t){const i={};if(i.vertexPositions=e.Vertices!==void 0?e.Vertices.a:[],i.vertexIndices=e.PolygonVertexIndex!==void 0?e.PolygonVertexIndex.a:[],e.LayerElementColor&&(i.color=this.parseVertexColors(e.LayerElementColor[0])),e.LayerElementMaterial&&(i.material=this.parseMaterialIndices(e.LayerElementMaterial[0])),e.LayerElementNormal&&(i.normal=this.parseNormals(e.LayerElementNormal[0])),e.LayerElementUV){i.uv=[];let r=0;for(;e.LayerElementUV[r];)e.LayerElementUV[r].UV&&i.uv.push(this.parseUVs(e.LayerElementUV[r])),r++}return i.weightTable={},t!==null&&(i.skeleton=t,t.rawBones.forEach(function(r,s){r.indices.forEach(function(o,a){i.weightTable[o]===void 0&&(i.weightTable[o]=[]),i.weightTable[o].push({id:s,weight:r.weights[a]})})})),i}genBuffers(e){const t={vertex:[],normal:[],colors:[],uvs:[],materialIndex:[],vertexWeights:[],weightsIndices:[]};let i=0,r=0,s=!1,o=[],a=[],l=[],c=[],u=[],f=[];const h=this;return e.vertexIndices.forEach(function(d,m){let v,_=!1;d<0&&(d=d^-1,_=!0);let g=[],x=[];if(o.push(d*3,d*3+1,d*3+2),e.color){const b=T9(m,i,d,e.color);l.push(b[0],b[1],b[2])}if(e.skeleton){if(e.weightTable[d]!==void 0&&e.weightTable[d].forEach(function(b){x.push(b.weight),g.push(b.id)}),x.length>4){s||(console.warn("THREE.FBXLoader: Vertex has more than 4 skinning weights assigned to vertex. Deleting additional weights."),s=!0);const b=[0,0,0,0],w=[0,0,0,0];x.forEach(function(S,A){let T=S,F=g[A];w.forEach(function(U,N,O){if(T>U){O[N]=T,T=U;const G=b[N];b[N]=F,F=G}})}),g=b,x=w}for(;x.length<4;)x.push(0),g.push(0);for(let b=0;b<4;++b)u.push(x[b]),f.push(g[b])}if(e.normal){const b=T9(m,i,d,e.normal);a.push(b[0],b[1],b[2])}e.material&&e.material.mappingType!=="AllSame"&&(v=T9(m,i,d,e.material)[0]),e.uv&&e.uv.forEach(function(b,w){const S=T9(m,i,d,b);c[w]===void 0&&(c[w]=[]),c[w].push(S[0]),c[w].push(S[1])}),r++,_&&(h.genFace(t,e,o,v,a,l,c,u,f,r),i++,r=0,o=[],a=[],l=[],c=[],u=[],f=[])}),t}genFace(e,t,i,r,s,o,a,l,c,u){for(let f=2;f<u;f++)e.vertex.push(t.vertexPositions[i[0]]),e.vertex.push(t.vertexPositions[i[1]]),e.vertex.push(t.vertexPositions[i[2]]),e.vertex.push(t.vertexPositions[i[(f-1)*3]]),e.vertex.push(t.vertexPositions[i[(f-1)*3+1]]),e.vertex.push(t.vertexPositions[i[(f-1)*3+2]]),e.vertex.push(t.vertexPositions[i[f*3]]),e.vertex.push(t.vertexPositions[i[f*3+1]]),e.vertex.push(t.vertexPositions[i[f*3+2]]),t.skeleton&&(e.vertexWeights.push(l[0]),e.vertexWeights.push(l[1]),e.vertexWeights.push(l[2]),e.vertexWeights.push(l[3]),e.vertexWeights.push(l[(f-1)*4]),e.vertexWeights.push(l[(f-1)*4+1]),e.vertexWeights.push(l[(f-1)*4+2]),e.vertexWeights.push(l[(f-1)*4+3]),e.vertexWeights.push(l[f*4]),e.vertexWeights.push(l[f*4+1]),e.vertexWeights.push(l[f*4+2]),e.vertexWeights.push(l[f*4+3]),e.weightsIndices.push(c[0]),e.weightsIndices.push(c[1]),e.weightsIndices.push(c[2]),e.weightsIndices.push(c[3]),e.weightsIndices.push(c[(f-1)*4]),e.weightsIndices.push(c[(f-1)*4+1]),e.weightsIndices.push(c[(f-1)*4+2]),e.weightsIndices.push(c[(f-1)*4+3]),e.weightsIndices.push(c[f*4]),e.weightsIndices.push(c[f*4+1]),e.weightsIndices.push(c[f*4+2]),e.weightsIndices.push(c[f*4+3])),t.color&&(e.colors.push(o[0]),e.colors.push(o[1]),e.colors.push(o[2]),e.colors.push(o[(f-1)*3]),e.colors.push(o[(f-1)*3+1]),e.colors.push(o[(f-1)*3+2]),e.colors.push(o[f*3]),e.colors.push(o[f*3+1]),e.colors.push(o[f*3+2])),t.material&&t.material.mappingType!=="AllSame"&&(e.materialIndex.push(r),e.materialIndex.push(r),e.materialIndex.push(r)),t.normal&&(e.normal.push(s[0]),e.normal.push(s[1]),e.normal.push(s[2]),e.normal.push(s[(f-1)*3]),e.normal.push(s[(f-1)*3+1]),e.normal.push(s[(f-1)*3+2]),e.normal.push(s[f*3]),e.normal.push(s[f*3+1]),e.normal.push(s[f*3+2])),t.uv&&t.uv.forEach(function(h,d){e.uvs[d]===void 0&&(e.uvs[d]=[]),e.uvs[d].push(a[d][0]),e.uvs[d].push(a[d][1]),e.uvs[d].push(a[d][(f-1)*2]),e.uvs[d].push(a[d][(f-1)*2+1]),e.uvs[d].push(a[d][f*2]),e.uvs[d].push(a[d][f*2+1])})}addMorphTargets(e,t,i,r){if(i.length===0)return;e.morphTargetsRelative=!0,e.morphAttributes.position=[];const s=this;i.forEach(function(o){o.rawTargets.forEach(function(a){const l=zt.Objects.Geometry[a.geoID];l!==void 0&&s.genMorphGeometry(e,t,l,r,a.name)})})}genMorphGeometry(e,t,i,r,s){const o=t.PolygonVertexIndex!==void 0?t.PolygonVertexIndex.a:[],a=i.Vertices!==void 0?i.Vertices.a:[],l=i.Indexes!==void 0?i.Indexes.a:[],c=e.attributes.position.count*3,u=new Float32Array(c);for(let m=0;m<l.length;m++){const v=l[m]*3;u[v]=a[m*3],u[v+1]=a[m*3+1],u[v+2]=a[m*3+2]}const f={vertexIndices:o,vertexPositions:u},h=this.genBuffers(f),d=new je(h.vertex,3);d.name=s||i.attrName,d.applyMatrix4(r),e.morphAttributes.position.push(d)}parseNormals(e){const t=e.MappingInformationType,i=e.ReferenceInformationType,r=e.Normals.a;let s=[];return i==="IndexToDirect"&&("NormalIndex"in e?s=e.NormalIndex.a:"NormalsIndex"in e&&(s=e.NormalsIndex.a)),{dataSize:3,buffer:r,indices:s,mappingType:t,referenceType:i}}parseUVs(e){const t=e.MappingInformationType,i=e.ReferenceInformationType,r=e.UV.a;let s=[];return i==="IndexToDirect"&&(s=e.UVIndex.a),{dataSize:2,buffer:r,indices:s,mappingType:t,referenceType:i}}parseVertexColors(e){const t=e.MappingInformationType,i=e.ReferenceInformationType,r=e.Colors.a;let s=[];return i==="IndexToDirect"&&(s=e.ColorIndex.a),{dataSize:4,buffer:r,indices:s,mappingType:t,referenceType:i}}parseMaterialIndices(e){const t=e.MappingInformationType,i=e.ReferenceInformationType;if(t==="NoMappingInformation")return{dataSize:1,buffer:[0],indices:[0],mappingType:"AllSame",referenceType:i};const r=e.Materials.a,s=[];for(let o=0;o<r.length;++o)s.push(o);return{dataSize:1,buffer:r,indices:s,mappingType:t,referenceType:i}}parseNurbsGeometry(e){if(KR===void 0)return console.error("THREE.FBXLoader: The loader relies on NURBSCurve for any nurbs present in the model. Nurbs will show up as empty geometry."),new ot;const t=parseInt(e.Order);if(isNaN(t))return console.error("THREE.FBXLoader: Invalid Order %s given for geometry ID: %s",e.Order,e.id),new ot;const i=t-1,r=e.KnotVector.a,s=[],o=e.Points.a;for(let f=0,h=o.length;f<h;f+=4)s.push(new $t().fromArray(o,f));let a,l;if(e.Form==="Closed")s.push(s[0]);else if(e.Form==="Periodic"){a=i,l=r.length-1-a;for(let f=0;f<i;++f)s.push(s[f])}const u=new KR(i,r,s,a,l).getPoints(s.length*12);return new ot().setFromPoints(u)}}class U0e{parse(){const e=[],t=this.parseClips();if(t!==void 0)for(const i in t){const r=t[i],s=this.addClip(r);e.push(s)}return e}parseClips(){if(zt.Objects.AnimationCurve===void 0)return;const e=this.parseAnimationCurveNodes();this.parseAnimationCurves(e);const t=this.parseAnimationLayers(e);return this.parseAnimStacks(t)}parseAnimationCurveNodes(){const e=zt.Objects.AnimationCurveNode,t=new Map;for(const i in e){const r=e[i];if(r.attrName.match(/S|R|T|DeformPercent/)!==null){const s={id:r.id,attr:r.attrName,curves:{}};t.set(s.id,s)}}return t}parseAnimationCurves(e){const t=zt.Objects.AnimationCurve;for(const i in t){const r={id:t[i].id,times:t[i].KeyTime.a.map(V0e),values:t[i].KeyValueFloat.a},s=ni.get(r.id);if(s!==void 0){const o=s.parents[0].ID,a=s.parents[0].relationship;a.match(/X/)?e.get(o).curves.x=r:a.match(/Y/)?e.get(o).curves.y=r:a.match(/Z/)?e.get(o).curves.z=r:a.match(/d|DeformPercent/)&&e.has(o)&&(e.get(o).curves.morph=r)}}}parseAnimationLayers(e){const t=zt.Objects.AnimationLayer,i=new Map;for(const r in t){const s=[],o=ni.get(parseInt(r));o!==void 0&&(o.children.forEach(function(l,c){if(e.has(l.ID)){const u=e.get(l.ID);if(u.curves.x!==void 0||u.curves.y!==void 0||u.curves.z!==void 0){if(s[c]===void 0){const f=ni.get(l.ID).parents.filter(function(h){return h.relationship!==void 0})[0].ID;if(f!==void 0){const h=zt.Objects.Model[f.toString()];if(h===void 0){console.warn("THREE.FBXLoader: Encountered a unused curve.",l);return}const d={modelName:h.attrName?Nt.sanitizeNodeName(h.attrName):"",ID:h.id,initialPosition:[0,0,0],initialRotation:[0,0,0],initialScale:[1,1,1]};zr.traverse(function(m){m.ID===h.id&&(d.transform=m.matrix,m.userData.transformData&&(d.eulerOrder=m.userData.transformData.eulerOrder))}),d.transform||(d.transform=new $e),"PreRotation"in h&&(d.preRotation=h.PreRotation.value),"PostRotation"in h&&(d.postRotation=h.PostRotation.value),s[c]=d}}s[c]&&(s[c][u.attr]=u)}else if(u.curves.morph!==void 0){if(s[c]===void 0){const f=ni.get(l.ID).parents.filter(function(g){return g.relationship!==void 0})[0].ID,h=ni.get(f).parents[0].ID,d=ni.get(h).parents[0].ID,m=ni.get(d).parents[0].ID,v=zt.Objects.Model[m],_={modelName:v.attrName?Nt.sanitizeNodeName(v.attrName):"",morphName:zt.Objects.Deformer[f].attrName};s[c]=_}s[c][u.attr]=u}}}),i.set(parseInt(r),s))}return i}parseAnimStacks(e){const t=zt.Objects.AnimationStack,i={};for(const r in t){const s=ni.get(parseInt(r)).children;s.length>1&&console.warn("THREE.FBXLoader: Encountered an animation stack with multiple layers, this is currently not supported. Ignoring subsequent layers.");const o=e.get(s[0].ID);i[r]={name:t[r].attrName,layer:o}}return i}addClip(e){let t=[];const i=this;return e.layer.forEach(function(r){t=t.concat(i.generateTracks(r))}),new Ec(e.name,-1,t)}generateTracks(e){const t=[];let i=new Z,r=new Rn,s=new Z;if(e.transform&&e.transform.decompose(i,r,s),i=i.toArray(),r=new Ss().setFromQuaternion(r,e.eulerOrder).toArray(),s=s.toArray(),e.T!==void 0&&Object.keys(e.T.curves).length>0){const o=this.generateVectorTrack(e.modelName,e.T.curves,i,"position");o!==void 0&&t.push(o)}if(e.R!==void 0&&Object.keys(e.R.curves).length>0){const o=this.generateRotationTrack(e.modelName,e.R.curves,r,e.preRotation,e.postRotation,e.eulerOrder);o!==void 0&&t.push(o)}if(e.S!==void 0&&Object.keys(e.S.curves).length>0){const o=this.generateVectorTrack(e.modelName,e.S.curves,s,"scale");o!==void 0&&t.push(o)}if(e.DeformPercent!==void 0){const o=this.generateMorphTrack(e);o!==void 0&&t.push(o)}return t}generateVectorTrack(e,t,i,r){const s=this.getTimesForAllAxes(t),o=this.getKeyframeTrackValues(s,t,i);return new Tc(e+"."+r,s,o)}generateRotationTrack(e,t,i,r,s,o){t.x!==void 0&&(this.interpolateRotations(t.x),t.x.values=t.x.values.map(ur.degToRad)),t.y!==void 0&&(this.interpolateRotations(t.y),t.y.values=t.y.values.map(ur.degToRad)),t.z!==void 0&&(this.interpolateRotations(t.z),t.z.values=t.z.values.map(ur.degToRad));const a=this.getTimesForAllAxes(t),l=this.getKeyframeTrackValues(a,t,i);r!==void 0&&(r=r.map(ur.degToRad),r.push(o),r=new Ss().fromArray(r),r=new Rn().setFromEuler(r)),s!==void 0&&(s=s.map(ur.degToRad),s.push(o),s=new Ss().fromArray(s),s=new Rn().setFromEuler(s).invert());const c=new Rn,u=new Ss,f=[];for(let h=0;h<l.length;h+=3)u.set(l[h],l[h+1],l[h+2],o),c.setFromEuler(u),r!==void 0&&c.premultiply(r),s!==void 0&&c.multiply(s),c.toArray(f,h/3*4);return new No(e+".quaternion",a,f)}generateMorphTrack(e){const t=e.DeformPercent.curves.morph,i=t.values.map(function(s){return s/100}),r=zr.getObjectByName(e.modelName).morphTargetDictionary[e.morphName];return new Sc(e.modelName+".morphTargetInfluences["+r+"]",t.times,i)}getTimesForAllAxes(e){let t=[];if(e.x!==void 0&&(t=t.concat(e.x.times)),e.y!==void 0&&(t=t.concat(e.y.times)),e.z!==void 0&&(t=t.concat(e.z.times)),t=t.sort(function(i,r){return i-r}),t.length>1){let i=1,r=t[0];for(let s=1;s<t.length;s++){const o=t[s];o!==r&&(t[i]=o,r=o,i++)}t=t.slice(0,i)}return t}getKeyframeTrackValues(e,t,i){const r=i,s=[];let o=-1,a=-1,l=-1;return e.forEach(function(c){if(t.x&&(o=t.x.times.indexOf(c)),t.y&&(a=t.y.times.indexOf(c)),t.z&&(l=t.z.times.indexOf(c)),o!==-1){const u=t.x.values[o];s.push(u),r[0]=u}else s.push(r[0]);if(a!==-1){const u=t.y.values[a];s.push(u),r[1]=u}else s.push(r[1]);if(l!==-1){const u=t.z.values[l];s.push(u),r[2]=u}else s.push(r[2])}),s}interpolateRotations(e){for(let t=1;t<e.values.length;t++){const i=e.values[t-1],r=e.values[t]-i,s=Math.abs(r);if(s>=180){const o=s/180,a=r/o;let l=i+a;const c=e.times[t-1],f=(e.times[t]-c)/o;let h=c+f;const d=[],m=[];for(;h<e.times[t];)d.push(h),h+=f,m.push(l),l+=a;e.times=oF(e.times,t,d),e.values=oF(e.values,t,m)}}}}class z0e{getPrevNode(){return this.nodeStack[this.currentIndent-2]}getCurrentNode(){return this.nodeStack[this.currentIndent-1]}getCurrentProp(){return this.currentProp}pushStack(e){this.nodeStack.push(e),this.currentIndent+=1}popStack(){this.nodeStack.pop(),this.currentIndent-=1}setCurrentProp(e,t){this.currentProp=e,this.currentPropName=t}parse(e){this.currentIndent=0,this.allNodes=new tF,this.nodeStack=[],this.currentProp=[],this.currentPropName="";const t=this,i=e.split(/[\r\n]+/);return i.forEach(function(r,s){const o=r.match(/^[\s\t]*;/),a=r.match(/^[\s\t]*$/);if(o||a)return;const l=r.match("^\\t{"+t.currentIndent+"}(\\w+):(.*){",""),c=r.match("^\\t{"+t.currentIndent+"}(\\w+):[\\s\\t\\r\\n](.*)"),u=r.match("^\\t{"+(t.currentIndent-1)+"}}");l?t.parseNodeBegin(r,l):c?t.parseNodeProperty(r,c,i[++s]):u?t.popStack():r.match(/^[^\s\t}]/)&&t.parseNodePropertyContinued(r)}),this.allNodes}parseNodeBegin(e,t){const i=t[1].trim().replace(/^"/,"").replace(/"$/,""),r=t[2].split(",").map(function(l){return l.trim().replace(/^"/,"").replace(/"$/,"")}),s={name:i},o=this.parseNodeAttr(r),a=this.getCurrentNode();this.currentIndent===0?this.allNodes.add(i,s):i in a?(i==="PoseNode"?a.PoseNode.push(s):a[i].id!==void 0&&(a[i]={},a[i][a[i].id]=a[i]),o.id!==""&&(a[i][o.id]=s)):typeof o.id=="number"?(a[i]={},a[i][o.id]=s):i!=="Properties70"&&(i==="PoseNode"?a[i]=[s]:a[i]=s),typeof o.id=="number"&&(s.id=o.id),o.name!==""&&(s.attrName=o.name),o.type!==""&&(s.attrType=o.type),this.pushStack(s)}parseNodeAttr(e){let t=e[0];e[0]!==""&&(t=parseInt(e[0]),isNaN(t)&&(t=e[0]));let i="",r="";return e.length>1&&(i=e[1].replace(/^(\w+)::/,""),r=e[2]),{id:t,name:i,type:r}}parseNodeProperty(e,t,i){let r=t[1].replace(/^"/,"").replace(/"$/,"").trim(),s=t[2].replace(/^"/,"").replace(/"$/,"").trim();r==="Content"&&s===","&&(s=i.replace(/"/g,"").replace(/,$/,"").trim());const o=this.getCurrentNode();if(o.name==="Properties70"){this.parseNodeSpecialProperty(e,r,s);return}if(r==="C"){const l=s.split(",").slice(1),c=parseInt(l[0]),u=parseInt(l[1]);let f=s.split(",").slice(3);f=f.map(function(h){return h.trim().replace(/^"/,"")}),r="connections",s=[c,u],X0e(s,f),o[r]===void 0&&(o[r]=[])}r==="Node"&&(o.id=s),r in o&&Array.isArray(o[r])?o[r].push(s):r!=="a"?o[r]=s:o.a=s,this.setCurrentProp(o,r),r==="a"&&s.slice(-1)!==","&&(o.a=cx(s))}parseNodePropertyContinued(e){const t=this.getCurrentNode();t.a+=e,e.slice(-1)!==","&&(t.a=cx(t.a))}parseNodeSpecialProperty(e,t,i){const r=i.split('",').map(function(u){return u.trim().replace(/^\"/,"").replace(/\s/,"_")}),s=r[0],o=r[1],a=r[2],l=r[3];let c=r[4];switch(o){case"int":case"enum":case"bool":case"ULongLong":case"double":case"Number":case"FieldOfView":c=parseFloat(c);break;case"Color":case"ColorRGB":case"Vector3D":case"Lcl_Translation":case"Lcl_Rotation":case"Lcl_Scaling":c=cx(c);break}this.getPrevNode()[s]={type:o,type2:a,flag:l,value:c},this.setCurrentProp(this.getPrevNode(),s)}}class k0e{parse(e){const t=new eF(e);t.skip(23);const i=t.getUint32();if(i<6400)throw new Error("THREE.FBXLoader: FBX version not supported, FileVersion: "+i);const r=new tF;for(;!this.endOfContent(t);){const s=this.parseNode(t,i);s!==null&&r.add(s.name,s)}return r}endOfContent(e){return e.size()%16==0?(e.getOffset()+160+16&~15)>=e.size():e.getOffset()+160+16>=e.size()}parseNode(e,t){const i={},r=t>=7500?e.getUint64():e.getUint32(),s=t>=7500?e.getUint64():e.getUint32();t>=7500?e.getUint64():e.getUint32();const o=e.getUint8(),a=e.getString(o);if(r===0)return null;const l=[];for(let h=0;h<s;h++)l.push(this.parseProperty(e));const c=l.length>0?l[0]:"",u=l.length>1?l[1]:"",f=l.length>2?l[2]:"";for(i.singleProperty=s===1&&e.getOffset()===r;r>e.getOffset();){const h=this.parseNode(e,t);h!==null&&this.parseSubNode(a,i,h)}return i.propertyList=l,typeof c=="number"&&(i.id=c),u!==""&&(i.attrName=u),f!==""&&(i.attrType=f),a!==""&&(i.name=a),i}parseSubNode(e,t,i){if(i.singleProperty===!0){const r=i.propertyList[0];Array.isArray(r)?(t[i.name]=i,i.a=r):t[i.name]=r}else if(e==="Connections"&&i.name==="C"){const r=[];i.propertyList.forEach(function(s,o){o!==0&&r.push(s)}),t.connections===void 0&&(t.connections=[]),t.connections.push(r)}else if(i.name==="Properties70")Object.keys(i).forEach(function(s){t[s]=i[s]});else if(e==="Properties70"&&i.name==="P"){let r=i.propertyList[0],s=i.propertyList[1];const o=i.propertyList[2],a=i.propertyList[3];let l;r.indexOf("Lcl ")===0&&(r=r.replace("Lcl ","Lcl_")),s.indexOf("Lcl ")===0&&(s=s.replace("Lcl ","Lcl_")),s==="Color"||s==="ColorRGB"||s==="Vector"||s==="Vector3D"||s.indexOf("Lcl_")===0?l=[i.propertyList[4],i.propertyList[5],i.propertyList[6]]:l=i.propertyList[4],t[r]={type:s,type2:o,flag:a,value:l}}else t[i.name]===void 0?typeof i.id=="number"?(t[i.name]={},t[i.name][i.id]=i):t[i.name]=i:i.name==="PoseNode"?(Array.isArray(t[i.name])||(t[i.name]=[t[i.name]]),t[i.name].push(i)):t[i.name][i.id]===void 0&&(t[i.name][i.id]=i)}parseProperty(e){const t=e.getString(1);let i;switch(t){case"C":return e.getBoolean();case"D":return e.getFloat64();case"F":return e.getFloat32();case"I":return e.getInt32();case"L":return e.getInt64();case"R":return i=e.getUint32(),e.getArrayBuffer(i);case"S":return i=e.getUint32(),e.getString(i);case"Y":return e.getInt16();case"b":case"c":case"d":case"f":case"i":case"l":const r=e.getUint32(),s=e.getUint32(),o=e.getUint32();if(s===0)switch(t){case"b":case"c":return e.getBooleanArray(r);case"d":return e.getFloat64Array(r);case"f":return e.getFloat32Array(r);case"i":return e.getInt32Array(r);case"l":return e.getInt64Array(r)}typeof E0e=="undefined"&&console.error("THREE.FBXLoader: External library fflate.min.js required.");const a=K1(new Uint8Array(e.getArrayBuffer(o))),l=new eF(a.buffer);switch(t){case"b":case"c":return l.getBooleanArray(r);case"d":return l.getFloat64Array(r);case"f":return l.getFloat32Array(r);case"i":return l.getInt32Array(r);case"l":return l.getInt64Array(r)}default:throw new Error("THREE.FBXLoader: Unknown property type "+t)}}}class eF{constructor(e,t){this.dv=new DataView(e),this.offset=0,this.littleEndian=t!==void 0?t:!0}getOffset(){return this.offset}size(){return this.dv.buffer.byteLength}skip(e){this.offset+=e}getBoolean(){return(this.getUint8()&1)==1}getBooleanArray(e){const t=[];for(let i=0;i<e;i++)t.push(this.getBoolean());return t}getUint8(){const e=this.dv.getUint8(this.offset);return this.offset+=1,e}getInt16(){const e=this.dv.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}getInt32(){const e=this.dv.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}getInt32Array(e){const t=[];for(let i=0;i<e;i++)t.push(this.getInt32());return t}getUint32(){const e=this.dv.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}getInt64(){let e,t;return this.littleEndian?(e=this.getUint32(),t=this.getUint32()):(t=this.getUint32(),e=this.getUint32()),t&2147483648?(t=~t&4294967295,e=~e&4294967295,e===4294967295&&(t=t+1&4294967295),e=e+1&4294967295,-(t*4294967296+e)):t*4294967296+e}getInt64Array(e){const t=[];for(let i=0;i<e;i++)t.push(this.getInt64());return t}getUint64(){let e,t;return this.littleEndian?(e=this.getUint32(),t=this.getUint32()):(t=this.getUint32(),e=this.getUint32()),t*4294967296+e}getFloat32(){const e=this.dv.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}getFloat32Array(e){const t=[];for(let i=0;i<e;i++)t.push(this.getFloat32());return t}getFloat64(){const e=this.dv.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}getFloat64Array(e){const t=[];for(let i=0;i<e;i++)t.push(this.getFloat64());return t}getArrayBuffer(e){const t=this.dv.buffer.slice(this.offset,this.offset+e);return this.offset+=e,t}getString(e){let t=[];for(let r=0;r<e;r++)t[r]=this.getUint8();const i=t.indexOf(0);return i>=0&&(t=t.slice(0,i)),Ps.decodeText(new Uint8Array(t))}}class tF{add(e,t){this[e]=t}}function H0e(n){const e="Kaydara FBX Binary  \0";return n.byteLength>=e.length&&e===sF(n,0,e.length)}function G0e(n){const e=["K","a","y","d","a","r","a","\\","F","B","X","\\","B","i","n","a","r","y","\\","\\"];let t=0;function i(r){const s=n[r-1];return n=n.slice(t+r),t++,s}for(let r=0;r<e.length;++r)if(i(1)===e[r])return!1;return!0}function nF(n){const e=/FBXVersion: (\d+)/,t=n.match(e);if(t)return parseInt(t[1]);throw new Error("THREE.FBXLoader: Cannot find the version number for the file given.")}function V0e(n){return n/46186158e3}const W0e=[];function T9(n,e,t,i){let r;switch(i.mappingType){case"ByPolygonVertex":r=n;break;case"ByPolygon":r=e;break;case"ByVertice":r=t;break;case"AllSame":r=i.indices[0];break;default:console.warn("THREE.FBXLoader: unknown attribute mapping type "+i.mappingType)}i.referenceType==="IndexToDirect"&&(r=i.indices[r]);const s=r*i.dataSize,o=s+i.dataSize;return Y0e(W0e,i.buffer,s,o)}const lx=new Ss,Zf=new Z;function iF(n){const e=new $e,t=new $e,i=new $e,r=new $e,s=new $e,o=new $e,a=new $e,l=new $e,c=new $e,u=new $e,f=new $e,h=new $e,d=n.inheritType?n.inheritType:0;if(n.translation&&e.setPosition(Zf.fromArray(n.translation)),n.preRotation){const N=n.preRotation.map(ur.degToRad);N.push(n.eulerOrder),t.makeRotationFromEuler(lx.fromArray(N))}if(n.rotation){const N=n.rotation.map(ur.degToRad);N.push(n.eulerOrder),i.makeRotationFromEuler(lx.fromArray(N))}if(n.postRotation){const N=n.postRotation.map(ur.degToRad);N.push(n.eulerOrder),r.makeRotationFromEuler(lx.fromArray(N)),r.invert()}n.scale&&s.scale(Zf.fromArray(n.scale)),n.scalingOffset&&a.setPosition(Zf.fromArray(n.scalingOffset)),n.scalingPivot&&o.setPosition(Zf.fromArray(n.scalingPivot)),n.rotationOffset&&l.setPosition(Zf.fromArray(n.rotationOffset)),n.rotationPivot&&c.setPosition(Zf.fromArray(n.rotationPivot)),n.parentMatrixWorld&&(f.copy(n.parentMatrix),u.copy(n.parentMatrixWorld));const m=t.clone().multiply(i).multiply(r),v=new $e;v.extractRotation(u);const _=new $e;_.copyPosition(u);const g=_.clone().invert().multiply(u),x=v.clone().invert().multiply(g),b=s,w=new $e;if(d===0)w.copy(v).multiply(m).multiply(x).multiply(b);else if(d===1)w.copy(v).multiply(x).multiply(m).multiply(b);else{const O=new $e().scale(new Z().setFromMatrixScale(f)).clone().invert(),G=x.clone().multiply(O);w.copy(v).multiply(m).multiply(G).multiply(b)}const S=c.clone().invert(),A=o.clone().invert();let T=e.clone().multiply(l).multiply(c).multiply(t).multiply(i).multiply(r).multiply(S).multiply(a).multiply(o).multiply(s).multiply(A);const F=new $e().copyPosition(T),U=u.clone().multiply(F);return h.copyPosition(U),T=h.clone().multiply(w),T.premultiply(u.invert()),T}function rF(n){n=n||0;const e=["ZYX","YZX","XZY","ZXY","YXZ","XYZ"];return n===6?(console.warn("THREE.FBXLoader: unsupported Euler Order: Spherical XYZ. Animations and rotations may be incorrect."),e[0]):e[n]}function cx(n){return n.split(",").map(function(t){return parseFloat(t)})}function sF(n,e,t){return e===void 0&&(e=0),t===void 0&&(t=n.byteLength),Ps.decodeText(new Uint8Array(n,e,t))}function X0e(n,e){for(let t=0,i=n.length,r=e.length;t<r;t++,i++)n[i]=e[t]}function Y0e(n,e,t,i){for(let r=t,s=0;r<i;r++,s++)n[s]=e[r];return n}function oF(n,e,t){return n.slice(0,e).concat(t).concat(n.slice(e))}var Bc={uniforms:{tDiffuse:{value:null},opacity:{value:1}},vertexShader:`

		varying vec2 vUv;

		void main() {

			vUv = uv;
			gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );

		}`,fragmentShader:`

		uniform float opacity;

		uniform sampler2D tDiffuse;

		varying vec2 vUv;

		void main() {

			vec4 texel = texture2D( tDiffuse, vUv );
			gl_FragColor = opacity * texel;

		}`};class k0{constructor(){this.enabled=!0,this.needsSwap=!0,this.clear=!1,this.renderToScreen=!1}setSize(){}render(){console.error("THREE.Pass: .render() must be implemented in derived pass.")}}const $0e=new F0(-1,1,1,-1,0,1),ux=new ot;ux.setAttribute("position",new je([-1,3,0,-1,-1,0,3,-1,0],3));ux.setAttribute("uv",new je([0,2,0,0,2,0],2));class Uc{constructor(e){this._mesh=new En(ux,e)}dispose(){this._mesh.geometry.dispose()}render(e){e.render(this._mesh,$0e)}get material(){return this._mesh.material}set material(e){this._mesh.material=e}}class Qf extends k0{constructor(e,t){super();this.textureID=t!==void 0?t:"tDiffuse",e instanceof cn?(this.uniforms=e.uniforms,this.material=e):e&&(this.uniforms=Ii.clone(e.uniforms),this.material=new cn({defines:Object.assign({},e.defines),uniforms:this.uniforms,vertexShader:e.vertexShader,fragmentShader:e.fragmentShader})),this.fsQuad=new Uc(this.material)}render(e,t,i){this.uniforms[this.textureID]&&(this.uniforms[this.textureID].value=i.texture),this.fsQuad.material=this.material,this.renderToScreen?(e.setRenderTarget(null),this.fsQuad.render(e)):(e.setRenderTarget(t),this.clear&&e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil),this.fsQuad.render(e))}}class aF extends k0{constructor(e,t){super();this.scene=e,this.camera=t,this.clear=!0,this.needsSwap=!1,this.inverse=!1}render(e,t,i){const r=e.getContext(),s=e.state;s.buffers.color.setMask(!1),s.buffers.depth.setMask(!1),s.buffers.color.setLocked(!0),s.buffers.depth.setLocked(!0);let o,a;this.inverse?(o=0,a=1):(o=1,a=0),s.buffers.stencil.setTest(!0),s.buffers.stencil.setOp(r.REPLACE,r.REPLACE,r.REPLACE),s.buffers.stencil.setFunc(r.ALWAYS,o,4294967295),s.buffers.stencil.setClear(a),s.buffers.stencil.setLocked(!0),e.setRenderTarget(i),this.clear&&e.clear(),e.render(this.scene,this.camera),e.setRenderTarget(t),this.clear&&e.clear(),e.render(this.scene,this.camera),s.buffers.color.setLocked(!1),s.buffers.depth.setLocked(!1),s.buffers.stencil.setLocked(!1),s.buffers.stencil.setFunc(r.EQUAL,1,4294967295),s.buffers.stencil.setOp(r.KEEP,r.KEEP,r.KEEP),s.buffers.stencil.setLocked(!0)}}class q0e extends k0{constructor(){super();this.needsSwap=!1}render(e){e.state.buffers.stencil.setLocked(!1),e.state.buffers.stencil.setTest(!1)}}class j0e{constructor(e,t){if(this.renderer=e,t===void 0){const i={minFilter:Ht,magFilter:Ht,format:yn},r=e.getSize(new Ie);this._pixelRatio=e.getPixelRatio(),this._width=r.width,this._height=r.height,t=new jn(this._width*this._pixelRatio,this._height*this._pixelRatio,i),t.texture.name="EffectComposer.rt1"}else this._pixelRatio=1,this._width=t.width,this._height=t.height;this.renderTarget1=t,this.renderTarget2=t.clone(),this.renderTarget2.texture.name="EffectComposer.rt2",this.writeBuffer=this.renderTarget1,this.readBuffer=this.renderTarget2,this.renderToScreen=!0,this.passes=[],Bc===void 0&&console.error("THREE.EffectComposer relies on CopyShader"),Qf===void 0&&console.error("THREE.EffectComposer relies on ShaderPass"),this.copyPass=new Qf(Bc),this.clock=new Mv}swapBuffers(){const e=this.readBuffer;this.readBuffer=this.writeBuffer,this.writeBuffer=e}addPass(e){this.passes.push(e),e.setSize(this._width*this._pixelRatio,this._height*this._pixelRatio)}insertPass(e,t){this.passes.splice(t,0,e),e.setSize(this._width*this._pixelRatio,this._height*this._pixelRatio)}removePass(e){const t=this.passes.indexOf(e);t!==-1&&this.passes.splice(t,1)}isLastEnabledPass(e){for(let t=e+1;t<this.passes.length;t++)if(this.passes[t].enabled)return!1;return!0}render(e){e===void 0&&(e=this.clock.getDelta());const t=this.renderer.getRenderTarget();let i=!1;for(let r=0,s=this.passes.length;r<s;r++){const o=this.passes[r];if(o.enabled!==!1){if(o.renderToScreen=this.renderToScreen&&this.isLastEnabledPass(r),o.render(this.renderer,this.writeBuffer,this.readBuffer,e,i),o.needsSwap){if(i){const a=this.renderer.getContext(),l=this.renderer.state.buffers.stencil;l.setFunc(a.NOTEQUAL,1,4294967295),this.copyPass.render(this.renderer,this.writeBuffer,this.readBuffer,e),l.setFunc(a.EQUAL,1,4294967295)}this.swapBuffers()}aF!==void 0&&(o instanceof aF?i=!0:o instanceof q0e&&(i=!1))}}this.renderer.setRenderTarget(t)}reset(e){if(e===void 0){const t=this.renderer.getSize(new Ie);this._pixelRatio=this.renderer.getPixelRatio(),this._width=t.width,this._height=t.height,e=this.renderTarget1.clone(),e.setSize(this._width*this._pixelRatio,this._height*this._pixelRatio)}this.renderTarget1.dispose(),this.renderTarget2.dispose(),this.renderTarget1=e,this.renderTarget2=e.clone(),this.writeBuffer=this.renderTarget1,this.readBuffer=this.renderTarget2}setSize(e,t){this._width=e,this._height=t;const i=this._width*this._pixelRatio,r=this._height*this._pixelRatio;this.renderTarget1.setSize(i,r),this.renderTarget2.setSize(i,r);for(let s=0;s<this.passes.length;s++)this.passes[s].setSize(i,r)}setPixelRatio(e){this._pixelRatio=e,this.setSize(this._width,this._height)}}new F0(-1,1,1,-1,0,1);const lF=new ot;lF.setAttribute("position",new je([-1,3,0,-1,-1,0,3,-1,0],3));lF.setAttribute("uv",new je([0,2,0,0,2,0],2));class Z0e extends k0{constructor(e,t,i,r,s){super();this.scene=e,this.camera=t,this.overrideMaterial=i,this.clearColor=r,this.clearAlpha=s!==void 0?s:0,this.clear=!0,this.clearDepth=!1,this.needsSwap=!1,this._oldClearColor=new We}render(e,t,i){const r=e.autoClear;e.autoClear=!1;let s,o;this.overrideMaterial!==void 0&&(o=this.scene.overrideMaterial,this.scene.overrideMaterial=this.overrideMaterial),this.clearColor&&(e.getClearColor(this._oldClearColor),s=e.getClearAlpha(),e.setClearColor(this.clearColor,this.clearAlpha)),this.clearDepth&&e.clearDepth(),e.setRenderTarget(this.renderToScreen?null:i),this.clear&&e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil),e.render(this.scene,this.camera),this.clearColor&&e.setClearColor(this._oldClearColor,s),this.overrideMaterial!==void 0&&(this.scene.overrideMaterial=o),e.autoClear=r}}const cF={defines:{DEPTH_PACKING:1,PERSPECTIVE_CAMERA:1},uniforms:{tColor:{value:null},tDepth:{value:null},focus:{value:1},aspect:{value:1},aperture:{value:.025},maxblur:{value:.01},nearClip:{value:1},farClip:{value:1e3}},vertexShader:`

		varying vec2 vUv;

		void main() {

			vUv = uv;
			gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );

		}`,fragmentShader:`

		#include <common>

		varying vec2 vUv;

		uniform sampler2D tColor;
		uniform sampler2D tDepth;

		uniform float maxblur; // max blur amount
		uniform float aperture; // aperture - bigger values for shallower depth of field

		uniform float nearClip;
		uniform float farClip;

		uniform float focus;
		uniform float aspect;

		#include <packing>

		float getDepth( const in vec2 screenPosition ) {
			#if DEPTH_PACKING == 1
			return unpackRGBAToDepth( texture2D( tDepth, screenPosition ) );
			#else
			return texture2D( tDepth, screenPosition ).x;
			#endif
		}

		float getViewZ( const in float depth ) {
			#if PERSPECTIVE_CAMERA == 1
			return perspectiveDepthToViewZ( depth, nearClip, farClip );
			#else
			return orthographicDepthToViewZ( depth, nearClip, farClip );
			#endif
		}


		void main() {

			vec2 aspectcorrect = vec2( 1.0, aspect );

			float viewZ = getViewZ( getDepth( vUv ) );

			float factor = ( focus + viewZ ); // viewZ is <= 0, so this is a difference equation

			vec2 dofblur = vec2 ( clamp( factor * aperture, -maxblur, maxblur ) );

			vec2 dofblur9 = dofblur * 0.9;
			vec2 dofblur7 = dofblur * 0.7;
			vec2 dofblur4 = dofblur * 0.4;

			vec4 col = vec4( 0.0 );

			col += texture2D( tColor, vUv.xy );
			col += texture2D( tColor, vUv.xy + ( vec2(  0.0,   0.4  ) * aspectcorrect ) * dofblur );
			col += texture2D( tColor, vUv.xy + ( vec2(  0.15,  0.37 ) * aspectcorrect ) * dofblur );
			col += texture2D( tColor, vUv.xy + ( vec2(  0.29,  0.29 ) * aspectcorrect ) * dofblur );
			col += texture2D( tColor, vUv.xy + ( vec2( -0.37,  0.15 ) * aspectcorrect ) * dofblur );
			col += texture2D( tColor, vUv.xy + ( vec2(  0.40,  0.0  ) * aspectcorrect ) * dofblur );
			col += texture2D( tColor, vUv.xy + ( vec2(  0.37, -0.15 ) * aspectcorrect ) * dofblur );
			col += texture2D( tColor, vUv.xy + ( vec2(  0.29, -0.29 ) * aspectcorrect ) * dofblur );
			col += texture2D( tColor, vUv.xy + ( vec2( -0.15, -0.37 ) * aspectcorrect ) * dofblur );
			col += texture2D( tColor, vUv.xy + ( vec2(  0.0,  -0.4  ) * aspectcorrect ) * dofblur );
			col += texture2D( tColor, vUv.xy + ( vec2( -0.15,  0.37 ) * aspectcorrect ) * dofblur );
			col += texture2D( tColor, vUv.xy + ( vec2( -0.29,  0.29 ) * aspectcorrect ) * dofblur );
			col += texture2D( tColor, vUv.xy + ( vec2(  0.37,  0.15 ) * aspectcorrect ) * dofblur );
			col += texture2D( tColor, vUv.xy + ( vec2( -0.4,   0.0  ) * aspectcorrect ) * dofblur );
			col += texture2D( tColor, vUv.xy + ( vec2( -0.37, -0.15 ) * aspectcorrect ) * dofblur );
			col += texture2D( tColor, vUv.xy + ( vec2( -0.29, -0.29 ) * aspectcorrect ) * dofblur );
			col += texture2D( tColor, vUv.xy + ( vec2(  0.15, -0.37 ) * aspectcorrect ) * dofblur );

			col += texture2D( tColor, vUv.xy + ( vec2(  0.15,  0.37 ) * aspectcorrect ) * dofblur9 );
			col += texture2D( tColor, vUv.xy + ( vec2( -0.37,  0.15 ) * aspectcorrect ) * dofblur9 );
			col += texture2D( tColor, vUv.xy + ( vec2(  0.37, -0.15 ) * aspectcorrect ) * dofblur9 );
			col += texture2D( tColor, vUv.xy + ( vec2( -0.15, -0.37 ) * aspectcorrect ) * dofblur9 );
			col += texture2D( tColor, vUv.xy + ( vec2( -0.15,  0.37 ) * aspectcorrect ) * dofblur9 );
			col += texture2D( tColor, vUv.xy + ( vec2(  0.37,  0.15 ) * aspectcorrect ) * dofblur9 );
			col += texture2D( tColor, vUv.xy + ( vec2( -0.37, -0.15 ) * aspectcorrect ) * dofblur9 );
			col += texture2D( tColor, vUv.xy + ( vec2(  0.15, -0.37 ) * aspectcorrect ) * dofblur9 );

			col += texture2D( tColor, vUv.xy + ( vec2(  0.29,  0.29 ) * aspectcorrect ) * dofblur7 );
			col += texture2D( tColor, vUv.xy + ( vec2(  0.40,  0.0  ) * aspectcorrect ) * dofblur7 );
			col += texture2D( tColor, vUv.xy + ( vec2(  0.29, -0.29 ) * aspectcorrect ) * dofblur7 );
			col += texture2D( tColor, vUv.xy + ( vec2(  0.0,  -0.4  ) * aspectcorrect ) * dofblur7 );
			col += texture2D( tColor, vUv.xy + ( vec2( -0.29,  0.29 ) * aspectcorrect ) * dofblur7 );
			col += texture2D( tColor, vUv.xy + ( vec2( -0.4,   0.0  ) * aspectcorrect ) * dofblur7 );
			col += texture2D( tColor, vUv.xy + ( vec2( -0.29, -0.29 ) * aspectcorrect ) * dofblur7 );
			col += texture2D( tColor, vUv.xy + ( vec2(  0.0,   0.4  ) * aspectcorrect ) * dofblur7 );

			col += texture2D( tColor, vUv.xy + ( vec2(  0.29,  0.29 ) * aspectcorrect ) * dofblur4 );
			col += texture2D( tColor, vUv.xy + ( vec2(  0.4,   0.0  ) * aspectcorrect ) * dofblur4 );
			col += texture2D( tColor, vUv.xy + ( vec2(  0.29, -0.29 ) * aspectcorrect ) * dofblur4 );
			col += texture2D( tColor, vUv.xy + ( vec2(  0.0,  -0.4  ) * aspectcorrect ) * dofblur4 );
			col += texture2D( tColor, vUv.xy + ( vec2( -0.29,  0.29 ) * aspectcorrect ) * dofblur4 );
			col += texture2D( tColor, vUv.xy + ( vec2( -0.4,   0.0  ) * aspectcorrect ) * dofblur4 );
			col += texture2D( tColor, vUv.xy + ( vec2( -0.29, -0.29 ) * aspectcorrect ) * dofblur4 );
			col += texture2D( tColor, vUv.xy + ( vec2(  0.0,   0.4  ) * aspectcorrect ) * dofblur4 );

			gl_FragColor = col / 41.0;
			gl_FragColor.a = 1.0;

		}`};class Q0e extends k0{constructor(e,t,i){super();this.scene=e,this.camera=t;const r=i.focus!==void 0?i.focus:1,s=i.aspect!==void 0?i.aspect:t.aspect,o=i.aperture!==void 0?i.aperture:.025,a=i.maxblur!==void 0?i.maxblur:1,l=i.width||window.innerWidth||1,c=i.height||window.innerHeight||1;this.renderTargetDepth=new jn(l,c,{minFilter:Qt,magFilter:Qt}),this.renderTargetDepth.texture.name="BokehPass.depth",this.materialDepth=new v1,this.materialDepth.depthPacking=a7,this.materialDepth.blending=pi,cF===void 0&&console.error("THREE.BokehPass relies on BokehShader");const u=cF,f=Ii.clone(u.uniforms);f.tDepth.value=this.renderTargetDepth.texture,f.focus.value=r,f.aspect.value=s,f.aperture.value=o,f.maxblur.value=a,f.nearClip.value=t.near,f.farClip.value=t.far,this.materialBokeh=new cn({defines:Object.assign({},u.defines),uniforms:f,vertexShader:u.vertexShader,fragmentShader:u.fragmentShader}),this.uniforms=f,this.needsSwap=!1,this.fsQuad=new Uc(this.materialBokeh),this._oldClearColor=new We}render(e,t,i){this.scene.overrideMaterial=this.materialDepth,e.getClearColor(this._oldClearColor);const r=e.getClearAlpha(),s=e.autoClear;e.autoClear=!1,e.setClearColor(16777215),e.setClearAlpha(1),e.setRenderTarget(this.renderTargetDepth),e.clear(),e.render(this.scene,this.camera),this.uniforms.tColor.value=i.texture,this.uniforms.nearClip.value=this.camera.near,this.uniforms.farClip.value=this.camera.far,this.renderToScreen?(e.setRenderTarget(null),this.fsQuad.render(e)):(e.setRenderTarget(t),e.clear(),this.fsQuad.render(e)),this.scene.overrideMaterial=null,e.setClearColor(this._oldClearColor),e.setClearAlpha(r),e.autoClear=s}}const uF={uniforms:{tDiffuse:{value:null},time:{value:0},nIntensity:{value:.5},sIntensity:{value:.05},sCount:{value:4096},grayscale:{value:1}},vertexShader:`

		varying vec2 vUv;

		void main() {

			vUv = uv;
			gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );

		}`,fragmentShader:`

		#include <common>

		// control parameter
		uniform float time;

		uniform bool grayscale;

		// noise effect intensity value (0 = no effect, 1 = full effect)
		uniform float nIntensity;

		// scanlines effect intensity value (0 = no effect, 1 = full effect)
		uniform float sIntensity;

		// scanlines effect count value (0 = no effect, 4096 = full effect)
		uniform float sCount;

		uniform sampler2D tDiffuse;

		varying vec2 vUv;

		void main() {

		// sample the source
			vec4 cTextureScreen = texture2D( tDiffuse, vUv );

		// make some noise
			float dx = rand( vUv + time );

		// add noise
			vec3 cResult = cTextureScreen.rgb + cTextureScreen.rgb * clamp( 0.1 + dx, 0.0, 1.0 );

		// get us a sine and cosine
			vec2 sc = vec2( sin( vUv.y * sCount ), cos( vUv.y * sCount ) );

		// add scanlines
			cResult += cTextureScreen.rgb * vec3( sc.x, sc.y, sc.x ) * sIntensity;

		// interpolate between source and result by intensity
			cResult = cTextureScreen.rgb + clamp( nIntensity, 0.0,1.0 ) * ( cResult - cTextureScreen.rgb );

		// convert to grayscale if desired
			if( grayscale ) {

				cResult = vec3( cResult.r * 0.3 + cResult.g * 0.59 + cResult.b * 0.11 );

			}

			gl_FragColor =  vec4( cResult, cTextureScreen.a );

		}`};class J0e extends k0{constructor(e,t,i,r){super();uF===void 0&&console.error("THREE.FilmPass relies on FilmShader");const s=uF;this.uniforms=Ii.clone(s.uniforms),this.material=new cn({uniforms:this.uniforms,vertexShader:s.vertexShader,fragmentShader:s.fragmentShader}),r!==void 0&&(this.uniforms.grayscale.value=r),e!==void 0&&(this.uniforms.nIntensity.value=e),t!==void 0&&(this.uniforms.sIntensity.value=t),i!==void 0&&(this.uniforms.sCount.value=i),this.fsQuad=new Uc(this.material)}render(e,t,i,r){this.uniforms.tDiffuse.value=i.texture,this.uniforms.time.value+=r,this.renderToScreen?(e.setRenderTarget(null),this.fsQuad.render(e)):(e.setRenderTarget(t),this.clear&&e.clear(),this.fsQuad.render(e))}}const K0e={uniforms:{tDiffuse:{value:null},resolution:{value:new Ie(1/1024,1/512)}},vertexShader:`

		varying vec2 vUv;

		void main() {

			vUv = uv;
			gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );

		}`,fragmentShader:`

		precision highp float;

		uniform sampler2D tDiffuse;

		uniform vec2 resolution;

		varying vec2 vUv;

		#define FXAA_PC 1
		#define FXAA_GLSL_100 1
		#define FXAA_QUALITY_PRESET 12

		#define FXAA_GREEN_AS_LUMA 1

		/*--------------------------------------------------------------------------*/
		#ifndef FXAA_PC_CONSOLE
				//
				// The console algorithm for PC is included
				// for developers targeting really low spec machines.
				// Likely better to just run FXAA_PC, and use a really low preset.
				//
				#define FXAA_PC_CONSOLE 0
		#endif
		/*--------------------------------------------------------------------------*/
		#ifndef FXAA_GLSL_120
				#define FXAA_GLSL_120 0
		#endif
		/*--------------------------------------------------------------------------*/
		#ifndef FXAA_GLSL_130
				#define FXAA_GLSL_130 0
		#endif
		/*--------------------------------------------------------------------------*/
		#ifndef FXAA_HLSL_3
				#define FXAA_HLSL_3 0
		#endif
		/*--------------------------------------------------------------------------*/
		#ifndef FXAA_HLSL_4
				#define FXAA_HLSL_4 0
		#endif
		/*--------------------------------------------------------------------------*/
		#ifndef FXAA_HLSL_5
				#define FXAA_HLSL_5 0
		#endif
		/*==========================================================================*/
		#ifndef FXAA_GREEN_AS_LUMA
				//
				// For those using non-linear color,
				// and either not able to get luma in alpha, or not wanting to,
				// this enables FXAA to run using green as a proxy for luma.
				// So with this enabled, no need to pack luma in alpha.
				//
				// This will turn off AA on anything which lacks some amount of green.
				// Pure red and blue or combination of only R and B, will get no AA.
				//
				// Might want to lower the settings for both,
				//		fxaaConsoleEdgeThresholdMin
				//		fxaaQualityEdgeThresholdMin
				// In order to insure AA does not get turned off on colors
				// which contain a minor amount of green.
				//
				// 1 = On.
				// 0 = Off.
				//
				#define FXAA_GREEN_AS_LUMA 0
		#endif
		/*--------------------------------------------------------------------------*/
		#ifndef FXAA_EARLY_EXIT
				//
				// Controls algorithm's early exit path.
				// On PS3 turning this ON adds 2 cycles to the shader.
				// On 360 turning this OFF adds 10ths of a millisecond to the shader.
				// Turning this off on console will result in a more blurry image.
				// So this defaults to on.
				//
				// 1 = On.
				// 0 = Off.
				//
				#define FXAA_EARLY_EXIT 1
		#endif
		/*--------------------------------------------------------------------------*/
		#ifndef FXAA_DISCARD
				//
				// Only valid for PC OpenGL currently.
				// Probably will not work when FXAA_GREEN_AS_LUMA = 1.
				//
				// 1 = Use discard on pixels which don't need AA.
				//		 For APIs which enable concurrent TEX+ROP from same surface.
				// 0 = Return unchanged color on pixels which don't need AA.
				//
				#define FXAA_DISCARD 0
		#endif
		/*--------------------------------------------------------------------------*/
		#ifndef FXAA_FAST_PIXEL_OFFSET
				//
				// Used for GLSL 120 only.
				//
				// 1 = GL API supports fast pixel offsets
				// 0 = do not use fast pixel offsets
				//
				#ifdef GL_EXT_gpu_shader4
						#define FXAA_FAST_PIXEL_OFFSET 1
				#endif
				#ifdef GL_NV_gpu_shader5
						#define FXAA_FAST_PIXEL_OFFSET 1
				#endif
				#ifdef GL_ARB_gpu_shader5
						#define FXAA_FAST_PIXEL_OFFSET 1
				#endif
				#ifndef FXAA_FAST_PIXEL_OFFSET
						#define FXAA_FAST_PIXEL_OFFSET 0
				#endif
		#endif
		/*--------------------------------------------------------------------------*/
		#ifndef FXAA_GATHER4_ALPHA
				//
				// 1 = API supports gather4 on alpha channel.
				// 0 = API does not support gather4 on alpha channel.
				//
				#if (FXAA_HLSL_5 == 1)
						#define FXAA_GATHER4_ALPHA 1
				#endif
				#ifdef GL_ARB_gpu_shader5
						#define FXAA_GATHER4_ALPHA 1
				#endif
				#ifdef GL_NV_gpu_shader5
						#define FXAA_GATHER4_ALPHA 1
				#endif
				#ifndef FXAA_GATHER4_ALPHA
						#define FXAA_GATHER4_ALPHA 0
				#endif
		#endif


		/*============================================================================
														FXAA QUALITY - TUNING KNOBS
		------------------------------------------------------------------------------
		NOTE the other tuning knobs are now in the shader function inputs!
		============================================================================*/
		#ifndef FXAA_QUALITY_PRESET
				//
				// Choose the quality preset.
				// This needs to be compiled into the shader as it effects code.
				// Best option to include multiple presets is to
				// in each shader define the preset, then include this file.
				//
				// OPTIONS
				// -----------------------------------------------------------------------
				// 10 to 15 - default medium dither (10=fastest, 15=highest quality)
				// 20 to 29 - less dither, more expensive (20=fastest, 29=highest quality)
				// 39			 - no dither, very expensive
				//
				// NOTES
				// -----------------------------------------------------------------------
				// 12 = slightly faster then FXAA 3.9 and higher edge quality (default)
				// 13 = about same speed as FXAA 3.9 and better than 12
				// 23 = closest to FXAA 3.9 visually and performance wise
				//	_ = the lowest digit is directly related to performance
				// _	= the highest digit is directly related to style
				//
				#define FXAA_QUALITY_PRESET 12
		#endif


		/*============================================================================

															 FXAA QUALITY - PRESETS

		============================================================================*/

		/*============================================================================
												 FXAA QUALITY - MEDIUM DITHER PRESETS
		============================================================================*/
		#if (FXAA_QUALITY_PRESET == 10)
				#define FXAA_QUALITY_PS 3
				#define FXAA_QUALITY_P0 1.5
				#define FXAA_QUALITY_P1 3.0
				#define FXAA_QUALITY_P2 12.0
		#endif
		/*--------------------------------------------------------------------------*/
		#if (FXAA_QUALITY_PRESET == 11)
				#define FXAA_QUALITY_PS 4
				#define FXAA_QUALITY_P0 1.0
				#define FXAA_QUALITY_P1 1.5
				#define FXAA_QUALITY_P2 3.0
				#define FXAA_QUALITY_P3 12.0
		#endif
		/*--------------------------------------------------------------------------*/
		#if (FXAA_QUALITY_PRESET == 12)
				#define FXAA_QUALITY_PS 5
				#define FXAA_QUALITY_P0 1.0
				#define FXAA_QUALITY_P1 1.5
				#define FXAA_QUALITY_P2 2.0
				#define FXAA_QUALITY_P3 4.0
				#define FXAA_QUALITY_P4 12.0
		#endif
		/*--------------------------------------------------------------------------*/
		#if (FXAA_QUALITY_PRESET == 13)
				#define FXAA_QUALITY_PS 6
				#define FXAA_QUALITY_P0 1.0
				#define FXAA_QUALITY_P1 1.5
				#define FXAA_QUALITY_P2 2.0
				#define FXAA_QUALITY_P3 2.0
				#define FXAA_QUALITY_P4 4.0
				#define FXAA_QUALITY_P5 12.0
		#endif
		/*--------------------------------------------------------------------------*/
		#if (FXAA_QUALITY_PRESET == 14)
				#define FXAA_QUALITY_PS 7
				#define FXAA_QUALITY_P0 1.0
				#define FXAA_QUALITY_P1 1.5
				#define FXAA_QUALITY_P2 2.0
				#define FXAA_QUALITY_P3 2.0
				#define FXAA_QUALITY_P4 2.0
				#define FXAA_QUALITY_P5 4.0
				#define FXAA_QUALITY_P6 12.0
		#endif
		/*--------------------------------------------------------------------------*/
		#if (FXAA_QUALITY_PRESET == 15)
				#define FXAA_QUALITY_PS 8
				#define FXAA_QUALITY_P0 1.0
				#define FXAA_QUALITY_P1 1.5
				#define FXAA_QUALITY_P2 2.0
				#define FXAA_QUALITY_P3 2.0
				#define FXAA_QUALITY_P4 2.0
				#define FXAA_QUALITY_P5 2.0
				#define FXAA_QUALITY_P6 4.0
				#define FXAA_QUALITY_P7 12.0
		#endif

		/*============================================================================
												 FXAA QUALITY - LOW DITHER PRESETS
		============================================================================*/
		#if (FXAA_QUALITY_PRESET == 20)
				#define FXAA_QUALITY_PS 3
				#define FXAA_QUALITY_P0 1.5
				#define FXAA_QUALITY_P1 2.0
				#define FXAA_QUALITY_P2 8.0
		#endif
		/*--------------------------------------------------------------------------*/
		#if (FXAA_QUALITY_PRESET == 21)
				#define FXAA_QUALITY_PS 4
				#define FXAA_QUALITY_P0 1.0
				#define FXAA_QUALITY_P1 1.5
				#define FXAA_QUALITY_P2 2.0
				#define FXAA_QUALITY_P3 8.0
		#endif
		/*--------------------------------------------------------------------------*/
		#if (FXAA_QUALITY_PRESET == 22)
				#define FXAA_QUALITY_PS 5
				#define FXAA_QUALITY_P0 1.0
				#define FXAA_QUALITY_P1 1.5
				#define FXAA_QUALITY_P2 2.0
				#define FXAA_QUALITY_P3 2.0
				#define FXAA_QUALITY_P4 8.0
		#endif
		/*--------------------------------------------------------------------------*/
		#if (FXAA_QUALITY_PRESET == 23)
				#define FXAA_QUALITY_PS 6
				#define FXAA_QUALITY_P0 1.0
				#define FXAA_QUALITY_P1 1.5
				#define FXAA_QUALITY_P2 2.0
				#define FXAA_QUALITY_P3 2.0
				#define FXAA_QUALITY_P4 2.0
				#define FXAA_QUALITY_P5 8.0
		#endif
		/*--------------------------------------------------------------------------*/
		#if (FXAA_QUALITY_PRESET == 24)
				#define FXAA_QUALITY_PS 7
				#define FXAA_QUALITY_P0 1.0
				#define FXAA_QUALITY_P1 1.5
				#define FXAA_QUALITY_P2 2.0
				#define FXAA_QUALITY_P3 2.0
				#define FXAA_QUALITY_P4 2.0
				#define FXAA_QUALITY_P5 3.0
				#define FXAA_QUALITY_P6 8.0
		#endif
		/*--------------------------------------------------------------------------*/
		#if (FXAA_QUALITY_PRESET == 25)
				#define FXAA_QUALITY_PS 8
				#define FXAA_QUALITY_P0 1.0
				#define FXAA_QUALITY_P1 1.5
				#define FXAA_QUALITY_P2 2.0
				#define FXAA_QUALITY_P3 2.0
				#define FXAA_QUALITY_P4 2.0
				#define FXAA_QUALITY_P5 2.0
				#define FXAA_QUALITY_P6 4.0
				#define FXAA_QUALITY_P7 8.0
		#endif
		/*--------------------------------------------------------------------------*/
		#if (FXAA_QUALITY_PRESET == 26)
				#define FXAA_QUALITY_PS 9
				#define FXAA_QUALITY_P0 1.0
				#define FXAA_QUALITY_P1 1.5
				#define FXAA_QUALITY_P2 2.0
				#define FXAA_QUALITY_P3 2.0
				#define FXAA_QUALITY_P4 2.0
				#define FXAA_QUALITY_P5 2.0
				#define FXAA_QUALITY_P6 2.0
				#define FXAA_QUALITY_P7 4.0
				#define FXAA_QUALITY_P8 8.0
		#endif
		/*--------------------------------------------------------------------------*/
		#if (FXAA_QUALITY_PRESET == 27)
				#define FXAA_QUALITY_PS 10
				#define FXAA_QUALITY_P0 1.0
				#define FXAA_QUALITY_P1 1.5
				#define FXAA_QUALITY_P2 2.0
				#define FXAA_QUALITY_P3 2.0
				#define FXAA_QUALITY_P4 2.0
				#define FXAA_QUALITY_P5 2.0
				#define FXAA_QUALITY_P6 2.0
				#define FXAA_QUALITY_P7 2.0
				#define FXAA_QUALITY_P8 4.0
				#define FXAA_QUALITY_P9 8.0
		#endif
		/*--------------------------------------------------------------------------*/
		#if (FXAA_QUALITY_PRESET == 28)
				#define FXAA_QUALITY_PS 11
				#define FXAA_QUALITY_P0 1.0
				#define FXAA_QUALITY_P1 1.5
				#define FXAA_QUALITY_P2 2.0
				#define FXAA_QUALITY_P3 2.0
				#define FXAA_QUALITY_P4 2.0
				#define FXAA_QUALITY_P5 2.0
				#define FXAA_QUALITY_P6 2.0
				#define FXAA_QUALITY_P7 2.0
				#define FXAA_QUALITY_P8 2.0
				#define FXAA_QUALITY_P9 4.0
				#define FXAA_QUALITY_P10 8.0
		#endif
		/*--------------------------------------------------------------------------*/
		#if (FXAA_QUALITY_PRESET == 29)
				#define FXAA_QUALITY_PS 12
				#define FXAA_QUALITY_P0 1.0
				#define FXAA_QUALITY_P1 1.5
				#define FXAA_QUALITY_P2 2.0
				#define FXAA_QUALITY_P3 2.0
				#define FXAA_QUALITY_P4 2.0
				#define FXAA_QUALITY_P5 2.0
				#define FXAA_QUALITY_P6 2.0
				#define FXAA_QUALITY_P7 2.0
				#define FXAA_QUALITY_P8 2.0
				#define FXAA_QUALITY_P9 2.0
				#define FXAA_QUALITY_P10 4.0
				#define FXAA_QUALITY_P11 8.0
		#endif

		/*============================================================================
												 FXAA QUALITY - EXTREME QUALITY
		============================================================================*/
		#if (FXAA_QUALITY_PRESET == 39)
				#define FXAA_QUALITY_PS 12
				#define FXAA_QUALITY_P0 1.0
				#define FXAA_QUALITY_P1 1.0
				#define FXAA_QUALITY_P2 1.0
				#define FXAA_QUALITY_P3 1.0
				#define FXAA_QUALITY_P4 1.0
				#define FXAA_QUALITY_P5 1.5
				#define FXAA_QUALITY_P6 2.0
				#define FXAA_QUALITY_P7 2.0
				#define FXAA_QUALITY_P8 2.0
				#define FXAA_QUALITY_P9 2.0
				#define FXAA_QUALITY_P10 4.0
				#define FXAA_QUALITY_P11 8.0
		#endif



		/*============================================================================

																		API PORTING

		============================================================================*/
		#if (FXAA_GLSL_100 == 1) || (FXAA_GLSL_120 == 1) || (FXAA_GLSL_130 == 1)
				#define FxaaBool bool
				#define FxaaDiscard discard
				#define FxaaFloat float
				#define FxaaFloat2 vec2
				#define FxaaFloat3 vec3
				#define FxaaFloat4 vec4
				#define FxaaHalf float
				#define FxaaHalf2 vec2
				#define FxaaHalf3 vec3
				#define FxaaHalf4 vec4
				#define FxaaInt2 ivec2
				#define FxaaSat(x) clamp(x, 0.0, 1.0)
				#define FxaaTex sampler2D
		#else
				#define FxaaBool bool
				#define FxaaDiscard clip(-1)
				#define FxaaFloat float
				#define FxaaFloat2 float2
				#define FxaaFloat3 float3
				#define FxaaFloat4 float4
				#define FxaaHalf half
				#define FxaaHalf2 half2
				#define FxaaHalf3 half3
				#define FxaaHalf4 half4
				#define FxaaSat(x) saturate(x)
		#endif
		/*--------------------------------------------------------------------------*/
		#if (FXAA_GLSL_100 == 1)
			#define FxaaTexTop(t, p) texture2D(t, p, 0.0)
			#define FxaaTexOff(t, p, o, r) texture2D(t, p + (o * r), 0.0)
		#endif
		/*--------------------------------------------------------------------------*/
		#if (FXAA_GLSL_120 == 1)
				// Requires,
				//	#version 120
				// And at least,
				//	#extension GL_EXT_gpu_shader4 : enable
				//	(or set FXAA_FAST_PIXEL_OFFSET 1 to work like DX9)
				#define FxaaTexTop(t, p) texture2DLod(t, p, 0.0)
				#if (FXAA_FAST_PIXEL_OFFSET == 1)
						#define FxaaTexOff(t, p, o, r) texture2DLodOffset(t, p, 0.0, o)
				#else
						#define FxaaTexOff(t, p, o, r) texture2DLod(t, p + (o * r), 0.0)
				#endif
				#if (FXAA_GATHER4_ALPHA == 1)
						// use #extension GL_ARB_gpu_shader5 : enable
						#define FxaaTexAlpha4(t, p) textureGather(t, p, 3)
						#define FxaaTexOffAlpha4(t, p, o) textureGatherOffset(t, p, o, 3)
						#define FxaaTexGreen4(t, p) textureGather(t, p, 1)
						#define FxaaTexOffGreen4(t, p, o) textureGatherOffset(t, p, o, 1)
				#endif
		#endif
		/*--------------------------------------------------------------------------*/
		#if (FXAA_GLSL_130 == 1)
				// Requires "#version 130" or better
				#define FxaaTexTop(t, p) textureLod(t, p, 0.0)
				#define FxaaTexOff(t, p, o, r) textureLodOffset(t, p, 0.0, o)
				#if (FXAA_GATHER4_ALPHA == 1)
						// use #extension GL_ARB_gpu_shader5 : enable
						#define FxaaTexAlpha4(t, p) textureGather(t, p, 3)
						#define FxaaTexOffAlpha4(t, p, o) textureGatherOffset(t, p, o, 3)
						#define FxaaTexGreen4(t, p) textureGather(t, p, 1)
						#define FxaaTexOffGreen4(t, p, o) textureGatherOffset(t, p, o, 1)
				#endif
		#endif
		/*--------------------------------------------------------------------------*/
		#if (FXAA_HLSL_3 == 1)
				#define FxaaInt2 float2
				#define FxaaTex sampler2D
				#define FxaaTexTop(t, p) tex2Dlod(t, float4(p, 0.0, 0.0))
				#define FxaaTexOff(t, p, o, r) tex2Dlod(t, float4(p + (o * r), 0, 0))
		#endif
		/*--------------------------------------------------------------------------*/
		#if (FXAA_HLSL_4 == 1)
				#define FxaaInt2 int2
				struct FxaaTex { SamplerState smpl; Texture2D tex; };
				#define FxaaTexTop(t, p) t.tex.SampleLevel(t.smpl, p, 0.0)
				#define FxaaTexOff(t, p, o, r) t.tex.SampleLevel(t.smpl, p, 0.0, o)
		#endif
		/*--------------------------------------------------------------------------*/
		#if (FXAA_HLSL_5 == 1)
				#define FxaaInt2 int2
				struct FxaaTex { SamplerState smpl; Texture2D tex; };
				#define FxaaTexTop(t, p) t.tex.SampleLevel(t.smpl, p, 0.0)
				#define FxaaTexOff(t, p, o, r) t.tex.SampleLevel(t.smpl, p, 0.0, o)
				#define FxaaTexAlpha4(t, p) t.tex.GatherAlpha(t.smpl, p)
				#define FxaaTexOffAlpha4(t, p, o) t.tex.GatherAlpha(t.smpl, p, o)
				#define FxaaTexGreen4(t, p) t.tex.GatherGreen(t.smpl, p)
				#define FxaaTexOffGreen4(t, p, o) t.tex.GatherGreen(t.smpl, p, o)
		#endif


		/*============================================================================
											 GREEN AS LUMA OPTION SUPPORT FUNCTION
		============================================================================*/
		#if (FXAA_GREEN_AS_LUMA == 0)
				FxaaFloat FxaaLuma(FxaaFloat4 rgba) { return rgba.w; }
		#else
				FxaaFloat FxaaLuma(FxaaFloat4 rgba) { return rgba.y; }
		#endif




		/*============================================================================

																 FXAA3 QUALITY - PC

		============================================================================*/
		#if (FXAA_PC == 1)
		/*--------------------------------------------------------------------------*/
		FxaaFloat4 FxaaPixelShader(
				//
				// Use noperspective interpolation here (turn off perspective interpolation).
				// {xy} = center of pixel
				FxaaFloat2 pos,
				//
				// Used only for FXAA Console, and not used on the 360 version.
				// Use noperspective interpolation here (turn off perspective interpolation).
				// {xy_} = upper left of pixel
				// {_zw} = lower right of pixel
				FxaaFloat4 fxaaConsolePosPos,
				//
				// Input color texture.
				// {rgb_} = color in linear or perceptual color space
				// if (FXAA_GREEN_AS_LUMA == 0)
				//		 {__a} = luma in perceptual color space (not linear)
				FxaaTex tex,
				//
				// Only used on the optimized 360 version of FXAA Console.
				// For everything but 360, just use the same input here as for "tex".
				// For 360, same texture, just alias with a 2nd sampler.
				// This sampler needs to have an exponent bias of -1.
				FxaaTex fxaaConsole360TexExpBiasNegOne,
				//
				// Only used on the optimized 360 version of FXAA Console.
				// For everything but 360, just use the same input here as for "tex".
				// For 360, same texture, just alias with a 3nd sampler.
				// This sampler needs to have an exponent bias of -2.
				FxaaTex fxaaConsole360TexExpBiasNegTwo,
				//
				// Only used on FXAA Quality.
				// This must be from a constant/uniform.
				// {x_} = 1.0/screenWidthInPixels
				// {_y} = 1.0/screenHeightInPixels
				FxaaFloat2 fxaaQualityRcpFrame,
				//
				// Only used on FXAA Console.
				// This must be from a constant/uniform.
				// This effects sub-pixel AA quality and inversely sharpness.
				//	 Where N ranges between,
				//		 N = 0.50 (default)
				//		 N = 0.33 (sharper)
				// {x__} = -N/screenWidthInPixels
				// {_y_} = -N/screenHeightInPixels
				// {_z_} =	N/screenWidthInPixels
				// {__w} =	N/screenHeightInPixels
				FxaaFloat4 fxaaConsoleRcpFrameOpt,
				//
				// Only used on FXAA Console.
				// Not used on 360, but used on PS3 and PC.
				// This must be from a constant/uniform.
				// {x__} = -2.0/screenWidthInPixels
				// {_y_} = -2.0/screenHeightInPixels
				// {_z_} =	2.0/screenWidthInPixels
				// {__w} =	2.0/screenHeightInPixels
				FxaaFloat4 fxaaConsoleRcpFrameOpt2,
				//
				// Only used on FXAA Console.
				// Only used on 360 in place of fxaaConsoleRcpFrameOpt2.
				// This must be from a constant/uniform.
				// {x__} =	8.0/screenWidthInPixels
				// {_y_} =	8.0/screenHeightInPixels
				// {_z_} = -4.0/screenWidthInPixels
				// {__w} = -4.0/screenHeightInPixels
				FxaaFloat4 fxaaConsole360RcpFrameOpt2,
				//
				// Only used on FXAA Quality.
				// This used to be the FXAA_QUALITY_SUBPIX define.
				// It is here now to allow easier tuning.
				// Choose the amount of sub-pixel aliasing removal.
				// This can effect sharpness.
				//	 1.00 - upper limit (softer)
				//	 0.75 - default amount of filtering
				//	 0.50 - lower limit (sharper, less sub-pixel aliasing removal)
				//	 0.25 - almost off
				//	 0.00 - completely off
				FxaaFloat fxaaQualitySubpix,
				//
				// Only used on FXAA Quality.
				// This used to be the FXAA_QUALITY_EDGE_THRESHOLD define.
				// It is here now to allow easier tuning.
				// The minimum amount of local contrast required to apply algorithm.
				//	 0.333 - too little (faster)
				//	 0.250 - low quality
				//	 0.166 - default
				//	 0.125 - high quality
				//	 0.063 - overkill (slower)
				FxaaFloat fxaaQualityEdgeThreshold,
				//
				// Only used on FXAA Quality.
				// This used to be the FXAA_QUALITY_EDGE_THRESHOLD_MIN define.
				// It is here now to allow easier tuning.
				// Trims the algorithm from processing darks.
				//	 0.0833 - upper limit (default, the start of visible unfiltered edges)
				//	 0.0625 - high quality (faster)
				//	 0.0312 - visible limit (slower)
				// Special notes when using FXAA_GREEN_AS_LUMA,
				//	 Likely want to set this to zero.
				//	 As colors that are mostly not-green
				//	 will appear very dark in the green channel!
				//	 Tune by looking at mostly non-green content,
				//	 then start at zero and increase until aliasing is a problem.
				FxaaFloat fxaaQualityEdgeThresholdMin,
				//
				// Only used on FXAA Console.
				// This used to be the FXAA_CONSOLE_EDGE_SHARPNESS define.
				// It is here now to allow easier tuning.
				// This does not effect PS3, as this needs to be compiled in.
				//	 Use FXAA_CONSOLE_PS3_EDGE_SHARPNESS for PS3.
				//	 Due to the PS3 being ALU bound,
				//	 there are only three safe values here: 2 and 4 and 8.
				//	 These options use the shaders ability to a free *|/ by 2|4|8.
				// For all other platforms can be a non-power of two.
				//	 8.0 is sharper (default!!!)
				//	 4.0 is softer
				//	 2.0 is really soft (good only for vector graphics inputs)
				FxaaFloat fxaaConsoleEdgeSharpness,
				//
				// Only used on FXAA Console.
				// This used to be the FXAA_CONSOLE_EDGE_THRESHOLD define.
				// It is here now to allow easier tuning.
				// This does not effect PS3, as this needs to be compiled in.
				//	 Use FXAA_CONSOLE_PS3_EDGE_THRESHOLD for PS3.
				//	 Due to the PS3 being ALU bound,
				//	 there are only two safe values here: 1/4 and 1/8.
				//	 These options use the shaders ability to a free *|/ by 2|4|8.
				// The console setting has a different mapping than the quality setting.
				// Other platforms can use other values.
				//	 0.125 leaves less aliasing, but is softer (default!!!)
				//	 0.25 leaves more aliasing, and is sharper
				FxaaFloat fxaaConsoleEdgeThreshold,
				//
				// Only used on FXAA Console.
				// This used to be the FXAA_CONSOLE_EDGE_THRESHOLD_MIN define.
				// It is here now to allow easier tuning.
				// Trims the algorithm from processing darks.
				// The console setting has a different mapping than the quality setting.
				// This only applies when FXAA_EARLY_EXIT is 1.
				// This does not apply to PS3,
				// PS3 was simplified to avoid more shader instructions.
				//	 0.06 - faster but more aliasing in darks
				//	 0.05 - default
				//	 0.04 - slower and less aliasing in darks
				// Special notes when using FXAA_GREEN_AS_LUMA,
				//	 Likely want to set this to zero.
				//	 As colors that are mostly not-green
				//	 will appear very dark in the green channel!
				//	 Tune by looking at mostly non-green content,
				//	 then start at zero and increase until aliasing is a problem.
				FxaaFloat fxaaConsoleEdgeThresholdMin,
				//
				// Extra constants for 360 FXAA Console only.
				// Use zeros or anything else for other platforms.
				// These must be in physical constant registers and NOT immediates.
				// Immediates will result in compiler un-optimizing.
				// {xyzw} = float4(1.0, -1.0, 0.25, -0.25)
				FxaaFloat4 fxaaConsole360ConstDir
		) {
		/*--------------------------------------------------------------------------*/
				FxaaFloat2 posM;
				posM.x = pos.x;
				posM.y = pos.y;
				#if (FXAA_GATHER4_ALPHA == 1)
						#if (FXAA_DISCARD == 0)
								FxaaFloat4 rgbyM = FxaaTexTop(tex, posM);
								#if (FXAA_GREEN_AS_LUMA == 0)
										#define lumaM rgbyM.w
								#else
										#define lumaM rgbyM.y
								#endif
						#endif
						#if (FXAA_GREEN_AS_LUMA == 0)
								FxaaFloat4 luma4A = FxaaTexAlpha4(tex, posM);
								FxaaFloat4 luma4B = FxaaTexOffAlpha4(tex, posM, FxaaInt2(-1, -1));
						#else
								FxaaFloat4 luma4A = FxaaTexGreen4(tex, posM);
								FxaaFloat4 luma4B = FxaaTexOffGreen4(tex, posM, FxaaInt2(-1, -1));
						#endif
						#if (FXAA_DISCARD == 1)
								#define lumaM luma4A.w
						#endif
						#define lumaE luma4A.z
						#define lumaS luma4A.x
						#define lumaSE luma4A.y
						#define lumaNW luma4B.w
						#define lumaN luma4B.z
						#define lumaW luma4B.x
				#else
						FxaaFloat4 rgbyM = FxaaTexTop(tex, posM);
						#if (FXAA_GREEN_AS_LUMA == 0)
								#define lumaM rgbyM.w
						#else
								#define lumaM rgbyM.y
						#endif
						#if (FXAA_GLSL_100 == 1)
							FxaaFloat lumaS = FxaaLuma(FxaaTexOff(tex, posM, FxaaFloat2( 0.0, 1.0), fxaaQualityRcpFrame.xy));
							FxaaFloat lumaE = FxaaLuma(FxaaTexOff(tex, posM, FxaaFloat2( 1.0, 0.0), fxaaQualityRcpFrame.xy));
							FxaaFloat lumaN = FxaaLuma(FxaaTexOff(tex, posM, FxaaFloat2( 0.0,-1.0), fxaaQualityRcpFrame.xy));
							FxaaFloat lumaW = FxaaLuma(FxaaTexOff(tex, posM, FxaaFloat2(-1.0, 0.0), fxaaQualityRcpFrame.xy));
						#else
							FxaaFloat lumaS = FxaaLuma(FxaaTexOff(tex, posM, FxaaInt2( 0, 1), fxaaQualityRcpFrame.xy));
							FxaaFloat lumaE = FxaaLuma(FxaaTexOff(tex, posM, FxaaInt2( 1, 0), fxaaQualityRcpFrame.xy));
							FxaaFloat lumaN = FxaaLuma(FxaaTexOff(tex, posM, FxaaInt2( 0,-1), fxaaQualityRcpFrame.xy));
							FxaaFloat lumaW = FxaaLuma(FxaaTexOff(tex, posM, FxaaInt2(-1, 0), fxaaQualityRcpFrame.xy));
						#endif
				#endif
		/*--------------------------------------------------------------------------*/
				FxaaFloat maxSM = max(lumaS, lumaM);
				FxaaFloat minSM = min(lumaS, lumaM);
				FxaaFloat maxESM = max(lumaE, maxSM);
				FxaaFloat minESM = min(lumaE, minSM);
				FxaaFloat maxWN = max(lumaN, lumaW);
				FxaaFloat minWN = min(lumaN, lumaW);
				FxaaFloat rangeMax = max(maxWN, maxESM);
				FxaaFloat rangeMin = min(minWN, minESM);
				FxaaFloat rangeMaxScaled = rangeMax * fxaaQualityEdgeThreshold;
				FxaaFloat range = rangeMax - rangeMin;
				FxaaFloat rangeMaxClamped = max(fxaaQualityEdgeThresholdMin, rangeMaxScaled);
				FxaaBool earlyExit = range < rangeMaxClamped;
		/*--------------------------------------------------------------------------*/
				if(earlyExit)
						#if (FXAA_DISCARD == 1)
								FxaaDiscard;
						#else
								return rgbyM;
						#endif
		/*--------------------------------------------------------------------------*/
				#if (FXAA_GATHER4_ALPHA == 0)
						#if (FXAA_GLSL_100 == 1)
							FxaaFloat lumaNW = FxaaLuma(FxaaTexOff(tex, posM, FxaaFloat2(-1.0,-1.0), fxaaQualityRcpFrame.xy));
							FxaaFloat lumaSE = FxaaLuma(FxaaTexOff(tex, posM, FxaaFloat2( 1.0, 1.0), fxaaQualityRcpFrame.xy));
							FxaaFloat lumaNE = FxaaLuma(FxaaTexOff(tex, posM, FxaaFloat2( 1.0,-1.0), fxaaQualityRcpFrame.xy));
							FxaaFloat lumaSW = FxaaLuma(FxaaTexOff(tex, posM, FxaaFloat2(-1.0, 1.0), fxaaQualityRcpFrame.xy));
						#else
							FxaaFloat lumaNW = FxaaLuma(FxaaTexOff(tex, posM, FxaaInt2(-1,-1), fxaaQualityRcpFrame.xy));
							FxaaFloat lumaSE = FxaaLuma(FxaaTexOff(tex, posM, FxaaInt2( 1, 1), fxaaQualityRcpFrame.xy));
							FxaaFloat lumaNE = FxaaLuma(FxaaTexOff(tex, posM, FxaaInt2( 1,-1), fxaaQualityRcpFrame.xy));
							FxaaFloat lumaSW = FxaaLuma(FxaaTexOff(tex, posM, FxaaInt2(-1, 1), fxaaQualityRcpFrame.xy));
						#endif
				#else
						FxaaFloat lumaNE = FxaaLuma(FxaaTexOff(tex, posM, FxaaInt2(1, -1), fxaaQualityRcpFrame.xy));
						FxaaFloat lumaSW = FxaaLuma(FxaaTexOff(tex, posM, FxaaInt2(-1, 1), fxaaQualityRcpFrame.xy));
				#endif
		/*--------------------------------------------------------------------------*/
				FxaaFloat lumaNS = lumaN + lumaS;
				FxaaFloat lumaWE = lumaW + lumaE;
				FxaaFloat subpixRcpRange = 1.0/range;
				FxaaFloat subpixNSWE = lumaNS + lumaWE;
				FxaaFloat edgeHorz1 = (-2.0 * lumaM) + lumaNS;
				FxaaFloat edgeVert1 = (-2.0 * lumaM) + lumaWE;
		/*--------------------------------------------------------------------------*/
				FxaaFloat lumaNESE = lumaNE + lumaSE;
				FxaaFloat lumaNWNE = lumaNW + lumaNE;
				FxaaFloat edgeHorz2 = (-2.0 * lumaE) + lumaNESE;
				FxaaFloat edgeVert2 = (-2.0 * lumaN) + lumaNWNE;
		/*--------------------------------------------------------------------------*/
				FxaaFloat lumaNWSW = lumaNW + lumaSW;
				FxaaFloat lumaSWSE = lumaSW + lumaSE;
				FxaaFloat edgeHorz4 = (abs(edgeHorz1) * 2.0) + abs(edgeHorz2);
				FxaaFloat edgeVert4 = (abs(edgeVert1) * 2.0) + abs(edgeVert2);
				FxaaFloat edgeHorz3 = (-2.0 * lumaW) + lumaNWSW;
				FxaaFloat edgeVert3 = (-2.0 * lumaS) + lumaSWSE;
				FxaaFloat edgeHorz = abs(edgeHorz3) + edgeHorz4;
				FxaaFloat edgeVert = abs(edgeVert3) + edgeVert4;
		/*--------------------------------------------------------------------------*/
				FxaaFloat subpixNWSWNESE = lumaNWSW + lumaNESE;
				FxaaFloat lengthSign = fxaaQualityRcpFrame.x;
				FxaaBool horzSpan = edgeHorz >= edgeVert;
				FxaaFloat subpixA = subpixNSWE * 2.0 + subpixNWSWNESE;
		/*--------------------------------------------------------------------------*/
				if(!horzSpan) lumaN = lumaW;
				if(!horzSpan) lumaS = lumaE;
				if(horzSpan) lengthSign = fxaaQualityRcpFrame.y;
				FxaaFloat subpixB = (subpixA * (1.0/12.0)) - lumaM;
		/*--------------------------------------------------------------------------*/
				FxaaFloat gradientN = lumaN - lumaM;
				FxaaFloat gradientS = lumaS - lumaM;
				FxaaFloat lumaNN = lumaN + lumaM;
				FxaaFloat lumaSS = lumaS + lumaM;
				FxaaBool pairN = abs(gradientN) >= abs(gradientS);
				FxaaFloat gradient = max(abs(gradientN), abs(gradientS));
				if(pairN) lengthSign = -lengthSign;
				FxaaFloat subpixC = FxaaSat(abs(subpixB) * subpixRcpRange);
		/*--------------------------------------------------------------------------*/
				FxaaFloat2 posB;
				posB.x = posM.x;
				posB.y = posM.y;
				FxaaFloat2 offNP;
				offNP.x = (!horzSpan) ? 0.0 : fxaaQualityRcpFrame.x;
				offNP.y = ( horzSpan) ? 0.0 : fxaaQualityRcpFrame.y;
				if(!horzSpan) posB.x += lengthSign * 0.5;
				if( horzSpan) posB.y += lengthSign * 0.5;
		/*--------------------------------------------------------------------------*/
				FxaaFloat2 posN;
				posN.x = posB.x - offNP.x * FXAA_QUALITY_P0;
				posN.y = posB.y - offNP.y * FXAA_QUALITY_P0;
				FxaaFloat2 posP;
				posP.x = posB.x + offNP.x * FXAA_QUALITY_P0;
				posP.y = posB.y + offNP.y * FXAA_QUALITY_P0;
				FxaaFloat subpixD = ((-2.0)*subpixC) + 3.0;
				FxaaFloat lumaEndN = FxaaLuma(FxaaTexTop(tex, posN));
				FxaaFloat subpixE = subpixC * subpixC;
				FxaaFloat lumaEndP = FxaaLuma(FxaaTexTop(tex, posP));
		/*--------------------------------------------------------------------------*/
				if(!pairN) lumaNN = lumaSS;
				FxaaFloat gradientScaled = gradient * 1.0/4.0;
				FxaaFloat lumaMM = lumaM - lumaNN * 0.5;
				FxaaFloat subpixF = subpixD * subpixE;
				FxaaBool lumaMLTZero = lumaMM < 0.0;
		/*--------------------------------------------------------------------------*/
				lumaEndN -= lumaNN * 0.5;
				lumaEndP -= lumaNN * 0.5;
				FxaaBool doneN = abs(lumaEndN) >= gradientScaled;
				FxaaBool doneP = abs(lumaEndP) >= gradientScaled;
				if(!doneN) posN.x -= offNP.x * FXAA_QUALITY_P1;
				if(!doneN) posN.y -= offNP.y * FXAA_QUALITY_P1;
				FxaaBool doneNP = (!doneN) || (!doneP);
				if(!doneP) posP.x += offNP.x * FXAA_QUALITY_P1;
				if(!doneP) posP.y += offNP.y * FXAA_QUALITY_P1;
		/*--------------------------------------------------------------------------*/
				if(doneNP) {
						if(!doneN) lumaEndN = FxaaLuma(FxaaTexTop(tex, posN.xy));
						if(!doneP) lumaEndP = FxaaLuma(FxaaTexTop(tex, posP.xy));
						if(!doneN) lumaEndN = lumaEndN - lumaNN * 0.5;
						if(!doneP) lumaEndP = lumaEndP - lumaNN * 0.5;
						doneN = abs(lumaEndN) >= gradientScaled;
						doneP = abs(lumaEndP) >= gradientScaled;
						if(!doneN) posN.x -= offNP.x * FXAA_QUALITY_P2;
						if(!doneN) posN.y -= offNP.y * FXAA_QUALITY_P2;
						doneNP = (!doneN) || (!doneP);
						if(!doneP) posP.x += offNP.x * FXAA_QUALITY_P2;
						if(!doneP) posP.y += offNP.y * FXAA_QUALITY_P2;
		/*--------------------------------------------------------------------------*/
						#if (FXAA_QUALITY_PS > 3)
						if(doneNP) {
								if(!doneN) lumaEndN = FxaaLuma(FxaaTexTop(tex, posN.xy));
								if(!doneP) lumaEndP = FxaaLuma(FxaaTexTop(tex, posP.xy));
								if(!doneN) lumaEndN = lumaEndN - lumaNN * 0.5;
								if(!doneP) lumaEndP = lumaEndP - lumaNN * 0.5;
								doneN = abs(lumaEndN) >= gradientScaled;
								doneP = abs(lumaEndP) >= gradientScaled;
								if(!doneN) posN.x -= offNP.x * FXAA_QUALITY_P3;
								if(!doneN) posN.y -= offNP.y * FXAA_QUALITY_P3;
								doneNP = (!doneN) || (!doneP);
								if(!doneP) posP.x += offNP.x * FXAA_QUALITY_P3;
								if(!doneP) posP.y += offNP.y * FXAA_QUALITY_P3;
		/*--------------------------------------------------------------------------*/
								#if (FXAA_QUALITY_PS > 4)
								if(doneNP) {
										if(!doneN) lumaEndN = FxaaLuma(FxaaTexTop(tex, posN.xy));
										if(!doneP) lumaEndP = FxaaLuma(FxaaTexTop(tex, posP.xy));
										if(!doneN) lumaEndN = lumaEndN - lumaNN * 0.5;
										if(!doneP) lumaEndP = lumaEndP - lumaNN * 0.5;
										doneN = abs(lumaEndN) >= gradientScaled;
										doneP = abs(lumaEndP) >= gradientScaled;
										if(!doneN) posN.x -= offNP.x * FXAA_QUALITY_P4;
										if(!doneN) posN.y -= offNP.y * FXAA_QUALITY_P4;
										doneNP = (!doneN) || (!doneP);
										if(!doneP) posP.x += offNP.x * FXAA_QUALITY_P4;
										if(!doneP) posP.y += offNP.y * FXAA_QUALITY_P4;
		/*--------------------------------------------------------------------------*/
										#if (FXAA_QUALITY_PS > 5)
										if(doneNP) {
												if(!doneN) lumaEndN = FxaaLuma(FxaaTexTop(tex, posN.xy));
												if(!doneP) lumaEndP = FxaaLuma(FxaaTexTop(tex, posP.xy));
												if(!doneN) lumaEndN = lumaEndN - lumaNN * 0.5;
												if(!doneP) lumaEndP = lumaEndP - lumaNN * 0.5;
												doneN = abs(lumaEndN) >= gradientScaled;
												doneP = abs(lumaEndP) >= gradientScaled;
												if(!doneN) posN.x -= offNP.x * FXAA_QUALITY_P5;
												if(!doneN) posN.y -= offNP.y * FXAA_QUALITY_P5;
												doneNP = (!doneN) || (!doneP);
												if(!doneP) posP.x += offNP.x * FXAA_QUALITY_P5;
												if(!doneP) posP.y += offNP.y * FXAA_QUALITY_P5;
		/*--------------------------------------------------------------------------*/
												#if (FXAA_QUALITY_PS > 6)
												if(doneNP) {
														if(!doneN) lumaEndN = FxaaLuma(FxaaTexTop(tex, posN.xy));
														if(!doneP) lumaEndP = FxaaLuma(FxaaTexTop(tex, posP.xy));
														if(!doneN) lumaEndN = lumaEndN - lumaNN * 0.5;
														if(!doneP) lumaEndP = lumaEndP - lumaNN * 0.5;
														doneN = abs(lumaEndN) >= gradientScaled;
														doneP = abs(lumaEndP) >= gradientScaled;
														if(!doneN) posN.x -= offNP.x * FXAA_QUALITY_P6;
														if(!doneN) posN.y -= offNP.y * FXAA_QUALITY_P6;
														doneNP = (!doneN) || (!doneP);
														if(!doneP) posP.x += offNP.x * FXAA_QUALITY_P6;
														if(!doneP) posP.y += offNP.y * FXAA_QUALITY_P6;
		/*--------------------------------------------------------------------------*/
														#if (FXAA_QUALITY_PS > 7)
														if(doneNP) {
																if(!doneN) lumaEndN = FxaaLuma(FxaaTexTop(tex, posN.xy));
																if(!doneP) lumaEndP = FxaaLuma(FxaaTexTop(tex, posP.xy));
																if(!doneN) lumaEndN = lumaEndN - lumaNN * 0.5;
																if(!doneP) lumaEndP = lumaEndP - lumaNN * 0.5;
																doneN = abs(lumaEndN) >= gradientScaled;
																doneP = abs(lumaEndP) >= gradientScaled;
																if(!doneN) posN.x -= offNP.x * FXAA_QUALITY_P7;
																if(!doneN) posN.y -= offNP.y * FXAA_QUALITY_P7;
																doneNP = (!doneN) || (!doneP);
																if(!doneP) posP.x += offNP.x * FXAA_QUALITY_P7;
																if(!doneP) posP.y += offNP.y * FXAA_QUALITY_P7;
		/*--------------------------------------------------------------------------*/
				#if (FXAA_QUALITY_PS > 8)
				if(doneNP) {
						if(!doneN) lumaEndN = FxaaLuma(FxaaTexTop(tex, posN.xy));
						if(!doneP) lumaEndP = FxaaLuma(FxaaTexTop(tex, posP.xy));
						if(!doneN) lumaEndN = lumaEndN - lumaNN * 0.5;
						if(!doneP) lumaEndP = lumaEndP - lumaNN * 0.5;
						doneN = abs(lumaEndN) >= gradientScaled;
						doneP = abs(lumaEndP) >= gradientScaled;
						if(!doneN) posN.x -= offNP.x * FXAA_QUALITY_P8;
						if(!doneN) posN.y -= offNP.y * FXAA_QUALITY_P8;
						doneNP = (!doneN) || (!doneP);
						if(!doneP) posP.x += offNP.x * FXAA_QUALITY_P8;
						if(!doneP) posP.y += offNP.y * FXAA_QUALITY_P8;
		/*--------------------------------------------------------------------------*/
						#if (FXAA_QUALITY_PS > 9)
						if(doneNP) {
								if(!doneN) lumaEndN = FxaaLuma(FxaaTexTop(tex, posN.xy));
								if(!doneP) lumaEndP = FxaaLuma(FxaaTexTop(tex, posP.xy));
								if(!doneN) lumaEndN = lumaEndN - lumaNN * 0.5;
								if(!doneP) lumaEndP = lumaEndP - lumaNN * 0.5;
								doneN = abs(lumaEndN) >= gradientScaled;
								doneP = abs(lumaEndP) >= gradientScaled;
								if(!doneN) posN.x -= offNP.x * FXAA_QUALITY_P9;
								if(!doneN) posN.y -= offNP.y * FXAA_QUALITY_P9;
								doneNP = (!doneN) || (!doneP);
								if(!doneP) posP.x += offNP.x * FXAA_QUALITY_P9;
								if(!doneP) posP.y += offNP.y * FXAA_QUALITY_P9;
		/*--------------------------------------------------------------------------*/
								#if (FXAA_QUALITY_PS > 10)
								if(doneNP) {
										if(!doneN) lumaEndN = FxaaLuma(FxaaTexTop(tex, posN.xy));
										if(!doneP) lumaEndP = FxaaLuma(FxaaTexTop(tex, posP.xy));
										if(!doneN) lumaEndN = lumaEndN - lumaNN * 0.5;
										if(!doneP) lumaEndP = lumaEndP - lumaNN * 0.5;
										doneN = abs(lumaEndN) >= gradientScaled;
										doneP = abs(lumaEndP) >= gradientScaled;
										if(!doneN) posN.x -= offNP.x * FXAA_QUALITY_P10;
										if(!doneN) posN.y -= offNP.y * FXAA_QUALITY_P10;
										doneNP = (!doneN) || (!doneP);
										if(!doneP) posP.x += offNP.x * FXAA_QUALITY_P10;
										if(!doneP) posP.y += offNP.y * FXAA_QUALITY_P10;
		/*--------------------------------------------------------------------------*/
										#if (FXAA_QUALITY_PS > 11)
										if(doneNP) {
												if(!doneN) lumaEndN = FxaaLuma(FxaaTexTop(tex, posN.xy));
												if(!doneP) lumaEndP = FxaaLuma(FxaaTexTop(tex, posP.xy));
												if(!doneN) lumaEndN = lumaEndN - lumaNN * 0.5;
												if(!doneP) lumaEndP = lumaEndP - lumaNN * 0.5;
												doneN = abs(lumaEndN) >= gradientScaled;
												doneP = abs(lumaEndP) >= gradientScaled;
												if(!doneN) posN.x -= offNP.x * FXAA_QUALITY_P11;
												if(!doneN) posN.y -= offNP.y * FXAA_QUALITY_P11;
												doneNP = (!doneN) || (!doneP);
												if(!doneP) posP.x += offNP.x * FXAA_QUALITY_P11;
												if(!doneP) posP.y += offNP.y * FXAA_QUALITY_P11;
		/*--------------------------------------------------------------------------*/
												#if (FXAA_QUALITY_PS > 12)
												if(doneNP) {
														if(!doneN) lumaEndN = FxaaLuma(FxaaTexTop(tex, posN.xy));
														if(!doneP) lumaEndP = FxaaLuma(FxaaTexTop(tex, posP.xy));
														if(!doneN) lumaEndN = lumaEndN - lumaNN * 0.5;
														if(!doneP) lumaEndP = lumaEndP - lumaNN * 0.5;
														doneN = abs(lumaEndN) >= gradientScaled;
														doneP = abs(lumaEndP) >= gradientScaled;
														if(!doneN) posN.x -= offNP.x * FXAA_QUALITY_P12;
														if(!doneN) posN.y -= offNP.y * FXAA_QUALITY_P12;
														doneNP = (!doneN) || (!doneP);
														if(!doneP) posP.x += offNP.x * FXAA_QUALITY_P12;
														if(!doneP) posP.y += offNP.y * FXAA_QUALITY_P12;
		/*--------------------------------------------------------------------------*/
												}
												#endif
		/*--------------------------------------------------------------------------*/
										}
										#endif
		/*--------------------------------------------------------------------------*/
								}
								#endif
		/*--------------------------------------------------------------------------*/
						}
						#endif
		/*--------------------------------------------------------------------------*/
				}
				#endif
		/*--------------------------------------------------------------------------*/
														}
														#endif
		/*--------------------------------------------------------------------------*/
												}
												#endif
		/*--------------------------------------------------------------------------*/
										}
										#endif
		/*--------------------------------------------------------------------------*/
								}
								#endif
		/*--------------------------------------------------------------------------*/
						}
						#endif
		/*--------------------------------------------------------------------------*/
				}
		/*--------------------------------------------------------------------------*/
				FxaaFloat dstN = posM.x - posN.x;
				FxaaFloat dstP = posP.x - posM.x;
				if(!horzSpan) dstN = posM.y - posN.y;
				if(!horzSpan) dstP = posP.y - posM.y;
		/*--------------------------------------------------------------------------*/
				FxaaBool goodSpanN = (lumaEndN < 0.0) != lumaMLTZero;
				FxaaFloat spanLength = (dstP + dstN);
				FxaaBool goodSpanP = (lumaEndP < 0.0) != lumaMLTZero;
				FxaaFloat spanLengthRcp = 1.0/spanLength;
		/*--------------------------------------------------------------------------*/
				FxaaBool directionN = dstN < dstP;
				FxaaFloat dst = min(dstN, dstP);
				FxaaBool goodSpan = directionN ? goodSpanN : goodSpanP;
				FxaaFloat subpixG = subpixF * subpixF;
				FxaaFloat pixelOffset = (dst * (-spanLengthRcp)) + 0.5;
				FxaaFloat subpixH = subpixG * fxaaQualitySubpix;
		/*--------------------------------------------------------------------------*/
				FxaaFloat pixelOffsetGood = goodSpan ? pixelOffset : 0.0;
				FxaaFloat pixelOffsetSubpix = max(pixelOffsetGood, subpixH);
				if(!horzSpan) posM.x += pixelOffsetSubpix * lengthSign;
				if( horzSpan) posM.y += pixelOffsetSubpix * lengthSign;
				#if (FXAA_DISCARD == 1)
						return FxaaTexTop(tex, posM);
				#else
						return FxaaFloat4(FxaaTexTop(tex, posM).xyz, lumaM);
				#endif
		}
		/*==========================================================================*/
		#endif

		void main() {
			gl_FragColor = FxaaPixelShader(
				vUv,
				vec4(0.0),
				tDiffuse,
				tDiffuse,
				tDiffuse,
				resolution,
				vec4(0.0),
				vec4(0.0),
				vec4(0.0),
				0.75,
				0.166,
				0.0833,
				0.0,
				0.0,
				0.0,
				vec4(0.0)
			);

			// TODO avoid querying texture twice for same texel
			gl_FragColor.a = texture2D(tDiffuse, vUv).a;
		}`},E9={uniforms:{tDiffuse:{value:null},shape:{value:1},radius:{value:4},rotateR:{value:Math.PI/12*1},rotateG:{value:Math.PI/12*2},rotateB:{value:Math.PI/12*3},scatter:{value:0},width:{value:1},height:{value:1},blending:{value:1},blendingMode:{value:1},greyscale:{value:!1},disable:{value:!1}},vertexShader:`

		varying vec2 vUV;

		void main() {

			vUV = uv;
			gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);

		}`,fragmentShader:`

		#define SQRT2_MINUS_ONE 0.41421356
		#define SQRT2_HALF_MINUS_ONE 0.20710678
		#define PI2 6.28318531
		#define SHAPE_DOT 1
		#define SHAPE_ELLIPSE 2
		#define SHAPE_LINE 3
		#define SHAPE_SQUARE 4
		#define BLENDING_LINEAR 1
		#define BLENDING_MULTIPLY 2
		#define BLENDING_ADD 3
		#define BLENDING_LIGHTER 4
		#define BLENDING_DARKER 5
		uniform sampler2D tDiffuse;
		uniform float radius;
		uniform float rotateR;
		uniform float rotateG;
		uniform float rotateB;
		uniform float scatter;
		uniform float width;
		uniform float height;
		uniform int shape;
		uniform bool disable;
		uniform float blending;
		uniform int blendingMode;
		varying vec2 vUV;
		uniform bool greyscale;
		const int samples = 8;

		float blend( float a, float b, float t ) {

		// linear blend
			return a * ( 1.0 - t ) + b * t;

		}

		float hypot( float x, float y ) {

		// vector magnitude
			return sqrt( x * x + y * y );

		}

		float rand( vec2 seed ){

		// get pseudo-random number
			return fract( sin( dot( seed.xy, vec2( 12.9898, 78.233 ) ) ) * 43758.5453 );

		}

		float distanceToDotRadius( float channel, vec2 coord, vec2 normal, vec2 p, float angle, float rad_max ) {

		// apply shape-specific transforms
			float dist = hypot( coord.x - p.x, coord.y - p.y );
			float rad = channel;

			if ( shape == SHAPE_DOT ) {

				rad = pow( abs( rad ), 1.125 ) * rad_max;

			} else if ( shape == SHAPE_ELLIPSE ) {

				rad = pow( abs( rad ), 1.125 ) * rad_max;

				if ( dist != 0.0 ) {
					float dot_p = abs( ( p.x - coord.x ) / dist * normal.x + ( p.y - coord.y ) / dist * normal.y );
					dist = ( dist * ( 1.0 - SQRT2_HALF_MINUS_ONE ) ) + dot_p * dist * SQRT2_MINUS_ONE;
				}

			} else if ( shape == SHAPE_LINE ) {

				rad = pow( abs( rad ), 1.5) * rad_max;
				float dot_p = ( p.x - coord.x ) * normal.x + ( p.y - coord.y ) * normal.y;
				dist = hypot( normal.x * dot_p, normal.y * dot_p );

			} else if ( shape == SHAPE_SQUARE ) {

				float theta = atan( p.y - coord.y, p.x - coord.x ) - angle;
				float sin_t = abs( sin( theta ) );
				float cos_t = abs( cos( theta ) );
				rad = pow( abs( rad ), 1.4 );
				rad = rad_max * ( rad + ( ( sin_t > cos_t ) ? rad - sin_t * rad : rad - cos_t * rad ) );

			}

			return rad - dist;

		}

		struct Cell {

		// grid sample positions
			vec2 normal;
			vec2 p1;
			vec2 p2;
			vec2 p3;
			vec2 p4;
			float samp2;
			float samp1;
			float samp3;
			float samp4;

		};

		vec4 getSample( vec2 point ) {

		// multi-sampled point
			vec4 tex = texture2D( tDiffuse, vec2( point.x / width, point.y / height ) );
			float base = rand( vec2( floor( point.x ), floor( point.y ) ) ) * PI2;
			float step = PI2 / float( samples );
			float dist = radius * 0.66;

			for ( int i = 0; i < samples; ++i ) {

				float r = base + step * float( i );
				vec2 coord = point + vec2( cos( r ) * dist, sin( r ) * dist );
				tex += texture2D( tDiffuse, vec2( coord.x / width, coord.y / height ) );

			}

			tex /= float( samples ) + 1.0;
			return tex;

		}

		float getDotColour( Cell c, vec2 p, int channel, float angle, float aa ) {

		// get colour for given point
			float dist_c_1, dist_c_2, dist_c_3, dist_c_4, res;

			if ( channel == 0 ) {

				c.samp1 = getSample( c.p1 ).r;
				c.samp2 = getSample( c.p2 ).r;
				c.samp3 = getSample( c.p3 ).r;
				c.samp4 = getSample( c.p4 ).r;

			} else if (channel == 1) {

				c.samp1 = getSample( c.p1 ).g;
				c.samp2 = getSample( c.p2 ).g;
				c.samp3 = getSample( c.p3 ).g;
				c.samp4 = getSample( c.p4 ).g;

			} else {

				c.samp1 = getSample( c.p1 ).b;
				c.samp3 = getSample( c.p3 ).b;
				c.samp2 = getSample( c.p2 ).b;
				c.samp4 = getSample( c.p4 ).b;

			}

			dist_c_1 = distanceToDotRadius( c.samp1, c.p1, c.normal, p, angle, radius );
			dist_c_2 = distanceToDotRadius( c.samp2, c.p2, c.normal, p, angle, radius );
			dist_c_3 = distanceToDotRadius( c.samp3, c.p3, c.normal, p, angle, radius );
			dist_c_4 = distanceToDotRadius( c.samp4, c.p4, c.normal, p, angle, radius );
			res = ( dist_c_1 > 0.0 ) ? clamp( dist_c_1 / aa, 0.0, 1.0 ) : 0.0;
			res += ( dist_c_2 > 0.0 ) ? clamp( dist_c_2 / aa, 0.0, 1.0 ) : 0.0;
			res += ( dist_c_3 > 0.0 ) ? clamp( dist_c_3 / aa, 0.0, 1.0 ) : 0.0;
			res += ( dist_c_4 > 0.0 ) ? clamp( dist_c_4 / aa, 0.0, 1.0 ) : 0.0;
			res = clamp( res, 0.0, 1.0 );

			return res;

		}

		Cell getReferenceCell( vec2 p, vec2 origin, float grid_angle, float step ) {

		// get containing cell
			Cell c;

		// calc grid
			vec2 n = vec2( cos( grid_angle ), sin( grid_angle ) );
			float threshold = step * 0.5;
			float dot_normal = n.x * ( p.x - origin.x ) + n.y * ( p.y - origin.y );
			float dot_line = -n.y * ( p.x - origin.x ) + n.x * ( p.y - origin.y );
			vec2 offset = vec2( n.x * dot_normal, n.y * dot_normal );
			float offset_normal = mod( hypot( offset.x, offset.y ), step );
			float normal_dir = ( dot_normal < 0.0 ) ? 1.0 : -1.0;
			float normal_scale = ( ( offset_normal < threshold ) ? -offset_normal : step - offset_normal ) * normal_dir;
			float offset_line = mod( hypot( ( p.x - offset.x ) - origin.x, ( p.y - offset.y ) - origin.y ), step );
			float line_dir = ( dot_line < 0.0 ) ? 1.0 : -1.0;
			float line_scale = ( ( offset_line < threshold ) ? -offset_line : step - offset_line ) * line_dir;

		// get closest corner
			c.normal = n;
			c.p1.x = p.x - n.x * normal_scale + n.y * line_scale;
			c.p1.y = p.y - n.y * normal_scale - n.x * line_scale;

		// scatter
			if ( scatter != 0.0 ) {

				float off_mag = scatter * threshold * 0.5;
				float off_angle = rand( vec2( floor( c.p1.x ), floor( c.p1.y ) ) ) * PI2;
				c.p1.x += cos( off_angle ) * off_mag;
				c.p1.y += sin( off_angle ) * off_mag;

			}

		// find corners
			float normal_step = normal_dir * ( ( offset_normal < threshold ) ? step : -step );
			float line_step = line_dir * ( ( offset_line < threshold ) ? step : -step );
			c.p2.x = c.p1.x - n.x * normal_step;
			c.p2.y = c.p1.y - n.y * normal_step;
			c.p3.x = c.p1.x + n.y * line_step;
			c.p3.y = c.p1.y - n.x * line_step;
			c.p4.x = c.p1.x - n.x * normal_step + n.y * line_step;
			c.p4.y = c.p1.y - n.y * normal_step - n.x * line_step;

			return c;

		}

		float blendColour( float a, float b, float t ) {

		// blend colours
			if ( blendingMode == BLENDING_LINEAR ) {
				return blend( a, b, 1.0 - t );
			} else if ( blendingMode == BLENDING_ADD ) {
				return blend( a, min( 1.0, a + b ), t );
			} else if ( blendingMode == BLENDING_MULTIPLY ) {
				return blend( a, max( 0.0, a * b ), t );
			} else if ( blendingMode == BLENDING_LIGHTER ) {
				return blend( a, max( a, b ), t );
			} else if ( blendingMode == BLENDING_DARKER ) {
				return blend( a, min( a, b ), t );
			} else {
				return blend( a, b, 1.0 - t );
			}

		}

		void main() {

			if ( ! disable ) {

		// setup
				vec2 p = vec2( vUV.x * width, vUV.y * height );
				vec2 origin = vec2( 0, 0 );
				float aa = ( radius < 2.5 ) ? radius * 0.5 : 1.25;

		// get channel samples
				Cell cell_r = getReferenceCell( p, origin, rotateR, radius );
				Cell cell_g = getReferenceCell( p, origin, rotateG, radius );
				Cell cell_b = getReferenceCell( p, origin, rotateB, radius );
				float r = getDotColour( cell_r, p, 0, rotateR, aa );
				float g = getDotColour( cell_g, p, 1, rotateG, aa );
				float b = getDotColour( cell_b, p, 2, rotateB, aa );

		// blend with original
				vec4 colour = texture2D( tDiffuse, vUV );
				r = blendColour( r, colour.r, blending );
				g = blendColour( g, colour.g, blending );
				b = blendColour( b, colour.b, blending );

				if ( greyscale ) {
					r = g = b = (r + b + g) / 3.0;
				}

				gl_FragColor = vec4( r, g, b, 1.0 );

			} else {

				gl_FragColor = texture2D( tDiffuse, vUV );

			}

		}`};class eoe extends k0{constructor(e,t,i){super();E9===void 0&&console.error("THREE.HalftonePass requires HalftoneShader"),this.uniforms=Ii.clone(E9.uniforms),this.material=new cn({uniforms:this.uniforms,fragmentShader:E9.fragmentShader,vertexShader:E9.vertexShader}),this.uniforms.width.value=e,this.uniforms.height.value=t;for(const r in i)i.hasOwnProperty(r)&&this.uniforms.hasOwnProperty(r)&&(this.uniforms[r].value=i[r]);this.fsQuad=new Uc(this.material)}render(e,t,i){this.material.uniforms.tDiffuse.value=i.texture,this.renderToScreen?(e.setRenderTarget(null),this.fsQuad.render(e)):(e.setRenderTarget(t),this.clear&&e.clear(),this.fsQuad.render(e))}setSize(e,t){this.uniforms.width.value=e,this.uniforms.height.value=t}}const tp={defines:{SMAA_THRESHOLD:"0.1"},uniforms:{tDiffuse:{value:null},resolution:{value:new Ie(1/1024,1/512)}},vertexShader:`

		uniform vec2 resolution;

		varying vec2 vUv;
		varying vec4 vOffset[ 3 ];

		void SMAAEdgeDetectionVS( vec2 texcoord ) {
			vOffset[ 0 ] = texcoord.xyxy + resolution.xyxy * vec4( -1.0, 0.0, 0.0,  1.0 ); // WebGL port note: Changed sign in W component
			vOffset[ 1 ] = texcoord.xyxy + resolution.xyxy * vec4(  1.0, 0.0, 0.0, -1.0 ); // WebGL port note: Changed sign in W component
			vOffset[ 2 ] = texcoord.xyxy + resolution.xyxy * vec4( -2.0, 0.0, 0.0,  2.0 ); // WebGL port note: Changed sign in W component
		}

		void main() {

			vUv = uv;

			SMAAEdgeDetectionVS( vUv );

			gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );

		}`,fragmentShader:`

		uniform sampler2D tDiffuse;

		varying vec2 vUv;
		varying vec4 vOffset[ 3 ];

		vec4 SMAAColorEdgeDetectionPS( vec2 texcoord, vec4 offset[3], sampler2D colorTex ) {
			vec2 threshold = vec2( SMAA_THRESHOLD, SMAA_THRESHOLD );

			// Calculate color deltas:
			vec4 delta;
			vec3 C = texture2D( colorTex, texcoord ).rgb;

			vec3 Cleft = texture2D( colorTex, offset[0].xy ).rgb;
			vec3 t = abs( C - Cleft );
			delta.x = max( max( t.r, t.g ), t.b );

			vec3 Ctop = texture2D( colorTex, offset[0].zw ).rgb;
			t = abs( C - Ctop );
			delta.y = max( max( t.r, t.g ), t.b );

			// We do the usual threshold:
			vec2 edges = step( threshold, delta.xy );

			// Then discard if there is no edge:
			if ( dot( edges, vec2( 1.0, 1.0 ) ) == 0.0 )
				discard;

			// Calculate right and bottom deltas:
			vec3 Cright = texture2D( colorTex, offset[1].xy ).rgb;
			t = abs( C - Cright );
			delta.z = max( max( t.r, t.g ), t.b );

			vec3 Cbottom  = texture2D( colorTex, offset[1].zw ).rgb;
			t = abs( C - Cbottom );
			delta.w = max( max( t.r, t.g ), t.b );

			// Calculate the maximum delta in the direct neighborhood:
			float maxDelta = max( max( max( delta.x, delta.y ), delta.z ), delta.w );

			// Calculate left-left and top-top deltas:
			vec3 Cleftleft  = texture2D( colorTex, offset[2].xy ).rgb;
			t = abs( C - Cleftleft );
			delta.z = max( max( t.r, t.g ), t.b );

			vec3 Ctoptop = texture2D( colorTex, offset[2].zw ).rgb;
			t = abs( C - Ctoptop );
			delta.w = max( max( t.r, t.g ), t.b );

			// Calculate the final maximum delta:
			maxDelta = max( max( maxDelta, delta.z ), delta.w );

			// Local contrast adaptation in action:
			edges.xy *= step( 0.5 * maxDelta, delta.xy );

			return vec4( edges, 0.0, 0.0 );
		}

		void main() {

			gl_FragColor = SMAAColorEdgeDetectionPS( vUv, vOffset, tDiffuse );

		}`},L9={defines:{SMAA_MAX_SEARCH_STEPS:"8",SMAA_AREATEX_MAX_DISTANCE:"16",SMAA_AREATEX_PIXEL_SIZE:"( 1.0 / vec2( 160.0, 560.0 ) )",SMAA_AREATEX_SUBTEX_SIZE:"( 1.0 / 7.0 )"},uniforms:{tDiffuse:{value:null},tArea:{value:null},tSearch:{value:null},resolution:{value:new Ie(1/1024,1/512)}},vertexShader:`

		uniform vec2 resolution;

		varying vec2 vUv;
		varying vec4 vOffset[ 3 ];
		varying vec2 vPixcoord;

		void SMAABlendingWeightCalculationVS( vec2 texcoord ) {
			vPixcoord = texcoord / resolution;

			// We will use these offsets for the searches later on (see @PSEUDO_GATHER4):
			vOffset[ 0 ] = texcoord.xyxy + resolution.xyxy * vec4( -0.25, 0.125, 1.25, 0.125 ); // WebGL port note: Changed sign in Y and W components
			vOffset[ 1 ] = texcoord.xyxy + resolution.xyxy * vec4( -0.125, 0.25, -0.125, -1.25 ); // WebGL port note: Changed sign in Y and W components

			// And these for the searches, they indicate the ends of the loops:
			vOffset[ 2 ] = vec4( vOffset[ 0 ].xz, vOffset[ 1 ].yw ) + vec4( -2.0, 2.0, -2.0, 2.0 ) * resolution.xxyy * float( SMAA_MAX_SEARCH_STEPS );

		}

		void main() {

			vUv = uv;

			SMAABlendingWeightCalculationVS( vUv );

			gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );

		}`,fragmentShader:`

		#define SMAASampleLevelZeroOffset( tex, coord, offset ) texture2D( tex, coord + float( offset ) * resolution, 0.0 )

		uniform sampler2D tDiffuse;
		uniform sampler2D tArea;
		uniform sampler2D tSearch;
		uniform vec2 resolution;

		varying vec2 vUv;
		varying vec4 vOffset[3];
		varying vec2 vPixcoord;

		#if __VERSION__ == 100
		vec2 round( vec2 x ) {
			return sign( x ) * floor( abs( x ) + 0.5 );
		}
		#endif

		float SMAASearchLength( sampler2D searchTex, vec2 e, float bias, float scale ) {
			// Not required if searchTex accesses are set to point:
			// float2 SEARCH_TEX_PIXEL_SIZE = 1.0 / float2(66.0, 33.0);
			// e = float2(bias, 0.0) + 0.5 * SEARCH_TEX_PIXEL_SIZE +
			//     e * float2(scale, 1.0) * float2(64.0, 32.0) * SEARCH_TEX_PIXEL_SIZE;
			e.r = bias + e.r * scale;
			return 255.0 * texture2D( searchTex, e, 0.0 ).r;
		}

		float SMAASearchXLeft( sampler2D edgesTex, sampler2D searchTex, vec2 texcoord, float end ) {
			/**
				* @PSEUDO_GATHER4
				* This texcoord has been offset by (-0.25, -0.125) in the vertex shader to
				* sample between edge, thus fetching four edges in a row.
				* Sampling with different offsets in each direction allows to disambiguate
				* which edges are active from the four fetched ones.
				*/
			vec2 e = vec2( 0.0, 1.0 );

			for ( int i = 0; i < SMAA_MAX_SEARCH_STEPS; i ++ ) { // WebGL port note: Changed while to for
				e = texture2D( edgesTex, texcoord, 0.0 ).rg;
				texcoord -= vec2( 2.0, 0.0 ) * resolution;
				if ( ! ( texcoord.x > end && e.g > 0.8281 && e.r == 0.0 ) ) break;
			}

			// We correct the previous (-0.25, -0.125) offset we applied:
			texcoord.x += 0.25 * resolution.x;

			// The searches are bias by 1, so adjust the coords accordingly:
			texcoord.x += resolution.x;

			// Disambiguate the length added by the last step:
			texcoord.x += 2.0 * resolution.x; // Undo last step
			texcoord.x -= resolution.x * SMAASearchLength(searchTex, e, 0.0, 0.5);

			return texcoord.x;
		}

		float SMAASearchXRight( sampler2D edgesTex, sampler2D searchTex, vec2 texcoord, float end ) {
			vec2 e = vec2( 0.0, 1.0 );

			for ( int i = 0; i < SMAA_MAX_SEARCH_STEPS; i ++ ) { // WebGL port note: Changed while to for
				e = texture2D( edgesTex, texcoord, 0.0 ).rg;
				texcoord += vec2( 2.0, 0.0 ) * resolution;
				if ( ! ( texcoord.x < end && e.g > 0.8281 && e.r == 0.0 ) ) break;
			}

			texcoord.x -= 0.25 * resolution.x;
			texcoord.x -= resolution.x;
			texcoord.x -= 2.0 * resolution.x;
			texcoord.x += resolution.x * SMAASearchLength( searchTex, e, 0.5, 0.5 );

			return texcoord.x;
		}

		float SMAASearchYUp( sampler2D edgesTex, sampler2D searchTex, vec2 texcoord, float end ) {
			vec2 e = vec2( 1.0, 0.0 );

			for ( int i = 0; i < SMAA_MAX_SEARCH_STEPS; i ++ ) { // WebGL port note: Changed while to for
				e = texture2D( edgesTex, texcoord, 0.0 ).rg;
				texcoord += vec2( 0.0, 2.0 ) * resolution; // WebGL port note: Changed sign
				if ( ! ( texcoord.y > end && e.r > 0.8281 && e.g == 0.0 ) ) break;
			}

			texcoord.y -= 0.25 * resolution.y; // WebGL port note: Changed sign
			texcoord.y -= resolution.y; // WebGL port note: Changed sign
			texcoord.y -= 2.0 * resolution.y; // WebGL port note: Changed sign
			texcoord.y += resolution.y * SMAASearchLength( searchTex, e.gr, 0.0, 0.5 ); // WebGL port note: Changed sign

			return texcoord.y;
		}

		float SMAASearchYDown( sampler2D edgesTex, sampler2D searchTex, vec2 texcoord, float end ) {
			vec2 e = vec2( 1.0, 0.0 );

			for ( int i = 0; i < SMAA_MAX_SEARCH_STEPS; i ++ ) { // WebGL port note: Changed while to for
				e = texture2D( edgesTex, texcoord, 0.0 ).rg;
				texcoord -= vec2( 0.0, 2.0 ) * resolution; // WebGL port note: Changed sign
				if ( ! ( texcoord.y < end && e.r > 0.8281 && e.g == 0.0 ) ) break;
			}

			texcoord.y += 0.25 * resolution.y; // WebGL port note: Changed sign
			texcoord.y += resolution.y; // WebGL port note: Changed sign
			texcoord.y += 2.0 * resolution.y; // WebGL port note: Changed sign
			texcoord.y -= resolution.y * SMAASearchLength( searchTex, e.gr, 0.5, 0.5 ); // WebGL port note: Changed sign

			return texcoord.y;
		}

		vec2 SMAAArea( sampler2D areaTex, vec2 dist, float e1, float e2, float offset ) {
			// Rounding prevents precision errors of bilinear filtering:
			vec2 texcoord = float( SMAA_AREATEX_MAX_DISTANCE ) * round( 4.0 * vec2( e1, e2 ) ) + dist;

			// We do a scale and bias for mapping to texel space:
			texcoord = SMAA_AREATEX_PIXEL_SIZE * texcoord + ( 0.5 * SMAA_AREATEX_PIXEL_SIZE );

			// Move to proper place, according to the subpixel offset:
			texcoord.y += SMAA_AREATEX_SUBTEX_SIZE * offset;

			return texture2D( areaTex, texcoord, 0.0 ).rg;
		}

		vec4 SMAABlendingWeightCalculationPS( vec2 texcoord, vec2 pixcoord, vec4 offset[ 3 ], sampler2D edgesTex, sampler2D areaTex, sampler2D searchTex, ivec4 subsampleIndices ) {
			vec4 weights = vec4( 0.0, 0.0, 0.0, 0.0 );

			vec2 e = texture2D( edgesTex, texcoord ).rg;

			if ( e.g > 0.0 ) { // Edge at north
				vec2 d;

				// Find the distance to the left:
				vec2 coords;
				coords.x = SMAASearchXLeft( edgesTex, searchTex, offset[ 0 ].xy, offset[ 2 ].x );
				coords.y = offset[ 1 ].y; // offset[1].y = texcoord.y - 0.25 * resolution.y (@CROSSING_OFFSET)
				d.x = coords.x;

				// Now fetch the left crossing edges, two at a time using bilinear
				// filtering. Sampling at -0.25 (see @CROSSING_OFFSET) enables to
				// discern what value each edge has:
				float e1 = texture2D( edgesTex, coords, 0.0 ).r;

				// Find the distance to the right:
				coords.x = SMAASearchXRight( edgesTex, searchTex, offset[ 0 ].zw, offset[ 2 ].y );
				d.y = coords.x;

				// We want the distances to be in pixel units (doing this here allow to
				// better interleave arithmetic and memory accesses):
				d = d / resolution.x - pixcoord.x;

				// SMAAArea below needs a sqrt, as the areas texture is compressed
				// quadratically:
				vec2 sqrt_d = sqrt( abs( d ) );

				// Fetch the right crossing edges:
				coords.y -= 1.0 * resolution.y; // WebGL port note: Added
				float e2 = SMAASampleLevelZeroOffset( edgesTex, coords, ivec2( 1, 0 ) ).r;

				// Ok, we know how this pattern looks like, now it is time for getting
				// the actual area:
				weights.rg = SMAAArea( areaTex, sqrt_d, e1, e2, float( subsampleIndices.y ) );
			}

			if ( e.r > 0.0 ) { // Edge at west
				vec2 d;

				// Find the distance to the top:
				vec2 coords;

				coords.y = SMAASearchYUp( edgesTex, searchTex, offset[ 1 ].xy, offset[ 2 ].z );
				coords.x = offset[ 0 ].x; // offset[1].x = texcoord.x - 0.25 * resolution.x;
				d.x = coords.y;

				// Fetch the top crossing edges:
				float e1 = texture2D( edgesTex, coords, 0.0 ).g;

				// Find the distance to the bottom:
				coords.y = SMAASearchYDown( edgesTex, searchTex, offset[ 1 ].zw, offset[ 2 ].w );
				d.y = coords.y;

				// We want the distances to be in pixel units:
				d = d / resolution.y - pixcoord.y;

				// SMAAArea below needs a sqrt, as the areas texture is compressed
				// quadratically:
				vec2 sqrt_d = sqrt( abs( d ) );

				// Fetch the bottom crossing edges:
				coords.y -= 1.0 * resolution.y; // WebGL port note: Added
				float e2 = SMAASampleLevelZeroOffset( edgesTex, coords, ivec2( 0, 1 ) ).g;

				// Get the area for this direction:
				weights.ba = SMAAArea( areaTex, sqrt_d, e1, e2, float( subsampleIndices.x ) );
			}

			return weights;
		}

		void main() {

			gl_FragColor = SMAABlendingWeightCalculationPS( vUv, vPixcoord, vOffset, tDiffuse, tArea, tSearch, ivec4( 0.0 ) );

		}`},fx={uniforms:{tDiffuse:{value:null},tColor:{value:null},resolution:{value:new Ie(1/1024,1/512)}},vertexShader:`

		uniform vec2 resolution;

		varying vec2 vUv;
		varying vec4 vOffset[ 2 ];

		void SMAANeighborhoodBlendingVS( vec2 texcoord ) {
			vOffset[ 0 ] = texcoord.xyxy + resolution.xyxy * vec4( -1.0, 0.0, 0.0, 1.0 ); // WebGL port note: Changed sign in W component
			vOffset[ 1 ] = texcoord.xyxy + resolution.xyxy * vec4( 1.0, 0.0, 0.0, -1.0 ); // WebGL port note: Changed sign in W component
		}

		void main() {

			vUv = uv;

			SMAANeighborhoodBlendingVS( vUv );

			gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );

		}`,fragmentShader:`

		uniform sampler2D tDiffuse;
		uniform sampler2D tColor;
		uniform vec2 resolution;

		varying vec2 vUv;
		varying vec4 vOffset[ 2 ];

		vec4 SMAANeighborhoodBlendingPS( vec2 texcoord, vec4 offset[ 2 ], sampler2D colorTex, sampler2D blendTex ) {
			// Fetch the blending weights for current pixel:
			vec4 a;
			a.xz = texture2D( blendTex, texcoord ).xz;
			a.y = texture2D( blendTex, offset[ 1 ].zw ).g;
			a.w = texture2D( blendTex, offset[ 1 ].xy ).a;

			// Is there any blending weight with a value greater than 0.0?
			if ( dot(a, vec4( 1.0, 1.0, 1.0, 1.0 )) < 1e-5 ) {
				return texture2D( colorTex, texcoord, 0.0 );
			} else {
				// Up to 4 lines can be crossing a pixel (one through each edge). We
				// favor blending by choosing the line with the maximum weight for each
				// direction:
				vec2 offset;
				offset.x = a.a > a.b ? a.a : -a.b; // left vs. right
				offset.y = a.g > a.r ? -a.g : a.r; // top vs. bottom // WebGL port note: Changed signs

				// Then we go in the direction that has the maximum weight:
				if ( abs( offset.x ) > abs( offset.y )) { // horizontal vs. vertical
					offset.y = 0.0;
				} else {
					offset.x = 0.0;
				}

				// Fetch the opposite color and lerp by hand:
				vec4 C = texture2D( colorTex, texcoord, 0.0 );
				texcoord += sign( offset ) * resolution;
				vec4 Cop = texture2D( colorTex, texcoord, 0.0 );
				float s = abs( offset.x ) > abs( offset.y ) ? abs( offset.x ) : abs( offset.y );

				// WebGL port note: Added gamma correction
				C.xyz = pow(C.xyz, vec3(2.2));
				Cop.xyz = pow(Cop.xyz, vec3(2.2));
				vec4 mixed = mix(C, Cop, s);
				mixed.xyz = pow(mixed.xyz, vec3(1.0 / 2.2));

				return mixed;
			}
		}

		void main() {

			gl_FragColor = SMAANeighborhoodBlendingPS( vUv, vOffset, tColor, tDiffuse );

		}`};class toe extends k0{constructor(e,t){super();this.edgesRT=new jn(e,t,{depthBuffer:!1,generateMipmaps:!1,minFilter:Ht,format:Or}),this.edgesRT.texture.name="SMAAPass.edges",this.weightsRT=new jn(e,t,{depthBuffer:!1,generateMipmaps:!1,minFilter:Ht,format:yn}),this.weightsRT.texture.name="SMAAPass.weights";const i=this,r=new Image;r.src=this.getAreaTexture(),r.onload=function(){i.areaTexture.needsUpdate=!0},this.areaTexture=new Tn,this.areaTexture.name="SMAAPass.area",this.areaTexture.image=r,this.areaTexture.format=Or,this.areaTexture.minFilter=Ht,this.areaTexture.generateMipmaps=!1,this.areaTexture.flipY=!1;const s=new Image;s.src=this.getSearchTexture(),s.onload=function(){i.searchTexture.needsUpdate=!0},this.searchTexture=new Tn,this.searchTexture.name="SMAAPass.search",this.searchTexture.image=s,this.searchTexture.magFilter=Qt,this.searchTexture.minFilter=Qt,this.searchTexture.generateMipmaps=!1,this.searchTexture.flipY=!1,tp===void 0&&console.error("THREE.SMAAPass relies on SMAAShader"),this.uniformsEdges=Ii.clone(tp.uniforms),this.uniformsEdges.resolution.value.set(1/e,1/t),this.materialEdges=new cn({defines:Object.assign({},tp.defines),uniforms:this.uniformsEdges,vertexShader:tp.vertexShader,fragmentShader:tp.fragmentShader}),this.uniformsWeights=Ii.clone(L9.uniforms),this.uniformsWeights.resolution.value.set(1/e,1/t),this.uniformsWeights.tDiffuse.value=this.edgesRT.texture,this.uniformsWeights.tArea.value=this.areaTexture,this.uniformsWeights.tSearch.value=this.searchTexture,this.materialWeights=new cn({defines:Object.assign({},L9.defines),uniforms:this.uniformsWeights,vertexShader:L9.vertexShader,fragmentShader:L9.fragmentShader}),this.uniformsBlend=Ii.clone(fx.uniforms),this.uniformsBlend.resolution.value.set(1/e,1/t),this.uniformsBlend.tDiffuse.value=this.weightsRT.texture,this.materialBlend=new cn({uniforms:this.uniformsBlend,vertexShader:fx.vertexShader,fragmentShader:fx.fragmentShader}),this.needsSwap=!1,this.fsQuad=new Uc(null)}render(e,t,i){this.uniformsEdges.tDiffuse.value=i.texture,this.fsQuad.material=this.materialEdges,e.setRenderTarget(this.edgesRT),this.clear&&e.clear(),this.fsQuad.render(e),this.fsQuad.material=this.materialWeights,e.setRenderTarget(this.weightsRT),this.clear&&e.clear(),this.fsQuad.render(e),this.uniformsBlend.tColor.value=i.texture,this.fsQuad.material=this.materialBlend,this.renderToScreen?(e.setRenderTarget(null),this.fsQuad.render(e)):(e.setRenderTarget(t),this.clear&&e.clear(),this.fsQuad.render(e))}setSize(e,t){this.edgesRT.setSize(e,t),this.weightsRT.setSize(e,t),this.materialEdges.uniforms.resolution.value.set(1/e,1/t),this.materialWeights.uniforms.resolution.value.set(1/e,1/t),this.materialBlend.uniforms.resolution.value.set(1/e,1/t)}getAreaTexture(){return"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAKAAAAIwCAIAAACOVPcQAACBeklEQVR42u39W4xlWXrnh/3WWvuciIzMrKxrV8/0rWbY0+SQFKcb4owIkSIFCjY9AC1BT/LYBozRi+EX+cV+8IMsYAaCwRcBwjzMiw2jAWtgwC8WR5Q8mDFHZLNHTarZGrLJJllt1W2qKrsumZWZcTvn7L3W54e1vrXX3vuciLPPORFR1XE2EomorB0nVuz//r71re/y/1eMvb4Cb3N11xV/PP/2v4UBAwJG/7H8urx6/25/Gf8O5hypMQ0EEEQwAqLfoN/Z+97f/SW+/NvcgQk4sGBJK6H7N4PFVL+K+e0N11yNfkKvwUdwdlUAXPHHL38oa15f/i/46Ih6SuMSPmLAYAwyRKn7dfMGH97jaMFBYCJUgotIC2YAdu+LyW9vvubxAP8kAL8H/koAuOKP3+q6+xGnd5kdYCeECnGIJViwGJMAkQKfDvB3WZxjLKGh8VSCCzhwEWBpMc5/kBbjawT4HnwJfhr+pPBIu7uu+OOTo9vsmtQcniMBGkKFd4jDWMSCRUpLjJYNJkM+IRzQ+PQvIeAMTrBS2LEiaiR9b/5PuT6Ap/AcfAFO4Y3dA3DFH7/VS+M8k4baEAQfMI4QfbVDDGIRg7GKaIY52qAjTAgTvGBAPGIIghOCYAUrGFNgzA7Q3QhgCwfwAnwe5vDejgG44o/fbm1C5ZlYQvQDARPAIQGxCWBM+wWl37ZQESb4gImexGMDouhGLx1Cst0Saa4b4AqO4Hk4gxo+3DHAV/nx27p3JziPM2pVgoiia5MdEzCGULprIN7gEEeQ5IQxEBBBQnxhsDb5auGmAAYcHMA9eAAz8PBol8/xij9+C4Djlim4gJjWcwZBhCBgMIIYxGAVIkH3ZtcBuLdtRFMWsPGoY9rN+HoBji9VBYdwD2ZQg4cnO7OSq/z4rU5KKdwVbFAjNojCQzTlCLPFSxtamwh2jMUcEgg2Wm/6XgErIBhBckQtGN3CzbVacERgCnfgLswhnvqf7QyAq/z4rRZm1YglYE3affGITaZsdIe2FmMIpnOCap25I6jt2kCwCW0D1uAD9sZctNGXcQIHCkINDQgc78aCr+zjtw3BU/ijdpw3zhCwcaONwBvdeS2YZKkJNJsMPf2JKEvC28RXxxI0ASJyzQCjCEQrO4Q7sFArEzjZhaFc4cdv+/JFdKULM4px0DfUBI2hIsy06BqLhGTQEVdbfAIZXYMPesq6VoCHICzUyjwInO4Y411//LYLs6TDa9wvg2CC2rElgAnpTBziThxaL22MYhzfkghz6GAs2VHbbdM91VZu1MEEpupMMwKyVTb5ij9+u4VJG/5EgEMMmFF01cFai3isRbKbzb+YaU/MQbAm2XSMoUPAmvZzbuKYRIFApbtlrfFuUGd6vq2hXNnH78ZLh/iFhsQG3T4D1ib7k5CC6vY0DCbtrohgLEIClXiGtl10zc0CnEGIhhatLBva7NP58Tvw0qE8yWhARLQ8h4+AhQSP+I4F5xoU+VilGRJs6wnS7ruti/4KvAY/CfdgqjsMy4pf8fodQO8/gnuX3f/3xi3om1/h7THr+co3x93PP9+FBUfbNUjcjEmhcrkT+8K7ml7V10Jo05mpIEFy1NmCJWx9SIKKt+EjAL4Ez8EBVOB6havuT/rByPvHXK+9zUcfcbb254+9fydJknYnRr1oGfdaiAgpxu1Rx/Rek8KISftx3L+DfsLWAANn8Hvw0/AFeAGO9DFV3c6D+CcWbL8Dj9e7f+T1k8AZv/d7+PXWM/Z+VvdCrIvuAKO09RpEEQJM0Ci6+B4xhTWr4cZNOvhktabw0ta0rSJmqz3Yw5/AKXwenod7cAhTmBSPKf6JBdvH8IP17h95pXqw50/+BFnj88fev4NchyaK47OPhhtI8RFSvAfDSNh0Ck0p2gLxGkib5NJj/JWCr90EWQJvwBzO4AHcgztwAFN1evHPUVGwfXON+0debT1YeGON9Yy9/63X+OguiwmhIhQhD7l4sMqlG3D86Suc3qWZ4rWjI1X7u0Ytw6x3rIMeIOPDprfe2XzNgyj6PahhBjO4C3e6puDgXrdg+/5l948vF3bqwZetZ+z9Rx9zdIY5pInPK4Nk0t+l52xdK2B45Qd87nM8fsD5EfUhIcJcERw4RdqqH7Yde5V7m1vhNmtedkz6EDzUMF/2jJYWbC+4fzzA/Y+/8PPH3j9dcBAPIRP8JLXd5BpAu03aziOL3VVHZzz3CXWDPWd+SH2AnxIqQoTZpo9Ckc6HIrFbAbzNmlcg8Ag8NFDDAhbJvTBZXbC94P7t68EXfv6o+21gUtPETU7bbkLxvNKRFG2+KXzvtObonPP4rBvsgmaKj404DlshFole1Glfh02fE7bYR7dZ82oTewIBGn1Md6CG6YUF26X376oevOLzx95vhUmgblI6LBZwTCDY7vMq0op5WVXgsObOXJ+1x3qaBl9j1FeLxbhU9w1F+Wiba6s1X/TBz1LnUfuYDi4r2C69f1f14BWfP+p+W2GFKuC9phcELMYRRLur9DEZTUdEH+iEqWdaM7X4WOoPGI+ZYD2+wcQ+y+ioHUZ9dTDbArzxmi/bJI9BND0Ynd6lBdve/butBw8+f/T9D3ABa3AG8W3VPX4hBin+bj8dMMmSpp5pg7fJ6xrBFE2WQQEWnV8Qg3FbAWzYfM1rREEnmvkN2o1+acG2d/9u68GDzx91v3mAjb1zkpqT21OipPKO0b9TO5W0nTdOmAQm0TObts3aBKgwARtoPDiCT0gHgwnbArzxmtcLc08HgF1asN0C4Ms/fvD5I+7PhfqyXE/b7RbbrGyRQRT9ARZcwAUmgdoz0ehJ9Fn7QAhUjhDAQSw0bV3T3WbNa59jzmiP6GsWbGXDX2ytjy8+f9T97fiBPq9YeLdBmyuizZHaqXITnXiMUEEVcJ7K4j3BFPurtB4bixW8wTpweL8DC95szWMOqucFYGsWbGU7p3TxxxefP+r+oTVktxY0v5hbq3KiOKYnY8ddJVSBxuMMVffNbxwIOERShst73HZ78DZrHpmJmH3K6sGz0fe3UUj0eyRrSCGTTc+rjVNoGzNSv05srAxUBh8IhqChiQgVNIIBH3AVPnrsnXQZbLTm8ammv8eVXn/vWpaTem5IXRlt+U/LA21zhSb9cye6jcOfCnOwhIAYXAMVTUNV0QhVha9xjgA27ODJbLbmitt3tRN80lqG6N/khgot4ZVlOyO4WNg3OIMzhIZQpUEHieg2im6F91hB3I2tubql6BYNN9Hj5S7G0G2tahslBWKDnOiIvuAEDzakDQKDNFQT6gbn8E2y4BBubM230YIpBnDbMa+y3dx0n1S0BtuG62lCCXwcY0F72T1VRR3t2ONcsmDjbmzNt9RFs2LO2hQNyb022JisaI8rAWuw4HI3FuAIhZdOGIcdjLJvvObqlpqvWTJnnQbyi/1M9O8UxWhBs//H42I0q1Yb/XPGONzcmm+ri172mHKvZBpHkJaNJz6v9jxqiklDj3U4CA2ugpAaYMWqNXsdXbmJNd9egCnJEsphXNM+MnK3m0FCJ5S1kmJpa3DgPVbnQnPGWIDspW9ozbcO4K/9LkfaQO2KHuqlfFXSbdNzcEcwoqNEFE9zcIXu9/6n/ym/BC/C3aJLzEKPuYVlbFnfhZ8kcWxV3dbv4bKl28566wD+8C53aw49lTABp9PWbsB+knfc/Li3eVizf5vv/xmvnPKg5ihwKEwlrcHqucuVcVOxEv8aH37E3ZqpZypUulrHEtIWKUr+txHg+ojZDGlwnqmkGlzcVi1dLiNSJiHjfbRNOPwKpx9TVdTn3K05DBx4psIk4Ei8aCkJahRgffk4YnEXe07T4H2RR1u27E6wfQsBDofUgjFUFnwC2AiVtA+05J2zpiDK2Oa0c5fmAecN1iJzmpqFZxqYBCYhFTCsUNEmUnIcZ6aEA5rQVhEywG6w7HSW02XfOoBlQmjwulOFQAg66SvJblrTEX1YtJ3uG15T/BH1OfOQeuR8g/c0gdpT5fx2SKbs9EfHTKdM8A1GaJRHLVIwhcGyydZsbifAFVKl5EMKNU2Hryo+06BeTgqnxzYjThVySDikbtJPieco75lYfKAJOMEZBTjoITuWHXXZVhcUDIS2hpiXHV9Ku4u44bN5OYLDOkJo8w+xJSMbhBRHEdEs9JZUCkQrPMAvaHyLkxgkEHxiNkx/x2YB0mGsQ8EUWj/stW5YLhtS5SMu+/YBbNPDCkGTUybN8krRLBGPlZkVOA0j+a1+rkyQKWGaPHPLZOkJhioQYnVZ2hS3zVxMtgC46KuRwbJNd9nV2PHgb36F194ecf/Yeu2vAFe5nm/bRBFrnY4BauE8ERmZRFUn0k8hbftiVYSKMEme2dJCJSCGYAlNqh87bXOPdUkGy24P6d1ll21MBqqx48Fvv8ZHH8HZFY7j/uAq1xMJUFqCSUlJPmNbIiNsmwuMs/q9CMtsZsFO6SprzCS1Z7QL8xCQClEelpjTduDMsmWD8S1PT152BtvmIGvUeDA/yRn83u/x0/4qxoPHjx+PXY9pqX9bgMvh/Nz9kpP4pOe1/fYf3axUiMdHLlPpZCNjgtNFAhcHEDxTumNONhHrBduW+vOyY++70WWnPXj98eA4kOt/mj/5E05l9+O4o8ePx67HFqyC+qSSnyselqjZGaVK2TadbFLPWAQ4NBhHqDCCV7OTpo34AlSSylPtIdd2AJZlyzYQrDJ5lcWGNceD80CunPLGGzsfD+7wRb95NevJI5docQ3tgCyr5bGnyaPRlmwNsFELViOOx9loebGNq2moDOKpHLVP5al2cymWHbkfzGXL7kfRl44H9wZy33tvt+PB/Xnf93e+nh5ZlU18wCiRUa9m7kib9LYuOk+hudQNbxwm0AQqbfloimaB2lM5fChex+ylMwuTbfmXQtmWlenZljbdXTLuOxjI/fDDHY4Hjx8/Hrse0zXfPFxbUN1kKqSCCSk50m0Ajtx3ub9XHBKHXESb8iO6E+qGytF4nO0OG3SXzbJlhxBnKtKyl0NwybjvYCD30aMdjgePHz8eu56SVTBbgxJMliQ3Oauwg0QHxXE2Ez/EIReLdQj42Gzb4CLS0YJD9xUx7bsi0vJi5mUbW1QzL0h0PFk17rtiIPfJk52MB48fPx67npJJwyrBa2RCCQRTbGZSPCxTPOiND4G2pYyOQ4h4jINIJh5wFU1NFZt+IsZ59LSnDqBjZ2awbOku+yInunLcd8VA7rNnOxkPHj9+PGY9B0MWJJNozOJmlglvDMXDEozdhQWbgs/U6oBanGzLrdSNNnZFjOkmbi5bNt1lX7JLLhn3vXAg9/h4y/Hg8ePHI9dzQMEkWCgdRfYykYKnkP7D4rIujsujaKPBsB54vE2TS00ccvFY/Tth7JXeq1hz+qgVy04sAJawTsvOknHfCwdyT062HA8eP348Zj0vdoXF4pilKa2BROed+9fyw9rWRXeTFXESMOanvDZfJuJaSXouQdMdDJZtekZcLLvEeK04d8m474UDuaenW44Hjx8/Xns9YYqZpszGWB3AN/4VHw+k7WSFtJ3Qicuqb/NlVmgXWsxh570xg2UwxUw3WfO6B5nOuO8aA7lnZxuPB48fPx6znm1i4bsfcbaptF3zNT78eFPtwi1OaCNOqp1x3zUGcs/PN++AGD1+fMXrSVm2baTtPhPahbPhA71wIHd2bXzRa69nG+3CraTtPivahV/55tXWg8fyRY/9AdsY8VbSdp8V7cKrrgdfM//z6ILQFtJ2nxHtwmuoB4/kf74+gLeRtvvMaBdeSz34+vifx0YG20jbfTa0C6+tHrwe//NmOG0L8EbSdp8R7cLrrQe/996O+ai3ujQOskpTNULa7jOjXXj99eCd8lHvoFiwsbTdZ0a78PrrwTvlo966pLuRtB2fFe3Cm6oHP9kNH/W2FryxtN1nTLvwRurBO+Kj3pWXHidtx2dFu/Bm68Fb81HvykuPlrb7LGkX3mw9eGs+6h1Y8MbSdjegXcguQLjmevDpTQLMxtJ2N6NdyBZu9AbrwVvwUW+LbteULUpCdqm0HTelXbhNPe8G68Gb8lFvVfYfSNuxvrTdTWoXbozAzdaDZzfkorOj1oxVxlIMlpSIlpLrt8D4hrQL17z+c3h6hU/wv4Q/utps4+bm+6P/hIcf0JwQ5oQGPBL0eKPTYEXTW+eL/2DKn73J9BTXYANG57hz1cEMviVf/4tf5b/6C5pTQkMIWoAq7hTpOJjtAM4pxKu5vg5vXeUrtI09/Mo/5H+4z+Mp5xULh7cEm2QbRP2tFIKR7WM3fPf/jZ3SWCqLM2l4NxID5zB72HQXv3jj/8mLR5xXNA5v8EbFQEz7PpRfl1+MB/hlAN65qgDn3wTgH13hK7T59bmP+NIx1SHHU84nLOITt3iVz8mNO+lPrjGAnBFqmioNn1mTyk1ta47R6d4MrX7tjrnjYUpdUbv2rVr6YpVfsGG58AG8Ah9eyUN8CX4WfgV+G8LVWPDGb+Zd4cU584CtqSbMKxauxTg+dyn/LkVgA+IR8KHtejeFKRtTmLLpxN6mYVLjYxwXf5x2VofiZcp/lwKk4wGOpYDnoIZPdg/AAbwMfx0+ge9dgZvYjuqKe4HnGnykYo5TvJbG0Vj12JagRhwKa44H95ShkZa5RyLGGdfYvG7aw1TsF6iapPAS29mNS3NmsTQZCmgTzFwgL3upCTgtBTRwvGMAKrgLn4evwin8+afJRcff+8izUGUM63GOOuAs3tJkw7J4kyoNreqrpO6cYLQeFUd7TTpr5YOTLc9RUUogUOVJQ1GYJaFLAW0oTmKyYS46ZooP4S4EON3xQ5zC8/CX4CnM4c1PE8ApexpoYuzqlP3d4S3OJP8ZDK7cKWNaTlqmgDiiHwl1YsE41w1zT4iRTm3DBqxvOUsbMKKDa/EHxagtnta072ejc3DOIh5ojvh8l3tk1JF/AV6FU6jh3U8HwEazLgdCLYSQ+MYiAI2ltomkzttUb0gGHdSUUgsIYjTzLG3mObX4FBRaYtpDVNZrih9TgTeYOBxsEnN1gOCTM8Bsw/ieMc75w9kuAT6A+/AiHGvN/+Gn4KRkiuzpNNDYhDGFndWRpE6SVfm8U5bxnSgVV2jrg6JCKmneqey8VMFgq2+AM/i4L4RUbfSi27lNXZ7R7W9RTcq/q9fk4Xw3AMQd4I5ifAZz8FcVtm9SAom/dyN4lczJQW/kC42ZrHgcCoIf1oVMKkVItmMBi9cOeNHGLqOZk+QqQmrbc5YmYgxELUUN35z2iohstgfLIFmcMV7s4CFmI74L9+EFmGsi+tGnAOD4Yk9gIpo01Y4cA43BWGygMdr4YZekG3OBIUXXNukvJS8tqa06e+lSDCtnqqMFu6hWHXCF+WaYt64m9QBmNxi7Ioy7D+fa1yHw+FMAcPt7SysFLtoG4PXAk7JOA3aAxBRqUiAdU9Yp5lK3HLSRFtOim0sa8euEt08xvKjYjzeJ2GU7YawexrnKI9tmobInjFXCewpwriY9+RR4aaezFhMhGCppKwom0ChrgFlKzyPKkGlTW1YQrE9HJqu8hKGgMc6hVi5QRq0PZxNfrYNgE64utmRv6KKHRpxf6VDUaOvNP5jCEx5q185My/7RKz69UQu2im5k4/eownpxZxNLwiZ1AZTO2ZjWjkU9uaB2HFn6Q3u0JcsSx/qV9hTEApRzeBLDJQXxYmTnq7bdLa3+uqFrxLJ5w1TehnNHx5ECvCh2g2c3hHH5YsfdaSKddztfjQ6imKFGSyFwlLzxEGPp6r5IevVjk1AMx3wMqi1NxDVjLBiPs9tbsCkIY5we5/ML22zrCScFxnNtzsr9Wcc3CnD+pYO+4VXXiDE0oc/vQQ/fDK3oPESJMYXNmJa/DuloJZkcTpcYE8lIH8Dz8DJMiynNC86Mb2lNaaqP/+L7f2fcE/yP7/Lde8xfgSOdMxvOixZf/9p3+M4hT1+F+zApxg9XfUvYjc8qX2lfOOpK2gNRtB4flpFu9FTKCp2XJRgXnX6olp1zyYjTKJSkGmLE2NjUr1bxFM4AeAAHBUFIeSLqXR+NvH/M9fOnfHzOD2vCSyQJKzfgsCh+yi/Mmc35F2fUrw7miW33W9hBD1vpuUojFphIyvg7aTeoymDkIkeW3XLHmguMzbIAJejN6B5MDrhipE2y6SoFRO/AK/AcHHZHNIfiWrEe/C6cr3f/yOvrQKB+zMM55/GQdLDsR+ifr5Fiuu+/y+M78LzOE5dsNuXC3PYvYWd8NXvphLSkJIasrlD2/HOqQ+RjcRdjKTGWYhhVUm4yxlyiGPuMsZR7sMCHUBeTuNWA7if+ifXgc/hovftHXs/DV+Fvwe+f8shzMiMcweFgBly3//vwJfg5AN4450fn1Hd1Rm1aBLu22Dy3y3H2+OqMemkbGZ4jozcDjJf6596xOLpC0eMTHbKnxLxH27uZ/bMTGs2jOaMOY4m87CfQwF0dw53oa1k80JRuz/XgS+8fX3N9Af4qPIMfzKgCp4H5TDGe9GGeFPzSsZz80SlPTxXjgwJmC45njzgt2vbQ4b4OAdUK4/vWhO8d8v6EE8fMUsfakXbPpFJeLs2ubM/qdm/la3WP91uWhxXHjoWhyRUq2iJ/+5mA73zwIIo+LoZ/SgvIRjAd1IMvvn98PfgOvAJfhhm8scAKVWDuaRaK8aQ9f7vuPDH6Bj47ZXau7rqYJ66mTDwEDU6lLbCjCK0qTXyl5mnDoeNRxanj3FJbaksTk0faXxHxLrssgPkWB9LnA/MFleXcJozzjwsUvUG0X/QCve51qkMDXp9mtcyOy3rwBfdvVJK7D6/ACSzg3RoruIq5UDeESfEmVclDxnniU82vxMLtceD0hGZWzBNPMM/jSPne2OVatiTKUpY5vY7gc0LdUAWeWM5tH+O2I66AOWw9xT2BuyRVLGdoDHUsVRXOo/c+ZdRXvFfnxWyIV4upFLCl9eAL7h8Zv0QH8Ry8pA2cHzQpGesctVA37ZtklBTgHjyvdSeKY/RZw/kJMk0Y25cSNRWSigQtlULPTw+kzuJPeYEkXjQRpoGZobYsLF79pyd1dMRHInbgFTZqNLhDqiIsTNpoex2WLcy0/X6rHcdMMQvFSd5dWA++4P7xv89deACnmr36uGlL69bRCL6BSZsS6c0TU2TKK5gtWCzgAOOwQcurqk9j8whvziZSMLcq5hbuwBEsYjopUBkqw1yYBGpLA97SRElEmx5MCInBY5vgLk94iKqSWmhIGmkJ4Bi9m4L645J68LyY4wsFYBfUg5feP/6gWWm58IEmKQM89hq7KsZNaKtP5TxxrUZZVkNmMJtjbKrGxLNEbHPJxhqy7lAmbC32ZqeF6lTaknRWcYaFpfLUBh/rwaQycCCJmW15Kstv6jRHyJFry2C1ahkkIW0LO75s61+owxK1y3XqweX9m5YLM2DPFeOjn/iiqCKJ+yKXF8t5Yl/kNsqaSCryxPq5xWTFIaP8KSW0RYxqupaUf0RcTNSSdJZGcKYdYA6kdtrtmyBckfKXwqk0pHpUHlwWaffjNRBYFPUDWa8e3Lt/o0R0CdisKDM89cX0pvRHEfM8ca4t0s2Xx4kgo91MPQJ/0c9MQYq0co8MBh7bz1fio0UUHLR4aAIOvOmoYO6kwlEVODSSTliWtOtH6sPkrtctF9ZtJ9GIerBskvhdVS5cFNv9s1BU0AbdUgdK4FG+dRnjFmDTzniRMdZO1QhzMK355vigbdkpz9P6qjUGE5J2qAcXmwJ20cZUiAD0z+pGMx6xkzJkmEf40Hr4qZfVg2XzF9YOyoV5BjzVkUJngKf8lgNYwKECEHrCNDrWZzMlflS3yBhr/InyoUgBc/lKT4pxVrrC6g1YwcceK3BmNxZcAtz3j5EIpqguh9H6wc011YN75cKDLpFDxuwkrPQmUwW4KTbj9mZTwBwLq4aQMUZbHm1rylJ46dzR0dua2n3RYCWZsiHROeywyJGR7mXKlpryyCiouY56sFkBWEnkEB/raeh/Sw4162KeuAxMQpEkzy5alMY5wamMsWKKrtW2WpEWNnReZWONKWjrdsKZarpFjqCslq773PLmEhM448Pc3+FKr1+94vv/rfw4tEcu+lKTBe4kZSdijBrykwv9vbCMPcLQTygBjzVckSLPRVGslqdunwJ4oegtFOYb4SwxNgWLCmD7T9kVjTv5YDgpo0XBmN34Z/rEHp0sgyz7lngsrm4lvMm2Mr1zNOJYJ5cuxuQxwMGJq/TP5emlb8fsQBZviK4t8hFL+zbhtlpwaRSxQRWfeETjuauPsdGxsBVdO7nmP4xvzSoT29pRl7kGqz+k26B3Oy0YNV+SXbbQas1ctC/GarskRdFpKczVAF1ZXnLcpaMuzVe6lZ2g/1ndcvOVgRG3sdUAY1bKD6achijMPdMxV4muKVorSpiDHituH7rSTs7n/4y5DhRXo4FVBN4vO/zbAcxhENzGbHCzU/98Mcx5e7a31kWjw9FCe/zNeYyQjZsWb1uc7U33pN4Mji6hCLhivqfa9Ss6xLg031AgfesA/l99m9fgvnaF9JoE6bYKmkGNK3aPbHB96w3+DnxFm4hs0drLsk7U8kf/N/CvwQNtllna0rjq61sH8L80HAuvwH1tvBy2ChqWSCaYTaGN19sTvlfzFD6n+iKTbvtayfrfe9ueWh6GJFoxLdr7V72a5ZpvHcCPDzma0wTO4EgbLyedxstO81n57LYBOBzyfsOhUKsW1J1BB5vr/tz8RyqOFylQP9Tvst2JALsC5lsH8PyQ40DV4ANzYa4dedNiKNR1s+x2wwbR7q4/4cTxqEk4LWDebfisuo36JXLiWFjOtLrlNWh3K1rRS4xvHcDNlFnNmWBBAl5SWaL3oPOfnvbr5pdjVnEaeBJSYjuLEkyLLsWhKccadmOphZkOPgVdalj2QpSmfOsADhMWE2ZBu4+EEJI4wKTAuCoC4xwQbWXBltpxbjkXJtKxxabo9e7tyhlgb6gNlSbUpMh+l/FaqzVwewGu8BW1Zx7pTpQDJUjb8tsUTW6+GDXbMn3mLbXlXJiGdggxFAoUrtPS3wE4Nk02UZG2OOzlk7fRs7i95QCLo3E0jtrjnM7SR3uS1p4qtS2nJ5OwtQVHgOvArLBFijZUV9QtSl8dAY5d0E0hM0w3HS2DpIeB6m/A1+HfhJcGUq4sOxH+x3f5+VO+Ds9rYNI7zPXOYWPrtf8bYMx6fuOAX5jzNR0PdsuON+X1f7EERxMJJoU6GkTEWBvVolVlb5lh3tKCg6Wx1IbaMDdJ+9sUCc5KC46hKGCk3IVOS4TCqdBNfUs7Kd4iXf2RjnT/LLysJy3XDcHLh/vde3x8DoGvwgsa67vBk91G5Pe/HbOe7xwym0NXbtiuuDkGO2IJDh9oQvJ4cY4vdoqLDuoH9Zl2F/ofsekn8lkuhIlhQcffUtSjytFyp++p6NiE7Rqx/lodgKVoceEp/CP4FfjrquZaTtj2AvH5K/ywpn7M34K/SsoYDAdIN448I1/0/wveW289T1/lX5xBzc8N5IaHr0XMOQdHsIkDuJFifj20pBm5jzwUv9e2FhwRsvhAbalCIuIw3bhJihY3p6nTFFIZgiSYjfTf3aXuOjmeGn4bPoGvwl+CFzTRczBIuHBEeImHc37/lGfwZR0cXzVDOvaKfNHvwe+suZ771K/y/XcBlsoN996JpBhoE2toYxOznNEOS5TJc6Id5GEXLjrWo+LEWGNpPDU4WAwsIRROu+1vM+0oW37z/MBN9kqHnSArwPfgFJ7Cq/Ai3Ie7g7ncmI09v8sjzw9mzOAEXoIHxURueaAce5V80f/DOuuZwHM8vsMb5wBzOFWM7wymTXPAEvm4vcFpZ2ut0VZRjkiP2MlmLd6DIpbGSiHOjdnUHN90hRYmhTnmvhzp1iKDNj+b7t5hi79lWGwQ+HN9RsfFMy0FXbEwhfuczKgCbyxYwBmcFhhvo/7a44v+i3XWcwDP86PzpGQYdWh7csP5dBvZ1jNzdxC8pBGuxqSW5vw40nBpj5JhMwvOzN0RWqERHMr4Lv1kWX84xLR830G3j6yqZ1a8UstTlW+qJPOZ+sZ7xZPKTJLhiNOAFd6tk+jrTH31ncLOxid8+nzRb128HhUcru/y0Wn6iT254YPC6FtVSIMoW2sk727AhvTtrWKZTvgsmckfXYZWeNRXx/3YQ2OUxLDrbHtN11IwrgXT6c8dATDwLniYwxzO4RzuQqTKSC5gAofMZ1QBK3zQ4JWobFbcvJm87FK+6JXrKahLn54m3p+McXzzYtP8VF/QpJuh1OwieElEoI1pRxPS09FBrkq2tWCU59+HdhNtTIqKm8EBrw2RTOEDpG3IKo2Y7mFdLm3ZeVjYwVw11o/oznceMve4CgMfNym/utA/d/ILMR7gpXzRy9eDsgLcgbs8O2Va1L0zzIdwGGemTBuwROHeoMShkUc7P+ISY3KH5ZZeWqO8mFTxQYeXTNuzvvK5FGPdQfuu00DwYFY9dyhctEt+OJDdnucfpmyhzUJzfsJjr29l8S0bXBfwRS9ZT26tmMIdZucch5ZboMz3Nio3nIOsYHCGoDT4kUA9MiXEp9Xsui1S8th/kbWIrMBxDGLodWUQIWcvnXy+9M23xPiSMOiRPqM+YMXkUN3gXFrZJwXGzUaMpJfyRS9ZT0lPe8TpScuRlbMHeUmlaKDoNuy62iWNTWNFYjoxFzuJs8oR+RhRx7O4SVNSXpa0ZJQ0K1LAHDQ+D9IepkMXpcsq5EVCvClBUIzDhDoyKwDw1Lc59GbTeORivugw1IcuaEOaGWdNm+Ps5fQ7/tm0DjMegq3yM3vb5j12qUId5UZD2oxDSEWOZMSqFl/W+5oynWDa/aI04tJRQ2eTXusg86SQVu/nwSYwpW6wLjlqIzwLuxGIvoAvul0PS+ZNz0/akp/pniO/8JDnGyaCkzbhl6YcqmK/69prxPqtpx2+Km9al9sjL+rwMgHw4jE/C8/HQ3m1vBuL1fldbzd8mOueVJ92syqdEY4KJjSCde3mcRw2TA6szxedn+zwhZMps0XrqEsiUjnC1hw0TELC2Ek7uAAdzcheXv1BYLagspxpzSAoZZUsIzIq35MnFQ9DOrlNB30jq3L4pkhccKUAA8/ocvN1Rzx9QyOtERs4CVsJRK/DF71kPYrxYsGsm6RMh4cps5g1DOmM54Ly1ii0Hd3Y/BMk8VWFgBVmhqrkJCPBHAolwZaWzLR9Vb7bcWdX9NyUYE+uB2BKfuaeBUcjDljbYVY4DdtsVWvzRZdWnyUzDpjNl1Du3aloAjVJTNDpcIOVVhrHFF66lLfJL1zJr9PQ2nFJSBaKoDe+sAvLufZVHVzYh7W0h/c6AAZ+7Tvj6q9j68G/cTCS/3n1vLKHZwNi+P+pS0WkZNMBMUl+LDLuiE4omZy71r3UFMwNJV+VJ/GC5ixVUkBStsT4gGKh0Gm4Oy3qvq7Lbmq24nPdDuDR9deR11XzP4vFu3TYzfnIyiSVmgizUYGqkIXNdKTY9pgb9D2Ix5t0+NHkVzCdU03suWkkVZAoCONCn0T35gAeW38de43mf97sMOpSvj4aa1KYUm58USI7Wxxes03bAZdRzk6UtbzMaCQ6IxO0dy7X+XsjoD16hpsBeGz9dfzHj+R/Hp8nCxZRqkEDTaCKCSywjiaoMJ1TITE9eg7Jqnq8HL6gDwiZb0u0V0Rr/rmvqjxKuaLCX7ZWXTvAY+uvm3z8CP7nzVpngqrJpZKwWnCUjIviYVlirlGOzPLI3SMVyp/elvBUjjDkNhrtufFFErQ8pmdSlbK16toBHlt/HV8uHMX/vEGALkV3RJREiSlopxwdMXOZPLZ+ix+kAHpMKIk8UtE1ygtquttwxNhphrIZ1IBzjGF3IIGxGcBj6q8bHJBG8T9vdsoWrTFEuebEZuVxhhClH6P5Zo89OG9fwHNjtNQTpD0TG9PJLEYqvEY6Rlxy+ZZGfL0Aj62/bnQCXp//eeM4KzfQVJbgMQbUjlMFIm6TpcfWlZje7NBSV6IsEVmumWIbjiloUzQX9OzYdo8L1wjw2PrrpimONfmfNyzKklrgnEkSzT5QWYQW40YShyzqsRmMXbvVxKtGuYyMKaU1ugenLDm5Ily4iT14fP11Mx+xJv+zZ3MvnfdFqxU3a1W/FTB4m3Qfsyc1XUcdVhDeUDZXSFHHLQj/Y5jtC7ZqM0CXGwB4bP11i3LhOvzPGygYtiUBiwQV/4wFO0majijGsafHyRLu0yG6q35cL1rOpVxr2s5cM2jJYMCdc10Aj6q/blRpWJ//+dmm5psMl0KA2+AFRx9jMe2WbC4jQxnikd4DU8TwUjRVacgdlhmr3bpddzuJ9zXqr2xnxJfzP29RexdtjDVZqzkqa6PyvcojGrfkXiJ8SEtml/nYskicv0ivlxbqjemwUjMw5evdg8fUX9nOiC/lf94Q2i7MURk9nW1MSj5j8eAyV6y5CN2S6qbnw3vdA1Iwq+XOSCl663udN3IzLnrt+us25cI1+Z83SXQUldqQq0b5XOT17bGpLd6ssN1VMPf8c+jG8L3NeCnMdF+Ra3fRa9dft39/LuZ/3vwHoHrqGmQFafmiQw6eyzMxS05K4bL9uA+SKUQzCnSDkqOGokXyJvbgJ/BHI+qvY69//4rl20NsmK2ou2dTsyIALv/91/8n3P2Aao71WFGi8KKv1fRC5+J67Q/507/E/SOshqN5TsmYIjVt+kcjAx98iz/4SaojbIV1rexE7/C29HcYD/DX4a0rBOF5VTu7omsb11L/AWcVlcVZHSsqGuXLLp9ha8I//w3Mv+T4Ew7nTBsmgapoCrNFObIcN4pf/Ob/mrvHTGqqgAupL8qWjWPS9m/31jAe4DjA+4+uCoQoT/zOzlrNd3qd4SdphFxsUvYwGWbTWtISc3wNOWH+kHBMfc6kpmpwPgHWwqaSUG2ZWWheYOGQGaHB+eQ/kn6b3pOgLV+ODSn94wDvr8Bvb70/LLuiPPEr8OGVWfDmr45PZyccEmsVXZGe1pRNX9SU5+AVQkNTIVPCHF/jGmyDC9j4R9LfWcQvfiETmgMMUCMN1uNCakkweZsowdYobiMSlnKA93u7NzTXlSfe+SVbfnPQXmg9LpYAQxpwEtONyEyaueWM4FPjjyjG3uOaFmBTWDNgBXGEiQpsaWhnAqIijB07Dlsy3fUGeP989xbWkyf+FF2SNEtT1E0f4DYYVlxFlbaSMPIRMk/3iMU5pME2SIWJvjckciebkQuIRRyhUvkHg/iUljG5kzVog5hV7vIlCuBrmlhvgPfNHQM8lCf+FEGsYbMIBC0qC9a0uuy2wLXVbLBaP5kjHokCRxapkQyzI4QEcwgYHRZBp+XEFTqXFuNVzMtjXLJgX4gAid24Hjwc4N3dtVSe+NNiwTrzH4WVUOlDobUqr1FuAgYllc8pmzoVrELRHSIW8ViPxNy4xwjBpyR55I6J220qQTZYR4guvUICJiSpr9gFFle4RcF/OMB7BRiX8sSfhpNSO3lvEZCQfLUVTKT78Ek1LRLhWN+yLyTnp8qWUZ46b6vxdRGXfHVqx3eI75YaLa4iNNiK4NOW7wPW6lhbSOF9/M9qw8e/aoB3d156qTzxp8pXx5BKAsYSTOIIiPkp68GmTq7sZtvyzBQaRLNxIZ+paozHWoLFeExIhRBrWitHCAHrCF7/thhD8JhYz84wg93QRV88wLuLY8zF8sQ36qF1J455bOlgnELfshKVxYOXKVuKx0jaj22sczTQqPqtV/XDgpswmGTWWMSDw3ssyUunLLrVPGjYRsH5ggHeHSWiV8kT33ycFSfMgkoOK8apCye0J6VW6GOYvffgU9RWsukEi2kUV2nl4dOYUzRik9p7bcA4ggdJ53LxKcEe17B1R8eqAd7dOepV8sTXf5lhejoL85hUdhDdknPtKHFhljOT+bdq0hxbm35p2nc8+Ja1Iw+tJykgp0EWuAAZYwMVwac5KzYMslhvgHdHRrxKnvhTYcfKsxTxtTETkjHO7rr3zjoV25lAQHrqpV7bTiy2aXMmUhTBnKS91jhtR3GEoF0oLnWhWNnYgtcc4N0FxlcgT7yz3TgNIKkscx9jtV1ZKpWW+Ub1tc1eOv5ucdgpx+FJy9pgbLE7xDyXb/f+hLHVGeitHOi6A7ybo3sF8sS7w7cgdk0nJaOn3hLj3uyD0Zp5pazFIUXUpuTTU18d1EPkDoX8SkmWTnVIozEdbTcZjoqxhNHf1JrSS/AcvHjZ/SMHhL/7i5z+POsTUh/8BvNfYMTA8n+yU/MlTZxSJDRStqvEuLQKWwDctMTQogUDyQRoTQG5Kc6oQRE1yV1jCA7ri7jdZyK0sYTRjCR0Hnnd+y7nHxNgTULqw+8wj0mQKxpYvhjm9uSUxg+TTy7s2GtLUGcywhXSKZN275GsqlclX90J6bRI1aouxmgL7Q0Nen5ziM80SqMIo8cSOo+8XplT/5DHNWsSUr/6lLN/QQ3rDyzLruEW5enpf7KqZoShEduuSFOV7DLX7Ye+GmXb6/hnNNqKsVXuMDFpb9Y9eH3C6NGEzuOuI3gpMH/I6e+zDiH1fXi15t3vA1czsLws0TGEtmPEJdiiFPwlwKbgLHAFk4P6ZyPdymYYHGE0dutsChQBl2JcBFlrEkY/N5bQeXQ18gjunuMfMfsBlxJSx3niO485fwO4fGD5T/+3fPQqkneWVdwnw/3bMPkW9Wbqg+iC765Zk+xcT98ibKZc2EdgHcLoF8cSOo/Oc8fS+OyEULF4g4sJqXVcmfMfsc7A8v1/yfGXmL9I6Fn5pRwZhsPv0TxFNlAfZCvG+Oohi82UC5f/2IsJo0cTOm9YrDoKhFPEUr/LBYTUNht9zelHXDqwfPCIw4owp3mOcIQcLttWXFe3VZ/j5H3cIc0G6oPbCR+6Y2xF2EC5cGUm6wKC5tGEzhsWqw5hNidUiKX5gFWE1GXh4/Qplw4sVzOmx9QxU78g3EF6wnZlEN4FzJ1QPSLEZz1KfXC7vd8ssGdIbNUYpVx4UapyFUHzJoTOo1McSkeNn1M5MDQfs4qQuhhX5vQZFw8suwWTcyYTgioISk2YdmkhehG4PkE7w51inyAGGaU+uCXADabGzJR1fn3lwkty0asIo8cROm9Vy1g0yDxxtPvHDAmpu+PKnM8Ix1wwsGw91YJqhteaWgjYBmmQiebmSpwKKzE19hx7jkzSWOm66oPbzZ8Yj6kxVSpYjVAuvLzYMCRo3oTQecOOjjgi3NQ4l9K5/hOGhNTdcWVOTrlgYNkEXINbpCkBRyqhp+LdRB3g0OU6rMfW2HPCFFMV9nSp+uB2woepdbLBuJQyaw/ZFysXrlXwHxI0b0LovEkiOpXGA1Ijagf+KUNC6rKNa9bQnLFqYNkEnMc1uJrg2u64ELPBHpkgWbmwKpJoDhMwNbbGzAp7Yg31wS2T5rGtzit59PrKhesWG550CZpHEzpv2NGRaxlNjbMqpmEIzygJqQfjypycs2pg2cS2RY9r8HUqkqdEgKTWtWTKoRvOBPDYBltja2SO0RGjy9UHtxwRjA11ujbKF+ti5cIR9eCnxUg6owidtyoU5tK4NLji5Q3HCtiyF2IqLGYsHViOXTXOYxucDqG0HyttqYAKqYo3KTY1ekyDXRAm2AWh9JmsVh/ccg9WJ2E8YjG201sPq5ULxxX8n3XLXuMInbft2mk80rRGjCGctJ8/GFdmEQ9Ug4FlE1ll1Y7jtiraqm5Fe04VV8lvSVBL8hiPrfFVd8+7QH3Qbu2ipTVi8cvSGivc9cj8yvH11YMHdNSERtuOslM97feYFOPKzGcsI4zW0YGAbTAOaxCnxdfiYUmVWslxiIblCeAYr9VYR1gM7GmoPrilunSxxeT3DN/2eBQ9H11+nk1adn6VK71+5+Jfct4/el10/7KBZfNryUunWSCPxPECk1rdOv1WVSrQmpC+Tl46YD3ikQYcpunSQgzVB2VHFhxHVGKDgMEY5GLlQnP7FMDzw7IacAWnO6sBr12u+XanW2AO0wQ8pknnFhsL7KYIqhkEPmEXFkwaN5KQphbkUmG72wgw7WSm9RiL9QT925hkjiVIIhphFS9HKI6/8QAjlpXqg9W2C0apyaVDwKQwrwLY3j6ADR13ZyUNByQXHQu6RY09Hu6zMqXRaNZGS/KEJs0cJEe9VH1QdvBSJv9h09eiRmy0V2uJcqHcShcdvbSNg5fxkenkVprXM9rDVnX24/y9MVtncvbKY706anNl3ASll9a43UiacVquXGhvq4s2FP62NGKfQLIQYu9q1WmdMfmUrDGt8eDS0cXozH/fjmUH6Jruvm50hBDSaEU/2Ru2LEN/dl006TSc/g7tfJERxGMsgDUEr104pfWH9lQaN+M4KWQjwZbVc2rZVNHsyHal23wZtIs2JJqtIc/WLXXRFCpJkfE9jvWlfFbsNQ9pP5ZBS0zKh4R0aMFj1IjTcTnvi0Zz2rt7NdvQb2mgbju1plsH8MmbnEk7KbK0b+wC2iy3aX3szW8xeZvDwET6hWZYwqTXSSG+wMETKum0Dq/q+x62gt2ua2ppAo309TRk9TPazfV3qL9H8z7uhGqGqxNVg/FKx0HBl9OVUORn8Q8Jx9gFttGQUDr3tzcXX9xGgN0EpzN9mdZ3GATtPhL+CjxFDmkeEU6x56kqZRusLzALXVqkCN7zMEcqwjmywDQ6OhyUe0Xao1Qpyncrg6wKp9XfWDsaZplElvQ/b3sdweeghorwBDlHzgk1JmMc/wiERICVy2VJFdMjFuLQSp3S0W3+sngt2njwNgLssFGVQdJ0tu0KH4ky1LW4yrbkuaA6Iy9oz/qEMMXMMDWyIHhsAyFZc2peV9hc7kiKvfULxCl9iddfRK1f8kk9qvbdOoBtOg7ZkOZ5MsGrSHsokgLXUp9y88smniwWyuFSIRVmjplga3yD8Uij5QS1ZiM4U3Qw5QlSm2bXjFe6jzzBFtpg+/YBbLAWG7OPynNjlCw65fukGNdkJRf7yM1fOxVzbxOJVocFoYIaGwH22mIQkrvu1E2nGuebxIgW9U9TSiukPGU+Lt++c3DJPKhyhEEbXCQLUpae2exiKy6tMPe9mDRBFCEMTWrtwxN8qvuGnt6MoihKWS5NSyBhbH8StXoAz8PLOrRgLtOT/+4vcu+7vDLnqNvztOq7fmd8sMmY9Xzn1zj8Dq8+XVdu2Nv0IIySgEdQo3xVHps3Q5i3fLFsV4aiqzAiBhbgMDEd1uh8qZZ+lwhjkgokkOIv4xNJmyncdfUUzgB4oFMBtiu71Xumpz/P+cfUP+SlwFExwWW62r7b+LSPxqxn/gvMZ5z9C16t15UbNlq+jbGJtco7p8wbYlL4alSyfWdeuu0j7JA3JFNuVAwtst7F7FhWBbPFNKIUORndWtLraFLmMu7KFVDDOzqkeaiN33YAW/r76wR4XDN/yN1z7hejPau06EddkS/6XThfcz1fI/4K736fO48vlxt2PXJYFaeUkFS8U15XE3428xdtn2kc8GQlf1vkIaNRRnOMvLTWrZbElEHeLWi1o0dlKPAh1MVgbbVquPJ5+Cr8LU5/H/+I2QlHIU2ClXM9G8v7Rr7oc/hozfUUgsPnb3D+I+7WF8kNO92GY0SNvuxiE+2Bt8prVJTkzE64sfOstxuwfxUUoyk8VjcTlsqe2qITSFoSj6Epd4KsT6BZOWmtgE3hBfir8IzZDwgV4ZTZvD8VvPHERo8v+vL1DASHTz/i9OlKueHDjK5Rnx/JB1Vb1ioXdBra16dmt7dgik10yA/FwJSVY6XjA3oy4SqM2frqDPPSRMex9qs3XQtoWxMj7/Er8GWYsXgjaVz4OYumP2+9kbxvny/6kvWsEBw+fcb5bInc8APdhpOSs01tEqIkoiZjbAqKMruLbJYddHuHFRIyJcbdEdbl2sVLaySygunutBg96Y2/JjKRCdyHV+AEFtTvIpbKIXOamknYSiB6KV/0JetZITgcjjk5ZdaskBtWO86UF0ap6ozGXJk2WNiRUlCPFir66lzdm/SLSuK7EUdPz8f1z29Skq6F1fXg8+5UVR6bszncP4Tn4KUkkdJ8UFCY1zR1i8RmL/qQL3rlei4THG7OODlnKko4oI01kd3CaM08Ia18kC3GNoVaO9iDh+hWxSyTXFABXoau7Q6q9OxYg/OVEMw6jdbtSrJ9cBcewGmaZmg+bvkUnUUaGr+ZfnMH45Ivevl61hMcXsxYLFTu1hTm2zViCp7u0o5l+2PSUh9bDj6FgYypufBDhqK2+oXkiuHFHR3zfj+9PtA8oR0xnqX8qn+sx3bFODSbbF0X8EUvWQ8jBIcjo5bRmLOljDNtcqNtOe756h3l0VhKa9hDd2l1eqmsnh0MNMT/Cqnx6BInumhLT8luljzQ53RiJeA/0dxe5NK0o2fA1+GLXr6eNQWHNUOJssQaTRlGpLHKL9fD+IrQzTOMZS9fNQD4AnRNVxvTdjC+fJdcDDWQcyB00B0t9BDwTxXgaAfzDZ/DBXzRnfWMFRwuNqocOmX6OKNkY63h5n/fFcB28McVHqnXZVI27K0i4rDLNE9lDKV/rT+udVbD8dFFu2GGZ8mOt0kAXcoX3ZkIWVtw+MNf5NjR2FbivROHmhV1/pj2egv/fMGIOWTIWrV3Av8N9imV9IWml36H6cUjqEWNv9aNc+veb2sH46PRaHSuMBxvtW+twxctq0z+QsHhux8Q7rCY4Ct8lqsx7c6Sy0dl5T89rIeEuZKoVctIk1hNpfavER6yyH1Vvm3MbsUHy4ab4hWr/OZPcsRBphnaV65/ZcdYPNNwsjN/djlf9NqCw9U5ExCPcdhKxUgLSmfROpLp4WSUr8ojdwbncbvCf+a/YzRaEc6QOvXcGO256TXc5Lab9POvB+AWY7PigWYjzhifbovuunzRawsO24ZqQQAqguBtmpmPB7ysXJfyDDaV/aPGillgz1MdQg4u5MYaEtBNNHFjkRlSpd65lp4hd2AVPTfbV7FGpyIOfmNc/XVsPfg7vzaS/3nkvLL593ANLvMuRMGpQIhiF7kUEW9QDpAUbTWYBcbp4WpacHHY1aacqQyjGZS9HI3yCBT9kUZJhVOD+zUDvEH9ddR11fzPcTDQ5TlgB0KwqdXSavk9BC0pKp0WmcuowSw07VXmXC5guzSa4p0UvRw2lbDiYUx0ExJJRzWzi6Gm8cnEkfXXsdcG/M/jAJa0+bmCgdmQ9CYlNlSYZOKixmRsgiFxkrmW4l3KdFKv1DM8tk6WxPYJZhUUzcd8Kdtgrw/gkfXXDT7+avmfVak32qhtkg6NVdUS5wgkru1YzIkSduTW1FDwVWV3JQVJVuieTc0y4iDpFwc7/BvSalvKdQM8sv662cevz/+8sQVnjVAT0W2wLllw1JiMhJRxgDjCjLQsOzSFSgZqx7lAW1JW0e03yAD3asC+GD3NbQhbe+mN5GXH1F83KDOM4n/e5JIuH4NpdQARrFPBVptUNcjj4cVMcFSRTE2NpR1LEYbYMmfWpXgP9KejaPsLUhuvLCsVXznAG9dfx9SR1ud/3hZdCLHb1GMdPqRJgqDmm76mHbvOXDtiO2QPUcKo/TWkQ0i2JFXpBoo7vij1i1Lp3ADAo+qvG3V0rM//vFnnTE4hxd5Ka/Cor5YEdsLVJyKtDgVoHgtW11pWSjolPNMnrlrVj9Fv2Qn60twMwKPqr+N/wvr8z5tZcDsDrv06tkqyzESM85Ycv6XBWA2birlNCXrI6VbD2lx2L0vQO0QVTVVLH4SE67fgsfVXv8n7sz7/85Z7cMtbE6f088wSaR4kCkCm10s6pKbJhfqiUNGLq+0gLWC6eUAZFPnLjwqtKd8EwGvWX59t7iPW4X/eAN1svgRVSY990YZg06BD1ohLMtyFTI4pKTJsS9xREq9EOaPWiO2gpms7397x6nQJkbh+Fz2q/rqRROX6/M8bJrqlVW4l6JEptKeUFuMYUbtCQ7CIttpGc6MY93x1r1vgAnRXvY5cvwWPqb9uWQm+lP95QxdNMeWhOq1x0Db55C7GcUv2ZUuN6n8iKzsvOxibC//Yfs9Na8r2Rlz02vXXDT57FP/zJi66/EJSmsJKa8QxnoqW3VLQ+jZVUtJwJ8PNX1NQCwfNgdhhHD9on7PdRdrdGPF28rJr1F+3LBdeyv+8yYfLoMYet1vX4upNAjVvwOUWnlNXJXlkzk5Il6kqeoiL0C07qno+/CYBXq/+utlnsz7/Mzvy0tmI4zm4ag23PRN3t/CWryoUVJGm+5+K8RJ0V8Hc88/XHUX/HfiAq7t+BH+x6v8t438enWmdJwFA6ZINriLGKv/95f8lT9/FnyA1NMVEvQyaXuu+gz36f/DD73E4pwqpLcvm/o0Vle78n//+L/NPvoefp1pTJye6e4A/D082FERa5/opeH9zpvh13cNm19/4v/LDe5xMWTi8I0Ta0qKlK27AS/v3/r+/x/2GO9K2c7kVMonDpq7//jc5PKCxeNPpFVzaRr01wF8C4Pu76hXuX18H4LduTr79guuFD3n5BHfI+ZRFhY8w29TYhbbLi/bvBdqKE4fUgg1pBKnV3FEaCWOWyA+m3WpORZr/j+9TKJtW8yBTF2/ZEODI9/QavHkVdGFp/Pjn4Q+u5hXapsP5sOH+OXXA1LiKuqJxiMNbhTkbdJTCy4llEt6NnqRT4dhg1V3nbdrm6dYMecA1yTOL4PWTE9L5VzPFlLBCvlG58AhehnN4uHsAYinyJ+AZ/NkVvELbfOBUuOO5syBIEtiqHU1k9XeISX5bsimrkUUhnGDxourN8SgUsCZVtKyGbyGzHXdjOhsAvOAswSRyIBddRdEZWP6GZhNK/yjwew9ehBo+3jEADu7Ay2n8mDc+TS7awUHg0OMzR0LABhqLD4hJEh/BEGyBdGlSJoXYXtr+3HS4ijzVpgi0paWXtdruGTknXBz+11qT1Q2inxaTzQCO46P3lfLpyS4fou2PH/PupwZgCxNhGlj4IvUuWEsTkqMWm6i4xCSMc9N1RDQoCVcuGItJ/MRWefais+3synowi/dESgJjkilnWnBTGvRWmaw8oR15257t7CHmCf8HOn7cwI8+NQBXMBEmAa8PMRemrNCEhLGEhDQKcGZWS319BX9PFBEwGTbRBhLbDcaV3drFcDqk5kCTd2JF1Wp0HraqBx8U0wwBTnbpCadwBA/gTH/CDrcCs93LV8E0YlmmcyQRQnjBa8JESmGUfIjK/7fkaDJpmD2QptFNVJU1bbtIAjjWQizepOKptRjbzR9Kag6xZmMLLjHOtcLT3Tx9o/0EcTT1XN3E45u24AiwEypDJXihKjQxjLprEwcmRKclaDNZCVqr/V8mYWyFADbusiY5hvgFoU2vio49RgJLn5OsReRFN6tabeetiiy0V7KFHT3HyZLx491u95sn4K1QQSPKM9hNT0wMVvAWbzDSVdrKw4zRjZMyJIHkfq1VAVCDl/bUhNKlGq0zGr05+YAceXVPCttVk0oqjVwMPt+BBefx4yPtGVkUsqY3CHDPiCM5ngupUwCdbkpd8kbPrCWHhkmtIKLEetF2499eS1jZlIPGYnlcPXeM2KD9vLS0bW3ktYNqUllpKLn5ZrsxlIzxvDu5eHxzGLctkZLEY4PgSOg2IUVVcUONzUDBEpRaMoXNmUc0tFZrTZquiLyKxrSm3DvIW9Fil+AkhXu5PhEPx9mUNwqypDvZWdKlhIJQY7vn2OsnmBeOWnYZ0m1iwbbw1U60by5om47iHRV6fOgzjMf/DAZrlP40Z7syxpLK0lJ0gqaAK1c2KQKu7tabTXkLFz0sCftuwX++MyNeNn68k5Buq23YQhUh0SNTJa1ioQ0p4nUG2y0XilF1JqODqdImloPS4Bp111DEWT0jJjVv95uX9BBV7eB3bUWcu0acSVM23YZdd8R8UbQUxJ9wdu3oMuhdt929ME+mh6JXJ8di2RxbTi6TbrDquqV4aUKR2iwT6aZbyOwEXN3DUsWr8Hn4EhwNyHuXHh7/pdaUjtR7vnDh/d8c9xD/s5f501eQ1+CuDiCvGhk1AN/4Tf74RfxPwD3toLarR0zNtsnPzmS64KIRk861dMWCU8ArasG9T9H0ZBpsDGnjtAOM2+/LuIb2iIUGXNgl5ZmKD/Tw8TlaAuihaFP5yrw18v4x1898zIdP+DDAX1bM3GAMvPgRP/cJn3zCW013nrhHkrITyvYuwOUkcHuKlRSW5C6rzIdY4ppnF7J8aAJbQepgbJYBjCY9usGXDKQxq7RZfh9eg5d1UHMVATRaD/4BHK93/1iAgYZ/+jqPn8Dn4UExmWrpa3+ZOK6MvM3bjwfzxNWA2dhs8+51XHSPJiaAhGSpWevEs5xHLXcEGFXYiCONySH3fPWq93JIsBiSWvWyc3CAN+EcXoT7rCSANloPPoa31rt/5PUA/gp8Q/jDD3hyrjzlR8VkanfOvB1XPubt17vzxAfdSVbD1pzAnfgyF3ycadOTOTXhpEUoLC1HZyNGW3dtmjeXgr2r56JNmRwdNNWaQVBddd6rh4MhviEB9EFRD/7RGvePvCbwAL4Mx/D6M541hHO4D3e7g6PafdcZVw689z7NGTwo5om7A8sPhccT6qKcl9NJl9aM/9kX+e59Hh1yPqGuCCZxuITcsmNaJ5F7d0q6J3H48TO1/+M57085q2icdu2U+W36Ldllz9Agiv4YGljoEN908EzvDOrBF98/vtJwCC/BF2AG75xxEmjmMIcjxbjoaxqOK3/4hPOZzhMPBpYPG44CM0dTVm1LjLtUWWVz1Bcf8tEx0zs8O2A2YVHRxKYOiy/aOVoAaMu0i7ubu43njjmd4ibMHU1sIDHaQNKrZND/FZYdk54oCXetjq7E7IVl9eAL7t+oHnwXXtLx44czzoRFHBztYVwtH1d+NOMkupZ5MTM+gUmq90X+Bh9zjRlmaQ+m7YMqUL/veemcecAtOJ0yq1JnVlN27di2E0+Klp1tAJ4KRw1eMI7aJjsO3R8kPSI3fUFXnIOfdQe86sIIVtWDL7h//Ok6vj8vwDk08NEcI8zz7OhBy+WwalzZeZ4+0XniRfst9pAJqQHDGLzVQ2pheZnnv1OWhwO43/AgcvAEXEVVpa4db9sGvNK8wjaENHkfFQ4Ci5i7dqnQlPoLQrHXZDvO3BIXZbJOBrOaEbML6sFL798I4FhKihjHMsPjBUZYCMFr6nvaArxqXPn4lCa+cHfSa2cP27g3Z3ziYTRrcbQNGLQmGF3F3cBdzzzX7AILx0IB9rbwn9kx2G1FW3Inic+ZLIsVvKR8Zwfj0l1fkqo8LWY1M3IX14OX3r9RKTIO+d9XzAI8qRPGPn/4NC2n6o4rN8XJ82TOIvuVA8zLKUHRFgBCetlDZlqR1gLKjS39xoE7Bt8UvA6BxuEDjU3tFsEijgA+615tmZkXKqiEENrh41iLDDZNq4pKTWR3LZfnos81LOuNa15cD956vLMsJd1rqYp51gDUQqMYm2XsxnUhD2jg1DM7SeuJxxgrmpfISSXVIJIS5qJJSvJPEQ49DQTVIbYWJ9QWa/E2+c/oPK1drmC7WSfJRNKBO5Yjvcp7Gc3dmmI/Xh1kDTEuiSnWqQf37h+fTMhGnDf6dsS8SQfQWlqqwXXGlc/PEZ/SC5mtzIV0nAshlQdM/LvUtYutrEZ/Y+EAFtq1k28zQhOwLr1AIeANzhF8t9qzTdZf2qRKO6MWE9ohBYwibbOmrFtNmg3mcS+tB28xv2uKd/agYCvOP+GkSc+0lr7RXzyufL7QbkUpjLjEWFLqOIkAGu2B0tNlO9Eau2W1qcOUvVRgKzypKIQZ5KI3q0MLzqTNRYqiZOqmtqloIRlmkBHVpHmRYV6/HixbO6UC47KOFJnoMrVyr7wYz+SlW6GUaghYbY1I6kkxA2W1fSJokUdSh2LQ1GAimRGm0MT+uu57H5l7QgOWxERpO9moLRPgTtquWCfFlGlIjQaRly9odmzMOWY+IBO5tB4sW/0+VWGUh32qYk79EidWKrjWuiLpiVNGFWFRJVktyeXWmbgBBzVl8anPuXyNJlBJOlKLTgAbi/EYHVHxWiDaVR06GnHQNpJcWcK2jJtiCfG2sEHLzuI66sGrMK47nPIInPnu799935aOK2cvmvubrE38ZzZjrELCmXM2hM7UcpXD2oC3+ECVp7xtIuxptJ0jUr3sBmBS47TVxlvJ1Sqb/E0uLdvLj0lLr29ypdd/eMX3f6lrxGlKwKQxEGvw0qHbkbwrF3uHKwVENbIV2wZ13kNEF6zD+x24aLNMfDTCbDPnEikZFyTNttxWBXDaBuM8KtI2rmaMdUY7cXcUPstqTGvBGSrFWIpNMfbdea990bvAOC1YX0qbc6smDS1mPxSJoW4fwEXvjMmhlijDRq6qale6aJEuFGoppYDoBELQzLBuh/mZNx7jkinv0EtnUp50lO9hbNK57lZaMAWuWR5Yo9/kYwcYI0t4gWM47Umnl3YmpeBPqSyNp3K7s2DSAS/39KRuEN2bS4xvowV3dFRMx/VFcp2Yp8w2nTO9hCXtHG1kF1L4KlrJr2wKfyq77R7MKpFKzWlY9UkhYxyHWW6nBWPaudvEAl3CGcNpSXPZ6R9BbBtIl6cHL3gIBi+42CYXqCx1gfGWe7Ap0h3luyXdt1MKy4YUT9xSF01G16YEdWsouW9mgDHd3veyA97H+Ya47ZmEbqMY72oPztCGvK0onL44AvgC49saZKkWRz4veWljE1FHjbRJaWv6ZKKtl875h4CziFCZhG5rx7tefsl0aRT1bMHZjm8dwL/6u7wCRysaQblQoG5yAQN5zpatMNY/+yf8z+GLcH/Qn0iX2W2oEfXP4GvwQHuIL9AYGnaO3zqAX6946nkgqZNnUhx43DIdQtMFeOPrgy/y3Yd85HlJWwjLFkU3kFwq28xPnuPhMWeS+tDLV9Otllq7pQCf3uXJDN9wFDiUTgefHaiYbdfi3b3u8+iY6TnzhgehI1LTe8lcd7s1wJSzKbahCRxKKztTLXstGAiu3a6rPuQs5pk9TWAan5f0BZmGf7Ylxzzk/A7PAs4QPPPAHeFQ2hbFHszlgZuKZsJcUmbDC40sEU403cEjczstOEypa+YxevL4QBC8oRYqWdK6b7sK25tfE+oDZgtOQ2Jg8T41HGcBE6fTWHn4JtHcu9S7uYgU5KSCkl/mcnq+5/YBXOEr6lCUCwOTOM1taOI8mSxx1NsCXBEmLKbMAg5MkwbLmpBaFOPrNSlO2HnLiEqW3tHEwd8AeiQLmn+2gxjC3k6AxREqvKcJbTEzlpLiw4rNZK6oJdidbMMGX9FULKr0AkW+2qDEPBNNm5QAt2Ik2nftNWHetubosHLo2nG4vQA7GkcVCgVCgaDixHqo9UUn1A6OshapaNR/LPRYFV8siT1cCtJE0k/3WtaNSuUZYKPnsVIW0xXWnMUxq5+En4Kvw/MqQmVXnAXj9Z+9zM98zM/Agy7F/qqj2Nh67b8HjFnPP3iBn/tkpdzwEJX/whIcQUXOaikeliCRGUk7tiwF0rItwMEhjkZ309hikFoRAmLTpEXWuHS6y+am/KB/fM50aLEhGnSMwkpxzOov4H0AvgovwJ1iGzDLtJn/9BU+fAINfwUe6FHSLhu83viV/+/HrOePX+STT2B9uWGbrMHHLldRBlhS/CJQmcRxJFqZica01XixAZsYiH1uolZxLrR/SgxVIJjkpQP4PE9sE59LKLr7kltSBogS5tyszzH8Fvw8/AS8rNOg0xUS9fIaHwb+6et8Q/gyvKRjf5OusOzGx8evA/BP4IP11uN/grca5O0lcsPLJ5YjwI4QkJBOHa0WdMZYGxPbh2W2nR9v3WxEWqgp/G3+6VZbRLSAAZ3BhdhAaUL33VUSw9yjEsvbaQ9u4A/gGXwZXoEHOuU1GSj2chf+Mo+f8IcfcAxfIKVmyunRbYQVnoevwgfw3TXXcw++xNuP4fhyueEUNttEduRVaDttddoP0eSxLe2LENk6itYxlrxBNBYrNNKSQmeaLcm9c8UsaB5WyO6675yyQIAWSDpBVoA/gxmcwEvwoDv0m58UE7gHn+fJOa8/Ywan8EKRfjsopF83eCglX/Sfr7OeaRoQfvt1CGvIDccH5BCvw1sWIzRGC/66t0VTcLZQZtm6PlAasbOJ9iwWtUo7biktTSIPxnR24jxP1ZKaqq+2RcXM9OrBAm/AAs7hDJ5bNmGb+KIfwCs8a3jnjBrOFeMjHSCdbKr+2uOLfnOd9eiA8Hvvwwq54VbP2OqwkB48Ytc4YEOiH2vTXqodabfWEOzso4qxdbqD5L6tbtNPECqbhnA708DZH4QOJUXqScmUlks7Ot6FBuZw3n2mEbaUX7kDzxHOOQk8nKWMzAzu6ZZ8sOFw4RK+6PcuXo9tB4SbMz58ApfKDXf3szjNIIbGpD5TKTRxGkEMLjLl+K3wlWXBsCUxIDU+jbOiysESqAy1MGUJpXgwbTWzNOVEziIXZrJ+VIztl1PUBxTSo0dwn2bOmfDRPD3TRTGlfbCJvO9KvuhL1hMHhB9wPuPRLGHcdOWG2xc0U+5bQtAJT0nRTewXL1pgk2+rZAdeWmz3jxAqfNQQdzTlbF8uJ5ecEIWvTkevAHpwz7w78QujlD/Lr491bD8/1vhM2yrUQRrWXNQY4fGilfctMWYjL72UL/qS9eiA8EmN88nbNdour+PBbbAjOjIa4iBhfFg6rxeKdEGcL6p3EWR1Qq2Qkhs2DrnkRnmN9tG2EAqmgPw6hoL7Oza7B+3SCrR9tRftko+Lsf2F/mkTndN2LmzuMcKTuj/mX2+4Va3ki16+nnJY+S7MefpkidxwnV+4wkXH8TKnX0tsYzYp29DOOoSW1nf7nTh2akYiWmcJOuTidSaqESrTYpwjJJNVGQr+rLI7WsqerHW6Kp/oM2pKuV7T1QY9gjqlZp41/WfKpl56FV/0kvXQFRyeQ83xaTu5E8p5dNP3dUF34ihyI3GSpeCsywSh22ZJdWto9winhqifb7VRvgktxp13vyjrS0EjvrRfZ62uyqddSWaWYlwTPAtJZ2oZ3j/Sgi/mi+6vpzesfAcWNA0n8xVyw90GVFGuZjTXEQy+6GfLGLMLL523f5E0OmxVjDoOuRiH91RKU+vtoCtH7TgmvBLvtFXWLW15H9GTdVw8ow4IlRLeHECN9ym1e9K0I+Cbnhgv4Yu+aD2HaQJ80XDqOzSGAV4+4yCqBxrsJAX6ZTIoX36QnvzhhzzMfFW2dZVLOJfo0zbce5OvwXMFaZ81mOnlTVXpDZsQNuoYWveketKb5+6JOOsgX+NTm7H49fUTlx+WLuWL7qxnOFh4BxpmJx0p2gDzA/BUARuS6phR+pUsY7MMboAHx5xNsSVfVZcYSwqCKrqon7zM+8ecCkeS4nm3rINuaWvVNnMRI1IRpxTqx8PZUZ0Br/UEduo3B3hNvmgZfs9gQPj8vIOxd2kndir3awvJ6BLvoUuOfFWNYB0LR1OQJoUySKb9IlOBx74q1+ADC2G6rOdmFdJcD8BkfualA+BdjOOzP9uUhGUEX/TwhZsUduwRr8wNuXKurCixLBgpQI0mDbJr9dIqUuV+92ngkJZ7xduCk2yZKbfWrH1VBiTg9VdzsgRjW3CVXCvAwDd+c1z9dWw9+B+8MJL/eY15ZQ/HqvTwVdsZn5WQsgRRnMaWaecu3jFvMBEmgg+FJFZsnSl0zjB9OqPYaBD7qmoVyImFvzi41usesV0julaAR9dfR15Xzv9sEruRDyk1nb+QaLU67T885GTls6YgcY+UiMa25M/pwGrbCfzkvR3e0jjtuaFtnwuagHTSb5y7boBH119HXhvwP487jJLsLJ4XnUkHX5sLbS61dpiAXRoZSCrFJ+EjpeU3puVfitngYNo6PJrAigKktmwjyQdZpfq30mmtulaAx9Zfx15Xzv+cyeuiBFUs9zq8Kq+XB9a4PVvph3GV4E3y8HENJrN55H1X2p8VyqSKwVusJDKzXOZzplWdzBUFK9e+B4+uv468xvI/b5xtSAkBHQaPvtqWzllVvEOxPbuiE6+j2pvjcKsbvI7txnRErgfH7LdXqjq0IokKzga14GzQ23SSbCQvO6r+Or7SMIr/efOkkqSdMnj9mBx2DRsiY29Uj6+qK9ZrssCKaptR6HKURdwUYeUWA2kPzVKQO8ku2nU3Anhs/XWkBx3F/7wJtCTTTIKftthue1ty9xvNYLY/zo5KSbIuKbXpbEdSyeRyYdAIwKY2neyoc3+k1XUaufYga3T9daMUx/r8z1s10ITknIO0kuoMt+TB8jK0lpayqqjsJ2qtXAYwBU932zinimgmd6mTRDnQfr88q36NAI+tv24E8Pr8zxtasBqx0+xHH9HhlrwsxxNUfKOHQaZBITNf0uccj8GXiVmXAuPEAKSdN/4GLHhs/XWj92dN/uetNuBMnVR+XWDc25JLjo5Mg5IZIq226tmCsip2zZliL213YrTlL2hcFjpCduyim3M7/eB16q/blQsv5X/esDRbtJeabLIosWy3ycavwLhtxdWzbMmHiBTiVjJo6lCLjXZsi7p9PEPnsq6X6wd4bP11i0rD5fzPm/0A6brrIsllenZs0lCJlU4abakR59enZKrKe3BZihbTxlyZ2zl1+g0wvgmA166/bhwDrcn/7Ddz0eWZuJvfSESug6NzZsox3Z04FIxz0mUjMwVOOVTq1CQ0AhdbBGVdjG/CgsfUX7esJl3K/7ytWHRv683praW/8iDOCqWLLhpljDY1ZpzK75QiaZoOTpLKl60auHS/97oBXrv+umU9+FL+5+NtLFgjqVLCdbmj7pY5zPCPLOHNCwXGOcLquOhi8CmCWvbcuO73XmMUPab+ug3A6/A/78Bwe0bcS2+tgHn4J5pyS2WbOck0F51Vq3LcjhLvZ67p1ABbaL2H67bg78BfjKi/jr3+T/ABV3ilLmNXTI2SpvxWBtt6/Z//D0z/FXaGbSBgylzlsEGp+5//xrd4/ae4d8DUUjlslfIYS3t06HZpvfQtvv0N7AHWqtjP2pW08QD/FLy//da38vo8PNlKHf5y37Dxdfe/oj4kVIgFq3koLReSR76W/bx//n9k8jonZxzWTANVwEniDsg87sOSd/z7//PvMp3jQiptGVWFX2caezzAXwfgtzYUvbr0iozs32c3Uge7varH+CNE6cvEYmzbPZ9hMaYDdjK4V2iecf6EcEbdUDVUARda2KzO/JtCuDbNQB/iTeL0EG1JSO1jbXS+nLxtPMDPw1fh5+EPrgSEKE/8Gry5A73ui87AmxwdatyMEBCPNOCSKUeRZ2P6Myb5MRvgCHmA9ywsMifU+AYXcB6Xa5GibUC5TSyerxyh0j6QgLVpdyhfArRTTLqQjwe4HOD9s92D4Ap54odXAPBWLAwB02igG5Kkc+piN4lvODIFGAZgT+EO4Si1s7fjSR7vcQETUkRm9O+MXyo9OYhfe4xt9STQ2pcZRLayCV90b4D3jR0DYAfyxJ+eywg2IL7NTMXna7S/RpQ63JhWEM8U41ZyQGjwsVS0QBrEKLu8xwZsbi4wLcCT+OGidPIOCe1PiSc9Qt+go+vYqB7cG+B9d8cAD+WJPz0Am2gxXgU9IneOqDpAAXOsOltVuMzpdakJXrdPCzXiNVUpCeOos5cxnpQT39G+XVLhs1osQVvJKPZyNq8HDwd4d7pNDuWJPxVX7MSzqUDU6gfadKiNlUFTzLeFHHDlzO4kpa7aiKhBPGKwOqxsBAmYkOIpipyXcQSPlRTf+Tii0U3EJGaZsDER2qoB3h2hu0qe+NNwUooYU8y5mILbJe6OuX+2FTKy7bieTDAemaQyQ0CPthljSWO+xmFDIYiESjM5xKd6Ik5lvLq5GrQ3aCMLvmCA9wowLuWJb9xF59hVVP6O0CrBi3ZjZSNOvRy+I6klNVRJYRBaEzdN+imiUXQ8iVF8fsp+W4JXw7WISW7fDh7lptWkCwZ4d7QTXyBPfJMYK7SijjFppGnlIVJBJBYj7eUwtiP1IBXGI1XCsjNpbjENVpSAJ2hq2LTywEly3hUYazt31J8w2+aiLx3g3fohXixPfOMYm6zCGs9LVo9MoW3MCJE7R5u/WsOIjrqBoHUO0bJE9vxBpbhsd3+Nb4/vtPCZ4oZYCitNeYuC/8UDvDvy0qvkiW/cgqNqRyzqSZa/s0mqNGjtKOoTm14zZpUauiQgVfqtQiZjq7Q27JNaSK5ExRcrGCXO1FJYh6jR6CFqK7bZdQZ4t8g0rSlPfP1RdBtqaa9diqtzJkQ9duSryi2brQXbxDwbRUpFMBHjRj8+Nt7GDKgvph9okW7LX47gu0SpGnnFQ1S1lYldOsC7hYteR574ZuKs7Ei1lBsfdz7IZoxzzCVmmVqaSySzQbBVAWDek+N4jh9E/4VqZrJjPwiv9BC1XcvOWgO8275CVyBPvAtTVlDJfZkaZGU7NpqBogAj/xEHkeAuJihWYCxGN6e8+9JtSegFXF1TrhhLGP1fak3pebgPz192/8gB4d/6WT7+GdYnpH7hH/DJzzFiYPn/vjW0SgNpTNuPIZoAEZv8tlGw4+RLxy+ZjnKa5NdFoC7UaW0aduoYse6+bXg1DLg6UfRYwmhGEjqPvF75U558SANrElK/+MdpXvmqBpaXOa/MTZaa1DOcSiLaw9j0NNNst3c+63c7EKTpkvKHzu6bPbP0RkuHAVcbRY8ijP46MIbQeeT1mhA+5PV/inyDdQipf8LTvMXbwvoDy7IruDNVZKTfV4CTSRUYdybUCnGU7KUTDxLgCknqUm5aAW6/1p6eMsOYsphLzsHrE0Y/P5bQedx1F/4yPHnMB3/IOoTU9+BL8PhtjuFKBpZXnYNJxTuv+2XqolKR2UQgHhS5novuxVySJhBNRF3SoKK1XZbbXjVwWNyOjlqWJjrWJIy+P5bQedyldNScP+HZ61xKSK3jyrz+NiHG1hcOLL/+P+PDF2gOkekKGiNWKgJ+8Z/x8Iv4DdQHzcpZyF4v19I27w9/yPGDFQvmEpKtqv/TLiWMfn4sofMm9eAH8Ao0zzh7h4sJqYtxZd5/D7hkYPneDzl5idlzNHcIB0jVlQ+8ULzw/nc5/ojzl2juE0apD7LRnJxe04dMz2iOCFNtGFpTuXA5AhcTRo8mdN4kz30nVjEC4YTZQy4gpC7GlTlrePKhGsKKgeXpCYeO0MAd/GH7yKQUlXPLOasOH3FnSphjHuDvEu4gB8g66oNbtr6eMbFIA4fIBJkgayoXriw2XEDQPJrQeROAlY6aeYOcMf+IVYTU3XFlZufMHinGywaW3YLpObVBAsbjF4QJMsVUSayjk4voPsHJOQfPWDhCgDnmDl6XIRerD24HsGtw86RMHOLvVSHrKBdeVE26gKB5NKHzaIwLOmrqBWJYZDLhASG16c0Tn+CdRhWDgWXnqRZUTnPIHuMJTfLVpkoYy5CzylHVTGZMTwkGAo2HBlkQplrJX6U+uF1wZz2uwS1SQ12IqWaPuO4baZaEFBdukksJmkcTOm+YJSvoqPFzxFA/YUhIvWxcmSdPWTWwbAKVp6rxTtPFUZfKIwpzm4IoMfaYQLWgmlG5FME2gdBgm+J7J+rtS/XBbaVLsR7bpPQnpMFlo2doWaVceHk9+MkyguZNCJ1He+kuHTWyQAzNM5YSUg/GlTk9ZunAsg1qELVOhUSAK0LABIJHLKbqaEbHZLL1VA3VgqoiOKXYiS+HRyaEKgsfIqX64HYWbLRXy/qWoylIV9gudL1OWBNgBgTNmxA6b4txDT4gi3Ri7xFSLxtXpmmYnzAcWDZgY8d503LFogz5sbonDgkKcxGsWsE1OI+rcQtlgBBCSOKD1mtqYpIU8cTvBmAT0yZe+zUzeY92fYjTtGipXLhuR0ePoHk0ofNWBX+lo8Z7pAZDk8mEw5L7dVyZZoE/pTewbI6SNbiAL5xeygW4xPRuLCGbhcO4RIeTMFYHEJkYyEO9HmJfXMDEj/LaH781wHHZEtqSQ/69UnGpzH7LKIAZEDSPJnTesJTUa+rwTepI9dLJEawYV+ZkRn9g+QirD8vF8Mq0jFQ29js6kCS3E1+jZIhgPNanHdHFqFvPJLHqFwQqbIA4jhDxcNsOCCQLDomaL/dr5lyJaJU6FxPFjO3JOh3kVMcROo8u+C+jo05GjMF3P3/FuDLn5x2M04xXULPwaS6hBYki+MrMdZJSgPHlcB7nCR5bJ9Kr5ACUn9jk5kivdd8tk95SOGrtqu9lr2IhK65ZtEl7ZKrp7DrqwZfRUSN1el7+7NJxZbywOC8neNKTch5vsTEMNsoCCqHBCqIPRjIPkm0BjvFODGtto99rCl+d3wmHkW0FPdpZtC7MMcVtGFQjJLX5bdQ2+x9ypdc313uj8xlsrfuLgWXz1cRhZvJYX0iNVBRcVcmCXZs6aEf3RQF2WI/TcCbKmGU3IOoDJGDdDub0+hYckt6PlGu2BcxmhbTdj/klhccLGJMcqRjMJP1jW2ETqLSWJ/29MAoORluJ+6LPffBZbi5gqi5h6catQpmOT7/OFf5UorRpLzCqcMltBLhwd1are3kztrSzXO0LUbXRQcdLh/RdSZ+swRm819REDrtqzC4es6Gw4JCKlSnjYVpo0xeq33PrADbFLL3RuCmObVmPN+24kfa+AojDuM4umKe2QwCf6EN906HwjujaitDs5o0s1y+k3lgbT2W2i7FJdnwbLXhJUBq/9liTctSmFC/0OqUinb0QddTWamtjbHRFuWJJ6NpqZ8vO3fZJ37Db+2GkaPYLGHs7XTTdiFQJ68SkVJFVmY6McR5UycflNCsccHFaV9FNbR4NttLxw4pQ7wJd066Z0ohVbzihaxHVExd/ay04oxUKWt+AsdiQ9OUyZ2krzN19IZIwafSTFgIBnMV73ADj7V/K8u1MaY2sJp2HWm0f41tqwajEvdHWOJs510MaAqN4aoSiPCXtN2KSi46dUxHdaMquar82O1x5jqhDGvqmoE9LfxcY3zqA7/x3HA67r9ZG4O6Cuxu12/+TP+eLP+I+HErqDDCDVmBDO4larujNe7x8om2rMug0MX0rL1+IWwdwfR+p1TNTyNmVJ85ljWzbWuGv8/C7HD/izjkHNZNYlhZcUOKVzKFUxsxxN/kax+8zPWPSFKw80rJr9Tizyj3o1gEsdwgWGoxPezDdZ1TSENE1dLdNvuKL+I84nxKesZgxXVA1VA1OcL49dFlpFV5yJMhzyCmNQ+a4BqusPJ2bB+xo8V9u3x48VVIEPS/mc3DvAbXyoYr6VgDfh5do5hhHOCXMqBZUPhWYbWZECwVJljLgMUWOCB4MUuMaxGNUQDVI50TQ+S3kFgIcu2qKkNSHVoM0SHsgoZxP2d5HH8B9woOk4x5bPkKtAHucZsdykjxuIpbUrSILgrT8G7G5oCW+K0990o7E3T6AdW4TilH5kDjds+H64kS0mz24grtwlzDHBJqI8YJQExotPvoC4JBq0lEjjQkyBZ8oH2LnRsQ4Hu1QsgDTJbO8fQDnllitkxuVskoiKbRF9VwzMDvxHAdwB7mD9yCplhHFEyUWHx3WtwCbSMMTCUCcEmSGlg4gTXkHpZXWQ7kpznK3EmCHiXInqndkQjunG5kxTKEeGye7jWz9cyMR2mGiFQ15ENRBTbCp+Gh86vAyASdgmJq2MC6hoADQ3GosP0QHbnMHjyBQvQqfhy/BUbeHd5WY/G/9LK/8Ka8Jd7UFeNWEZvzPb458Dn8DGLOe3/wGL/4xP+HXlRt+M1PE2iLhR8t+lfgxsuh7AfO2AOf+owWhSZRYQbd622hbpKWKuU+XuvNzP0OseRDa+mObgDHJUSc/pKx31QdKffQ5OIJpt8GWjlgTwMc/w5MPCR/yl1XC2a2Yut54SvOtMev55Of45BOat9aWG27p2ZVORRvnEk1hqWMVUmqa7S2YtvlIpspuF1pt0syuZS2NV14mUidCSfzQzg+KqvIYCMljIx2YK2AO34fX4GWdu5xcIAb8MzTw+j/lyWM+Dw/gjs4GD6ehNgA48kX/AI7XXM/XAN4WHr+9ntywqoCakCqmKP0rmQrJJEErG2Upg1JObr01lKQy4jskWalKYfJ/EDLMpjNSHFEUAde2fltaDgmrNaWQ9+AAb8I5vKjz3L1n1LriB/BXkG/wwR9y/oRX4LlioHA4LzP2inzRx/DWmutRweFjeP3tNeSGlaE1Fde0OS11yOpmbIp2u/jF1n2RRZviJM0yBT3IZl2HWImKjQOxIyeU325b/qWyU9Moj1o07tS0G7qJDoGHg5m8yeCxMoEH8GU45tnrNM84D2l297DQ9t1YP7jki/7RmutRweEA77/HWXOh3HCxkRgldDQkAjNTMl2Iloc1qN5JfJeeTlyTRzxURTdn1Ixv2uKjs12AbdEWlBtmVdk2k7FFwj07PCZ9XAwW3dG+8xKzNFr4EnwBZpy9Qzhh3jDXebBpYcpuo4fQ44u+fD1dweEnHzI7v0xuuOALRUV8rXpFyfSTQYkhd7IHm07jpyhlkCmI0ALYqPTpUxXS+z4jgDj1Pflvmz5ecuItpIBxyTHpSTGWd9g1ApfD/bvwUhL4nT1EzqgX7cxfCcNmb3mPL/qi9SwTHJ49oj5ZLjccbTG3pRmlYi6JCG0mQrAt1+i2UXTZ2dv9IlQpN5naMYtviaXlTrFpoMsl3bOAFEa8sqPj2WCMrx3Yjx99qFwO59Aw/wgx+HlqNz8oZvA3exRDvuhL1jMQHPaOJ0+XyA3fp1OfM3qObEVdhxjvynxNMXQV4+GJyvOEFqeQBaIbbO7i63rpxCltdZShPFxkjM2FPVkn3TG+Rp9pO3l2RzFegGfxGDHIAh8SteR0C4HopXzRF61nheDw6TFN05Ebvq8M3VKKpGjjO6r7nhudTEGMtYM92HTDaR1FDMXJ1eThsbKfywyoWwrzRSXkc51flG3vIid62h29bIcFbTGhfV+faaB+ohj7dPN0C2e2lC96+XouFByen9AsunLDJZ9z7NExiUc0OuoYW6UZkIyx2YUR2z6/TiRjyKMx5GbbjLHvHuf7YmtKghf34LJfx63Yg8vrvN2zC7lY0x0tvKezo4HmGYDU+Gab6dFL+KI761lDcNifcjLrrr9LWZJctG1FfU1uwhoQE22ObjdfkSzY63CbU5hzs21WeTddH2BaL11Gi7lVdlxP1nkxqhnKhVY6knS3EPgVGg1JpN5cP/hivujOelhXcPj8HC/LyI6MkteVjlolBdMmF3a3DbsuAYhL44dxzthWSN065xxUd55Lmf0wRbOYOqH09/o9WbO2VtFdaMb4qBgtFJoT1SqoN8wPXMoXLb3p1PUEhxfnnLzGzBI0Ku7FxrKsNJj/8bn/H8fPIVOd3rfrklUB/DOeO+nkghgSPzrlPxluCMtOnDL4Yml6dK1r3vsgMxgtPOrMFUZbEUbTdIzii5beq72G4PD0DKnwjmBULUVFmy8t+k7fZ3pKc0Q4UC6jpVRqS9Umv8bxw35flZVOU1X7qkjnhZlsMbk24qQ6Hz7QcuL6sDC0iHHki96Uh2UdvmgZnjIvExy2TeJdMDZNSbdZyAHe/Yd1xsQhHiKzjh7GxQ4yqMPaywPkjMamvqrYpmO7Knad+ZQC5msCuAPWUoxrxVhrGv7a+KLXFhyONdTMrZ7ke23qiO40ZJUyzgYyX5XyL0mV7NiUzEs9mjtbMN0dERqwyAJpigad0B3/zRV7s4PIfXSu6YV/MK7+OrYe/JvfGMn/PHJe2fyUdtnFrKRNpXV0Y2559aWPt/G4BlvjTMtXlVIWCnNyA3YQBDmYIodFz41PvXPSa6rq9lWZawZ4dP115HXV/M/tnFkkrBOdzg6aP4pID+MZnTJ1SuuB6iZlyiox4HT2y3YBtkUKWooacBQUDTpjwaDt5poBHl1/HXltwP887lKKXxNUEyPqpGTyA699UqY/lt9yGdlUKra0fFWS+36iylVWrAyd7Uw0CZM0z7xKTOduznLIjG2Hx8cDPLb+OvK6Bv7n1DYci4CxUuRxrjBc0bb4vD3rN5Zz36ntLb83eVJIB8LiIzCmn6SMPjlX+yNlTjvIGjs+QzHPf60Aj62/jrzG8j9vYMFtm1VoRWCJdmw7z9N0t+c8cxZpPeK4aTRicS25QhrVtUp7U578chk4q04Wx4YoQSjFryUlpcQ1AbxZ/XVMknIU//OGl7Q6z9Zpxi0+3yFhSkjUDpnCIUhLWVX23KQ+L9vKvFKI0ZWFQgkDLvBoylrHNVmaw10zwCPrr5tlodfnf94EWnQ0lFRWy8pW9LbkLsyUVDc2NSTHGDtnD1uMtchjbCeb1mpxFP0YbcClhzdLu6lfO8Bj6q+bdT2sz/+8SZCV7VIxtt0DUn9L7r4cLYWDSXnseEpOGFuty0qbOVlS7NNzs5FOGJUqQpl2Q64/yBpZf90sxbE+//PGdZ02HSipCbmD6NItmQ4Lk5XUrGpDMkhbMm2ZVheNYV+VbUWTcv99+2NyX1VoafSuC+AN6q9bFIMv5X/eagNWXZxEa9JjlMwNWb00akGUkSoepp1/yRuuqHGbUn3UdBSTxBU6SEVklzWRUkPndVvw2PrrpjvxOvzPmwHc0hpmq82npi7GRro8dXp0KXnUQmhZbRL7NEVp1uuZmO45vuzKsHrktS3GLWXODVjw+vXXLYx4Hf7njRPd0i3aoAGX6W29GnaV5YdyDj9TFkakje7GHYzDoObfddHtOSpoi2SmzJHrB3hM/XUDDEbxP2/oosszcRlehWXUvzHv4TpBVktHqwenFo8uLVmy4DKLa5d3RtLrmrM3aMFr1183E4sewf+85VWeg1c5ag276NZrM9IJVNcmLEvDNaV62aq+14IAOGFsBt973Ra8Xv11YzXwNfmft7Jg2oS+XOyoC8/cwzi66Dhmgk38kUmP1CUiYWOX1bpD2zWXt2FCp7uq8703APAa9dfNdscR/M/bZLIyouVxqJfeWvG9Je+JVckHQ9+CI9NWxz+blX/KYYvO5n2tAP/vrlZ7+8/h9y+9qeB/Hnt967e5mevX10rALDWK//FaAT5MXdBXdP0C/BAes792c40H+AiAp1e1oH8HgH94g/Lttx1gp63op1eyoM/Bvw5/G/7xFbqJPcCXnmBiwDPb/YKO4FX4OjyCb289db2/Noqicw4i7N6TVtoz8tNwDH+8x/i6Ae7lmaQVENzJFb3Di/BFeAwz+Is9SjeQySpPqbLFlNmyz47z5a/AF+AYFvDmHqibSXTEzoT4Gc3OALaqAP4KPFUJ6n+1x+rGAM6Zd78bgJ0a8QN4GU614vxwD9e1Amy6CcskNrczLx1JIp6HE5UZD/DBHrFr2oNlgG4Odv226BodoryjGJ9q2T/AR3vQrsOCS0ctXZi3ruLlhpFDJYl4HmYtjQCP9rhdn4suySLKDt6wLcC52h8xPlcjju1fn+yhuw4LZsAGUuo2b4Fx2UwQu77uqRHXGtg92aN3tQCbFexc0uk93vhTXbct6y7MulLycoUljx8ngDMBg1tvJjAazpEmOtxlzclvj1vQf1Tx7QlPDpGpqgtdSKz/d9/hdy1vTfFHSmC9dGDZbLiezz7Ac801HirGZsWjydfZyPvHXL/Y8Mjzg8BxTZiuwKz4Eb8sBE9zznszmjvFwHKPIWUnwhqfVRcd4Ck0K6ate48m1oOfrX3/yOtvAsJ8zsPAM89sjnddmuLuDPjX9Bu/L7x7xpMzFk6nWtyQfPg278Gn4Aekz2ZgOmU9eJ37R14vwE/BL8G3aibCiWMWWDQ0ZtkPMnlcGeAu/Ag+8ZyecU5BPuy2ILD+sQqyZhAKmn7XZd+jIMTN9eBL7x95xVLSX4On8EcNlXDqmBlqS13jG4LpmGbkF/0CnOi3H8ETOIXzmnmtb0a16Tzxj1sUvQCBiXZGDtmB3KAefPH94xcUa/6vwRn80GOFyjEXFpba4A1e8KQfFF+259tx5XS4egYn8fQsLGrqGrHbztr+uByTahWuL1NUGbDpsnrwBfePPwHHIf9X4RnM4Z2ABWdxUBlqQ2PwhuDxoS0vvqB1JzS0P4h2nA/QgTrsJFn+Y3AOjs9JFC07CGWX1oNX3T/yHOzgDjwPn1PM3g9Jk9lZrMEpxnlPmBbjyo2+KFXRU52TJM/2ALcY57RUzjObbjqxVw++4P6RAOf58pcVsw9Daje3htriYrpDOonre3CudSe6bfkTEgHBHuDiyu5MCsc7BHhYDx7ePxLjqigXZsw+ijMHFhuwBmtoTPtOxOrTvYJDnC75dnUbhfwu/ZW9AgYd+peL68HD+0emKquiXHhWjJg/UrkJYzuiaL3E9aI/ytrCvAd4GcYZMCkSQxfUg3v3j8c4e90j5ZTPdvmJJGHnOCI2nHS8081X013pHuBlV1gB2MX1YNmWLHqqGN/TWmG0y6clJWthxNUl48q38Bi8vtMKyzzpFdSDhxZ5WBA5ZLt8Jv3895DduBlgbPYAj8C4B8hO68FDkoh5lydC4FiWvBOVqjYdqjiLv92t8yPDjrDaiHdUD15qkSURSGmXJwOMSxWAXYwr3zaAufJ66l+94vv3AO+vPcD7aw/w/toDvL/2AO+vPcD7aw/wHuD9tQd4f+0B3l97gPfXHuD9tQd4f+0B3l97gG8LwP8G/AL8O/A5OCq0Ys2KIdv/qOIXG/4mvFAMF16gZD+2Xvu/B8as5+8bfllWyg0zaNO5bfXj6vfhhwD86/Aq3NfRS9t9WPnhfnvCIw/CT8GLcFTMnpntdF/z9V+PWc/vWoIH+FL3Znv57PitcdGP4R/C34avw5fgRVUInCwbsn1yyA8C8zm/BH8NXoXnVE6wVPjdeCI38kX/3+Ct9dbz1pTmHFRu+Hm4O9Ch3clr99negxfwj+ER/DR8EV6B5+DuQOnTgUw5rnkY+FbNU3gNXh0o/JYTuWOvyBf9FvzX663HH/HejO8LwAl8Hl5YLTd8q7sqA3wbjuExfAFegQdwfyDoSkWY8swzEf6o4Qyewefg+cHNbqMQruSL/u/WWc+E5g7vnnEXgDmcDeSGb/F4cBcCgT+GGRzDU3hZYburAt9TEtHgbM6JoxJ+6NMzzTcf6c2bycv2+KK/f+l6LBzw5IwfqZJhA3M472pWT/ajKxnjv4AFnMEpnBTPND6s2J7qHbPAqcMK74T2mZ4VGB9uJA465It+/eL1WKhYOD7xHOkr1ajK7d0C4+ke4Hy9qXZwpgLr+Znm/uNFw8xQOSy8H9IzjUrd9+BIfenYaylf9FsXr8fBAadnPIEDna8IBcwlxnuA0/Wv6GAWPd7dDIKjMdSWueAsBj4M7TOd06qBbwDwKr7oleuxMOEcTuEZTHWvDYUO7aHqAe0Bbq+HEFRzOz7WVoTDQkVds7A4sIIxfCQdCefFRoIOF/NFL1mPab/nvOakSL/Q1aFtNpUb/nFOVX6gzyg/1nISyDfUhsokIzaBR9Kxm80s5mK+6P56il1jXic7nhQxsxSm3OwBHl4fFdLqi64nDQZvqE2at7cWAp/IVvrN6/BFL1mPhYrGMBfOi4PyjuSGf6wBBh7p/FZTghCNWGgMzlBbrNJoPJX2mW5mwZfyRffXo7OFi5pZcS4qZUrlViptrXtw+GQoyhDPS+ANjcGBNRiLCQDPZPMHuiZfdFpPSTcQwwKYdRNqpkjm7AFeeT0pJzALgo7g8YYGrMHS0iocy+YTm2vyRUvvpXCIpQ5pe666TJrcygnScUf/p0NDs/iAI/nqDHC8TmQT8x3NF91l76oDdQGwu61Z6E0ABv7uO1dbf/37Zlv+Zw/Pbh8f1s4Avur6657/+YYBvur6657/+YYBvur6657/+YYBvur6657/+aYBvuL6657/+VMA8FXWX/f8zzcN8BXXX/f8zzcNMFdbf93zP38KLPiK6697/uebtuArrr/u+Z9vGmCusP6653/+1FjwVdZf9/zPN7oHX339dc//fNMu+irrr3v+50+Bi+Zq6697/uebA/jz8Pudf9ht/fWv517J/XUzAP8C/BAeX9WCDrUpZ3/dEMBxgPcfbtTVvsYV5Yn32u03B3Ac4P3b8I+vxNBKeeL9dRMAlwO83959qGO78sT769oB7g3w/vGVYFzKE++v6wV4OMD7F7tckFkmT7y/rhHgpQO8b+4Y46XyxPvrugBeNcB7BRiX8sT767oAvmCA9woAHsoT76+rBJjLBnh3txOvkifeX1dswZcO8G6N7sXyxPvr6i340gHe3TnqVfLE++uKAb50gHcXLnrX8sR7gNdPRqwzwLu7Y/FO5Yn3AK9jXCMGeHdgxDuVJ75VAI8ljP7PAb3/RfjcZfePHBB+79dpfpH1CanN30d+mT1h9GqAxxJGM5LQeeQ1+Tb+EQJrElLb38VHQ94TRq900aMIo8cSOo+8Dp8QfsB8zpqE1NO3OI9Zrj1h9EV78PqE0WMJnUdeU6E+Jjyk/hbrEFIfeWbvId8H9oTRFwdZaxJGvziW0Hn0gqYB/wyZ0PwRlxJST+BOw9m77Amj14ii1yGM/txYQudN0qDzGe4EqfA/5GJCagsHcPaEPWH0esekSwmjRxM6b5JEcZ4ww50ilvAOFxBSx4yLW+A/YU8YvfY5+ALC6NGEzhtmyZoFZoarwBLeZxUhtY4rc3bKnjB6TKJjFUHzJoTOozF2YBpsjcyxDgzhQ1YRUse8+J4wenwmaylB82hC5w0zoRXUNXaRBmSMQUqiWSWkLsaVqc/ZE0aPTFUuJWgeTei8SfLZQeMxNaZSIzbII4aE1Nmr13P2hNHjc9E9guYNCZ032YlNwESMLcZiLQHkE4aE1BFg0yAR4z1h9AiAGRA0jyZ03tyIxWMajMPWBIsxYJCnlITU5ShiHYdZ94TR4wCmSxg9jtB5KyPGYzymAYexWEMwAPIsAdYdV6aObmNPGD0aYLoEzaMJnTc0Ygs+YDw0GAtqxBjkuP38bMRWCHn73xNGjz75P73WenCEJnhwyVe3AEe8TtKdJcYhBl97wuhNAObK66lvD/9J9NS75v17wuitAN5fe4D31x7g/bUHeH/tAd5fe4D3AO+vPcD7aw/w/toDvL/2AO+vPcD7aw/w/toDvAd4f/24ABzZ8o+KLsSLS+Pv/TqTb3P4hKlQrTGh+fbIBT0Axqznnb+L/V2mb3HkN5Mb/nEHeK7d4IcDld6lmDW/iH9E+AH1MdOw/Jlu2T1xNmY98sv4wHnD7D3uNHu54WUuOsBTbQuvBsPT/UfzNxGYzwkP8c+Yz3C+r/i6DcyRL/rZ+utRwWH5PmfvcvYEt9jLDS/bg0/B64DWKrQM8AL8FPwS9beQCe6EMKNZYJol37jBMy35otdaz0Bw2H/C2Smc7+WGB0HWDELBmOByA3r5QONo4V+DpzR/hFS4U8wMW1PXNB4TOqYz9urxRV++ntWCw/U59Ty9ebdWbrgfRS9AYKKN63ZokZVygr8GZ/gfIhZXIXPsAlNjPOLBby5c1eOLvmQ9lwkOy5x6QV1j5TYqpS05JtUgUHUp5toHGsVfn4NX4RnMCe+AxTpwmApTYxqMxwfCeJGjpXzRF61nbcHhUBPqWze9svwcHJ+S6NPscKrEjug78Dx8Lj3T8D4YxGIdxmJcwhi34fzZUr7olevZCw5vkOhoClq5zBPZAnygD/Tl9EzDh6kl3VhsHYcDEb+hCtJSvuiV69kLDm+WycrOTArHmB5/VYyP6jOVjwgGawk2zQOaTcc1L+aLXrKeveDwZqlKrw8U9Y1p66uK8dEzdYwBeUQAY7DbyYNezBfdWQ97weEtAKYQg2xJIkuveAT3dYeLGH+ShrWNwZgN0b2YL7qznr3g8JYAo5bQBziPjx7BPZ0d9RCQp4UZbnFdzBddor4XHN4KYMrB2qHFRIzzcLAHQZ5the5ovui94PCWAPefaYnxIdzRwdHCbuR4B+tbiy96Lzi8E4D7z7S0mEPd+eqO3cT53Z0Y8SV80XvB4Z0ADJi/f7X113f+7p7/+UYBvur6657/+YYBvur6657/+aYBvuL6657/+aYBvuL6657/+aYBvuL6657/+aYBvuL6657/+VMA8FXWX/f8z58OgK+y/rrnf75RgLna+uue//lTA/CV1V/3/M837aKvvv6653++UQvmauuve/7nTwfAV1N/3fM/fzr24Cuuv+75nz8FFnxl9dc9//MOr/8/glixwRuUfM4AAAAASUVORK5CYII="}getSearchTexture(){return"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEIAAAAhCAAAAABIXyLAAAAAOElEQVRIx2NgGAWjYBSMglEwEICREYRgFBZBqDCSLA2MGPUIVQETE9iNUAqLR5gIeoQKRgwXjwAAGn4AtaFeYLEAAAAASUVORK5CYII="}}class fF{constructor(e=Math){this.grad3=[[1,1,0],[-1,1,0],[1,-1,0],[-1,-1,0],[1,0,1],[-1,0,1],[1,0,-1],[-1,0,-1],[0,1,1],[0,-1,1],[0,1,-1],[0,-1,-1]],this.grad4=[[0,1,1,1],[0,1,1,-1],[0,1,-1,1],[0,1,-1,-1],[0,-1,1,1],[0,-1,1,-1],[0,-1,-1,1],[0,-1,-1,-1],[1,0,1,1],[1,0,1,-1],[1,0,-1,1],[1,0,-1,-1],[-1,0,1,1],[-1,0,1,-1],[-1,0,-1,1],[-1,0,-1,-1],[1,1,0,1],[1,1,0,-1],[1,-1,0,1],[1,-1,0,-1],[-1,1,0,1],[-1,1,0,-1],[-1,-1,0,1],[-1,-1,0,-1],[1,1,1,0],[1,1,-1,0],[1,-1,1,0],[1,-1,-1,0],[-1,1,1,0],[-1,1,-1,0],[-1,-1,1,0],[-1,-1,-1,0]],this.p=[];for(let t=0;t<256;t++)this.p[t]=Math.floor(e.random()*256);this.perm=[];for(let t=0;t<512;t++)this.perm[t]=this.p[t&255];this.simplex=[[0,1,2,3],[0,1,3,2],[0,0,0,0],[0,2,3,1],[0,0,0,0],[0,0,0,0],[0,0,0,0],[1,2,3,0],[0,2,1,3],[0,0,0,0],[0,3,1,2],[0,3,2,1],[0,0,0,0],[0,0,0,0],[0,0,0,0],[1,3,2,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[1,2,0,3],[0,0,0,0],[1,3,0,2],[0,0,0,0],[0,0,0,0],[0,0,0,0],[2,3,0,1],[2,3,1,0],[1,0,2,3],[1,0,3,2],[0,0,0,0],[0,0,0,0],[0,0,0,0],[2,0,3,1],[0,0,0,0],[2,1,3,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[2,0,1,3],[0,0,0,0],[0,0,0,0],[0,0,0,0],[3,0,1,2],[3,0,2,1],[0,0,0,0],[3,1,2,0],[2,1,0,3],[0,0,0,0],[0,0,0,0],[0,0,0,0],[3,1,0,2],[0,0,0,0],[3,2,0,1],[3,2,1,0]]}dot(e,t,i){return e[0]*t+e[1]*i}dot3(e,t,i,r){return e[0]*t+e[1]*i+e[2]*r}dot4(e,t,i,r,s){return e[0]*t+e[1]*i+e[2]*r+e[3]*s}noise(e,t){let i,r,s;const o=.5*(Math.sqrt(3)-1),a=(e+t)*o,l=Math.floor(e+a),c=Math.floor(t+a),u=(3-Math.sqrt(3))/6,f=(l+c)*u,h=l-f,d=c-f,m=e-h,v=t-d;let _,g;m>v?(_=1,g=0):(_=0,g=1);const x=m-_+u,b=v-g+u,w=m-1+2*u,S=v-1+2*u,A=l&255,T=c&255,F=this.perm[A+this.perm[T]]%12,U=this.perm[A+_+this.perm[T+g]]%12,N=this.perm[A+1+this.perm[T+1]]%12;let O=.5-m*m-v*v;O<0?i=0:(O*=O,i=O*O*this.dot(this.grad3[F],m,v));let G=.5-x*x-b*b;G<0?r=0:(G*=G,r=G*G*this.dot(this.grad3[U],x,b));let D=.5-w*w-S*S;return D<0?s=0:(D*=D,s=D*D*this.dot(this.grad3[N],w,S)),70*(i+r+s)}noise3d(e,t,i){let r,s,o,a;const l=1/3,c=(e+t+i)*l,u=Math.floor(e+c),f=Math.floor(t+c),h=Math.floor(i+c),d=1/6,m=(u+f+h)*d,v=u-m,_=f-m,g=h-m,x=e-v,b=t-_,w=i-g;let S,A,T,F,U,N;x>=b?b>=w?(S=1,A=0,T=0,F=1,U=1,N=0):x>=w?(S=1,A=0,T=0,F=1,U=0,N=1):(S=0,A=0,T=1,F=1,U=0,N=1):b<w?(S=0,A=0,T=1,F=0,U=1,N=1):x<w?(S=0,A=1,T=0,F=0,U=1,N=1):(S=0,A=1,T=0,F=1,U=1,N=0);const O=x-S+d,G=b-A+d,D=w-T+d,P=x-F+2*d,I=b-U+2*d,C=w-N+2*d,B=x-1+3*d,Y=b-1+3*d,j=w-1+3*d,re=u&255,ie=f&255,ve=h&255,de=this.perm[re+this.perm[ie+this.perm[ve]]]%12,ye=this.perm[re+S+this.perm[ie+A+this.perm[ve+T]]]%12,te=this.perm[re+F+this.perm[ie+U+this.perm[ve+N]]]%12,$=this.perm[re+1+this.perm[ie+1+this.perm[ve+1]]]%12;let ge=.6-x*x-b*b-w*w;ge<0?r=0:(ge*=ge,r=ge*ge*this.dot3(this.grad3[de],x,b,w));let be=.6-O*O-G*G-D*D;be<0?s=0:(be*=be,s=be*be*this.dot3(this.grad3[ye],O,G,D));let ue=.6-P*P-I*I-C*C;ue<0?o=0:(ue*=ue,o=ue*ue*this.dot3(this.grad3[te],P,I,C));let _e=.6-B*B-Y*Y-j*j;return _e<0?a=0:(_e*=_e,a=_e*_e*this.dot3(this.grad3[$],B,Y,j)),32*(r+s+o+a)}noise4d(e,t,i,r){const s=this.grad4,o=this.simplex,a=this.perm,l=(Math.sqrt(5)-1)/4,c=(5-Math.sqrt(5))/20;let u,f,h,d,m;const v=(e+t+i+r)*l,_=Math.floor(e+v),g=Math.floor(t+v),x=Math.floor(i+v),b=Math.floor(r+v),w=(_+g+x+b)*c,S=_-w,A=g-w,T=x-w,F=b-w,U=e-S,N=t-A,O=i-T,G=r-F,D=U>N?32:0,P=U>O?16:0,I=N>O?8:0,C=U>G?4:0,B=N>G?2:0,Y=O>G?1:0,j=D+P+I+C+B+Y,re=o[j][0]>=3?1:0,ie=o[j][1]>=3?1:0,ve=o[j][2]>=3?1:0,de=o[j][3]>=3?1:0,ye=o[j][0]>=2?1:0,te=o[j][1]>=2?1:0,$=o[j][2]>=2?1:0,ge=o[j][3]>=2?1:0,be=o[j][0]>=1?1:0,ue=o[j][1]>=1?1:0,_e=o[j][2]>=1?1:0,Te=o[j][3]>=1?1:0,X=U-re+c,z=N-ie+c,W=O-ve+c,se=G-de+c,ae=U-ye+2*c,L=N-te+2*c,E=O-$+2*c,J=G-ge+2*c,K=U-be+3*c,ce=N-ue+3*c,pe=O-_e+3*c,Ce=G-Te+3*c,Ae=U-1+4*c,Re=N-1+4*c,Ee=O-1+4*c,V=G-1+4*c,we=_&255,le=g&255,Pe=x&255,ee=b&255,Ue=a[we+a[le+a[Pe+a[ee]]]]%32,lt=a[we+re+a[le+ie+a[Pe+ve+a[ee+de]]]]%32,at=a[we+ye+a[le+te+a[Pe+$+a[ee+ge]]]]%32,Ot=a[we+be+a[le+ue+a[Pe+_e+a[ee+Te]]]]%32,tt=a[we+1+a[le+1+a[Pe+1+a[ee+1]]]]%32;let _t=.6-U*U-N*N-O*O-G*G;_t<0?u=0:(_t*=_t,u=_t*_t*this.dot4(s[Ue],U,N,O,G));let Vt=.6-X*X-z*z-W*W-se*se;Vt<0?f=0:(Vt*=Vt,f=Vt*Vt*this.dot4(s[lt],X,z,W,se));let In=.6-ae*ae-L*L-E*E-J*J;In<0?h=0:(In*=In,h=In*In*this.dot4(s[at],ae,L,E,J));let zn=.6-K*K-ce*ce-pe*pe-Ce*Ce;zn<0?d=0:(zn*=zn,d=zn*zn*this.dot4(s[Ot],K,ce,pe,Ce));let Cr=.6-Ae*Ae-Re*Re-Ee*Ee-V*V;return Cr<0?m=0:(Cr*=Cr,m=Cr*Cr*this.dot4(s[tt],Ae,Re,Ee,V)),27*(u+f+h+d+m)}}const np={defines:{PERSPECTIVE_CAMERA:1,KERNEL_SIZE:32},uniforms:{tDiffuse:{value:null},tNormal:{value:null},tDepth:{value:null},tNoise:{value:null},kernel:{value:null},cameraNear:{value:null},cameraFar:{value:null},resolution:{value:new Ie},cameraProjectionMatrix:{value:new $e},cameraInverseProjectionMatrix:{value:new $e},kernelRadius:{value:8},minDistance:{value:.005},maxDistance:{value:.05}},vertexShader:`

		varying vec2 vUv;

		void main() {

			vUv = uv;

			gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );

		}`,fragmentShader:`

		uniform sampler2D tDiffuse;
		uniform sampler2D tNormal;
		uniform sampler2D tDepth;
		uniform sampler2D tNoise;

		uniform vec3 kernel[ KERNEL_SIZE ];

		uniform vec2 resolution;

		uniform float cameraNear;
		uniform float cameraFar;
		uniform mat4 cameraProjectionMatrix;
		uniform mat4 cameraInverseProjectionMatrix;

		uniform float kernelRadius;
		uniform float minDistance; // avoid artifacts caused by neighbour fragments with minimal depth difference
		uniform float maxDistance; // avoid the influence of fragments which are too far away

		varying vec2 vUv;

		#include <packing>

		float getDepth( const in vec2 screenPosition ) {

			return texture2D( tDepth, screenPosition ).x;

		}

		float getLinearDepth( const in vec2 screenPosition ) {

			#if PERSPECTIVE_CAMERA == 1

				float fragCoordZ = texture2D( tDepth, screenPosition ).x;
				float viewZ = perspectiveDepthToViewZ( fragCoordZ, cameraNear, cameraFar );
				return viewZToOrthographicDepth( viewZ, cameraNear, cameraFar );

			#else

				return texture2D( tDepth, screenPosition ).x;

			#endif

		}

		float getViewZ( const in float depth ) {

			#if PERSPECTIVE_CAMERA == 1

				return perspectiveDepthToViewZ( depth, cameraNear, cameraFar );

			#else

				return orthographicDepthToViewZ( depth, cameraNear, cameraFar );

			#endif

		}

		vec3 getViewPosition( const in vec2 screenPosition, const in float depth, const in float viewZ ) {

			float clipW = cameraProjectionMatrix[2][3] * viewZ + cameraProjectionMatrix[3][3];

			vec4 clipPosition = vec4( ( vec3( screenPosition, depth ) - 0.5 ) * 2.0, 1.0 );

			clipPosition *= clipW; // unprojection.

			return ( cameraInverseProjectionMatrix * clipPosition ).xyz;

		}

		vec3 getViewNormal( const in vec2 screenPosition ) {

			return unpackRGBToNormal( texture2D( tNormal, screenPosition ).xyz );

		}

		void main() {

			float depth = getDepth( vUv );
			float viewZ = getViewZ( depth );

			vec3 viewPosition = getViewPosition( vUv, depth, viewZ );
			vec3 viewNormal = getViewNormal( vUv );

			vec2 noiseScale = vec2( resolution.x / 4.0, resolution.y / 4.0 );
			vec3 random = texture2D( tNoise, vUv * noiseScale ).xyz;

			// compute matrix used to reorient a kernel vector

			vec3 tangent = normalize( random - viewNormal * dot( random, viewNormal ) );
			vec3 bitangent = cross( viewNormal, tangent );
			mat3 kernelMatrix = mat3( tangent, bitangent, viewNormal );

		 float occlusion = 0.0;

		 for ( int i = 0; i < KERNEL_SIZE; i ++ ) {

				vec3 sampleVector = kernelMatrix * kernel[ i ]; // reorient sample vector in view space
				vec3 samplePoint = viewPosition + ( sampleVector * kernelRadius ); // calculate sample point

				vec4 samplePointNDC = cameraProjectionMatrix * vec4( samplePoint, 1.0 ); // project point and calculate NDC
				samplePointNDC /= samplePointNDC.w;

				vec2 samplePointUv = samplePointNDC.xy * 0.5 + 0.5; // compute uv coordinates

				float realDepth = getLinearDepth( samplePointUv ); // get linear depth from depth texture
				float sampleDepth = viewZToOrthographicDepth( samplePoint.z, cameraNear, cameraFar ); // compute linear depth of the sample view Z value
				float delta = sampleDepth - realDepth;

				if ( delta > minDistance && delta < maxDistance ) { // if fragment is before sample point, increase occlusion

					occlusion += 1.0;

				}

			}

			occlusion = clamp( occlusion / float( KERNEL_SIZE ), 0.0, 1.0 );

			gl_FragColor = vec4( vec3( 1.0 - occlusion ), 1.0 );

		}`},C9={defines:{PERSPECTIVE_CAMERA:1},uniforms:{tDepth:{value:null},cameraNear:{value:null},cameraFar:{value:null}},vertexShader:`varying vec2 vUv;

		void main() {

			vUv = uv;
			gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );

		}`,fragmentShader:`uniform sampler2D tDepth;

		uniform float cameraNear;
		uniform float cameraFar;

		varying vec2 vUv;

		#include <packing>

		float getLinearDepth( const in vec2 screenPosition ) {

			#if PERSPECTIVE_CAMERA == 1

				float fragCoordZ = texture2D( tDepth, screenPosition ).x;
				float viewZ = perspectiveDepthToViewZ( fragCoordZ, cameraNear, cameraFar );
				return viewZToOrthographicDepth( viewZ, cameraNear, cameraFar );

			#else

				return texture2D( tDepth, screenPosition ).x;

			#endif

		}

		void main() {

			float depth = getLinearDepth( vUv );
			gl_FragColor = vec4( vec3( 1.0 - depth ), 1.0 );

		}`},P9={uniforms:{tDiffuse:{value:null},resolution:{value:new Ie}},vertexShader:`varying vec2 vUv;

		void main() {

			vUv = uv;
			gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );

		}`,fragmentShader:`uniform sampler2D tDiffuse;

		uniform vec2 resolution;

		varying vec2 vUv;

		void main() {

			vec2 texelSize = ( 1.0 / resolution );
			float result = 0.0;

			for ( int i = - 2; i <= 2; i ++ ) {

				for ( int j = - 2; j <= 2; j ++ ) {

					vec2 offset = ( vec2( float( i ), float( j ) ) ) * texelSize;
					result += texture2D( tDiffuse, vUv + offset ).r;

				}

			}

			gl_FragColor = vec4( vec3( result / ( 5.0 * 5.0 ) ), 1.0 );

		}`};class ko extends k0{constructor(e,t,i,r){super();this.width=i!==void 0?i:512,this.height=r!==void 0?r:512,this.clear=!0,this.camera=t,this.scene=e,this.kernelRadius=8,this.kernelSize=32,this.kernel=[],this.noiseTexture=null,this.output=0,this.minDistance=.005,this.maxDistance=.1,this._visibilityCache=new Map,this.generateSampleKernel(),this.generateRandomKernelRotations();const s=new Z7;s.type=ef,this.beautyRenderTarget=new jn(this.width,this.height,{minFilter:Ht,magFilter:Ht,format:yn}),this.normalRenderTarget=new jn(this.width,this.height,{minFilter:Qt,magFilter:Qt,format:yn,depthTexture:s}),this.ssaoRenderTarget=new jn(this.width,this.height,{minFilter:Ht,magFilter:Ht,format:yn}),this.blurRenderTarget=this.ssaoRenderTarget.clone(),np===void 0&&console.error("THREE.SSAOPass: The pass relies on SSAOShader."),this.ssaoMaterial=new cn({defines:Object.assign({},np.defines),uniforms:Ii.clone(np.uniforms),vertexShader:np.vertexShader,fragmentShader:np.fragmentShader,blending:pi}),this.ssaoMaterial.uniforms.tDiffuse.value=this.beautyRenderTarget.texture,this.ssaoMaterial.uniforms.tNormal.value=this.normalRenderTarget.texture,this.ssaoMaterial.uniforms.tDepth.value=this.normalRenderTarget.depthTexture,this.ssaoMaterial.uniforms.tNoise.value=this.noiseTexture,this.ssaoMaterial.uniforms.kernel.value=this.kernel,this.ssaoMaterial.uniforms.cameraNear.value=this.camera.near,this.ssaoMaterial.uniforms.cameraFar.value=this.camera.far,this.ssaoMaterial.uniforms.resolution.value.set(this.width,this.height),this.ssaoMaterial.uniforms.cameraProjectionMatrix.value.copy(this.camera.projectionMatrix),this.ssaoMaterial.uniforms.cameraInverseProjectionMatrix.value.copy(this.camera.projectionMatrixInverse),this.normalMaterial=new n9,this.normalMaterial.blending=pi,this.blurMaterial=new cn({defines:Object.assign({},P9.defines),uniforms:Ii.clone(P9.uniforms),vertexShader:P9.vertexShader,fragmentShader:P9.fragmentShader}),this.blurMaterial.uniforms.tDiffuse.value=this.ssaoRenderTarget.texture,this.blurMaterial.uniforms.resolution.value.set(this.width,this.height),this.depthRenderMaterial=new cn({defines:Object.assign({},C9.defines),uniforms:Ii.clone(C9.uniforms),vertexShader:C9.vertexShader,fragmentShader:C9.fragmentShader,blending:pi}),this.depthRenderMaterial.uniforms.tDepth.value=this.normalRenderTarget.depthTexture,this.depthRenderMaterial.uniforms.cameraNear.value=this.camera.near,this.depthRenderMaterial.uniforms.cameraFar.value=this.camera.far,this.copyMaterial=new cn({uniforms:Ii.clone(Bc.uniforms),vertexShader:Bc.vertexShader,fragmentShader:Bc.fragmentShader,transparent:!0,depthTest:!1,depthWrite:!1,blendSrc:X6,blendDst:s3,blendEquation:Mo,blendSrcAlpha:W6,blendDstAlpha:s3,blendEquationAlpha:Mo}),this.fsQuad=new Uc(null),this.originalClearColor=new We}dispose(){this.beautyRenderTarget.dispose(),this.normalRenderTarget.dispose(),this.ssaoRenderTarget.dispose(),this.blurRenderTarget.dispose(),this.normalMaterial.dispose(),this.blurMaterial.dispose(),this.copyMaterial.dispose(),this.depthRenderMaterial.dispose(),this.fsQuad.dispose()}render(e,t){switch(e.setRenderTarget(this.beautyRenderTarget),e.clear(),e.render(this.scene,this.camera),this.overrideVisibility(),this.renderOverride(e,this.normalMaterial,this.normalRenderTarget,7829503,1),this.restoreVisibility(),this.ssaoMaterial.uniforms.kernelRadius.value=this.kernelRadius,this.ssaoMaterial.uniforms.minDistance.value=this.minDistance,this.ssaoMaterial.uniforms.maxDistance.value=this.maxDistance,this.renderPass(e,this.ssaoMaterial,this.ssaoRenderTarget),this.renderPass(e,this.blurMaterial,this.blurRenderTarget),this.output){case ko.OUTPUT.SSAO:this.copyMaterial.uniforms.tDiffuse.value=this.ssaoRenderTarget.texture,this.copyMaterial.blending=pi,this.renderPass(e,this.copyMaterial,this.renderToScreen?null:t);break;case ko.OUTPUT.Blur:this.copyMaterial.uniforms.tDiffuse.value=this.blurRenderTarget.texture,this.copyMaterial.blending=pi,this.renderPass(e,this.copyMaterial,this.renderToScreen?null:t);break;case ko.OUTPUT.Beauty:this.copyMaterial.uniforms.tDiffuse.value=this.beautyRenderTarget.texture,this.copyMaterial.blending=pi,this.renderPass(e,this.copyMaterial,this.renderToScreen?null:t);break;case ko.OUTPUT.Depth:this.renderPass(e,this.depthRenderMaterial,this.renderToScreen?null:t);break;case ko.OUTPUT.Normal:this.copyMaterial.uniforms.tDiffuse.value=this.normalRenderTarget.texture,this.copyMaterial.blending=pi,this.renderPass(e,this.copyMaterial,this.renderToScreen?null:t);break;case ko.OUTPUT.Default:this.copyMaterial.uniforms.tDiffuse.value=this.beautyRenderTarget.texture,this.copyMaterial.blending=pi,this.renderPass(e,this.copyMaterial,this.renderToScreen?null:t),this.copyMaterial.uniforms.tDiffuse.value=this.blurRenderTarget.texture,this.copyMaterial.blending=z6,this.renderPass(e,this.copyMaterial,this.renderToScreen?null:t);break;default:console.warn("THREE.SSAOPass: Unknown output type.")}}renderPass(e,t,i,r,s){e.getClearColor(this.originalClearColor);const o=e.getClearAlpha(),a=e.autoClear;e.setRenderTarget(i),e.autoClear=!1,r!=null&&(e.setClearColor(r),e.setClearAlpha(s||0),e.clear()),this.fsQuad.material=t,this.fsQuad.render(e),e.autoClear=a,e.setClearColor(this.originalClearColor),e.setClearAlpha(o)}renderOverride(e,t,i,r,s){e.getClearColor(this.originalClearColor);const o=e.getClearAlpha(),a=e.autoClear;e.setRenderTarget(i),e.autoClear=!1,r=t.clearColor||r,s=t.clearAlpha||s,r!=null&&(e.setClearColor(r),e.setClearAlpha(s||0),e.clear()),this.scene.overrideMaterial=t,e.render(this.scene,this.camera),this.scene.overrideMaterial=null,e.autoClear=a,e.setClearColor(this.originalClearColor),e.setClearAlpha(o)}setSize(e,t){this.width=e,this.height=t,this.beautyRenderTarget.setSize(e,t),this.ssaoRenderTarget.setSize(e,t),this.normalRenderTarget.setSize(e,t),this.blurRenderTarget.setSize(e,t),this.ssaoMaterial.uniforms.resolution.value.set(e,t),this.ssaoMaterial.uniforms.cameraProjectionMatrix.value.copy(this.camera.projectionMatrix),this.ssaoMaterial.uniforms.cameraInverseProjectionMatrix.value.copy(this.camera.projectionMatrixInverse),this.blurMaterial.uniforms.resolution.value.set(e,t)}generateSampleKernel(){const e=this.kernelSize,t=this.kernel;for(let i=0;i<e;i++){const r=new Z;r.x=Math.random()*2-1,r.y=Math.random()*2-1,r.z=Math.random(),r.normalize();let s=i/e;s=ur.lerp(.1,1,s*s),r.multiplyScalar(s),t.push(r)}}generateRandomKernelRotations(){const e=4,t=4;fF===void 0&&console.error("THREE.SSAOPass: The pass relies on SimplexNoise.");const i=new fF,r=e*t,s=new Float32Array(r*4);for(let o=0;o<r;o++){const a=o*4,l=Math.random()*2-1,c=Math.random()*2-1,u=0,f=i.noise3d(l,c,u);s[a]=f,s[a+1]=f,s[a+2]=f,s[a+3]=1}this.noiseTexture=new Ls(s,e,t,yn,ws),this.noiseTexture.wrapS=bs,this.noiseTexture.wrapT=bs}overrideVisibility(){const e=this.scene,t=this._visibilityCache;e.traverse(function(i){t.set(i,i.visible),(i.isPoints||i.isLine)&&(i.visible=!1)})}restoreVisibility(){const e=this.scene,t=this._visibilityCache;e.traverse(function(i){const r=t.get(i);i.visible=r}),t.clear()}}ko.OUTPUT={Default:0,SSAO:1,Blur:2,Beauty:3,Depth:4,Normal:5};const hF={shaderID:"luminosityHighPass",uniforms:{tDiffuse:{value:null},luminosityThreshold:{value:1},smoothWidth:{value:1},defaultColor:{value:new We(0)},defaultOpacity:{value:0}},vertexShader:`

		varying vec2 vUv;

		void main() {

			vUv = uv;

			gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );

		}`,fragmentShader:`

		uniform sampler2D tDiffuse;
		uniform vec3 defaultColor;
		uniform float defaultOpacity;
		uniform float luminosityThreshold;
		uniform float smoothWidth;

		varying vec2 vUv;

		void main() {

			vec4 texel = texture2D( tDiffuse, vUv );

			vec3 luma = vec3( 0.299, 0.587, 0.114 );

			float v = dot( texel.xyz, luma );

			vec4 outputColor = vec4( defaultColor.rgb, defaultOpacity );

			float alpha = smoothstep( luminosityThreshold, luminosityThreshold + smoothWidth, v );

			gl_FragColor = mix( outputColor, texel, alpha );

		}`};class Jf extends k0{constructor(e,t,i,r){super();this.strength=t!==void 0?t:1,this.radius=i,this.threshold=r,this.resolution=e!==void 0?new Ie(e.x,e.y):new Ie(256,256),this.clearColor=new We(0,0,0);const s={minFilter:Ht,magFilter:Ht,format:yn};this.renderTargetsHorizontal=[],this.renderTargetsVertical=[],this.nMips=5;let o=Math.round(this.resolution.x/2),a=Math.round(this.resolution.y/2);this.renderTargetBright=new jn(o,a,s),this.renderTargetBright.texture.name="UnrealBloomPass.bright",this.renderTargetBright.texture.generateMipmaps=!1;for(let h=0;h<this.nMips;h++){const d=new jn(o,a,s);d.texture.name="UnrealBloomPass.h"+h,d.texture.generateMipmaps=!1,this.renderTargetsHorizontal.push(d);const m=new jn(o,a,s);m.texture.name="UnrealBloomPass.v"+h,m.texture.generateMipmaps=!1,this.renderTargetsVertical.push(m),o=Math.round(o/2),a=Math.round(a/2)}hF===void 0&&console.error("THREE.UnrealBloomPass relies on LuminosityHighPassShader");const l=hF;this.highPassUniforms=Ii.clone(l.uniforms),this.highPassUniforms.luminosityThreshold.value=r,this.highPassUniforms.smoothWidth.value=.01,this.materialHighPassFilter=new cn({uniforms:this.highPassUniforms,vertexShader:l.vertexShader,fragmentShader:l.fragmentShader,defines:{}}),this.separableBlurMaterials=[];const c=[3,5,7,9,11];o=Math.round(this.resolution.x/2),a=Math.round(this.resolution.y/2);for(let h=0;h<this.nMips;h++)this.separableBlurMaterials.push(this.getSeperableBlurMaterial(c[h])),this.separableBlurMaterials[h].uniforms.texSize.value=new Ie(o,a),o=Math.round(o/2),a=Math.round(a/2);this.compositeMaterial=this.getCompositeMaterial(this.nMips),this.compositeMaterial.uniforms.blurTexture1.value=this.renderTargetsVertical[0].texture,this.compositeMaterial.uniforms.blurTexture2.value=this.renderTargetsVertical[1].texture,this.compositeMaterial.uniforms.blurTexture3.value=this.renderTargetsVertical[2].texture,this.compositeMaterial.uniforms.blurTexture4.value=this.renderTargetsVertical[3].texture,this.compositeMaterial.uniforms.blurTexture5.value=this.renderTargetsVertical[4].texture,this.compositeMaterial.uniforms.bloomStrength.value=t,this.compositeMaterial.uniforms.bloomRadius.value=.1,this.compositeMaterial.needsUpdate=!0;const u=[1,.8,.6,.4,.2];this.compositeMaterial.uniforms.bloomFactors.value=u,this.bloomTintColors=[new Z(1,1,1),new Z(1,1,1),new Z(1,1,1),new Z(1,1,1),new Z(1,1,1)],this.compositeMaterial.uniforms.bloomTintColors.value=this.bloomTintColors,Bc===void 0&&console.error("THREE.UnrealBloomPass relies on CopyShader");const f=Bc;this.copyUniforms=Ii.clone(f.uniforms),this.copyUniforms.opacity.value=1,this.materialCopy=new cn({uniforms:this.copyUniforms,vertexShader:f.vertexShader,fragmentShader:f.fragmentShader,blending:r3,depthTest:!1,depthWrite:!1,transparent:!0}),this.enabled=!0,this.needsSwap=!1,this._oldClearColor=new We,this.oldClearAlpha=1,this.basic=new mi,this.fsQuad=new Uc(null)}dispose(){for(let e=0;e<this.renderTargetsHorizontal.length;e++)this.renderTargetsHorizontal[e].dispose();for(let e=0;e<this.renderTargetsVertical.length;e++)this.renderTargetsVertical[e].dispose();this.renderTargetBright.dispose()}setSize(e,t){let i=Math.round(e/2),r=Math.round(t/2);this.renderTargetBright.setSize(i,r);for(let s=0;s<this.nMips;s++)this.renderTargetsHorizontal[s].setSize(i,r),this.renderTargetsVertical[s].setSize(i,r),this.separableBlurMaterials[s].uniforms.texSize.value=new Ie(i,r),i=Math.round(i/2),r=Math.round(r/2)}render(e,t,i,r,s){e.getClearColor(this._oldClearColor),this.oldClearAlpha=e.getClearAlpha();const o=e.autoClear;e.autoClear=!1,e.setClearColor(this.clearColor,0),s&&e.state.buffers.stencil.setTest(!1),this.renderToScreen&&(this.fsQuad.material=this.basic,this.basic.map=i.texture,e.setRenderTarget(null),e.clear(),this.fsQuad.render(e)),this.highPassUniforms.tDiffuse.value=i.texture,this.highPassUniforms.luminosityThreshold.value=this.threshold,this.fsQuad.material=this.materialHighPassFilter,e.setRenderTarget(this.renderTargetBright),e.clear(),this.fsQuad.render(e);let a=this.renderTargetBright;for(let l=0;l<this.nMips;l++)this.fsQuad.material=this.separableBlurMaterials[l],this.separableBlurMaterials[l].uniforms.colorTexture.value=a.texture,this.separableBlurMaterials[l].uniforms.direction.value=Jf.BlurDirectionX,e.setRenderTarget(this.renderTargetsHorizontal[l]),e.clear(),this.fsQuad.render(e),this.separableBlurMaterials[l].uniforms.colorTexture.value=this.renderTargetsHorizontal[l].texture,this.separableBlurMaterials[l].uniforms.direction.value=Jf.BlurDirectionY,e.setRenderTarget(this.renderTargetsVertical[l]),e.clear(),this.fsQuad.render(e),a=this.renderTargetsVertical[l];this.fsQuad.material=this.compositeMaterial,this.compositeMaterial.uniforms.bloomStrength.value=this.strength,this.compositeMaterial.uniforms.bloomRadius.value=this.radius,this.compositeMaterial.uniforms.bloomTintColors.value=this.bloomTintColors,e.setRenderTarget(this.renderTargetsHorizontal[0]),e.clear(),this.fsQuad.render(e),this.fsQuad.material=this.materialCopy,this.copyUniforms.tDiffuse.value=this.renderTargetsHorizontal[0].texture,s&&e.state.buffers.stencil.setTest(!0),this.renderToScreen?(e.setRenderTarget(null),this.fsQuad.render(e)):(e.setRenderTarget(i),this.fsQuad.render(e)),e.setClearColor(this._oldClearColor,this.oldClearAlpha),e.autoClear=o}getSeperableBlurMaterial(e){return new cn({defines:{KERNEL_RADIUS:e,SIGMA:e},uniforms:{colorTexture:{value:null},texSize:{value:new Ie(.5,.5)},direction:{value:new Ie(.5,.5)}},vertexShader:`varying vec2 vUv;
				void main() {
					vUv = uv;
					gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
				}`,fragmentShader:`#include <common>
				varying vec2 vUv;
				uniform sampler2D colorTexture;
				uniform vec2 texSize;
				uniform vec2 direction;

				float gaussianPdf(in float x, in float sigma) {
					return 0.39894 * exp( -0.5 * x * x/( sigma * sigma))/sigma;
				}
				void main() {
					vec2 invSize = 1.0 / texSize;
					float fSigma = float(SIGMA);
					float weightSum = gaussianPdf(0.0, fSigma);
					vec3 diffuseSum = texture2D( colorTexture, vUv).rgb * weightSum;
					for( int i = 1; i < KERNEL_RADIUS; i ++ ) {
						float x = float(i);
						float w = gaussianPdf(x, fSigma);
						vec2 uvOffset = direction * invSize * x;
						vec3 sample1 = texture2D( colorTexture, vUv + uvOffset).rgb;
						vec3 sample2 = texture2D( colorTexture, vUv - uvOffset).rgb;
						diffuseSum += (sample1 + sample2) * w;
						weightSum += 2.0 * w;
					}
					gl_FragColor = vec4(diffuseSum/weightSum, 1.0);
				}`})}getCompositeMaterial(e){return new cn({defines:{NUM_MIPS:e},uniforms:{blurTexture1:{value:null},blurTexture2:{value:null},blurTexture3:{value:null},blurTexture4:{value:null},blurTexture5:{value:null},dirtTexture:{value:null},bloomStrength:{value:1},bloomFactors:{value:null},bloomTintColors:{value:null},bloomRadius:{value:0}},vertexShader:`varying vec2 vUv;
				void main() {
					vUv = uv;
					gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
				}`,fragmentShader:`varying vec2 vUv;
				uniform sampler2D blurTexture1;
				uniform sampler2D blurTexture2;
				uniform sampler2D blurTexture3;
				uniform sampler2D blurTexture4;
				uniform sampler2D blurTexture5;
				uniform sampler2D dirtTexture;
				uniform float bloomStrength;
				uniform float bloomRadius;
				uniform float bloomFactors[NUM_MIPS];
				uniform vec3 bloomTintColors[NUM_MIPS];

				float lerpBloomFactor(const in float factor) {
					float mirrorFactor = 1.2 - factor;
					return mix(factor, mirrorFactor, bloomRadius);
				}

				void main() {
					gl_FragColor = bloomStrength * ( lerpBloomFactor(bloomFactors[0]) * vec4(bloomTintColors[0], 1.0) * texture2D(blurTexture1, vUv) +
						lerpBloomFactor(bloomFactors[1]) * vec4(bloomTintColors[1], 1.0) * texture2D(blurTexture2, vUv) +
						lerpBloomFactor(bloomFactors[2]) * vec4(bloomTintColors[2], 1.0) * texture2D(blurTexture3, vUv) +
						lerpBloomFactor(bloomFactors[3]) * vec4(bloomTintColors[3], 1.0) * texture2D(blurTexture4, vUv) +
						lerpBloomFactor(bloomFactors[4]) * vec4(bloomTintColors[4], 1.0) * texture2D(blurTexture5, vUv) );
				}`})}}Jf.BlurDirectionX=new Ie(1,0);Jf.BlurDirectionY=new Ie(0,1);function hx(n,e,t){e instanceof Object&&Object.entries(e).forEach(([i,r])=>{t?t(n,i,r):n[i]=r})}function $a(n,e,t,i=!0,r){i&&hx(t,n[e],r);const s=iT(n,e);return tn(s,o=>{hx(t,o,r)})}function ip(n,e){e instanceof Object&&Object.entries(e).forEach(([t,i])=>{n[t]=i})}function noe(n,e,t){e.forEach(i=>{yi(n,i,t,i)})}function yi(n,e,t,i){const r=i||e,s=iT(n,e);s.value instanceof Object?(ip(t[r],s.value),tn(s,o=>{ip(t[r],o)},{deep:!0})):(s.value!==void 0&&(t[r]=n[e]),tn(s,o=>{t[r]=o}))}function R9(n,e=[]){const t={};return Object.entries(n).forEach(([i,r])=>{(!e||!e.includes(i))&&(t[i]=r)}),t}function ioe(n,e,t){return t=t<0?0:t,t=t>1?1:t,n+(e-n)*t}function roe(n,e,t){return n<e?e:n>t?t:n}const soe="https://rawcdn.githack.com/emmelleppi/matcaps/9b36ccaaf0a24881a39062d05566c9e92be4aa0d",ooe="0404E8_0404B5_0404CB_3333FC";function dF(n=ooe,e=1024){const t=`${n}${aoe(e)}.png`;return`${soe}/${e}/${t}`}function aoe(n){switch(n){case 64:return"-64px";case 128:return"-128px";case 256:return"-256px";case 512:return"-512px";default:return""}}function loe(n){const{camera:e,resetPosition:t=new Z(0,0,0)}=n,i=new Ev,r=t.clone(),s=new Ts(new Z(0,0,1),0);return{position:r,updatePosition:l=>{i.setFromCamera(l,e),e.getWorldDirection(s.normal),i.ray.intersectPlane(s,r)},intersect:(l,c,u=!1)=>(i.setFromCamera(l,e),i.intersectObjects(c,u))}}function pF(n){const{camera:e,domElement:t,intersectObjects:i,intersectRecursive:r=!1,touch:s=!0,resetOnEnd:o=!1,onEnter:a=()=>{},onMove:l=()=>{},onLeave:c=()=>{},onClick:u=()=>{},onIntersectEnter:f=()=>{},onIntersectOver:h=()=>{},onIntersectMove:d=()=>{},onIntersectLeave:m=()=>{},onIntersectClick:v=()=>{}}=n,_=new Ie(0,0),g=new Ie(0,0),x=loe({camera:e}),b=x.position,w={position:_,positionN:g,positionV3:b,intersectObjects:i,listeners:!1,addListeners:P,removeListeners:I,intersect:T};return w;function S(){_.set(0,0),g.set(0,0),b.set(0,0,0)}function A(C){let B,Y;C.touches&&C.touches.length>0?(B=C.touches[0].clientX,Y=C.touches[0].clientY):(B=C.clientX,Y=C.clientY);const j=t.getBoundingClientRect();_.x=B-j.left,_.y=Y-j.top,g.x=_.x/j.width*2-1,g.y=-(_.y/j.height)*2+1,x.updatePosition(g)}function T(){const C=D();if(C.length){const B=x.intersect(g,C,r),Y=[...C],j=[];B.forEach(re=>{var ie,ve,de;const{object:ye}=re,te=G(ye);if(ye instanceof Nf){if(j.indexOf(ye)!==-1)return;j.push(ye)}if(!ye.userData.over){ye.userData.over=!0;const ge={type:"pointerover",over:!0,component:te,intersect:re},be=Dd(ys({},ge),{type:"pointerenter"});h(ge),f(be),(ie=te==null?void 0:te.onPointerOver)==null||ie.call(te,ge),(ve=te==null?void 0:te.onPointerEnter)==null||ve.call(te,be)}const $={type:"pointermove",component:te,intersect:re};d($),(de=te==null?void 0:te.onPointerMove)==null||de.call(te,$),Y.splice(Y.indexOf(ye),1)}),Y.forEach(re=>{var ie,ve;const de=G(re);if(re.userData.over){re.userData.over=!1;const ye={type:"pointerover",over:!1,component:de},te=Dd(ys({},ye),{type:"pointerleave"});h(ye),m(te),(ie=de==null?void 0:de.onPointerOver)==null||ie.call(de,ye),(ve=de==null?void 0:de.onPointerLeave)==null||ve.call(de,te)}})}}function F(C){A(C),a({type:"pointerenter",position:_,positionN:g,positionV3:b})}function U(C){A(C),l({type:"pointermove",position:_,positionN:g,positionV3:b}),T()}function N(C){A(C);const B=D();if(B.length){const Y=x.intersect(g,B,r),j=[];Y.forEach(re=>{var ie;const{object:ve}=re,de=G(ve);if(ve instanceof Nf){if(j.indexOf(ve)!==-1)return;j.push(ve)}const ye={type:"click",component:de,intersect:re};v(ye),(ie=de==null?void 0:de.onClick)==null||ie.call(de,ye)})}u({type:"click",position:_,positionN:g,positionV3:b})}function O(){o&&S(),c({type:"pointerleave"})}function G(C){if(C.userData.component)return C.userData.component;let B=C.parent;for(;B;){if(B.userData.component)return B.userData.component;B=B.parent}}function D(){return typeof i=="function"?i():i}function P(){t.addEventListener("mouseenter",F),t.addEventListener("mousemove",U),t.addEventListener("mouseleave",O),t.addEventListener("click",N),s&&(t.addEventListener("touchstart",F),t.addEventListener("touchmove",U),t.addEventListener("touchend",O)),w.listeners=!0}function I(){t.removeEventListener("mouseenter",F),t.removeEventListener("mousemove",U),t.removeEventListener("mouseleave",O),t.removeEventListener("click",N),t.removeEventListener("touchstart",F),t.removeEventListener("touchmove",U),t.removeEventListener("touchend",O),w.listeners=!1}}function coe(n){const e={antialias:!0,alpha:!1,autoClear:!0,orbitCtrl:!1,pointer:!1,resize:!1,width:300,height:150};n&&Object.entries(n).forEach(([b,w])=>{e[b]=w});const t={width:1,height:1,wWidth:1,wHeight:1,ratio:1},i=[],r=[],s=a(),o={config:e,renderer:s,size:t,init:l,dispose:v,render:f,renderC:h,setSize:g,addIntersectObject:d,removeIntersectObject:m};return o;function a(){const b=new on({canvas:e.canvas,antialias:e.antialias,alpha:e.alpha});return b.autoClear=e.autoClear,b}function l(){if(!o.scene)return console.error("Missing Scene"),!1;if(!o.camera)return console.error("Missing Camera"),!1;if(e.resize?(_(),window.addEventListener("resize",_)):e.width&&e.height&&g(e.width,e.height),c(),e.orbitCtrl){const b=new Fse(o.camera,o.renderer.domElement);e.orbitCtrl instanceof Object&&Object.entries(e.orbitCtrl).forEach(([w,S])=>{b[w]=S}),u(()=>{b.update()}),o.cameraCtrl=b}return!0}function c(){let b={camera:o.camera,domElement:o.renderer.domElement,intersectObjects:r};e.pointer&&e.pointer instanceof Object&&(b=ys(ys({},b),e.pointer));const w=o.pointer=pF(b);(e.pointer||r.length)&&(w.addListeners(),b.intersectMode==="frame"&&u(w.intersect))}function u(b){i.push(b)}function f(){i.forEach(b=>b()),o.renderer.render(o.scene,o.camera)}function h(){i.forEach(b=>b()),o.composer.render()}function d(b){r.indexOf(b)===-1&&r.push(b),o.pointer&&!o.pointer.listeners&&o.pointer.addListeners()}function m(b){const w=r.indexOf(b);w!==-1&&r.splice(w,1),o.pointer&&!e.pointer&&r.length===0&&o.pointer.removeListeners()}function v(){window.removeEventListener("resize",_),o.pointer&&o.pointer.removeListeners(),o.cameraCtrl&&o.cameraCtrl.dispose(),o.renderer&&o.renderer.dispose()}function _(){var b;if(e.resize==="window")g(window.innerWidth,window.innerHeight);else{const w=o.renderer.domElement.parentNode;w&&g(w.clientWidth,w.clientHeight)}(b=e.onResize)==null||b.call(e,t)}function g(b,w){t.width=b,t.height=w,t.ratio=b/w,o.renderer.setSize(b,w,!1);const S=o.camera;if(S.type==="PerspectiveCamera"){const A=S;A.aspect=t.ratio,A.updateProjectionMatrix()}if(S.type==="OrthographicCamera"){const A=S;t.wWidth=A.right-A.left,t.wHeight=A.top-A.bottom}else{const A=x();t.wWidth=A[0],t.wHeight=A[1]}}function x(){const b=o.camera,w=b.fov*Math.PI/180,S=2*Math.tan(w/2)*Math.abs(b.position.z);return[S*b.aspect,S]}}const H0=Symbol("Renderer");var uoe=xt({name:"Renderer",props:{antialias:Boolean,alpha:Boolean,autoClear:{type:Boolean,default:!0},orbitCtrl:{type:[Boolean,Object],default:!1},pointer:{type:[Boolean,Object],default:!1},resize:{type:[Boolean,String],default:!1},shadow:Boolean,width:String,height:String,xr:Boolean,props:{type:Object,default:()=>({})},onReady:Function},inheritAttrs:!1,setup(n,{attrs:e}){const t=[],i=[],r=[],s=[],o=[],a=document.createElement("canvas");Object.entries(e).forEach(([f,h])=>{const d=f.match(/^on([A-Z][a-zA-Z]*)$/);d?a.addEventListener(d[1].toLowerCase(),h):a.setAttribute(f,h)});const l={canvas:a,antialias:n.antialias,alpha:n.alpha,autoClear:n.autoClear,orbitCtrl:n.orbitCtrl,pointer:n.pointer,resize:n.resize};n.width&&(l.width=parseInt(n.width)),n.height&&(l.height=parseInt(n.height));const c=coe(l);$a(n,"props",c.renderer);const u=()=>{};return{canvas:a,three:c,renderer:c.renderer,size:c.size,renderFn:u,raf:!0,initCallbacks:t,mountedCallbacks:i,beforeRenderCallbacks:r,afterRenderCallbacks:s,resizeCallbacks:o}},computed:{camera:{get:function(){return this.three.camera},set:function(n){this.three.camera=n}},scene:{get:function(){return this.three.scene},set:function(n){this.three.scene=n}},composer:{get:function(){return this.three.composer},set:function(n){this.three.composer=n}}},provide(){return{[H0]:this}},mounted(){var n;this.$el.parentNode.insertBefore(this.canvas,this.$el),this.three.init()&&(this.three.pointer&&(this.$pointer=this.three.pointer),this.three.config.onResize=e=>{this.resizeCallbacks.forEach(t=>t({type:"resize",renderer:this,size:e}))},this.shadow&&(this.renderer.shadowMap.enabled=!0),this.renderFn=this.three.composer?this.three.renderC:this.three.render,this.initCallbacks.forEach(e=>e({type:"init",renderer:this})),(n=this.onReady)==null||n.call(this,this),this.xr?(this.renderer.xr.enabled=!0,this.renderer.setAnimationLoop(this.render)):requestAnimationFrame(this.renderLoop)),this.mountedCallbacks.forEach(e=>e({type:"mounted",renderer:this}))},beforeUnmount(){this.canvas.remove(),this.beforeRenderCallbacks=[],this.afterRenderCallbacks=[],this.raf=!1,this.three.dispose()},methods:{onInit(n){this.addListener("init",n)},onMounted(n){this.addListener("mounted",n)},onBeforeRender(n){this.addListener("beforerender",n)},offBeforeRender(n){this.removeListener("beforerender",n)},onAfterRender(n){this.addListener("afterrender",n)},offAfterRender(n){this.removeListener("afterrender",n)},onResize(n){this.addListener("resize",n)},offResize(n){this.removeListener("resize",n)},addListener(n,e){this.getCallbacks(n).push(e)},removeListener(n,e){const t=this.getCallbacks(n),i=t.indexOf(e);i&&t.splice(i,1)},getCallbacks(n){return n==="init"?this.initCallbacks:n==="mounted"?this.mountedCallbacks:n==="beforerender"?this.beforeRenderCallbacks:n==="afterrender"?this.afterRenderCallbacks:this.resizeCallbacks},render(n){this.beforeRenderCallbacks.forEach(e=>e({type:"beforerender",renderer:this,time:n})),this.renderFn({renderer:this,time:n}),this.afterRenderCallbacks.forEach(e=>e({type:"afterrender",renderer:this,time:n}))},renderLoop(n){this.raf&&requestAnimationFrame(this.renderLoop),this.render(n)}},render(){return this.$slots.default?this.$slots.default():[]},__hmrId:"Renderer"}),mF=xt({props:{props:{type:Object,default:()=>({})}},render(){return this.$slots.default?this.$slots.default():[]}});function F9(n,e,t,i=!0){n[e]=t,i&&n.updateProjectionMatrix()}var foe=xt({extends:mF,name:"OrthographicCamera",props:{left:{type:Number,default:-1},right:{type:Number,default:1},top:{type:Number,default:1},bottom:{type:Number,default:-1},near:{type:Number,default:.1},far:{type:Number,default:2e3},zoom:{type:Number,default:1},position:{type:Object,default:()=>({x:0,y:0,z:0})}},setup(n){const e=Nr(H0);if(!e){console.error("Renderer not found");return}const t=new F0(n.left,n.right,n.top,n.bottom,n.near,n.far);return e.camera=t,yi(n,"position",t),$a(n,"props",t,!0,F9),["left","right","top","bottom","near","far","zoom"].forEach(i=>{tn(()=>n[i],r=>{F9(t,i,r)})}),{renderer:e,camera:t}},__hmrId:"OrthographicCamera"}),gF=xt({extends:mF,name:"PerspectiveCamera",props:{aspect:{type:Number,default:1},far:{type:Number,default:2e3},fov:{type:Number,default:50},near:{type:Number,default:.1},position:{type:Object,default:()=>({x:0,y:0,z:0})},lookAt:{type:Object,default:null}},setup(n){var e;const t=Nr(H0);if(!t){console.error("Renderer not found");return}const i=new Qn(n.fov,n.aspect,n.near,n.far);return t.camera=i,yi(n,"position",i),n.lookAt&&i.lookAt((e=n.lookAt.x)!=null?e:0,n.lookAt.y,n.lookAt.z),tn(()=>n.lookAt,r=>{var s;i.lookAt((s=r.x)!=null?s:0,r.y,r.z)},{deep:!0}),$a(n,"props",i,!0,F9),["aspect","far","fov","near"].forEach(r=>{tn(()=>n[r],s=>{F9(i,r,s)})}),{renderer:t,camera:i}},__hmrId:"PerspectiveCamera"});const dx=Symbol("Scene");var hoe=xt({name:"Scene",props:{background:[String,Number,Object]},setup(n){const e=Nr(H0),t=new _1;if(!e){console.error("Renderer not found");return}e.scene=t,Gd(dx,t);const i=o=>{!o||(typeof o=="string"||typeof o=="number"?t.background instanceof We?t.background.set(o):t.background=new We(o):o instanceof Tn&&(t.background=o))};return i(n.background),tn(()=>n.background,i),{scene:t,add:o=>{t.add(o)},remove:o=>{t.remove(o)}}},render(){return this.$slots.default?this.$slots.default():[]},__hmrId:"Scene"});const doe={onPointerEnter:Function,onPointerOver:Function,onPointerMove:Function,onPointerLeave:Function,onPointerDown:Function,onPointerUp:Function,onClick:Function};var qa=xt({name:"Object3D",inject:{renderer:H0,scene:dx},emits:["created","ready"],props:ys({position:{type:Object,default:()=>({x:0,y:0,z:0})},rotation:{type:Object,default:()=>({x:0,y:0,z:0})},scale:{type:Object,default:()=>({x:1,y:1,z:1,order:"XYZ"})},lookAt:{type:Object,default:null},userData:{type:Object,default:()=>({})},visible:{type:Boolean,default:!0},props:{type:Object,default:()=>({})},disableAdd:{type:Boolean,default:!1},disableRemove:{type:Boolean,default:!1}},doe),setup(){return{}},created(){this.renderer||console.error("Missing parent Renderer"),this.scene||console.error("Missing parent Scene")},unmounted(){this.disableRemove||this.removeFromParent(),this.o3d&&this.renderer&&this.renderer.three.removeIntersectObject(this.o3d)},methods:{initObject3D(n){var e;this.o3d=n,n.userData.component=this,(this.onPointerEnter||this.onPointerOver||this.onPointerMove||this.onPointerLeave||this.onPointerDown||this.onPointerUp||this.onClick)&&this.renderer&&this.renderer.three.addIntersectObject(n),yi(this,"position",n),yi(this,"rotation",n),yi(this,"scale",n),yi(this,"userData",n.userData),yi(this,"visible",n),$a(this,"props",n),this.$emit("created",n),this.lookAt&&n.lookAt((e=this.lookAt.x)!=null?e:0,this.lookAt.y,this.lookAt.z),tn(()=>this.lookAt,t=>{var i;n.lookAt((i=t.x)!=null?i:0,t.y,t.z)},{deep:!0}),this.parent=this.getParent(),this.disableAdd||(this.addToParent()?this.$emit("ready",this):console.error("Missing parent (Scene, Group...)"))},getParent(){let n=this.$parent;for(;n;){if(n.add)return n;n=n.$parent}},addToParent(n){const e=n||this.o3d;return this.parent?(this.parent.add(e),!0):!1},removeFromParent(n){const e=n||this.o3d;return this.parent?(this.parent.remove(e),!0):!1},add(n){var e;(e=this.o3d)==null||e.add(n)},remove(n){var e;(e=this.o3d)==null||e.remove(n)}},render(){return this.$slots.default?this.$slots.default():[]},__hmrId:"Object3D"}),poe=xt({name:"Group",extends:qa,setup(){return{group:new es}},created(){this.initObject3D(this.group)},__hmrId:"Group"});const rp=()=>{};var moe=xt({name:"Raycaster",props:{onPointerEnter:{type:Function,default:rp},onPointerOver:{type:Function,default:rp},onPointerMove:{type:Function,default:rp},onPointerLeave:{type:Function,default:rp},onClick:{type:Function,default:rp},intersectMode:{type:String,default:"move"},intersectRecursive:{type:Boolean,default:!1}},setup(){return{renderer:Nr(H0)}},mounted(){if(!this.renderer){console.error("Renderer not found");return}const n=this.renderer;this.renderer.onMounted(()=>{!n.camera||(this.pointer=pF({camera:n.camera,domElement:n.canvas,intersectObjects:()=>n.scene?n.scene.children:[],intersectRecursive:this.intersectRecursive,onIntersectEnter:this.onPointerEnter,onIntersectOver:this.onPointerOver,onIntersectMove:this.onPointerMove,onIntersectLeave:this.onPointerLeave,onIntersectClick:this.onClick}),this.pointer.addListeners(),this.intersectMode==="frame"&&n.onBeforeRender(this.pointer.intersect))})},unmounted(){var n;this.pointer&&(this.pointer.removeListeners(),(n=this.renderer)==null||n.offBeforeRender(this.pointer.intersect))},render(){return[]},__hmrId:"Raycaster"}),goe=xt({extends:qa,props:{cubeRTSize:{type:Number,default:256},cubeCameraNear:{type:Number,default:.1},cubeCameraFar:{type:Number,default:2e3},autoUpdate:Boolean,hideMeshes:{type:Array,default:()=>[]}},setup(n){const e=Nr(H0);if(!e||!e.scene)return console.error("Missing Renderer / Scene"),{};const t=e.renderer,i=e.scene,r=new d1(n.cubeRTSize,{format:Or,generateMipmaps:!0,minFilter:C0}),s=new h1(n.cubeCameraNear,n.cubeCameraFar,r),o=()=>{n.hideMeshes.forEach(a=>{a.visible=!1}),s.update(t,i),n.hideMeshes.forEach(a=>{a.visible=!0})};return n.autoUpdate?(e.onBeforeRender(o),d6(()=>{e.offBeforeRender(o)})):e.onMounted(o),{cubeRT:r,cubeCamera:s,updateRT:o}},created(){this.cubeCamera&&this.initObject3D(this.cubeCamera)},render(){return[]},__hmrId:"CubeCamera"});const sp=Symbol("Mesh"),Kf=xt({name:"Mesh",extends:qa,props:{castShadow:Boolean,receiveShadow:Boolean},setup(){return{}},provide(){return{[sp]:this}},mounted(){!this.mesh&&!this.loading&&this.initMesh()},methods:{initMesh(){const n=new En(this.geometry,this.material);yi(this,"castShadow",n),yi(this,"receiveShadow",n),this.mesh=n,this.initObject3D(n)},createGeometry(){},addGeometryWatchers(n){Object.keys(n).forEach(e=>{tn(()=>this[e],()=>{this.refreshGeometry()})})},setGeometry(n){this.geometry=n,this.mesh&&(this.mesh.geometry=n)},setMaterial(n){this.material=n,this.mesh&&(this.mesh.material=n)},refreshGeometry(){const n=this.geometry;this.createGeometry(),this.mesh&&this.geometry&&(this.mesh.geometry=this.geometry),n==null||n.dispose()}},unmounted(){this.geometry&&this.geometry.dispose(),this.material&&this.material.dispose()},__hmrId:"Mesh"});function gr(n,e,t){return xt({name:n,extends:Kf,props:e,created(){this.createGeometry(),this.addGeometryWatchers(e)},methods:{createGeometry(){this.geometry=t(this)}}})}const I9=xt({props:{rotateX:Number,rotateY:Number,rotateZ:Number,attributes:{type:Array,default:()=>[]}},inject:{mesh:sp},setup(){return{}},created(){if(!this.mesh){console.error("Missing parent Mesh");return}this.createGeometry(),this.rotateGeometry(),this.geometry&&this.mesh.setGeometry(this.geometry),Object.keys(this.$props).forEach(n=>{tn(()=>this[n],this.refreshGeometry)})},unmounted(){var n;(n=this.geometry)==null||n.dispose()},methods:{createGeometry(){const n={},e=new ot;this.attributes.forEach(t=>{if(t.name&&t.itemSize&&t.array){const i=n[t.name]=new Tt(t.array,t.itemSize,t.normalized);e.setAttribute(t.name,i)}}),e.computeBoundingBox(),this.geometry=e},rotateGeometry(){!this.geometry||(this.rotateX&&this.geometry.rotateX(this.rotateX),this.rotateY&&this.geometry.rotateY(this.rotateY),this.rotateZ&&this.geometry.rotateZ(this.rotateZ))},refreshGeometry(){const n=this.geometry;this.createGeometry(),this.rotateGeometry(),this.geometry&&this.mesh&&this.mesh.setGeometry(this.geometry),n==null||n.dispose()}},render(){return[]}});function vr(n,e,t){return xt({name:n,extends:I9,props:e,methods:{createGeometry(){this.geometry=t(this)}}})}const vF={size:Number,width:{type:Number,default:1},height:{type:Number,default:1},depth:{type:Number,default:1},widthSegments:{type:Number,default:1},heightSegments:{type:Number,default:1},depthSegments:{type:Number,default:1}};function xF(n){return n.size?new n0(n.size,n.size,n.size,n.widthSegments,n.heightSegments,n.depthSegments):new n0(n.width,n.height,n.depth,n.widthSegments,n.heightSegments,n.depthSegments)}var voe=vr("BoxGeometry",vF,xF);const yF={radius:{type:Number,default:1},segments:{type:Number,default:8},thetaStart:{type:Number,default:0},thetaLength:{type:Number,default:Math.PI*2}};function _F(n){return new fc(n.radius,n.segments,n.thetaStart,n.thetaLength)}var xoe=vr("CircleGeometry",yF,_F);const bF={radius:{type:Number,default:1},height:{type:Number,default:1},radialSegments:{type:Number,default:8},heightSegments:{type:Number,default:1},openEnded:{type:Boolean,default:!1},thetaStart:{type:Number,default:0},thetaLength:{type:Number,default:Math.PI*2}};function wF(n){return new hc(n.radius,n.height,n.radialSegments,n.heightSegments,n.openEnded,n.thetaStart,n.thetaLength)}var yoe=vr("ConeGeometry",bF,wF);const MF={radiusTop:{type:Number,default:1},radiusBottom:{type:Number,default:1},height:{type:Number,default:1},radialSegments:{type:Number,default:8},heightSegments:{type:Number,default:1},openEnded:{type:Boolean,default:!1},thetaStart:{type:Number,default:0},thetaLength:{type:Number,default:Math.PI*2}};function SF(n){return new Io(n.radiusTop,n.radiusBottom,n.height,n.radialSegments,n.heightSegments,n.openEnded,n.thetaStart,n.thetaLength)}var _oe=vr("CylinderGeometry",MF,SF);const AF={radius:{type:Number,default:1},detail:{type:Number,default:0}};function TF(n){return new dc(n.radius,n.detail)}var boe=vr("DodecahedronGeometry",AF,TF);const EF={radius:{type:Number,default:1},detail:{type:Number,default:0}};function LF(n){return new pc(n.radius,n.detail)}var woe=vr("IcosahedronGeometry",EF,LF);const CF={points:Array,segments:{type:Number,default:12},phiStart:{type:Number,default:0},phiLength:{type:Number,default:Math.PI*2}};function PF(n){return new mc(n.points,n.segments,n.phiStart,n.phiLength)}var Moe=vr("LatheGeometry",CF,PF);const RF={radius:{type:Number,default:1},detail:{type:Number,default:0}};function FF(n){return new Da(n.radius,n.detail)}var Soe=vr("OctahedronGeometry",RF,FF);const IF={width:{type:Number,default:1},height:{type:Number,default:1},widthSegments:{type:Number,default:1},heightSegments:{type:Number,default:1}};function DF(n){return new Po(n.width,n.height,n.widthSegments,n.heightSegments)}var Aoe=vr("PlaneGeometry",IF,DF);const NF={vertices:Array,indices:Array,radius:{type:Number,default:1},detail:{type:Number,default:0}};function OF(n){return new i0(n.vertices,n.indices,n.radius,n.detail)}var Toe=vr("PolyhedronGeometry",NF,OF);const BF={innerRadius:{type:Number,default:.5},outerRadius:{type:Number,default:1},thetaSegments:{type:Number,default:8},phiSegments:{type:Number,default:1},thetaStart:{type:Number,default:0},thetaLength:{type:Number,default:Math.PI*2}};function UF(n){return new gc(n.innerRadius,n.outerRadius,n.thetaSegments,n.phiSegments,n.thetaStart,n.thetaLength)}var Eoe=vr("RingGeometry",BF,UF);const zF={radius:{type:Number,default:1},widthSegments:{type:Number,default:12},heightSegments:{type:Number,default:12}};function kF(n){return new Na(n.radius,n.widthSegments,n.heightSegments)}var Loe=vr("SphereGeometry",zF,kF);const HF={radius:{type:Number,default:1},detail:{type:Number,default:0}};function GF(n){return new xc(n.radius,n.detail)}var Coe=vr("TetrahedronGeometry",HF,GF);const VF={radius:{type:Number,default:1},tube:{type:Number,default:.4},radialSegments:{type:Number,default:8},tubularSegments:{type:Number,default:6},arc:{type:Number,default:Math.PI*2}};function WF(n){return new yc(n.radius,n.tube,n.radialSegments,n.tubularSegments,n.arc)}var Poe=vr("TorusGeometry",VF,WF);const XF={radius:{type:Number,default:1},tube:{type:Number,default:.4},tubularSegments:{type:Number,default:64},radialSegments:{type:Number,default:8},p:{type:Number,default:2},q:{type:Number,default:3}};function YF(n){return new _c(n.radius,n.tube,n.tubularSegments,n.radialSegments,n.p,n.q)}var Roe=vr("TorusKnotGeometry",XF,YF);const px={points:Array,path:pr,tubularSegments:{type:Number,default:64},radius:{type:Number,default:1},radialSegments:{type:Number,default:8},closed:{type:Boolean,default:!1}};function $F(n){let e;return n.points?e=new L1(n.points):n.path?e=n.path:console.error("Missing path curve or points."),new bc(e,n.tubularSegments,n.radius,n.radiusSegments,n.closed)}var Foe=xt({extends:I9,props:px,methods:{createGeometry(){this.geometry=$F(this)},updatePoints(n){qF(this.geometry,n)}}});function qF(n,e){const t=new L1(e),{radialSegments:i,radius:r,tubularSegments:s,closed:o}=n.parameters,a=t.computeFrenetFrames(s,o);n.tangents=a.tangents,n.normals=a.normals,n.binormals=a.binormals,n.parameters.path=t;const l=n.getAttribute("position"),c=n.getAttribute("normal"),u=new Z,f=new Z;for(let d=0;d<s;d++)h(d);h(s),n.attributes.position.needsUpdate=!0,n.attributes.normal.needsUpdate=!0;function h(d){t.getPointAt(d/s,f);const m=a.normals[d],v=a.binormals[d];for(let _=0;_<=i;_++){const g=_/i*Math.PI*2,x=Math.sin(g),b=-Math.cos(g);u.x=b*m.x+x*v.x,u.y=b*m.y+x*v.y,u.z=b*m.z+x*v.z,u.normalize();const w=d*(i+1)+_;c.setXYZ(w,u.x,u.y,u.z),l.setXYZ(w,f.x+r*u.x,f.y+r*u.y,f.z+r*u.z)}}}var Ioe=xt({extends:I9,props:{vertices:{type:Array,default:()=>[]},indices:{type:Array,default:()=>[]}},methods:{createGeometry(){const n=new G1;this.vertices.forEach(e=>{n.vertices.push(new Z().copy(e))});for(let e=0;e<this.indices.length;e+=3)n.faces.push(new Ov(this.indices[e],this.indices[e+1],this.indices[e+2]));n.computeFaceNormals(),this.geometry=n.toBufferGeometry()}}}),eh=xt({extends:qa,name:"Light",props:{color:{type:String,default:"#ffffff"},intensity:{type:Number,default:1},castShadow:{type:Boolean,default:!1},shadowMapSize:{type:Object,default:()=>({x:512,y:512})},shadowCamera:{type:Object,default:()=>({})}},setup(){return{}},unmounted(){(this.light instanceof za||this.light instanceof ka)&&this.removeFromParent(this.light.target)},methods:{initLight(n){this.light=n,n.shadow&&(n.castShadow=this.castShadow,ip(n.shadow.mapSize,this.shadowMapSize),ip(n.shadow.camera,this.shadowCamera)),["color","intensity","castShadow"].forEach(e=>{tn(()=>this[e],t=>{e==="color"?n.color.set(t):n[e]=t})}),this.initObject3D(n),(n instanceof za||n instanceof ka)&&(yi(this,"target",n.target,"position"),this.addToParent(n.target))}},__hmrId:"Light"}),Doe=xt({extends:eh,created(){this.initLight(new k1(this.color,this.intensity))},__hmrId:"AmbientLight"}),Noe=xt({extends:eh,props:{target:{type:Object,default:()=>({x:0,y:0,z:0})}},created(){this.initLight(new ka(this.color,this.intensity))},__hmrId:"DirectionalLight"}),Ooe=xt({extends:eh,props:{groundColor:{type:String,default:"#444444"}},created(){const n=new r9(this.color,this.groundColor,this.intensity);tn(()=>this.groundColor,e=>{n.groundColor.set(e)}),this.initLight(n)},__hmrId:"HemisphereLight"}),Boe=xt({extends:eh,props:{distance:{type:Number,default:0},decay:{type:Number,default:1}},created(){this.initLight(new Cc(this.color,this.intensity,this.distance,this.decay))},__hmrId:"PointLight"}),Uoe=xt({extends:eh,props:{width:{type:Number,default:10},height:{type:Number,default:10},helper:Boolean},created(){Dse.init();const n=new s9(this.color,this.intensity,this.width,this.height);if(["width","height"].forEach(t=>{tn(()=>this[t],i=>{n[t]=i})}),this.helper){const t=new Nse(n);n.add(t)}this.initLight(n)},__hmrId:"RectAreaLight"}),zoe=xt({extends:eh,props:{angle:{type:Number,default:Math.PI/3},decay:{type:Number,default:1},distance:{type:Number,default:0},penumbra:{type:Number,default:0},target:Object},created(){const n=new za(this.color,this.intensity,this.distance,this.angle,this.penumbra,this.decay);["angle","decay","distance","penumbra"].forEach(t=>{tn(()=>this[t],i=>{n[t]=i})}),this.initLight(n)},__hmrId:"SpotLight"});const mx=Symbol("Material"),gx=xt({props:{color:{type:String,default:"#ffffff"},props:{type:Object,default:()=>({})}},inject:{mesh:sp},setup(){return{}},provide(){return{[mx]:this}},created(){if(!this.mesh){console.error("Missing parent Mesh");return}if(this.createMaterial){const n=this.material=this.createMaterial();tn(()=>this.color,e=>{n.color.set(e)}),$a(this,"props",n,!1,this.setProp),this.mesh.setMaterial(n)}},unmounted(){var n;(n=this.material)==null||n.dispose()},methods:{getMaterialParams(){return ys(ys({},R9(this.$props,["props"])),this.props)},setProp(n,e,t,i=!1){const r=n[e];r instanceof We?r.set(t):n[e]=t,n.needsUpdate=i},setTexture(n,e="map"){this.setProp(this.material,e,n,!0)}},render(){return this.$slots.default?this.$slots.default():[]},__hmrId:"Material"});function Ho(n,e,t){return xt({name:n,extends:gx,props:e,methods:{createMaterial(){return t(this.getMaterialParams())}}})}const koe=Ho("BasicMaterial",{props:{type:Object,default:()=>({})}},n=>new mi(n)),Hoe=Ho("LambertMaterial",{props:{type:Object,default:()=>({})}},n=>new O1(n)),Goe=Ho("PhongMaterial",{props:{type:Object,default:()=>({})}},n=>new wc(n)),Voe=Ho("PhysicalMaterial",{props:{type:Object,default:()=>({})}},n=>new Do(n)),Woe=Ho("PointsMaterial",{props:{type:Object,default:()=>({})}},n=>new Fo(n)),Xoe=Ho("StandardMaterial",{props:{type:Object,default:()=>({})}},n=>new Oa(n)),Yoe=Ho("ToonMaterial",{props:{type:Object,default:()=>({})}},n=>new t9(n));var $oe=Ho("MatcapMaterial",{src:String,name:{type:String,default:"0404E8_0404B5_0404CB_3333FC"}},n=>{const e=n.src?n.src:dF(n.name),t=R9(n,["src","name"]);return t.matcap=new Ba().load(e),new i9(t)});const qoe=`
  varying vec2 vUv;
  void main(){
    vUv = uv;
    gl_Position = projectionMatrix * modelViewMatrix * vec4(position,1.0);
  }
`,joe=`
  varying vec2 vUv;
  void main() {
    gl_FragColor = vec4(vUv.x, vUv.y, 0., 1.0);
  }
`;var Zoe=Ho("ShaderMaterial",{props:{type:Object,default:()=>({uniforms:{},vertexShader:qoe,fragmentShader:joe})}},n=>new cn(R9(n,["color"])));function Qoe(n,e,t){return n.split(e).join(t)}const Joe=Mt.meshphong_frag.slice(0,Mt.meshphong_frag.indexOf("void main() {")),Koe=Mt.meshphong_frag.slice(Mt.meshphong_frag.indexOf("void main() {")),eae={uniforms:Ii.merge([Es.phong.uniforms,{thicknessColor:{value:new We(16777215)},thicknessDistortion:{value:.1},thicknessAmbient:{value:0},thicknessAttenuation:{value:.1},thicknessPower:{value:2},thicknessScale:{value:10}}]),vertexShader:`
    #define USE_UV
    ${Mt.meshphong_vert}
  `,fragmentShader:`
    #define USE_UV
    #define SUBSURFACE

    ${Joe}

    uniform float thicknessPower;
    uniform float thicknessScale;
    uniform float thicknessDistortion;
    uniform float thicknessAmbient;
    uniform float thicknessAttenuation;
    uniform vec3 thicknessColor;

    void RE_Direct_Scattering(const in IncidentLight directLight, const in vec2 uv, const in GeometricContext geometry, inout ReflectedLight reflectedLight) {
      #ifdef USE_COLOR
        vec3 thickness = vColor * thicknessColor;
      #else
        vec3 thickness = thicknessColor;
      #endif
      vec3 scatteringHalf = normalize(directLight.direction + (geometry.normal * thicknessDistortion));
      float scatteringDot = pow(saturate(dot(geometry.viewDir, -scatteringHalf)), thicknessPower) * thicknessScale;
      vec3 scatteringIllu = (scatteringDot + thicknessAmbient) * thickness;
      reflectedLight.directDiffuse += scatteringIllu * thicknessAttenuation * directLight.color;
    }
  `+Koe.replace("#include <lights_fragment_begin>",Qoe(Mt.lights_fragment_begin,"RE_Direct( directLight, geometry, material, reflectedLight );",`
        RE_Direct( directLight, geometry, material, reflectedLight );
        #if defined( SUBSURFACE ) && defined( USE_UV )
          RE_Direct_Scattering(directLight, vUv, geometry, reflectedLight);
        #endif
      `))};var tae=xt({extends:gx,props:{uniforms:{type:Object,default:()=>({diffuse:"#ffffff",thicknessColor:"#ffffff",thicknessDistortion:.4,thicknessAmbient:.01,thicknessAttenuation:.7,thicknessPower:2,thicknessScale:4})}},methods:{createMaterial(){const n=eae,e=Ii.clone(n.uniforms);return $a(this,"uniforms",e,!0,(i,r,s)=>{const o=i[r].value;o instanceof We?o.set(s):i[r].value=s}),new cn(Dd(ys(Dd(ys({},n),{lights:!0}),this.props),{uniforms:e}))}}}),jF=xt({inject:{material:mx},props:{name:{type:String,default:"map"},uniform:String,src:String,onLoad:Function,onProgress:Function,onError:Function,props:{type:Object,default:()=>({})}},setup(){return{}},created(){this.refreshTexture(),tn(()=>this.src,this.refreshTexture)},unmounted(){var n,e;(n=this.material)==null||n.setTexture(null,this.name),(e=this.texture)==null||e.dispose()},methods:{createTexture(){if(!!this.src)return new Ba().load(this.src,this.onLoaded,this.onProgress,this.onError)},initTexture(){!this.texture||($a(this,"props",this.texture),!!this.material&&(this.material.setTexture(this.texture,this.name),this.material.material instanceof cn&&this.uniform&&(this.material.material.uniforms[this.uniform]={value:this.texture})))},refreshTexture(){var n;(n=this.texture)==null||n.dispose(),this.texture=this.createTexture(),this.initTexture()},onLoaded(n){var e;(e=this.onLoad)==null||e.call(this,n)}},render(){return[]}}),nae=xt({extends:jF,props:{name:{type:String,default:"envMap"},path:{type:String,required:!0},urls:{type:Array,default:()=>["px.jpg","nx.jpg","py.jpg","ny.jpg","pz.jpg","nz.jpg"]},props:{type:Object,default:()=>({mapping:Ql})}},created(){tn(()=>this.path,this.refreshTexture),tn(()=>this.urls,this.refreshTexture)},methods:{createTexture(){return new mv().setPath(this.path).load(this.urls,this.onLoaded,this.onProgress,this.onError)}}}),iae=gr("Box",vF,xF),rae=gr("Circle",yF,_F),sae=gr("Cone",bF,wF),oae=gr("Cylinder",MF,SF),aae=gr("Dodecahedron",AF,TF),lae=gr("Icosahedron",EF,LF),cae=gr("Lathe",CF,PF),uae=gr("Octahedron",RF,FF),fae=gr("Plane",IF,DF),hae=gr("Polyhedron",NF,OF),dae=gr("Ring",BF,UF),pae=gr("Sphere",zF,kF),mae=gr("Tetrahedron",HF,GF);const gae={text:{type:String,required:!0,default:"Text"},fontSrc:{type:String,required:!0},size:{type:Number,default:80},height:{type:Number,default:5},depth:{type:Number,default:1},curveSegments:{type:Number,default:12},bevelEnabled:{type:Boolean,default:!1},bevelThickness:{type:Number,default:10},bevelSize:{type:Number,default:8},bevelOffset:{type:Number,default:0},bevelSegments:{type:Number,default:5},align:{type:[Boolean,String],default:!1}};var vae=xt({extends:Kf,props:gae,setup(){return{}},created(){if(!this.fontSrc){console.error('Missing required prop: "font-src"');return}["text","size","height","curveSegments","bevelEnabled","bevelThickness","bevelSize","bevelOffset","bevelSegments","align"].forEach(t=>{tn(()=>this[t],()=>{this.font&&this.refreshGeometry()})});const e=new AP;this.loading=!0,e.load(this.fontSrc,t=>{this.loading=!1,this.font=t,this.createGeometry(),this.initMesh()})},methods:{createGeometry(){this.geometry=new N1(this.text,{font:this.font,size:this.size,height:this.height,depth:this.depth,curveSegments:this.curveSegments,bevelEnabled:this.bevelEnabled,bevelThickness:this.bevelThickness,bevelSize:this.bevelSize,bevelOffset:this.bevelOffset,bevelSegments:this.bevelSegments}),this.align==="center"&&this.geometry.center()}}}),xae=gr("Torus",VF,WF),yae=gr("TorusKnot",XF,YF),_ae=xt({extends:Kf,props:px,created(){this.createGeometry(),this.addGeometryWatchers(px)},methods:{createGeometry(){this.geometry=$F(this)},updatePoints(n){qF(this.geometry,n)}},__hmrId:"Tube"}),bae=xt({emits:["loaded"],extends:Kf,props:{src:{type:String,required:!0},width:Number,height:Number,widthSegments:{type:Number,default:1},heightSegments:{type:Number,default:1},keepSize:Boolean},setup(){return{}},created(){!this.renderer||(this.geometry=new Po(1,1,this.widthSegments,this.heightSegments),this.material=new mi({side:wo,map:this.loadTexture()}),tn(()=>this.src,this.refreshTexture),["width","height"].forEach(n=>{tn(()=>this[n],this.resize)}),this.resize(),this.keepSize&&this.renderer.onResize(this.resize))},unmounted(){var n;(n=this.renderer)==null||n.offResize(this.resize)},methods:{loadTexture(){return new Ba().load(this.src,this.onLoaded)},refreshTexture(){var n;(n=this.texture)==null||n.dispose(),this.material&&(this.material.map=this.loadTexture(),this.material.needsUpdate=!0)},onLoaded(n){this.texture=n,this.resize(),this.$emit("loaded",n)},resize(){if(!this.renderer||!this.texture)return;const n=this.renderer.size,e=this.texture.image.width,t=this.texture.image.height,i=e/t;let r=1,s=1;this.width&&this.height?(r=this.width*n.wWidth/n.width,s=this.height*n.wHeight/n.height):this.width?(r=this.width*n.wWidth/n.width,s=r/i):this.height?(s=this.height*n.wHeight/n.height,r=s*i):i>1?r=s*i:s=r/i,this.mesh&&(this.mesh.scale.x=r,this.mesh.scale.y=s)}},__hmrId:"Image"}),wae=xt({extends:Kf,props:{count:{type:Number,required:!0}},methods:{initMesh(){if(!!this.renderer){if(!this.geometry||!this.material)return console.error("Missing geometry and/or material"),!1;this.mesh=new Nf(this.geometry,this.material,this.count),this.mesh.userData.component=this,yi(this,"castShadow",this.mesh),yi(this,"receiveShadow",this.mesh),(this.onPointerEnter||this.onPointerOver||this.onPointerMove||this.onPointerLeave||this.onPointerDown||this.onPointerUp||this.onClick)&&this.renderer.three.addIntersectObject(this.mesh),this.initObject3D(this.mesh)}}},__hmrId:"InstancedMesh"}),Mae=xt({extends:qa,emits:["loaded"],props:{src:{type:String,required:!0}},setup(){return{}},created(){this.texture=new Ba().load(this.src,this.onLoaded),this.material=new b1({map:this.texture}),this.sprite=new A1(this.material),this.initObject3D(this.sprite)},unmounted(){var n,e;(n=this.texture)==null||n.dispose(),(e=this.material)==null||e.dispose()},methods:{onLoaded(){this.updateUV(),this.$emit("loaded")},updateUV(){if(!this.texture||!this.sprite)return;const n=this.texture.image.width,e=this.texture.image.height,t=n/e;let i=.5,r=.5;t>1?i=.5*t:r=.5/t;const s=this.sprite.geometry.attributes.position.array;s[0]=-i,s[1]=-r,s[5]=i,s[6]=-r,s[10]=i,s[11]=r,s[15]=-i,s[16]=r,this.sprite.geometry.attributes.position.needsUpdate=!0}},__hmrId:"Sprite"}),Sae=xt({extends:qa,setup(){return{}},provide(){return{[sp]:this}},mounted(){this.mesh=this.points=new uc(this.geometry,this.material),this.initObject3D(this.mesh)},methods:{setGeometry(n){this.geometry=n,this.mesh&&(this.mesh.geometry=n)},setMaterial(n){this.material=n,this.mesh&&(this.mesh.material=n)}}}),ZF=xt({extends:qa,emits:["load","progress","error"],props:{src:{type:String,required:!0}},data(){return{progress:0}},methods:{onLoad(n){this.$emit("load",n),this.initObject3D(n)},onProgress(n){this.progress=n.loaded/n.total,this.$emit("progress",n)},onError(n){this.$emit("error",n)}}}),Aae=xt({extends:ZF,created(){new Ose().load(this.src,e=>{this.onLoad(e.scene)},this.onProgress,this.onError)}}),Tae=xt({extends:ZF,created(){new N0e().load(this.src,e=>{this.onLoad(e)},this.onProgress,this.onError)}});const vx=Symbol("Composer");var Eae=xt({setup(){return{renderer:Nr(H0)}},provide(){return{[vx]:this}},created(){if(!this.renderer){console.error("Renderer not found");return}const n=this.renderer,e=new j0e(this.renderer.renderer);this.composer=e,this.renderer.composer=e,n.addListener("init",()=>{n.renderer.autoClear=!1,this.resize(),n.addListener("resize",this.resize)})},unmounted(){var n;(n=this.renderer)==null||n.removeListener("resize",this.resize)},methods:{addPass(n){var e;(e=this.composer)==null||e.addPass(n)},removePass(n){var e;(e=this.composer)==null||e.removePass(n)},resize(){this.composer&&this.renderer&&this.composer.setSize(this.renderer.size.width,this.renderer.size.height)}},render(){return this.$slots.default?this.$slots.default():[]},__hmrId:"EffectComposer"}),l0=xt({inject:{renderer:H0,composer:vx},emits:["ready"],setup(){return{}},created(){this.composer||console.error("Missing parent EffectComposer"),this.renderer||console.error("Missing parent Renderer")},unmounted(){var n,e,t;this.pass&&((n=this.composer)==null||n.removePass(this.pass),(t=(e=this.pass).dispose)==null||t.call(e))},methods:{initEffectPass(n){var e;this.pass=n,(e=this.composer)==null||e.addPass(n),this.$emit("ready",n)}},render(){return[]},__hmrId:"EffectPass"}),Lae=xt({extends:l0,created(){if(!this.renderer)return;if(!this.renderer.scene){console.error("Missing Scene");return}if(!this.renderer.camera){console.error("Missing Camera");return}const n=new Z0e(this.renderer.scene,this.renderer.camera);this.initEffectPass(n)},__hmrId:"RenderPass"});const QF={focus:{type:Number,default:1},aperture:{type:Number,default:.025},maxblur:{type:Number,default:.01}};var Cae=xt({extends:l0,props:QF,created(){if(!this.renderer)return;if(!this.renderer.scene){console.error("Missing Scene");return}if(!this.renderer.camera){console.error("Missing Camera");return}const n={focus:this.focus,aperture:this.aperture,maxblur:this.maxblur,width:this.renderer.size.width,height:this.renderer.size.height},e=new Q0e(this.renderer.scene,this.renderer.camera,n);Object.keys(QF).forEach(t=>{tn(()=>this[t],i=>{e.uniforms[t].value=i})}),this.initEffectPass(e)},__hmrId:"BokehPass"});const JF={noiseIntensity:{type:Number,default:.5},scanlinesIntensity:{type:Number,default:.05},scanlinesCount:{type:Number,default:4096},grayscale:{type:Number,default:0}};var Pae=xt({extends:l0,props:JF,created(){const n=new J0e(this.noiseIntensity,this.scanlinesIntensity,this.scanlinesCount,this.grayscale);Object.keys(JF).forEach(e=>{tn(()=>this[e],t=>{n.uniforms[e].value=t})}),this.initEffectPass(n)},__hmrId:"FilmPass"}),Rae=xt({extends:l0,created(){var n;const e=new Qf(K0e);(n=this.renderer)==null||n.addListener("resize",this.resize),this.initEffectPass(e)},unmounted(){var n;(n=this.renderer)==null||n.removeListener("resize",this.resize)},methods:{resize({size:n}){if(this.pass){const{resolution:e}=this.pass.material.uniforms;e.value.x=1/n.width,e.value.y=1/n.height}}},__hmrId:"FXAAPass"});const KF={shape:{type:Number,default:1},radius:{type:Number,default:4},rotateR:{type:Number,default:Math.PI/12*1},rotateG:{type:Number,default:Math.PI/12*2},rotateB:{type:Number,default:Math.PI/12*3},scatter:{type:Number,default:0}};var Fae=xt({extends:l0,props:KF,created(){if(!this.renderer)return;const n=new eoe(this.renderer.size.width,this.renderer.size.height,{});Object.keys(KF).forEach(e=>{n.uniforms[e].value=this[e],tn(()=>this[e],t=>{n.uniforms[e].value=t})}),this.initEffectPass(n)},__hmrId:"HalftonePass"}),Iae=xt({extends:l0,created(){if(!this.renderer)return;const n=new toe(this.renderer.size.width,this.renderer.size.height);this.initEffectPass(n)},__hmrId:"SMAAPass"}),Dae=xt({extends:l0,props:{options:{type:Object,default:()=>({})}},created(){if(!this.renderer)return;if(!this.renderer.scene){console.error("Missing Scene");return}if(!this.renderer.camera){console.error("Missing Camera");return}const n=new ko(this.renderer.scene,this.renderer.camera,this.renderer.size.width,this.renderer.size.height);Object.keys(this.options).forEach(e=>{n[e]=this.options[e]}),this.initEffectPass(n)},__hmrId:"SSAOPass"}),eI={uniforms:{},vertexShader:`
    varying vec2 vUv;
    void main() {
      vUv = uv;
      gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);
    }
  `,fragmentShader:`
    varying vec2 vUv;
    void main() {
      gl_FragColor = vec4(1.0, 1.0, 1.0, 1.0);
    }
  `},tI={uniforms:{tDiffuse:{value:null},blurRadius:{value:0},gradientRadius:{value:0},start:{value:new Ie},end:{value:new Ie},delta:{value:new Ie},texSize:{value:new Ie}},vertexShader:eI.vertexShader,fragmentShader:`
    uniform sampler2D tDiffuse;
    uniform float blurRadius;
    uniform float gradientRadius;
    uniform vec2 start;
    uniform vec2 end;
    uniform vec2 delta;
    uniform vec2 texSize;
    varying vec2 vUv;

    float random(vec3 scale, float seed) {
      /* use the fragment position for a different seed per-pixel */
      return fract(sin(dot(gl_FragCoord.xyz + seed, scale)) * 43758.5453 + seed);
    }

    void main() {
      vec4 color = vec4(0.0);
      float total = 0.0;

      /* randomize the lookup values to hide the fixed number of samples */
      float offset = random(vec3(12.9898, 78.233, 151.7182), 0.0);

      vec2 normal = normalize(vec2(start.y - end.y, end.x - start.x));
      float radius = smoothstep(0.0, 1.0, abs(dot(vUv * texSize - start, normal)) / gradientRadius) * blurRadius;
      for (float t = -30.0; t <= 30.0; t++) {
          float percent = (t + offset - 0.5) / 30.0;
          float weight = 1.0 - abs(percent);
          vec4 texel = texture2D(tDiffuse, vUv + delta / texSize * percent * radius);
          // vec4 texel2 = texture2D(tDiffuse, vUv + vec2(-delta.y, delta.x) / texSize * percent * radius);

          /* switch to pre-multiplied alpha to correctly blur transparent images */
          texel.rgb *= texel.a;
          // texel2.rgb *= texel2.a;

          color += texel * weight;
          total += 2.0 * weight;
      }

      gl_FragColor = color / total;

      /* switch back from pre-multiplied alpha */
      gl_FragColor.rgb /= gl_FragColor.a + 0.00001;
    }
  `};const Nae={blurRadius:{type:Number,default:10},gradientRadius:{type:Number,default:100},start:{type:Object,default:()=>({x:0,y:100})},end:{type:Object,default:()=>({x:10,y:100})}};var Oae=xt({extends:l0,props:Nae,setup(){return{uniforms1:{},uniforms2:{}}},created(){if(!this.composer)return;this.pass1=new Qf(tI),this.pass2=new Qf(tI);const n=this.uniforms1=this.pass1.uniforms,e=this.uniforms2=this.pass2.uniforms;e.blurRadius=n.blurRadius,e.gradientRadius=n.gradientRadius,e.start=n.start,e.end=n.end,e.texSize=n.texSize,yi(this,"blurRadius",n.blurRadius,"value"),yi(this,"gradientRadius",n.gradientRadius,"value"),this.updateFocusLine(),["start","end"].forEach(t=>{tn(()=>this[t],this.updateFocusLine,{deep:!0})}),this.pass1.setSize=(t,i)=>{n.texSize.value.set(t,i)},this.initEffectPass(this.pass1),this.composer.addPass(this.pass2)},unmounted(){this.composer&&this.pass2&&this.composer.removePass(this.pass2)},methods:{updateFocusLine(){this.uniforms1.start.value.copy(this.start),this.uniforms1.end.value.copy(this.end);const n=new Ie().copy(this.end).sub(this.start).normalize();this.uniforms1.delta.value.copy(n),this.uniforms2.delta.value.set(-n.y,n.x)}},__hmrId:"TiltShiftPass"});const nI={strength:{type:Number,default:1.5},radius:{type:Number,default:0},threshold:{type:Number,default:0}};var Bae=xt({extends:l0,props:nI,created(){if(!this.renderer)return;const n=new Ie(this.renderer.size.width,this.renderer.size.height),e=new Jf(n,this.strength,this.radius,this.threshold);Object.keys(nI).forEach(t=>{tn(()=>this[t],i=>{e.uniforms[t].value=i})}),this.initEffectPass(e)},__hmrId:"UnrealBloomPass"}),Uae={uniforms:{tDiffuse:{value:null},center:{value:new Ie(.5,.5)},strength:{value:0}},vertexShader:eI.vertexShader,fragmentShader:`
    uniform sampler2D tDiffuse;
    uniform vec2 center;
    uniform float strength;
    varying vec2 vUv;

    float random(vec3 scale, float seed) {
      /* use the fragment position for a different seed per-pixel */
      return fract(sin(dot(gl_FragCoord.xyz + seed, scale)) * 43758.5453 + seed);
    }
    
    void main() {
      vec4 color = vec4(0.0);
      float total = 0.0;
      vec2 toCenter = center - vUv;
      
      /* randomize the lookup values to hide the fixed number of samples */
      float offset = random(vec3(12.9898, 78.233, 151.7182), 0.0);
      
      for (float t = 0.0; t <= 40.0; t++) {
        float percent = (t + offset) / 40.0;
        float weight = 4.0 * (percent - percent * percent);
        vec4 texel = texture2D(tDiffuse, vUv + toCenter * percent * strength);

        /* switch to pre-multiplied alpha to correctly blur transparent images */
        texel.rgb *= texel.a;

        color += texel * weight;
        total += weight;
      }

      gl_FragColor = color / total;

      /* switch back from pre-multiplied alpha */
      gl_FragColor.rgb /= gl_FragColor.a + 0.00001;
    }
  `},zae=xt({extends:l0,props:{center:{type:Object,default:()=>({x:.5,y:.5})},strength:{type:Number,default:.5}},created(){const n=new Qf(Uae);yi(this,"center",n.uniforms.center,"value"),yi(this,"strength",n.uniforms.strength,"value"),this.initEffectPass(n)},__hmrId:"ZoomBlurPass"}),kae=Object.freeze({__proto__:null,Renderer:uoe,RendererInjectionKey:H0,OrthographicCamera:foe,PerspectiveCamera:gF,Camera:gF,Group:poe,Scene:hoe,SceneInjectionKey:dx,Object3D:qa,Raycaster:moe,CubeCamera:goe,BufferGeometry:I9,BoxGeometry:voe,CircleGeometry:xoe,ConeGeometry:yoe,CylinderGeometry:_oe,DodecahedronGeometry:boe,IcosahedronGeometry:woe,LatheGeometry:Moe,OctahedronGeometry:Soe,PlaneGeometry:Aoe,PolyhedronGeometry:Toe,RingGeometry:Eoe,SphereGeometry:Loe,TetrahedronGeometry:Coe,TorusGeometry:Poe,TorusKnotGeometry:Roe,TubeGeometry:Foe,CustomGeometry:Ioe,AmbientLight:Doe,DirectionalLight:Noe,HemisphereLight:Ooe,PointLight:Boe,RectAreaLight:Uoe,SpotLight:zoe,Material:gx,BasicMaterial:koe,LambertMaterial:Hoe,PhongMaterial:Goe,PhysicalMaterial:Voe,PointsMaterial:Woe,StandardMaterial:Xoe,ToonMaterial:Yoe,MaterialInjectionKey:mx,MatcapMaterial:$oe,ShaderMaterial:Zoe,SubSurfaceMaterial:tae,Texture:jF,CubeTexture:nae,Mesh:Kf,MeshInjectionKey:sp,Box:iae,Circle:rae,Cone:sae,Cylinder:oae,Dodecahedron:aae,Icosahedron:lae,Lathe:cae,Octahedron:uae,Plane:fae,Polyhedron:hae,Ring:dae,Sphere:pae,Tetrahedron:mae,Text:vae,Torus:xae,TorusKnot:yae,Tube:_ae,Image:bae,InstancedMesh:wae,Sprite:Mae,Points:Sae,GltfModel:Aae,FbxModel:Tae,EffectComposer:Eae,ComposerInjectionKey:vx,RenderPass:Lae,EffectPass:l0,BokehPass:Cae,FilmPass:Pae,FXAAPass:Rae,HalftonePass:Fae,SMAAPass:Iae,SSAOPass:Dae,TiltShiftPass:Oae,UnrealBloomPass:Bae,ZoomBlurPass:zae,applyObjectProps:hx,bindObjectProp:$a,setFromProp:ip,bindProps:noe,bindProp:yi,propsValues:R9,lerp:ioe,limit:roe,getMatcapUrl:dF});const Hae={install(n){["Camera","OrthographicCamera","PerspectiveCamera","Raycaster","Renderer","Scene","Group","CubeCamera","AmbientLight","DirectionalLight","HemisphereLight","PointLight","RectAreaLight","SpotLight","BasicMaterial","LambertMaterial","MatcapMaterial","PhongMaterial","PhysicalMaterial","PointsMaterial","ShaderMaterial","StandardMaterial","SubSurfaceMaterial","ToonMaterial","Texture","CubeTexture","BufferGeometry","Mesh","Box","BoxGeometry","Circle","CircleGeometry","Cone","ConeGeometry","Cylinder","CylinderGeometry","Dodecahedron","DodecahedronGeometry","Icosahedron","IcosahedronGeometry","Lathe","LatheGeometry","Octahedron","OctahedronGeometry","Plane","PlaneGeometry","Polyhedron","PolyhedronGeometry","Ring","RingGeometry","Sphere","SphereGeometry","Tetrahedron","TetrahedronGeometry","Text","Torus","TorusGeometry","TorusKnot","TorusKnotGeometry","Tube","TubeGeometry","Image","InstancedMesh","Points","Sprite","FbxModel","GltfModel","BokehPass","EffectComposer","FilmPass","FXAAPass","HalftonePass","RenderPass","SAOPass","SMAAPass","SSAOPass","TiltShiftPass","UnrealBloomPass","ZoomBlurPass"].forEach(t=>{n.component(t,kae[t])})}};function Pwe(n){return _J(n).use(Hae)}var op={Linear:{None:function(n){return n}},Quadratic:{In:function(n){return n*n},Out:function(n){return n*(2-n)},InOut:function(n){return(n*=2)<1?.5*n*n:-.5*(--n*(n-2)-1)}},Cubic:{In:function(n){return n*n*n},Out:function(n){return--n*n*n+1},InOut:function(n){return(n*=2)<1?.5*n*n*n:.5*((n-=2)*n*n+2)}},Quartic:{In:function(n){return n*n*n*n},Out:function(n){return 1- --n*n*n*n},InOut:function(n){return(n*=2)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2)}},Quintic:{In:function(n){return n*n*n*n*n},Out:function(n){return--n*n*n*n*n+1},InOut:function(n){return(n*=2)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2)}},Sinusoidal:{In:function(n){return 1-Math.cos(n*Math.PI/2)},Out:function(n){return Math.sin(n*Math.PI/2)},InOut:function(n){return .5*(1-Math.cos(Math.PI*n))}},Exponential:{In:function(n){return n===0?0:Math.pow(1024,n-1)},Out:function(n){return n===1?1:1-Math.pow(2,-10*n)},InOut:function(n){return n===0?0:n===1?1:(n*=2)<1?.5*Math.pow(1024,n-1):.5*(-Math.pow(2,-10*(n-1))+2)}},Circular:{In:function(n){return 1-Math.sqrt(1-n*n)},Out:function(n){return Math.sqrt(1- --n*n)},InOut:function(n){return(n*=2)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1)}},Elastic:{In:function(n){return n===0?0:n===1?1:-Math.pow(2,10*(n-1))*Math.sin((n-1.1)*5*Math.PI)},Out:function(n){return n===0?0:n===1?1:Math.pow(2,-10*n)*Math.sin((n-.1)*5*Math.PI)+1},InOut:function(n){return n===0?0:n===1?1:(n*=2,n<1?-.5*Math.pow(2,10*(n-1))*Math.sin((n-1.1)*5*Math.PI):.5*Math.pow(2,-10*(n-1))*Math.sin((n-1.1)*5*Math.PI)+1)}},Back:{In:function(n){var e=1.70158;return n*n*((e+1)*n-e)},Out:function(n){var e=1.70158;return--n*n*((e+1)*n+e)+1},InOut:function(n){var e=1.70158*1.525;return(n*=2)<1?.5*(n*n*((e+1)*n-e)):.5*((n-=2)*n*((e+1)*n+e)+2)}},Bounce:{In:function(n){return 1-op.Bounce.Out(1-n)},Out:function(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375},InOut:function(n){return n<.5?op.Bounce.In(n*2)*.5:op.Bounce.Out(n*2-1)*.5+.5}}},ap;typeof self=="undefined"&&typeof process!="undefined"&&process.hrtime?ap=function(){var n=process.hrtime();return n[0]*1e3+n[1]/1e6}:typeof self!="undefined"&&self.performance!==void 0&&self.performance.now!==void 0?ap=self.performance.now.bind(self.performance):Date.now!==void 0?ap=Date.now:ap=function(){return new Date().getTime()};var zc=ap,iI=function(){function n(){this._tweens={},this._tweensAddedDuringUpdate={}}return n.prototype.getAll=function(){var e=this;return Object.keys(this._tweens).map(function(t){return e._tweens[t]})},n.prototype.removeAll=function(){this._tweens={}},n.prototype.add=function(e){this._tweens[e.getId()]=e,this._tweensAddedDuringUpdate[e.getId()]=e},n.prototype.remove=function(e){delete this._tweens[e.getId()],delete this._tweensAddedDuringUpdate[e.getId()]},n.prototype.update=function(e,t){e===void 0&&(e=zc()),t===void 0&&(t=!1);var i=Object.keys(this._tweens);if(i.length===0)return!1;for(;i.length>0;){this._tweensAddedDuringUpdate={};for(var r=0;r<i.length;r++){var s=this._tweens[i[r]],o=!t;s&&s.update(e,o)===!1&&!t&&delete this._tweens[i[r]]}i=Object.keys(this._tweensAddedDuringUpdate)}return!0},n}(),th={Linear:function(n,e){var t=n.length-1,i=t*e,r=Math.floor(i),s=th.Utils.Linear;return e<0?s(n[0],n[1],i):e>1?s(n[t],n[t-1],t-i):s(n[r],n[r+1>t?t:r+1],i-r)},Bezier:function(n,e){for(var t=0,i=n.length-1,r=Math.pow,s=th.Utils.Bernstein,o=0;o<=i;o++)t+=r(1-e,i-o)*r(e,o)*n[o]*s(i,o);return t},CatmullRom:function(n,e){var t=n.length-1,i=t*e,r=Math.floor(i),s=th.Utils.CatmullRom;return n[0]===n[t]?(e<0&&(r=Math.floor(i=t*(1+e))),s(n[(r-1+t)%t],n[r],n[(r+1)%t],n[(r+2)%t],i-r)):e<0?n[0]-(s(n[0],n[0],n[1],n[1],-i)-n[0]):e>1?n[t]-(s(n[t],n[t],n[t-1],n[t-1],i-t)-n[t]):s(n[r?r-1:0],n[r],n[t<r+1?t:r+1],n[t<r+2?t:r+2],i-r)},Utils:{Linear:function(n,e,t){return(e-n)*t+n},Bernstein:function(n,e){var t=th.Utils.Factorial;return t(n)/t(e)/t(n-e)},Factorial:function(){var n=[1];return function(e){var t=1;if(n[e])return n[e];for(var i=e;i>1;i--)t*=i;return n[e]=t,t}}(),CatmullRom:function(n,e,t,i,r){var s=(t-n)*.5,o=(i-e)*.5,a=r*r,l=r*a;return(2*e-2*t+s+o)*l+(-3*e+3*t-2*s-o)*a+s*r+e}}},xx=function(){function n(){}return n.nextId=function(){return n._nextId++},n._nextId=0,n}(),rI=new iI,Gae=function(){function n(e,t){t===void 0&&(t=rI),this._object=e,this._group=t,this._isPaused=!1,this._pauseStart=0,this._valuesStart={},this._valuesEnd={},this._valuesStartRepeat={},this._duration=1e3,this._initialRepeat=0,this._repeat=0,this._yoyo=!1,this._isPlaying=!1,this._reversed=!1,this._delayTime=0,this._startTime=0,this._easingFunction=op.Linear.None,this._interpolationFunction=th.Linear,this._chainedTweens=[],this._onStartCallbackFired=!1,this._id=xx.nextId(),this._isChainStopped=!1,this._goToEnd=!1}return n.prototype.getId=function(){return this._id},n.prototype.isPlaying=function(){return this._isPlaying},n.prototype.isPaused=function(){return this._isPaused},n.prototype.to=function(e,t){return this._valuesEnd=Object.create(e),t!==void 0&&(this._duration=t),this},n.prototype.duration=function(e){return this._duration=e,this},n.prototype.start=function(e){if(this._isPlaying)return this;if(this._group&&this._group.add(this),this._repeat=this._initialRepeat,this._reversed){this._reversed=!1;for(var t in this._valuesStartRepeat)this._swapEndStartRepeatValues(t),this._valuesStart[t]=this._valuesStartRepeat[t]}return this._isPlaying=!0,this._isPaused=!1,this._onStartCallbackFired=!1,this._isChainStopped=!1,this._startTime=e!==void 0?typeof e=="string"?zc()+parseFloat(e):e:zc(),this._startTime+=this._delayTime,this._setupProperties(this._object,this._valuesStart,this._valuesEnd,this._valuesStartRepeat),this},n.prototype._setupProperties=function(e,t,i,r){for(var s in i){var o=e[s],a=Array.isArray(o),l=a?"array":typeof o,c=!a&&Array.isArray(i[s]);if(!(l==="undefined"||l==="function")){if(c){var u=i[s];if(u.length===0)continue;u=u.map(this._handleRelativeValue.bind(this,o)),i[s]=[o].concat(u)}if((l==="object"||a)&&o&&!c){t[s]=a?[]:{};for(var f in o)t[s][f]=o[f];r[s]=a?[]:{},this._setupProperties(o,t[s],i[s],r[s])}else typeof t[s]=="undefined"&&(t[s]=o),a||(t[s]*=1),c?r[s]=i[s].slice().reverse():r[s]=t[s]||0}}},n.prototype.stop=function(){return this._isChainStopped||(this._isChainStopped=!0,this.stopChainedTweens()),this._isPlaying?(this._group&&this._group.remove(this),this._isPlaying=!1,this._isPaused=!1,this._onStopCallback&&this._onStopCallback(this._object),this):this},n.prototype.end=function(){return this._goToEnd=!0,this.update(1/0),this},n.prototype.pause=function(e){return e===void 0&&(e=zc()),this._isPaused||!this._isPlaying?this:(this._isPaused=!0,this._pauseStart=e,this._group&&this._group.remove(this),this)},n.prototype.resume=function(e){return e===void 0&&(e=zc()),!this._isPaused||!this._isPlaying?this:(this._isPaused=!1,this._startTime+=e-this._pauseStart,this._pauseStart=0,this._group&&this._group.add(this),this)},n.prototype.stopChainedTweens=function(){for(var e=0,t=this._chainedTweens.length;e<t;e++)this._chainedTweens[e].stop();return this},n.prototype.group=function(e){return this._group=e,this},n.prototype.delay=function(e){return this._delayTime=e,this},n.prototype.repeat=function(e){return this._initialRepeat=e,this._repeat=e,this},n.prototype.repeatDelay=function(e){return this._repeatDelayTime=e,this},n.prototype.yoyo=function(e){return this._yoyo=e,this},n.prototype.easing=function(e){return this._easingFunction=e,this},n.prototype.interpolation=function(e){return this._interpolationFunction=e,this},n.prototype.chain=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return this._chainedTweens=e,this},n.prototype.onStart=function(e){return this._onStartCallback=e,this},n.prototype.onUpdate=function(e){return this._onUpdateCallback=e,this},n.prototype.onRepeat=function(e){return this._onRepeatCallback=e,this},n.prototype.onComplete=function(e){return this._onCompleteCallback=e,this},n.prototype.onStop=function(e){return this._onStopCallback=e,this},n.prototype.update=function(e,t){if(e===void 0&&(e=zc()),t===void 0&&(t=!0),this._isPaused)return!0;var i,r,s=this._startTime+this._duration;if(!this._goToEnd&&!this._isPlaying){if(e>s)return!1;t&&this.start(e)}if(this._goToEnd=!1,e<this._startTime)return!0;this._onStartCallbackFired===!1&&(this._onStartCallback&&this._onStartCallback(this._object),this._onStartCallbackFired=!0),r=(e-this._startTime)/this._duration,r=this._duration===0||r>1?1:r;var o=this._easingFunction(r);if(this._updateProperties(this._object,this._valuesStart,this._valuesEnd,o),this._onUpdateCallback&&this._onUpdateCallback(this._object,r),r===1)if(this._repeat>0){isFinite(this._repeat)&&this._repeat--;for(i in this._valuesStartRepeat)!this._yoyo&&typeof this._valuesEnd[i]=="string"&&(this._valuesStartRepeat[i]=this._valuesStartRepeat[i]+parseFloat(this._valuesEnd[i])),this._yoyo&&this._swapEndStartRepeatValues(i),this._valuesStart[i]=this._valuesStartRepeat[i];return this._yoyo&&(this._reversed=!this._reversed),this._repeatDelayTime!==void 0?this._startTime=e+this._repeatDelayTime:this._startTime=e+this._delayTime,this._onRepeatCallback&&this._onRepeatCallback(this._object),!0}else{this._onCompleteCallback&&this._onCompleteCallback(this._object);for(var a=0,l=this._chainedTweens.length;a<l;a++)this._chainedTweens[a].start(this._startTime+this._duration);return this._isPlaying=!1,!1}return!0},n.prototype._updateProperties=function(e,t,i,r){for(var s in i)if(t[s]!==void 0){var o=t[s]||0,a=i[s],l=Array.isArray(e[s]),c=Array.isArray(a),u=!l&&c;u?e[s]=this._interpolationFunction(a,r):typeof a=="object"&&a?this._updateProperties(e[s],o,a,r):(a=this._handleRelativeValue(o,a),typeof a=="number"&&(e[s]=o+(a-o)*r))}},n.prototype._handleRelativeValue=function(e,t){return typeof t!="string"?t:t.charAt(0)==="+"||t.charAt(0)==="-"?e+parseFloat(t):parseFloat(t)},n.prototype._swapEndStartRepeatValues=function(e){var t=this._valuesStartRepeat[e],i=this._valuesEnd[e];typeof i=="string"?this._valuesStartRepeat[e]=this._valuesStartRepeat[e]+parseFloat(i):this._valuesStartRepeat[e]=this._valuesEnd[e],this._valuesEnd[e]=t},n}(),Vae="18.6.4",Wae=xx.nextId,G0=rI,Xae=G0.getAll.bind(G0),Yae=G0.removeAll.bind(G0),$ae=G0.add.bind(G0),qae=G0.remove.bind(G0),jae=G0.update.bind(G0),Rwe={Easing:op,Group:iI,Interpolation:th,now:zc,Sequence:xx,nextId:Wae,Tween:Gae,VERSION:Vae,getAll:Xae,removeAll:Yae,add:$ae,remove:qae,update:jae};function Fwe(n){const{camera:e,resetPosition:t=new Z(0,0,0)}=n,i=new Ev,r=t.clone(),s=new Ts(new Z(0,0,1),0);return{position:r,updatePosition:l=>{i.setFromCamera(l,e),e.getWorldDirection(s.normal),i.ray.intersectPlane(s,r)},intersect:(l,c,u=!1)=>(i.setFromCamera(l,e),i.intersectObjects(c,u))}}var Zae="6.7.0";function oi(n,e){return n<e?-1:n>e?1:n>=e?0:NaN}function D9(n){let e=n,t=n;n.length===1&&(e=(o,a)=>n(o)-a,t=Qae(n));function i(o,a,l,c){for(l==null&&(l=0),c==null&&(c=o.length);l<c;){const u=l+c>>>1;t(o[u],a)<0?l=u+1:c=u}return l}function r(o,a,l,c){for(l==null&&(l=0),c==null&&(c=o.length);l<c;){const u=l+c>>>1;t(o[u],a)>0?c=u:l=u+1}return l}function s(o,a,l,c){l==null&&(l=0),c==null&&(c=o.length);const u=i(o,a,l,c-1);return u>l&&e(o[u-1],a)>-e(o[u],a)?u-1:u}return{left:i,center:s,right:r}}function Qae(n){return(e,t)=>oi(n(e),t)}function sI(n){return n===null?NaN:+n}function*Jae(n,e){if(e===void 0)for(let t of n)t!=null&&(t=+t)>=t&&(yield t);else{let t=-1;for(let i of n)(i=e(i,++t,n))!=null&&(i=+i)>=i&&(yield i)}}const oI=D9(oi),aI=oI.right,Kae=oI.left,ele=D9(sI).center;var kc=aI;function N9(n,e){let t=0;if(e===void 0)for(let i of n)i!=null&&(i=+i)>=i&&++t;else{let i=-1;for(let r of n)(r=e(r,++i,n))!=null&&(r=+r)>=r&&++t}return t}function tle(n){return n.length|0}function nle(n){return!(n>0)}function ile(n){return typeof n!="object"||"length"in n?n:Array.from(n)}function rle(n){return e=>n(...e)}function sle(...n){const e=typeof n[n.length-1]=="function"&&rle(n.pop());n=n.map(ile);const t=n.map(tle),i=n.length-1,r=new Array(i+1).fill(0),s=[];if(i<0||t.some(nle))return s;for(;;){s.push(r.map((a,l)=>n[l][a]));let o=i;for(;++r[o]===t[o];){if(o===0)return e?s.map(e):s;r[o--]=0}}}function ole(n,e){var t=0,i=0;return Float64Array.from(n,e===void 0?r=>t+=+r||0:r=>t+=+e(r,i++,n)||0)}function ale(n,e){return e<n?-1:e>n?1:e>=n?0:NaN}function lI(n,e){let t=0,i,r=0,s=0;if(e===void 0)for(let o of n)o!=null&&(o=+o)>=o&&(i=o-r,r+=i/++t,s+=i*(o-r));else{let o=-1;for(let a of n)(a=e(a,++o,n))!=null&&(a=+a)>=a&&(i=a-r,r+=i/++t,s+=i*(a-r))}if(t>1)return s/(t-1)}function cI(n,e){const t=lI(n,e);return t&&Math.sqrt(t)}function lp(n,e){let t,i;if(e===void 0)for(const r of n)r!=null&&(t===void 0?r>=r&&(t=i=r):(t>r&&(t=r),i<r&&(i=r)));else{let r=-1;for(let s of n)(s=e(s,++r,n))!=null&&(t===void 0?s>=s&&(t=i=s):(t>s&&(t=s),i<s&&(i=s)))}return[t,i]}class ui{constructor(){this._partials=new Float64Array(32),this._n=0}add(e){const t=this._partials;let i=0;for(let r=0;r<this._n&&r<32;r++){const s=t[r],o=e+s,a=Math.abs(e)<Math.abs(s)?e-(o-s):s-(o-e);a&&(t[i++]=a),e=o}return t[i]=e,this._n=i+1,this}valueOf(){const e=this._partials;let t=this._n,i,r,s,o=0;if(t>0){for(o=e[--t];t>0&&(i=o,r=e[--t],o=i+r,s=r-(o-i),!s););t>0&&(s<0&&e[t-1]<0||s>0&&e[t-1]>0)&&(r=s*2,i=o+r,r==i-o&&(o=i))}return o}}function lle(n,e){const t=new ui;if(e===void 0)for(let i of n)(i=+i)&&t.add(i);else{let i=-1;for(let r of n)(r=+e(r,++i,n))&&t.add(r)}return+t}function cle(n,e){const t=new ui;let i=-1;return Float64Array.from(n,e===void 0?r=>t.add(+r||0):r=>t.add(+e(r,++i,n)||0))}class uI extends Map{constructor(e,t=dI){super();if(Object.defineProperties(this,{_intern:{value:new Map},_key:{value:t}}),e!=null)for(const[i,r]of e)this.set(i,r)}get(e){return super.get(yx(this,e))}has(e){return super.has(yx(this,e))}set(e,t){return super.set(fI(this,e),t)}delete(e){return super.delete(hI(this,e))}}class ule extends Set{constructor(e,t=dI){super();if(Object.defineProperties(this,{_intern:{value:new Map},_key:{value:t}}),e!=null)for(const i of e)this.add(i)}has(e){return super.has(yx(this,e))}add(e){return super.add(fI(this,e))}delete(e){return super.delete(hI(this,e))}}function yx({_intern:n,_key:e},t){const i=e(t);return n.has(i)?n.get(i):t}function fI({_intern:n,_key:e},t){const i=e(t);return n.has(i)?n.get(i):(n.set(i,t),t)}function hI({_intern:n,_key:e},t){const i=e(t);return n.has(i)&&(t=n.get(t),n.delete(i)),t}function dI(n){return n!==null&&typeof n=="object"?n.valueOf():n}function nh(n){return n}function pI(n,...e){return ih(n,nh,nh,e)}function fle(n,...e){return ih(n,Array.from,nh,e)}function mI(n,e,...t){return ih(n,nh,e,t)}function hle(n,e,...t){return ih(n,Array.from,e,t)}function dle(n,...e){return ih(n,nh,gI,e)}function ple(n,...e){return ih(n,Array.from,gI,e)}function gI(n){if(n.length!==1)throw new Error("duplicate key");return n[0]}function ih(n,e,t,i){return function r(s,o){if(o>=i.length)return t(s);const a=new uI,l=i[o++];let c=-1;for(const u of s){const f=l(u,++c,s),h=a.get(f);h?h.push(u):a.set(f,[u])}for(const[u,f]of a)a.set(u,r(f,o));return e(a)}(n,0)}function vI(n,e){return Array.from(e,t=>n[t])}function _x(n,...e){if(typeof n[Symbol.iterator]!="function")throw new TypeError("values is not iterable");n=Array.from(n);let[t=oi]=e;if(t.length===1||e.length>1){const i=Uint32Array.from(n,(r,s)=>s);return e.length>1?(e=e.map(r=>n.map(r)),i.sort((r,s)=>{for(const o of e){const a=oi(o[r],o[s]);if(a)return a}})):(t=n.map(t),i.sort((r,s)=>oi(t[r],t[s]))),vI(n,i)}return n.sort(t)}function mle(n,e,t){return(e.length===1?_x(mI(n,e,t),([i,r],[s,o])=>oi(r,o)||oi(i,s)):_x(pI(n,t),([i,r],[s,o])=>e(r,o)||oi(i,s))).map(([i])=>i)}var gle=Array.prototype,vle=gle.slice;function O9(n){return function(){return n}}var bx=Math.sqrt(50),wx=Math.sqrt(10),Mx=Math.sqrt(2);function cp(n,e,t){var i,r=-1,s,o,a;if(e=+e,n=+n,t=+t,n===e&&t>0)return[n];if((i=e<n)&&(s=n,n=e,e=s),(a=up(n,e,t))===0||!isFinite(a))return[];if(a>0){let l=Math.round(n/a),c=Math.round(e/a);for(l*a<n&&++l,c*a>e&&--c,o=new Array(s=c-l+1);++r<s;)o[r]=(l+r)*a}else{a=-a;let l=Math.round(n*a),c=Math.round(e*a);for(l/a<n&&++l,c/a>e&&--c,o=new Array(s=c-l+1);++r<s;)o[r]=(l+r)/a}return i&&o.reverse(),o}function up(n,e,t){var i=(e-n)/Math.max(0,t),r=Math.floor(Math.log(i)/Math.LN10),s=i/Math.pow(10,r);return r>=0?(s>=bx?10:s>=wx?5:s>=Mx?2:1)*Math.pow(10,r):-Math.pow(10,-r)/(s>=bx?10:s>=wx?5:s>=Mx?2:1)}function rh(n,e,t){var i=Math.abs(e-n)/Math.max(0,t),r=Math.pow(10,Math.floor(Math.log(i)/Math.LN10)),s=i/r;return s>=bx?r*=10:s>=wx?r*=5:s>=Mx&&(r*=2),e<n?-r:r}function xI(n,e,t){let i;for(;;){const r=up(n,e,t);if(r===i||r===0||!isFinite(r))return[n,e];r>0?(n=Math.floor(n/r)*r,e=Math.ceil(e/r)*r):r<0&&(n=Math.ceil(n*r)/r,e=Math.floor(e*r)/r),i=r}}function Sx(n){return Math.ceil(Math.log(N9(n))/Math.LN2)+1}function yI(){var n=nh,e=lp,t=Sx;function i(r){Array.isArray(r)||(r=Array.from(r));var s,o=r.length,a,l=new Array(o);for(s=0;s<o;++s)l[s]=n(r[s],s,r);var c=e(l),u=c[0],f=c[1],h=t(l,u,f);if(!Array.isArray(h)){const _=f,g=+h;if(e===lp&&([u,f]=xI(u,f,g)),h=cp(u,f,g),h[h.length-1]>=f)if(_>=f&&e===lp){const x=up(u,f,g);isFinite(x)&&(x>0?f=(Math.floor(f/x)+1)*x:x<0&&(f=(Math.ceil(f*-x)+1)/-x))}else h.pop()}for(var d=h.length;h[0]<=u;)h.shift(),--d;for(;h[d-1]>f;)h.pop(),--d;var m=new Array(d+1),v;for(s=0;s<=d;++s)v=m[s]=[],v.x0=s>0?h[s-1]:u,v.x1=s<d?h[s]:f;for(s=0;s<o;++s)a=l[s],u<=a&&a<=f&&m[kc(h,a,0,d)].push(r[s]);return m}return i.value=function(r){return arguments.length?(n=typeof r=="function"?r:O9(r),i):n},i.domain=function(r){return arguments.length?(e=typeof r=="function"?r:O9([r[0],r[1]]),i):e},i.thresholds=function(r){return arguments.length?(t=typeof r=="function"?r:Array.isArray(r)?O9(vle.call(r)):O9(r),i):t},i}function B9(n,e){let t;if(e===void 0)for(const i of n)i!=null&&(t<i||t===void 0&&i>=i)&&(t=i);else{let i=-1;for(let r of n)(r=e(r,++i,n))!=null&&(t<r||t===void 0&&r>=r)&&(t=r)}return t}function U9(n,e){let t;if(e===void 0)for(const i of n)i!=null&&(t>i||t===void 0&&i>=i)&&(t=i);else{let i=-1;for(let r of n)(r=e(r,++i,n))!=null&&(t>r||t===void 0&&r>=r)&&(t=r)}return t}function Ax(n,e,t=0,i=n.length-1,r=oi){for(;i>t;){if(i-t>600){const l=i-t+1,c=e-t+1,u=Math.log(l),f=.5*Math.exp(2*u/3),h=.5*Math.sqrt(u*f*(l-f)/l)*(c-l/2<0?-1:1),d=Math.max(t,Math.floor(e-c*f/l+h)),m=Math.min(i,Math.floor(e+(l-c)*f/l+h));Ax(n,e,d,m,r)}const s=n[e];let o=t,a=i;for(fp(n,t,e),r(n[i],s)>0&&fp(n,t,i);o<a;){for(fp(n,o,a),++o,--a;r(n[o],s)<0;)++o;for(;r(n[a],s)>0;)--a}r(n[t],s)===0?fp(n,t,a):(++a,fp(n,a,i)),a<=e&&(t=a+1),e<=a&&(i=a-1)}return n}function fp(n,e,t){const i=n[e];n[e]=n[t],n[t]=i}function hp(n,e,t){if(n=Float64Array.from(Jae(n,t)),!!(i=n.length)){if((e=+e)<=0||i<2)return U9(n);if(e>=1)return B9(n);var i,r=(i-1)*e,s=Math.floor(r),o=B9(Ax(n,s).subarray(0,s+1)),a=U9(n.subarray(s+1));return o+(a-o)*(r-s)}}function _I(n,e,t=sI){if(!!(i=n.length)){if((e=+e)<=0||i<2)return+t(n[0],0,n);if(e>=1)return+t(n[i-1],i-1,n);var i,r=(i-1)*e,s=Math.floor(r),o=+t(n[s],s,n),a=+t(n[s+1],s+1,n);return o+(a-o)*(r-s)}}function xle(n,e,t){return Math.ceil((t-e)/(2*(hp(n,.75)-hp(n,.25))*Math.pow(N9(n),-1/3)))}function yle(n,e,t){return Math.ceil((t-e)/(3.5*cI(n)*Math.pow(N9(n),-1/3)))}function bI(n,e){let t,i=-1,r=-1;if(e===void 0)for(const s of n)++r,s!=null&&(t<s||t===void 0&&s>=s)&&(t=s,i=r);else for(let s of n)(s=e(s,++r,n))!=null&&(t<s||t===void 0&&s>=s)&&(t=s,i=r);return i}function _le(n,e){let t=0,i=0;if(e===void 0)for(let r of n)r!=null&&(r=+r)>=r&&(++t,i+=r);else{let r=-1;for(let s of n)(s=e(s,++r,n))!=null&&(s=+s)>=s&&(++t,i+=s)}if(t)return i/t}function ble(n,e){return hp(n,.5,e)}function*wle(n){for(const e of n)yield*e}function Tx(n){return Array.from(wle(n))}function wI(n,e){let t,i=-1,r=-1;if(e===void 0)for(const s of n)++r,s!=null&&(t>s||t===void 0&&s>=s)&&(t=s,i=r);else for(let s of n)(s=e(s,++r,n))!=null&&(t>s||t===void 0&&s>=s)&&(t=s,i=r);return i}function Mle(n,e=Sle){const t=[];let i,r=!1;for(const s of n)r&&t.push(e(i,s)),i=s,r=!0;return t}function Sle(n,e){return[n,e]}function V0(n,e,t){n=+n,e=+e,t=(r=arguments.length)<2?(e=n,n=0,1):r<3?1:+t;for(var i=-1,r=Math.max(0,Math.ceil((e-n)/t))|0,s=new Array(r);++i<r;)s[i]=n+i*t;return s}function Ale(n,e=oi){let t,i=!1;if(e.length===1){let r;for(const s of n){const o=e(s);(i?oi(o,r)<0:oi(o,o)===0)&&(t=s,r=o,i=!0)}}else for(const r of n)(i?e(r,t)<0:e(r,r)===0)&&(t=r,i=!0);return t}function MI(n,e=oi){if(e.length===1)return wI(n,e);let t,i=-1,r=-1;for(const s of n)++r,(i<0?e(s,s)===0:e(s,t)<0)&&(t=s,i=r);return i}function Tle(n,e=oi){let t,i=!1;if(e.length===1){let r;for(const s of n){const o=e(s);(i?oi(o,r)>0:oi(o,o)===0)&&(t=s,r=o,i=!0)}}else for(const r of n)(i?e(r,t)>0:e(r,r)===0)&&(t=r,i=!0);return t}function Ele(n,e=oi){if(e.length===1)return bI(n,e);let t,i=-1,r=-1;for(const s of n)++r,(i<0?e(s,s)===0:e(s,t)>0)&&(t=s,i=r);return i}function Lle(n,e){const t=MI(n,e);return t<0?void 0:t}var Cle=SI(Math.random);function SI(n){return function(t,i=0,r=t.length){let s=r-(i=+i);for(;s;){const o=n()*s--|0,a=t[s+i];t[s+i]=t[o+i],t[o+i]=a}return t}}function Ple(n,e){let t=0;if(e===void 0)for(let i of n)(i=+i)&&(t+=i);else{let i=-1;for(let r of n)(r=+e(r,++i,n))&&(t+=r)}return t}function AI(n){if(!(s=n.length))return[];for(var e=-1,t=U9(n,Rle),i=new Array(t);++e<t;)for(var r=-1,s,o=i[e]=new Array(s);++r<s;)o[r]=n[r][e];return i}function Rle(n){return n.length}function Fle(){return AI(arguments)}function Ile(n,e){if(typeof e!="function")throw new TypeError("test is not a function");let t=-1;for(const i of n)if(!e(i,++t,n))return!1;return!0}function Dle(n,e){if(typeof e!="function")throw new TypeError("test is not a function");let t=-1;for(const i of n)if(e(i,++t,n))return!0;return!1}function Nle(n,e){if(typeof e!="function")throw new TypeError("test is not a function");const t=[];let i=-1;for(const r of n)e(r,++i,n)&&t.push(r);return t}function Ole(n,e){if(typeof n[Symbol.iterator]!="function")throw new TypeError("values is not iterable");if(typeof e!="function")throw new TypeError("mapper is not a function");return Array.from(n,(t,i)=>e(t,i,n))}function Ble(n,e,t){if(typeof e!="function")throw new TypeError("reducer is not a function");const i=n[Symbol.iterator]();let r,s,o=-1;if(arguments.length<3){if({done:r,value:t}=i.next(),r)return;++o}for(;{done:r,value:s}=i.next(),!r;)t=e(t,s,++o,n);return t}function Ule(n){if(typeof n[Symbol.iterator]!="function")throw new TypeError("values is not iterable");return Array.from(n).reverse()}function zle(n,...e){n=new Set(n);for(const t of e)for(const i of t)n.delete(i);return n}function kle(n,e){const t=e[Symbol.iterator](),i=new Set;for(const r of n){if(i.has(r))return!1;let s,o;for(;({value:s,done:o}=t.next())&&!o;){if(Object.is(r,s))return!1;i.add(s)}}return!0}function Hle(n){return n instanceof Set?n:new Set(n)}function Gle(n,...e){n=new Set(n),e=e.map(Hle);e:for(const t of n)for(const i of e)if(!i.has(t)){n.delete(t);continue e}return n}function TI(n,e){const t=n[Symbol.iterator](),i=new Set;for(const r of e){if(i.has(r))continue;let s,o;for(;{value:s,done:o}=t.next();){if(o)return!1;if(i.add(s),Object.is(r,s))break}}return!0}function Vle(n,e){return TI(e,n)}function Wle(...n){const e=new Set;for(const t of n)for(const i of t)e.add(i);return e}var Ex=Array.prototype.slice;function Xle(n){return n}var z9=1,k9=2,Lx=3,dp=4,EI=1e-6;function Yle(n){return"translate("+n+",0)"}function $le(n){return"translate(0,"+n+")"}function qle(n){return e=>+n(e)}function jle(n,e){return e=Math.max(0,n.bandwidth()-e*2)/2,n.round()&&(e=Math.round(e)),t=>+n(t)+e}function Zle(){return!this.__axis}function H9(n,e){var t=[],i=null,r=null,s=6,o=6,a=3,l=typeof window!="undefined"&&window.devicePixelRatio>1?0:.5,c=n===z9||n===dp?-1:1,u=n===dp||n===k9?"x":"y",f=n===z9||n===Lx?Yle:$le;function h(d){var m=i==null?e.ticks?e.ticks.apply(e,t):e.domain():i,v=r==null?e.tickFormat?e.tickFormat.apply(e,t):Xle:r,_=Math.max(s,0)+a,g=e.range(),x=+g[0]+l,b=+g[g.length-1]+l,w=(e.bandwidth?jle:qle)(e.copy(),l),S=d.selection?d.selection():d,A=S.selectAll(".domain").data([null]),T=S.selectAll(".tick").data(m,e).order(),F=T.exit(),U=T.enter().append("g").attr("class","tick"),N=T.select("line"),O=T.select("text");A=A.merge(A.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),T=T.merge(U),N=N.merge(U.append("line").attr("stroke","currentColor").attr(u+"2",c*s)),O=O.merge(U.append("text").attr("fill","currentColor").attr(u,c*_).attr("dy",n===z9?"0em":n===Lx?"0.71em":"0.32em")),d!==S&&(A=A.transition(d),T=T.transition(d),N=N.transition(d),O=O.transition(d),F=F.transition(d).attr("opacity",EI).attr("transform",function(G){return isFinite(G=w(G))?f(G+l):this.getAttribute("transform")}),U.attr("opacity",EI).attr("transform",function(G){var D=this.parentNode.__axis;return f((D&&isFinite(D=D(G))?D:w(G))+l)})),F.remove(),A.attr("d",n===dp||n===k9?o?"M"+c*o+","+x+"H"+l+"V"+b+"H"+c*o:"M"+l+","+x+"V"+b:o?"M"+x+","+c*o+"V"+l+"H"+b+"V"+c*o:"M"+x+","+l+"H"+b),T.attr("opacity",1).attr("transform",function(G){return f(w(G)+l)}),N.attr(u+"2",c*s),O.attr(u,c*_).text(v),S.filter(Zle).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",n===k9?"start":n===dp?"end":"middle"),S.each(function(){this.__axis=w})}return h.scale=function(d){return arguments.length?(e=d,h):e},h.ticks=function(){return t=Ex.call(arguments),h},h.tickArguments=function(d){return arguments.length?(t=d==null?[]:Ex.call(d),h):t.slice()},h.tickValues=function(d){return arguments.length?(i=d==null?null:Ex.call(d),h):i&&i.slice()},h.tickFormat=function(d){return arguments.length?(r=d,h):r},h.tickSize=function(d){return arguments.length?(s=o=+d,h):s},h.tickSizeInner=function(d){return arguments.length?(s=+d,h):s},h.tickSizeOuter=function(d){return arguments.length?(o=+d,h):o},h.tickPadding=function(d){return arguments.length?(a=+d,h):a},h.offset=function(d){return arguments.length?(l=+d,h):l},h}function Qle(n){return H9(z9,n)}function Jle(n){return H9(k9,n)}function Kle(n){return H9(Lx,n)}function ece(n){return H9(dp,n)}var tce={value:()=>{}};function Hc(){for(var n=0,e=arguments.length,t={},i;n<e;++n){if(!(i=arguments[n]+"")||i in t||/[\s.]/.test(i))throw new Error("illegal type: "+i);t[i]=[]}return new G9(t)}function G9(n){this._=n}function nce(n,e){return n.trim().split(/^|\s+/).map(function(t){var i="",r=t.indexOf(".");if(r>=0&&(i=t.slice(r+1),t=t.slice(0,r)),t&&!e.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:i}})}G9.prototype=Hc.prototype={constructor:G9,on:function(n,e){var t=this._,i=nce(n+"",t),r,s=-1,o=i.length;if(arguments.length<2){for(;++s<o;)if((r=(n=i[s]).type)&&(r=ice(t[r],n.name)))return r;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++s<o;)if(r=(n=i[s]).type)t[r]=LI(t[r],n.name,e);else if(e==null)for(r in t)t[r]=LI(t[r],n.name,null);return this},copy:function(){var n={},e=this._;for(var t in e)n[t]=e[t].slice();return new G9(n)},call:function(n,e){if((r=arguments.length-2)>0)for(var t=new Array(r),i=0,r,s;i<r;++i)t[i]=arguments[i+2];if(!this._.hasOwnProperty(n))throw new Error("unknown type: "+n);for(s=this._[n],i=0,r=s.length;i<r;++i)s[i].value.apply(e,t)},apply:function(n,e,t){if(!this._.hasOwnProperty(n))throw new Error("unknown type: "+n);for(var i=this._[n],r=0,s=i.length;r<s;++r)i[r].value.apply(e,t)}};function ice(n,e){for(var t=0,i=n.length,r;t<i;++t)if((r=n[t]).name===e)return r.value}function LI(n,e,t){for(var i=0,r=n.length;i<r;++i)if(n[i].name===e){n[i]=tce,n=n.slice(0,i).concat(n.slice(i+1));break}return t!=null&&n.push({name:e,value:t}),n}var Cx="http://www.w3.org/1999/xhtml",Px={svg:"http://www.w3.org/2000/svg",xhtml:Cx,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function pp(n){var e=n+="",t=e.indexOf(":");return t>=0&&(e=n.slice(0,t))!=="xmlns"&&(n=n.slice(t+1)),Px.hasOwnProperty(e)?{space:Px[e],local:n}:n}function rce(n){return function(){var e=this.ownerDocument,t=this.namespaceURI;return t===Cx&&e.documentElement.namespaceURI===Cx?e.createElement(n):e.createElementNS(t,n)}}function sce(n){return function(){return this.ownerDocument.createElementNS(n.space,n.local)}}function V9(n){var e=pp(n);return(e.local?sce:rce)(e)}function oce(){}function W9(n){return n==null?oce:function(){return this.querySelector(n)}}function ace(n){typeof n!="function"&&(n=W9(n));for(var e=this._groups,t=e.length,i=new Array(t),r=0;r<t;++r)for(var s=e[r],o=s.length,a=i[r]=new Array(o),l,c,u=0;u<o;++u)(l=s[u])&&(c=n.call(l,l.__data__,u,s))&&("__data__"in l&&(c.__data__=l.__data__),a[u]=c);return new Xi(i,this._parents)}function Rx(n){return typeof n=="object"&&"length"in n?n:Array.from(n)}function lce(){return[]}function Fx(n){return n==null?lce:function(){return this.querySelectorAll(n)}}function cce(n){return function(){var e=n.apply(this,arguments);return e==null?[]:Rx(e)}}function uce(n){typeof n=="function"?n=cce(n):n=Fx(n);for(var e=this._groups,t=e.length,i=[],r=[],s=0;s<t;++s)for(var o=e[s],a=o.length,l,c=0;c<a;++c)(l=o[c])&&(i.push(n.call(l,l.__data__,c,o)),r.push(l));return new Xi(i,r)}function Ix(n){return function(){return this.matches(n)}}function CI(n){return function(e){return e.matches(n)}}var fce=Array.prototype.find;function hce(n){return function(){return fce.call(this.children,n)}}function dce(){return this.firstElementChild}function pce(n){return this.select(n==null?dce:hce(typeof n=="function"?n:CI(n)))}var mce=Array.prototype.filter;function gce(){return this.children}function vce(n){return function(){return mce.call(this.children,n)}}function xce(n){return this.selectAll(n==null?gce:vce(typeof n=="function"?n:CI(n)))}function yce(n){typeof n!="function"&&(n=Ix(n));for(var e=this._groups,t=e.length,i=new Array(t),r=0;r<t;++r)for(var s=e[r],o=s.length,a=i[r]=[],l,c=0;c<o;++c)(l=s[c])&&n.call(l,l.__data__,c,s)&&a.push(l);return new Xi(i,this._parents)}function PI(n){return new Array(n.length)}function _ce(){return new Xi(this._enter||this._groups.map(PI),this._parents)}function X9(n,e){this.ownerDocument=n.ownerDocument,this.namespaceURI=n.namespaceURI,this._next=null,this._parent=n,this.__data__=e}X9.prototype={constructor:X9,appendChild:function(n){return this._parent.insertBefore(n,this._next)},insertBefore:function(n,e){return this._parent.insertBefore(n,e)},querySelector:function(n){return this._parent.querySelector(n)},querySelectorAll:function(n){return this._parent.querySelectorAll(n)}};function bce(n){return function(){return n}}function wce(n,e,t,i,r,s){for(var o=0,a,l=e.length,c=s.length;o<c;++o)(a=e[o])?(a.__data__=s[o],i[o]=a):t[o]=new X9(n,s[o]);for(;o<l;++o)(a=e[o])&&(r[o]=a)}function Mce(n,e,t,i,r,s,o){var a,l,c=new Map,u=e.length,f=s.length,h=new Array(u),d;for(a=0;a<u;++a)(l=e[a])&&(h[a]=d=o.call(l,l.__data__,a,e)+"",c.has(d)?r[a]=l:c.set(d,l));for(a=0;a<f;++a)d=o.call(n,s[a],a,s)+"",(l=c.get(d))?(i[a]=l,l.__data__=s[a],c.delete(d)):t[a]=new X9(n,s[a]);for(a=0;a<u;++a)(l=e[a])&&c.get(h[a])===l&&(r[a]=l)}function Sce(n){return n.__data__}function Ace(n,e){if(!arguments.length)return Array.from(this,Sce);var t=e?Mce:wce,i=this._parents,r=this._groups;typeof n!="function"&&(n=bce(n));for(var s=r.length,o=new Array(s),a=new Array(s),l=new Array(s),c=0;c<s;++c){var u=i[c],f=r[c],h=f.length,d=Rx(n.call(u,u&&u.__data__,c,i)),m=d.length,v=a[c]=new Array(m),_=o[c]=new Array(m),g=l[c]=new Array(h);t(u,f,v,_,g,d,e);for(var x=0,b=0,w,S;x<m;++x)if(w=v[x]){for(x>=b&&(b=x+1);!(S=_[b])&&++b<m;);w._next=S||null}}return o=new Xi(o,i),o._enter=a,o._exit=l,o}function Tce(){return new Xi(this._exit||this._groups.map(PI),this._parents)}function Ece(n,e,t){var i=this.enter(),r=this,s=this.exit();return i=typeof n=="function"?n(i):i.append(n+""),e!=null&&(r=e(r)),t==null?s.remove():t(s),i&&r?i.merge(r).order():r}function Lce(n){if(!(n instanceof Xi))throw new Error("invalid merge");for(var e=this._groups,t=n._groups,i=e.length,r=t.length,s=Math.min(i,r),o=new Array(i),a=0;a<s;++a)for(var l=e[a],c=t[a],u=l.length,f=o[a]=new Array(u),h,d=0;d<u;++d)(h=l[d]||c[d])&&(f[d]=h);for(;a<i;++a)o[a]=e[a];return new Xi(o,this._parents)}function Cce(){for(var n=this._groups,e=-1,t=n.length;++e<t;)for(var i=n[e],r=i.length-1,s=i[r],o;--r>=0;)(o=i[r])&&(s&&o.compareDocumentPosition(s)^4&&s.parentNode.insertBefore(o,s),s=o);return this}function Pce(n){n||(n=Rce);function e(f,h){return f&&h?n(f.__data__,h.__data__):!f-!h}for(var t=this._groups,i=t.length,r=new Array(i),s=0;s<i;++s){for(var o=t[s],a=o.length,l=r[s]=new Array(a),c,u=0;u<a;++u)(c=o[u])&&(l[u]=c);l.sort(e)}return new Xi(r,this._parents).order()}function Rce(n,e){return n<e?-1:n>e?1:n>=e?0:NaN}function Fce(){var n=arguments[0];return arguments[0]=this,n.apply(null,arguments),this}function Ice(){return Array.from(this)}function Dce(){for(var n=this._groups,e=0,t=n.length;e<t;++e)for(var i=n[e],r=0,s=i.length;r<s;++r){var o=i[r];if(o)return o}return null}function Nce(){let n=0;for(const e of this)++n;return n}function Oce(){return!this.node()}function Bce(n){for(var e=this._groups,t=0,i=e.length;t<i;++t)for(var r=e[t],s=0,o=r.length,a;s<o;++s)(a=r[s])&&n.call(a,a.__data__,s,r);return this}function Uce(n){return function(){this.removeAttribute(n)}}function zce(n){return function(){this.removeAttributeNS(n.space,n.local)}}function kce(n,e){return function(){this.setAttribute(n,e)}}function Hce(n,e){return function(){this.setAttributeNS(n.space,n.local,e)}}function Gce(n,e){return function(){var t=e.apply(this,arguments);t==null?this.removeAttribute(n):this.setAttribute(n,t)}}function Vce(n,e){return function(){var t=e.apply(this,arguments);t==null?this.removeAttributeNS(n.space,n.local):this.setAttributeNS(n.space,n.local,t)}}function Wce(n,e){var t=pp(n);if(arguments.length<2){var i=this.node();return t.local?i.getAttributeNS(t.space,t.local):i.getAttribute(t)}return this.each((e==null?t.local?zce:Uce:typeof e=="function"?t.local?Vce:Gce:t.local?Hce:kce)(t,e))}function Dx(n){return n.ownerDocument&&n.ownerDocument.defaultView||n.document&&n||n.defaultView}function Xce(n){return function(){this.style.removeProperty(n)}}function Yce(n,e,t){return function(){this.style.setProperty(n,e,t)}}function $ce(n,e,t){return function(){var i=e.apply(this,arguments);i==null?this.style.removeProperty(n):this.style.setProperty(n,i,t)}}function qce(n,e,t){return arguments.length>1?this.each((e==null?Xce:typeof e=="function"?$ce:Yce)(n,e,t==null?"":t)):Gc(this.node(),n)}function Gc(n,e){return n.style.getPropertyValue(e)||Dx(n).getComputedStyle(n,null).getPropertyValue(e)}function jce(n){return function(){delete this[n]}}function Zce(n,e){return function(){this[n]=e}}function Qce(n,e){return function(){var t=e.apply(this,arguments);t==null?delete this[n]:this[n]=t}}function Jce(n,e){return arguments.length>1?this.each((e==null?jce:typeof e=="function"?Qce:Zce)(n,e)):this.node()[n]}function RI(n){return n.trim().split(/^|\s+/)}function Nx(n){return n.classList||new FI(n)}function FI(n){this._node=n,this._names=RI(n.getAttribute("class")||"")}FI.prototype={add:function(n){var e=this._names.indexOf(n);e<0&&(this._names.push(n),this._node.setAttribute("class",this._names.join(" ")))},remove:function(n){var e=this._names.indexOf(n);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(n){return this._names.indexOf(n)>=0}};function II(n,e){for(var t=Nx(n),i=-1,r=e.length;++i<r;)t.add(e[i])}function DI(n,e){for(var t=Nx(n),i=-1,r=e.length;++i<r;)t.remove(e[i])}function Kce(n){return function(){II(this,n)}}function eue(n){return function(){DI(this,n)}}function tue(n,e){return function(){(e.apply(this,arguments)?II:DI)(this,n)}}function nue(n,e){var t=RI(n+"");if(arguments.length<2){for(var i=Nx(this.node()),r=-1,s=t.length;++r<s;)if(!i.contains(t[r]))return!1;return!0}return this.each((typeof e=="function"?tue:e?Kce:eue)(t,e))}function iue(){this.textContent=""}function rue(n){return function(){this.textContent=n}}function sue(n){return function(){var e=n.apply(this,arguments);this.textContent=e==null?"":e}}function oue(n){return arguments.length?this.each(n==null?iue:(typeof n=="function"?sue:rue)(n)):this.node().textContent}function aue(){this.innerHTML=""}function lue(n){return function(){this.innerHTML=n}}function cue(n){return function(){var e=n.apply(this,arguments);this.innerHTML=e==null?"":e}}function uue(n){return arguments.length?this.each(n==null?aue:(typeof n=="function"?cue:lue)(n)):this.node().innerHTML}function fue(){this.nextSibling&&this.parentNode.appendChild(this)}function hue(){return this.each(fue)}function due(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function pue(){return this.each(due)}function mue(n){var e=typeof n=="function"?n:V9(n);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function gue(){return null}function vue(n,e){var t=typeof n=="function"?n:V9(n),i=e==null?gue:typeof e=="function"?e:W9(e);return this.select(function(){return this.insertBefore(t.apply(this,arguments),i.apply(this,arguments)||null)})}function xue(){var n=this.parentNode;n&&n.removeChild(this)}function yue(){return this.each(xue)}function _ue(){var n=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(n,this.nextSibling):n}function bue(){var n=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(n,this.nextSibling):n}function wue(n){return this.select(n?bue:_ue)}function Mue(n){return arguments.length?this.property("__data__",n):this.node().__data__}function Sue(n){return function(e){n.call(this,e,this.__data__)}}function Aue(n){return n.trim().split(/^|\s+/).map(function(e){var t="",i=e.indexOf(".");return i>=0&&(t=e.slice(i+1),e=e.slice(0,i)),{type:e,name:t}})}function Tue(n){return function(){var e=this.__on;if(!!e){for(var t=0,i=-1,r=e.length,s;t<r;++t)s=e[t],(!n.type||s.type===n.type)&&s.name===n.name?this.removeEventListener(s.type,s.listener,s.options):e[++i]=s;++i?e.length=i:delete this.__on}}}function Eue(n,e,t){return function(){var i=this.__on,r,s=Sue(e);if(i){for(var o=0,a=i.length;o<a;++o)if((r=i[o]).type===n.type&&r.name===n.name){this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=s,r.options=t),r.value=e;return}}this.addEventListener(n.type,s,t),r={type:n.type,name:n.name,value:e,listener:s,options:t},i?i.push(r):this.__on=[r]}}function Lue(n,e,t){var i=Aue(n+""),r,s=i.length,o;if(arguments.length<2){var a=this.node().__on;if(a){for(var l=0,c=a.length,u;l<c;++l)for(r=0,u=a[l];r<s;++r)if((o=i[r]).type===u.type&&o.name===u.name)return u.value}return}for(a=e?Eue:Tue,r=0;r<s;++r)this.each(a(i[r],e,t));return this}function NI(n,e,t){var i=Dx(n),r=i.CustomEvent;typeof r=="function"?r=new r(e,t):(r=i.document.createEvent("Event"),t?(r.initEvent(e,t.bubbles,t.cancelable),r.detail=t.detail):r.initEvent(e,!1,!1)),n.dispatchEvent(r)}function Cue(n,e){return function(){return NI(this,n,e)}}function Pue(n,e){return function(){return NI(this,n,e.apply(this,arguments))}}function Rue(n,e){return this.each((typeof e=="function"?Pue:Cue)(n,e))}function*Fue(){for(var n=this._groups,e=0,t=n.length;e<t;++e)for(var i=n[e],r=0,s=i.length,o;r<s;++r)(o=i[r])&&(yield o)}var Ox=[null];function Xi(n,e){this._groups=n,this._parents=e}function Vc(){return new Xi([[document.documentElement]],Ox)}function Iue(){return this}Xi.prototype=Vc.prototype={constructor:Xi,select:ace,selectAll:uce,selectChild:pce,selectChildren:xce,filter:yce,data:Ace,enter:_ce,exit:Tce,join:Ece,merge:Lce,selection:Iue,order:Cce,sort:Pce,call:Fce,nodes:Ice,node:Dce,size:Nce,empty:Oce,each:Bce,attr:Wce,style:qce,property:Jce,classed:nue,text:oue,html:uue,raise:hue,lower:pue,append:mue,insert:vue,remove:yue,clone:wue,datum:Mue,on:Lue,dispatch:Rue,[Symbol.iterator]:Fue};function Yi(n){return typeof n=="string"?new Xi([[document.querySelector(n)]],[document.documentElement]):new Xi([[n]],Ox)}function Due(n){return Yi(V9(n).call(document.documentElement))}var Nue=0;function OI(){return new Bx}function Bx(){this._="@"+(++Nue).toString(36)}Bx.prototype=OI.prototype={constructor:Bx,get:function(n){for(var e=this._;!(e in n);)if(!(n=n.parentNode))return;return n[e]},set:function(n,e){return n[this._]=e},remove:function(n){return this._ in n&&delete n[this._]},toString:function(){return this._}};function BI(n){let e;for(;e=n.sourceEvent;)n=e;return n}function ts(n,e){if(n=BI(n),e===void 0&&(e=n.currentTarget),e){var t=e.ownerSVGElement||e;if(t.createSVGPoint){var i=t.createSVGPoint();return i.x=n.clientX,i.y=n.clientY,i=i.matrixTransform(e.getScreenCTM().inverse()),[i.x,i.y]}if(e.getBoundingClientRect){var r=e.getBoundingClientRect();return[n.clientX-r.left-e.clientLeft,n.clientY-r.top-e.clientTop]}}return[n.pageX,n.pageY]}function Oue(n,e){return n.target&&(n=BI(n),e===void 0&&(e=n.currentTarget),n=n.touches||[n]),Array.from(n,t=>ts(t,e))}function Bue(n){return typeof n=="string"?new Xi([document.querySelectorAll(n)],[document.documentElement]):new Xi([n==null?[]:Rx(n)],Ox)}function Ux(n){n.stopImmediatePropagation()}function sh(n){n.preventDefault(),n.stopImmediatePropagation()}function Y9(n){var e=n.document.documentElement,t=Yi(n).on("dragstart.drag",sh,!0);"onselectstart"in e?t.on("selectstart.drag",sh,!0):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function $9(n,e){var t=n.document.documentElement,i=Yi(n).on("dragstart.drag",null);e&&(i.on("click.drag",sh,!0),setTimeout(function(){i.on("click.drag",null)},0)),"onselectstart"in t?i.on("selectstart.drag",null):(t.style.MozUserSelect=t.__noselect,delete t.__noselect)}var q9=n=>()=>n;function zx(n,{sourceEvent:e,subject:t,target:i,identifier:r,active:s,x:o,y:a,dx:l,dy:c,dispatch:u}){Object.defineProperties(this,{type:{value:n,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},subject:{value:t,enumerable:!0,configurable:!0},target:{value:i,enumerable:!0,configurable:!0},identifier:{value:r,enumerable:!0,configurable:!0},active:{value:s,enumerable:!0,configurable:!0},x:{value:o,enumerable:!0,configurable:!0},y:{value:a,enumerable:!0,configurable:!0},dx:{value:l,enumerable:!0,configurable:!0},dy:{value:c,enumerable:!0,configurable:!0},_:{value:u}})}zx.prototype.on=function(){var n=this._.on.apply(this._,arguments);return n===this._?this:n};function Uue(n){return!n.ctrlKey&&!n.button}function zue(){return this.parentNode}function kue(n,e){return e==null?{x:n.x,y:n.y}:e}function Hue(){return navigator.maxTouchPoints||"ontouchstart"in this}function Gue(){var n=Uue,e=zue,t=kue,i=Hue,r={},s=Hc("start","drag","end"),o=0,a,l,c,u,f=0;function h(w){w.on("mousedown.drag",d).filter(i).on("touchstart.drag",_).on("touchmove.drag",g).on("touchend.drag touchcancel.drag",x).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function d(w,S){if(!(u||!n.call(this,w,S))){var A=b(this,e.call(this,w,S),w,S,"mouse");!A||(Yi(w.view).on("mousemove.drag",m,!0).on("mouseup.drag",v,!0),Y9(w.view),Ux(w),c=!1,a=w.clientX,l=w.clientY,A("start",w))}}function m(w){if(sh(w),!c){var S=w.clientX-a,A=w.clientY-l;c=S*S+A*A>f}r.mouse("drag",w)}function v(w){Yi(w.view).on("mousemove.drag mouseup.drag",null),$9(w.view,c),sh(w),r.mouse("end",w)}function _(w,S){if(!!n.call(this,w,S)){var A=w.changedTouches,T=e.call(this,w,S),F=A.length,U,N;for(U=0;U<F;++U)(N=b(this,T,w,S,A[U].identifier,A[U]))&&(Ux(w),N("start",w,A[U]))}}function g(w){var S=w.changedTouches,A=S.length,T,F;for(T=0;T<A;++T)(F=r[S[T].identifier])&&(sh(w),F("drag",w,S[T]))}function x(w){var S=w.changedTouches,A=S.length,T,F;for(u&&clearTimeout(u),u=setTimeout(function(){u=null},500),T=0;T<A;++T)(F=r[S[T].identifier])&&(Ux(w),F("end",w,S[T]))}function b(w,S,A,T,F,U){var N=s.copy(),O=ts(U||A,S),G,D,P;if((P=t.call(w,new zx("beforestart",{sourceEvent:A,target:h,identifier:F,active:o,x:O[0],y:O[1],dx:0,dy:0,dispatch:N}),T))!=null)return G=P.x-O[0]||0,D=P.y-O[1]||0,function I(C,B,Y){var j=O,re;switch(C){case"start":r[F]=I,re=o++;break;case"end":delete r[F],--o;case"drag":O=ts(Y||B,S),re=o;break}N.call(C,w,new zx(C,{sourceEvent:B,subject:P,target:h,identifier:F,active:re,x:O[0]+G,y:O[1]+D,dx:O[0]-j[0],dy:O[1]-j[1],dispatch:N}),T)}}return h.filter=function(w){return arguments.length?(n=typeof w=="function"?w:q9(!!w),h):n},h.container=function(w){return arguments.length?(e=typeof w=="function"?w:q9(w),h):e},h.subject=function(w){return arguments.length?(t=typeof w=="function"?w:q9(w),h):t},h.touchable=function(w){return arguments.length?(i=typeof w=="function"?w:q9(!!w),h):i},h.on=function(){var w=s.on.apply(s,arguments);return w===s?h:w},h.clickDistance=function(w){return arguments.length?(f=(w=+w)*w,h):Math.sqrt(f)},h}function oh(n,e,t){n.prototype=e.prototype=t,t.constructor=n}function mp(n,e){var t=Object.create(n.prototype);for(var i in e)t[i]=e[i];return t}function ja(){}var Wc=.7,ah=1/Wc,lh="\\s*([+-]?\\d+)\\s*",gp="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",W0="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Vue=/^#([0-9a-f]{3,8})$/,Wue=new RegExp("^rgb\\("+[lh,lh,lh]+"\\)$"),Xue=new RegExp("^rgb\\("+[W0,W0,W0]+"\\)$"),Yue=new RegExp("^rgba\\("+[lh,lh,lh,gp]+"\\)$"),$ue=new RegExp("^rgba\\("+[W0,W0,W0,gp]+"\\)$"),que=new RegExp("^hsl\\("+[gp,W0,W0]+"\\)$"),jue=new RegExp("^hsla\\("+[gp,W0,W0,gp]+"\\)$"),UI={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};oh(ja,Za,{copy:function(n){return Object.assign(new this.constructor,this,n)},displayable:function(){return this.rgb().displayable()},hex:zI,formatHex:zI,formatHsl:Zue,formatRgb:kI,toString:kI});function zI(){return this.rgb().formatHex()}function Zue(){return XI(this).formatHsl()}function kI(){return this.rgb().formatRgb()}function Za(n){var e,t;return n=(n+"").trim().toLowerCase(),(e=Vue.exec(n))?(t=e[1].length,e=parseInt(e[1],16),t===6?HI(e):t===3?new Di(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):t===8?j9(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):t===4?j9(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=Wue.exec(n))?new Di(e[1],e[2],e[3],1):(e=Xue.exec(n))?new Di(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=Yue.exec(n))?j9(e[1],e[2],e[3],e[4]):(e=$ue.exec(n))?j9(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=que.exec(n))?WI(e[1],e[2]/100,e[3]/100,1):(e=jue.exec(n))?WI(e[1],e[2]/100,e[3]/100,e[4]):UI.hasOwnProperty(n)?HI(UI[n]):n==="transparent"?new Di(NaN,NaN,NaN,0):null}function HI(n){return new Di(n>>16&255,n>>8&255,n&255,1)}function j9(n,e,t,i){return i<=0&&(n=e=t=NaN),new Di(n,e,t,i)}function kx(n){return n instanceof ja||(n=Za(n)),n?(n=n.rgb(),new Di(n.r,n.g,n.b,n.opacity)):new Di}function ch(n,e,t,i){return arguments.length===1?kx(n):new Di(n,e,t,i==null?1:i)}function Di(n,e,t,i){this.r=+n,this.g=+e,this.b=+t,this.opacity=+i}oh(Di,ch,mp(ja,{brighter:function(n){return n=n==null?ah:Math.pow(ah,n),new Di(this.r*n,this.g*n,this.b*n,this.opacity)},darker:function(n){return n=n==null?Wc:Math.pow(Wc,n),new Di(this.r*n,this.g*n,this.b*n,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:GI,formatHex:GI,formatRgb:VI,toString:VI}));function GI(){return"#"+Hx(this.r)+Hx(this.g)+Hx(this.b)}function VI(){var n=this.opacity;return n=isNaN(n)?1:Math.max(0,Math.min(1,n)),(n===1?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(n===1?")":", "+n+")")}function Hx(n){return n=Math.max(0,Math.min(255,Math.round(n)||0)),(n<16?"0":"")+n.toString(16)}function WI(n,e,t,i){return i<=0?n=e=t=NaN:t<=0||t>=1?n=e=NaN:e<=0&&(n=NaN),new X0(n,e,t,i)}function XI(n){if(n instanceof X0)return new X0(n.h,n.s,n.l,n.opacity);if(n instanceof ja||(n=Za(n)),!n)return new X0;if(n instanceof X0)return n;n=n.rgb();var e=n.r/255,t=n.g/255,i=n.b/255,r=Math.min(e,t,i),s=Math.max(e,t,i),o=NaN,a=s-r,l=(s+r)/2;return a?(e===s?o=(t-i)/a+(t<i)*6:t===s?o=(i-e)/a+2:o=(e-t)/a+4,a/=l<.5?s+r:2-s-r,o*=60):a=l>0&&l<1?0:o,new X0(o,a,l,n.opacity)}function Z9(n,e,t,i){return arguments.length===1?XI(n):new X0(n,e,t,i==null?1:i)}function X0(n,e,t,i){this.h=+n,this.s=+e,this.l=+t,this.opacity=+i}oh(X0,Z9,mp(ja,{brighter:function(n){return n=n==null?ah:Math.pow(ah,n),new X0(this.h,this.s,this.l*n,this.opacity)},darker:function(n){return n=n==null?Wc:Math.pow(Wc,n),new X0(this.h,this.s,this.l*n,this.opacity)},rgb:function(){var n=this.h%360+(this.h<0)*360,e=isNaN(n)||isNaN(this.s)?0:this.s,t=this.l,i=t+(t<.5?t:1-t)*e,r=2*t-i;return new Di(Gx(n>=240?n-240:n+120,r,i),Gx(n,r,i),Gx(n<120?n+240:n-120,r,i),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var n=this.opacity;return n=isNaN(n)?1:Math.max(0,Math.min(1,n)),(n===1?"hsl(":"hsla(")+(this.h||0)+", "+(this.s||0)*100+"%, "+(this.l||0)*100+"%"+(n===1?")":", "+n+")")}}));function Gx(n,e,t){return(n<60?e+(t-e)*n/60:n<180?t:n<240?e+(t-e)*(240-n)/60:e)*255}const YI=Math.PI/180,$I=180/Math.PI,Q9=18,qI=.96422,jI=1,ZI=.82521,QI=4/29,uh=6/29,JI=3*uh*uh,Que=uh*uh*uh;function KI(n){if(n instanceof c0)return new c0(n.l,n.a,n.b,n.opacity);if(n instanceof Y0)return tD(n);n instanceof Di||(n=kx(n));var e=Yx(n.r),t=Yx(n.g),i=Yx(n.b),r=Vx((.2225045*e+.7168786*t+.0606169*i)/jI),s,o;return e===t&&t===i?s=o=r:(s=Vx((.4360747*e+.3850649*t+.1430804*i)/qI),o=Vx((.0139322*e+.0971045*t+.7141733*i)/ZI)),new c0(116*r-16,500*(s-r),200*(r-o),n.opacity)}function Jue(n,e){return new c0(n,0,0,e==null?1:e)}function J9(n,e,t,i){return arguments.length===1?KI(n):new c0(n,e,t,i==null?1:i)}function c0(n,e,t,i){this.l=+n,this.a=+e,this.b=+t,this.opacity=+i}oh(c0,J9,mp(ja,{brighter:function(n){return new c0(this.l+Q9*(n==null?1:n),this.a,this.b,this.opacity)},darker:function(n){return new c0(this.l-Q9*(n==null?1:n),this.a,this.b,this.opacity)},rgb:function(){var n=(this.l+16)/116,e=isNaN(this.a)?n:n+this.a/500,t=isNaN(this.b)?n:n-this.b/200;return e=qI*Wx(e),n=jI*Wx(n),t=ZI*Wx(t),new Di(Xx(3.1338561*e-1.6168667*n-.4906146*t),Xx(-.9787684*e+1.9161415*n+.033454*t),Xx(.0719453*e-.2289914*n+1.4052427*t),this.opacity)}}));function Vx(n){return n>Que?Math.pow(n,1/3):n/JI+QI}function Wx(n){return n>uh?n*n*n:JI*(n-QI)}function Xx(n){return 255*(n<=.0031308?12.92*n:1.055*Math.pow(n,1/2.4)-.055)}function Yx(n){return(n/=255)<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4)}function eD(n){if(n instanceof Y0)return new Y0(n.h,n.c,n.l,n.opacity);if(n instanceof c0||(n=KI(n)),n.a===0&&n.b===0)return new Y0(NaN,0<n.l&&n.l<100?0:NaN,n.l,n.opacity);var e=Math.atan2(n.b,n.a)*$I;return new Y0(e<0?e+360:e,Math.sqrt(n.a*n.a+n.b*n.b),n.l,n.opacity)}function Kue(n,e,t,i){return arguments.length===1?eD(n):new Y0(t,e,n,i==null?1:i)}function K9(n,e,t,i){return arguments.length===1?eD(n):new Y0(n,e,t,i==null?1:i)}function Y0(n,e,t,i){this.h=+n,this.c=+e,this.l=+t,this.opacity=+i}function tD(n){if(isNaN(n.h))return new c0(n.l,0,0,n.opacity);var e=n.h*YI;return new c0(n.l,Math.cos(e)*n.c,Math.sin(e)*n.c,n.opacity)}oh(Y0,K9,mp(ja,{brighter:function(n){return new Y0(this.h,this.c,this.l+Q9*(n==null?1:n),this.opacity)},darker:function(n){return new Y0(this.h,this.c,this.l-Q9*(n==null?1:n),this.opacity)},rgb:function(){return tD(this).rgb()}}));var nD=-.14861,$x=1.78277,qx=-.29227,e4=-.90649,vp=1.97294,iD=vp*e4,rD=vp*$x,sD=$x*qx-e4*nD;function efe(n){if(n instanceof Xc)return new Xc(n.h,n.s,n.l,n.opacity);n instanceof Di||(n=kx(n));var e=n.r/255,t=n.g/255,i=n.b/255,r=(sD*i+iD*e-rD*t)/(sD+iD-rD),s=i-r,o=(vp*(t-r)-qx*s)/e4,a=Math.sqrt(o*o+s*s)/(vp*r*(1-r)),l=a?Math.atan2(o,s)*$I-120:NaN;return new Xc(l<0?l+360:l,a,r,n.opacity)}function u0(n,e,t,i){return arguments.length===1?efe(n):new Xc(n,e,t,i==null?1:i)}function Xc(n,e,t,i){this.h=+n,this.s=+e,this.l=+t,this.opacity=+i}oh(Xc,u0,mp(ja,{brighter:function(n){return n=n==null?ah:Math.pow(ah,n),new Xc(this.h,this.s,this.l*n,this.opacity)},darker:function(n){return n=n==null?Wc:Math.pow(Wc,n),new Xc(this.h,this.s,this.l*n,this.opacity)},rgb:function(){var n=isNaN(this.h)?0:(this.h+120)*YI,e=+this.l,t=isNaN(this.s)?0:this.s*e*(1-e),i=Math.cos(n),r=Math.sin(n);return new Di(255*(e+t*(nD*i+$x*r)),255*(e+t*(qx*i+e4*r)),255*(e+t*(vp*i)),this.opacity)}}));function oD(n,e,t,i,r){var s=n*n,o=s*n;return((1-3*n+3*s-o)*e+(4-6*s+3*o)*t+(1+3*n+3*s-3*o)*i+o*r)/6}function aD(n){var e=n.length-1;return function(t){var i=t<=0?t=0:t>=1?(t=1,e-1):Math.floor(t*e),r=n[i],s=n[i+1],o=i>0?n[i-1]:2*r-s,a=i<e-1?n[i+2]:2*s-r;return oD((t-i/e)*e,o,r,s,a)}}function lD(n){var e=n.length;return function(t){var i=Math.floor(((t%=1)<0?++t:t)*e),r=n[(i+e-1)%e],s=n[i%e],o=n[(i+1)%e],a=n[(i+2)%e];return oD((t-i/e)*e,r,s,o,a)}}var t4=n=>()=>n;function cD(n,e){return function(t){return n+t*e}}function tfe(n,e,t){return n=Math.pow(n,t),e=Math.pow(e,t)-n,t=1/t,function(i){return Math.pow(n+i*e,t)}}function n4(n,e){var t=e-n;return t?cD(n,t>180||t<-180?t-360*Math.round(t/360):t):t4(isNaN(n)?e:n)}function nfe(n){return(n=+n)==1?_i:function(e,t){return t-e?tfe(e,t,n):t4(isNaN(e)?t:e)}}function _i(n,e){var t=e-n;return t?cD(n,t):t4(isNaN(n)?e:n)}var xp=function n(e){var t=nfe(e);function i(r,s){var o=t((r=ch(r)).r,(s=ch(s)).r),a=t(r.g,s.g),l=t(r.b,s.b),c=_i(r.opacity,s.opacity);return function(u){return r.r=o(u),r.g=a(u),r.b=l(u),r.opacity=c(u),r+""}}return i.gamma=n,i}(1);function uD(n){return function(e){var t=e.length,i=new Array(t),r=new Array(t),s=new Array(t),o,a;for(o=0;o<t;++o)a=ch(e[o]),i[o]=a.r||0,r[o]=a.g||0,s[o]=a.b||0;return i=n(i),r=n(r),s=n(s),a.opacity=1,function(l){return a.r=i(l),a.g=r(l),a.b=s(l),a+""}}}var fD=uD(aD),ife=uD(lD);function jx(n,e){e||(e=[]);var t=n?Math.min(e.length,n.length):0,i=e.slice(),r;return function(s){for(r=0;r<t;++r)i[r]=n[r]*(1-s)+e[r]*s;return i}}function hD(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}function rfe(n,e){return(hD(e)?jx:dD)(n,e)}function dD(n,e){var t=e?e.length:0,i=n?Math.min(t,n.length):0,r=new Array(i),s=new Array(t),o;for(o=0;o<i;++o)r[o]=Qa(n[o],e[o]);for(;o<t;++o)s[o]=e[o];return function(a){for(o=0;o<i;++o)s[o]=r[o](a);return s}}function pD(n,e){var t=new Date;return n=+n,e=+e,function(i){return t.setTime(n*(1-i)+e*i),t}}function Ns(n,e){return n=+n,e=+e,function(t){return n*(1-t)+e*t}}function mD(n,e){var t={},i={},r;(n===null||typeof n!="object")&&(n={}),(e===null||typeof e!="object")&&(e={});for(r in e)r in n?t[r]=Qa(n[r],e[r]):i[r]=e[r];return function(s){for(r in t)i[r]=t[r](s);return i}}var Zx=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Qx=new RegExp(Zx.source,"g");function sfe(n){return function(){return n}}function ofe(n){return function(e){return n(e)+""}}function Jx(n,e){var t=Zx.lastIndex=Qx.lastIndex=0,i,r,s,o=-1,a=[],l=[];for(n=n+"",e=e+"";(i=Zx.exec(n))&&(r=Qx.exec(e));)(s=r.index)>t&&(s=e.slice(t,s),a[o]?a[o]+=s:a[++o]=s),(i=i[0])===(r=r[0])?a[o]?a[o]+=r:a[++o]=r:(a[++o]=null,l.push({i:o,x:Ns(i,r)})),t=Qx.lastIndex;return t<e.length&&(s=e.slice(t),a[o]?a[o]+=s:a[++o]=s),a.length<2?l[0]?ofe(l[0].x):sfe(e):(e=l.length,function(c){for(var u=0,f;u<e;++u)a[(f=l[u]).i]=f.x(c);return a.join("")})}function Qa(n,e){var t=typeof e,i;return e==null||t==="boolean"?t4(e):(t==="number"?Ns:t==="string"?(i=Za(e))?(e=i,xp):Jx:e instanceof Za?xp:e instanceof Date?pD:hD(e)?jx:Array.isArray(e)?dD:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?mD:Ns)(n,e)}function afe(n){var e=n.length;return function(t){return n[Math.max(0,Math.min(e-1,Math.floor(t*e)))]}}function lfe(n,e){var t=n4(+n,+e);return function(i){var r=t(i);return r-360*Math.floor(r/360)}}function i4(n,e){return n=+n,e=+e,function(t){return Math.round(n*(1-t)+e*t)}}var gD=180/Math.PI,Kx={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function vD(n,e,t,i,r,s){var o,a,l;return(o=Math.sqrt(n*n+e*e))&&(n/=o,e/=o),(l=n*t+e*i)&&(t-=n*l,i-=e*l),(a=Math.sqrt(t*t+i*i))&&(t/=a,i/=a,l/=a),n*i<e*t&&(n=-n,e=-e,l=-l,o=-o),{translateX:r,translateY:s,rotate:Math.atan2(e,n)*gD,skewX:Math.atan(l)*gD,scaleX:o,scaleY:a}}var r4;function cfe(n){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(n+"");return e.isIdentity?Kx:vD(e.a,e.b,e.c,e.d,e.e,e.f)}function ufe(n){return n==null||(r4||(r4=document.createElementNS("http://www.w3.org/2000/svg","g")),r4.setAttribute("transform",n),!(n=r4.transform.baseVal.consolidate()))?Kx:(n=n.matrix,vD(n.a,n.b,n.c,n.d,n.e,n.f))}function xD(n,e,t,i){function r(c){return c.length?c.pop()+" ":""}function s(c,u,f,h,d,m){if(c!==f||u!==h){var v=d.push("translate(",null,e,null,t);m.push({i:v-4,x:Ns(c,f)},{i:v-2,x:Ns(u,h)})}else(f||h)&&d.push("translate("+f+e+h+t)}function o(c,u,f,h){c!==u?(c-u>180?u+=360:u-c>180&&(c+=360),h.push({i:f.push(r(f)+"rotate(",null,i)-2,x:Ns(c,u)})):u&&f.push(r(f)+"rotate("+u+i)}function a(c,u,f,h){c!==u?h.push({i:f.push(r(f)+"skewX(",null,i)-2,x:Ns(c,u)}):u&&f.push(r(f)+"skewX("+u+i)}function l(c,u,f,h,d,m){if(c!==f||u!==h){var v=d.push(r(d)+"scale(",null,",",null,")");m.push({i:v-4,x:Ns(c,f)},{i:v-2,x:Ns(u,h)})}else(f!==1||h!==1)&&d.push(r(d)+"scale("+f+","+h+")")}return function(c,u){var f=[],h=[];return c=n(c),u=n(u),s(c.translateX,c.translateY,u.translateX,u.translateY,f,h),o(c.rotate,u.rotate,f,h),a(c.skewX,u.skewX,f,h),l(c.scaleX,c.scaleY,u.scaleX,u.scaleY,f,h),c=u=null,function(d){for(var m=-1,v=h.length,_;++m<v;)f[(_=h[m]).i]=_.x(d);return f.join("")}}}var yD=xD(cfe,"px, ","px)","deg)"),_D=xD(ufe,", ",")",")"),ffe=1e-12;function bD(n){return((n=Math.exp(n))+1/n)/2}function hfe(n){return((n=Math.exp(n))-1/n)/2}function dfe(n){return((n=Math.exp(2*n))-1)/(n+1)}var wD=function n(e,t,i){function r(s,o){var a=s[0],l=s[1],c=s[2],u=o[0],f=o[1],h=o[2],d=u-a,m=f-l,v=d*d+m*m,_,g;if(v<ffe)g=Math.log(h/c)/e,_=function(T){return[a+T*d,l+T*m,c*Math.exp(e*T*g)]};else{var x=Math.sqrt(v),b=(h*h-c*c+i*v)/(2*c*t*x),w=(h*h-c*c-i*v)/(2*h*t*x),S=Math.log(Math.sqrt(b*b+1)-b),A=Math.log(Math.sqrt(w*w+1)-w);g=(A-S)/e,_=function(T){var F=T*g,U=bD(S),N=c/(t*x)*(U*dfe(e*F+S)-hfe(S));return[a+N*d,l+N*m,c*U/bD(e*F+S)]}}return _.duration=g*1e3*e/Math.SQRT2,_}return r.rho=function(s){var o=Math.max(.001,+s),a=o*o,l=a*a;return n(o,a,l)},r}(Math.SQRT2,2,4);function MD(n){return function(e,t){var i=n((e=Z9(e)).h,(t=Z9(t)).h),r=_i(e.s,t.s),s=_i(e.l,t.l),o=_i(e.opacity,t.opacity);return function(a){return e.h=i(a),e.s=r(a),e.l=s(a),e.opacity=o(a),e+""}}}var pfe=MD(n4),mfe=MD(_i);function gfe(n,e){var t=_i((n=J9(n)).l,(e=J9(e)).l),i=_i(n.a,e.a),r=_i(n.b,e.b),s=_i(n.opacity,e.opacity);return function(o){return n.l=t(o),n.a=i(o),n.b=r(o),n.opacity=s(o),n+""}}function SD(n){return function(e,t){var i=n((e=K9(e)).h,(t=K9(t)).h),r=_i(e.c,t.c),s=_i(e.l,t.l),o=_i(e.opacity,t.opacity);return function(a){return e.h=i(a),e.c=r(a),e.l=s(a),e.opacity=o(a),e+""}}}var vfe=SD(n4),xfe=SD(_i);function AD(n){return function e(t){t=+t;function i(r,s){var o=n((r=u0(r)).h,(s=u0(s)).h),a=_i(r.s,s.s),l=_i(r.l,s.l),c=_i(r.opacity,s.opacity);return function(u){return r.h=o(u),r.s=a(u),r.l=l(Math.pow(u,t)),r.opacity=c(u),r+""}}return i.gamma=e,i}(1)}var yfe=AD(n4),s4=AD(_i);function TD(n,e){e===void 0&&(e=n,n=Qa);for(var t=0,i=e.length-1,r=e[0],s=new Array(i<0?0:i);t<i;)s[t]=n(r,r=e[++t]);return function(o){var a=Math.max(0,Math.min(i-1,Math.floor(o*=i)));return s[a](o-a)}}function _fe(n,e){for(var t=new Array(e),i=0;i<e;++i)t[i]=n(i/(e-1));return t}var fh=0,yp=0,_p=0,ED=1e3,o4,bp,a4=0,Yc=0,l4=0,wp=typeof performance=="object"&&performance.now?performance:Date,LD=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(n){setTimeout(n,17)};function Mp(){return Yc||(LD(bfe),Yc=wp.now()+l4)}function bfe(){Yc=0}function Sp(){this._call=this._time=this._next=null}Sp.prototype=c4.prototype={constructor:Sp,restart:function(n,e,t){if(typeof n!="function")throw new TypeError("callback is not a function");t=(t==null?Mp():+t)+(e==null?0:+e),!this._next&&bp!==this&&(bp?bp._next=this:o4=this,bp=this),this._call=n,this._time=t,ey()},stop:function(){this._call&&(this._call=null,this._time=1/0,ey())}};function c4(n,e,t){var i=new Sp;return i.restart(n,e,t),i}function CD(){Mp(),++fh;for(var n=o4,e;n;)(e=Yc-n._time)>=0&&n._call.call(null,e),n=n._next;--fh}function PD(){Yc=(a4=wp.now())+l4,fh=yp=0;try{CD()}finally{fh=0,Mfe(),Yc=0}}function wfe(){var n=wp.now(),e=n-a4;e>ED&&(l4-=e,a4=n)}function Mfe(){for(var n,e=o4,t,i=1/0;e;)e._call?(i>e._time&&(i=e._time),n=e,e=e._next):(t=e._next,e._next=null,e=n?n._next=t:o4=t);bp=n,ey(i)}function ey(n){if(!fh){yp&&(yp=clearTimeout(yp));var e=n-Yc;e>24?(n<1/0&&(yp=setTimeout(PD,n-wp.now()-l4)),_p&&(_p=clearInterval(_p))):(_p||(a4=wp.now(),_p=setInterval(wfe,ED)),fh=1,LD(PD))}}function ty(n,e,t){var i=new Sp;return e=e==null?0:+e,i.restart(r=>{i.stop(),n(r+e)},e,t),i}function Sfe(n,e,t){var i=new Sp,r=e;return e==null?(i.restart(n,e,t),i):(i._restart=i.restart,i.restart=function(s,o,a){o=+o,a=a==null?Mp():+a,i._restart(function l(c){c+=r,i._restart(l,r+=o,a),s(c)},o,a)},i.restart(n,e,t),i)}var Afe=Hc("start","end","cancel","interrupt"),Tfe=[],RD=0,ny=1,iy=2,u4=3,FD=4,ry=5,f4=6;function h4(n,e,t,i,r,s){var o=n.__transition;if(!o)n.__transition={};else if(t in o)return;Efe(n,t,{name:e,index:i,group:r,on:Afe,tween:Tfe,time:s.time,delay:s.delay,duration:s.duration,ease:s.ease,timer:null,state:RD})}function sy(n,e){var t=f0(n,e);if(t.state>RD)throw new Error("too late; already scheduled");return t}function $0(n,e){var t=f0(n,e);if(t.state>u4)throw new Error("too late; already running");return t}function f0(n,e){var t=n.__transition;if(!t||!(t=t[e]))throw new Error("transition not found");return t}function Efe(n,e,t){var i=n.__transition,r;i[e]=t,t.timer=c4(s,0,t.time);function s(c){t.state=ny,t.timer.restart(o,t.delay,t.time),t.delay<=c&&o(c-t.delay)}function o(c){var u,f,h,d;if(t.state!==ny)return l();for(u in i)if(d=i[u],d.name===t.name){if(d.state===u4)return ty(o);d.state===FD?(d.state=f4,d.timer.stop(),d.on.call("interrupt",n,n.__data__,d.index,d.group),delete i[u]):+u<e&&(d.state=f4,d.timer.stop(),d.on.call("cancel",n,n.__data__,d.index,d.group),delete i[u])}if(ty(function(){t.state===u4&&(t.state=FD,t.timer.restart(a,t.delay,t.time),a(c))}),t.state=iy,t.on.call("start",n,n.__data__,t.index,t.group),t.state===iy){for(t.state=u4,r=new Array(h=t.tween.length),u=0,f=-1;u<h;++u)(d=t.tween[u].value.call(n,n.__data__,t.index,t.group))&&(r[++f]=d);r.length=f+1}}function a(c){for(var u=c<t.duration?t.ease.call(null,c/t.duration):(t.timer.restart(l),t.state=ry,1),f=-1,h=r.length;++f<h;)r[f].call(n,u);t.state===ry&&(t.on.call("end",n,n.__data__,t.index,t.group),l())}function l(){t.state=f4,t.timer.stop(),delete i[e];for(var c in i)return;delete n.__transition}}function $c(n,e){var t=n.__transition,i,r,s=!0,o;if(!!t){e=e==null?null:e+"";for(o in t){if((i=t[o]).name!==e){s=!1;continue}r=i.state>iy&&i.state<ry,i.state=f4,i.timer.stop(),i.on.call(r?"interrupt":"cancel",n,n.__data__,i.index,i.group),delete t[o]}s&&delete n.__transition}}function Lfe(n){return this.each(function(){$c(this,n)})}function Cfe(n,e){var t,i;return function(){var r=$0(this,n),s=r.tween;if(s!==t){i=t=s;for(var o=0,a=i.length;o<a;++o)if(i[o].name===e){i=i.slice(),i.splice(o,1);break}}r.tween=i}}function Pfe(n,e,t){var i,r;if(typeof t!="function")throw new Error;return function(){var s=$0(this,n),o=s.tween;if(o!==i){r=(i=o).slice();for(var a={name:e,value:t},l=0,c=r.length;l<c;++l)if(r[l].name===e){r[l]=a;break}l===c&&r.push(a)}s.tween=r}}function Rfe(n,e){var t=this._id;if(n+="",arguments.length<2){for(var i=f0(this.node(),t).tween,r=0,s=i.length,o;r<s;++r)if((o=i[r]).name===n)return o.value;return null}return this.each((e==null?Cfe:Pfe)(t,n,e))}function oy(n,e,t){var i=n._id;return n.each(function(){var r=$0(this,i);(r.value||(r.value={}))[e]=t.apply(this,arguments)}),function(r){return f0(r,i).value[e]}}function ID(n,e){var t;return(typeof e=="number"?Ns:e instanceof Za?xp:(t=Za(e))?(e=t,xp):Jx)(n,e)}function Ffe(n){return function(){this.removeAttribute(n)}}function Ife(n){return function(){this.removeAttributeNS(n.space,n.local)}}function Dfe(n,e,t){var i,r=t+"",s;return function(){var o=this.getAttribute(n);return o===r?null:o===i?s:s=e(i=o,t)}}function Nfe(n,e,t){var i,r=t+"",s;return function(){var o=this.getAttributeNS(n.space,n.local);return o===r?null:o===i?s:s=e(i=o,t)}}function Ofe(n,e,t){var i,r,s;return function(){var o,a=t(this),l;return a==null?void this.removeAttribute(n):(o=this.getAttribute(n),l=a+"",o===l?null:o===i&&l===r?s:(r=l,s=e(i=o,a)))}}function Bfe(n,e,t){var i,r,s;return function(){var o,a=t(this),l;return a==null?void this.removeAttributeNS(n.space,n.local):(o=this.getAttributeNS(n.space,n.local),l=a+"",o===l?null:o===i&&l===r?s:(r=l,s=e(i=o,a)))}}function Ufe(n,e){var t=pp(n),i=t==="transform"?_D:ID;return this.attrTween(n,typeof e=="function"?(t.local?Bfe:Ofe)(t,i,oy(this,"attr."+n,e)):e==null?(t.local?Ife:Ffe)(t):(t.local?Nfe:Dfe)(t,i,e))}function zfe(n,e){return function(t){this.setAttribute(n,e.call(this,t))}}function kfe(n,e){return function(t){this.setAttributeNS(n.space,n.local,e.call(this,t))}}function Hfe(n,e){var t,i;function r(){var s=e.apply(this,arguments);return s!==i&&(t=(i=s)&&kfe(n,s)),t}return r._value=e,r}function Gfe(n,e){var t,i;function r(){var s=e.apply(this,arguments);return s!==i&&(t=(i=s)&&zfe(n,s)),t}return r._value=e,r}function Vfe(n,e){var t="attr."+n;if(arguments.length<2)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;var i=pp(n);return this.tween(t,(i.local?Hfe:Gfe)(i,e))}function Wfe(n,e){return function(){sy(this,n).delay=+e.apply(this,arguments)}}function Xfe(n,e){return e=+e,function(){sy(this,n).delay=e}}function Yfe(n){var e=this._id;return arguments.length?this.each((typeof n=="function"?Wfe:Xfe)(e,n)):f0(this.node(),e).delay}function $fe(n,e){return function(){$0(this,n).duration=+e.apply(this,arguments)}}function qfe(n,e){return e=+e,function(){$0(this,n).duration=e}}function jfe(n){var e=this._id;return arguments.length?this.each((typeof n=="function"?$fe:qfe)(e,n)):f0(this.node(),e).duration}function Zfe(n,e){if(typeof e!="function")throw new Error;return function(){$0(this,n).ease=e}}function Qfe(n){var e=this._id;return arguments.length?this.each(Zfe(e,n)):f0(this.node(),e).ease}function Jfe(n,e){return function(){var t=e.apply(this,arguments);if(typeof t!="function")throw new Error;$0(this,n).ease=t}}function Kfe(n){if(typeof n!="function")throw new Error;return this.each(Jfe(this._id,n))}function ehe(n){typeof n!="function"&&(n=Ix(n));for(var e=this._groups,t=e.length,i=new Array(t),r=0;r<t;++r)for(var s=e[r],o=s.length,a=i[r]=[],l,c=0;c<o;++c)(l=s[c])&&n.call(l,l.__data__,c,s)&&a.push(l);return new q0(i,this._parents,this._name,this._id)}function the(n){if(n._id!==this._id)throw new Error;for(var e=this._groups,t=n._groups,i=e.length,r=t.length,s=Math.min(i,r),o=new Array(i),a=0;a<s;++a)for(var l=e[a],c=t[a],u=l.length,f=o[a]=new Array(u),h,d=0;d<u;++d)(h=l[d]||c[d])&&(f[d]=h);for(;a<i;++a)o[a]=e[a];return new q0(o,this._parents,this._name,this._id)}function nhe(n){return(n+"").trim().split(/^|\s+/).every(function(e){var t=e.indexOf(".");return t>=0&&(e=e.slice(0,t)),!e||e==="start"})}function ihe(n,e,t){var i,r,s=nhe(e)?sy:$0;return function(){var o=s(this,n),a=o.on;a!==i&&(r=(i=a).copy()).on(e,t),o.on=r}}function rhe(n,e){var t=this._id;return arguments.length<2?f0(this.node(),t).on.on(n):this.each(ihe(t,n,e))}function she(n){return function(){var e=this.parentNode;for(var t in this.__transition)if(+t!==n)return;e&&e.removeChild(this)}}function ohe(){return this.on("end.remove",she(this._id))}function ahe(n){var e=this._name,t=this._id;typeof n!="function"&&(n=W9(n));for(var i=this._groups,r=i.length,s=new Array(r),o=0;o<r;++o)for(var a=i[o],l=a.length,c=s[o]=new Array(l),u,f,h=0;h<l;++h)(u=a[h])&&(f=n.call(u,u.__data__,h,a))&&("__data__"in u&&(f.__data__=u.__data__),c[h]=f,h4(c[h],e,t,h,c,f0(u,t)));return new q0(s,this._parents,e,t)}function lhe(n){var e=this._name,t=this._id;typeof n!="function"&&(n=Fx(n));for(var i=this._groups,r=i.length,s=[],o=[],a=0;a<r;++a)for(var l=i[a],c=l.length,u,f=0;f<c;++f)if(u=l[f]){for(var h=n.call(u,u.__data__,f,l),d,m=f0(u,t),v=0,_=h.length;v<_;++v)(d=h[v])&&h4(d,e,t,v,h,m);s.push(h),o.push(u)}return new q0(s,o,e,t)}var che=Vc.prototype.constructor;function uhe(){return new che(this._groups,this._parents)}function fhe(n,e){var t,i,r;return function(){var s=Gc(this,n),o=(this.style.removeProperty(n),Gc(this,n));return s===o?null:s===t&&o===i?r:r=e(t=s,i=o)}}function DD(n){return function(){this.style.removeProperty(n)}}function hhe(n,e,t){var i,r=t+"",s;return function(){var o=Gc(this,n);return o===r?null:o===i?s:s=e(i=o,t)}}function dhe(n,e,t){var i,r,s;return function(){var o=Gc(this,n),a=t(this),l=a+"";return a==null&&(l=a=(this.style.removeProperty(n),Gc(this,n))),o===l?null:o===i&&l===r?s:(r=l,s=e(i=o,a))}}function phe(n,e){var t,i,r,s="style."+e,o="end."+s,a;return function(){var l=$0(this,n),c=l.on,u=l.value[s]==null?a||(a=DD(e)):void 0;(c!==t||r!==u)&&(i=(t=c).copy()).on(o,r=u),l.on=i}}function mhe(n,e,t){var i=(n+="")==="transform"?yD:ID;return e==null?this.styleTween(n,fhe(n,i)).on("end.style."+n,DD(n)):typeof e=="function"?this.styleTween(n,dhe(n,i,oy(this,"style."+n,e))).each(phe(this._id,n)):this.styleTween(n,hhe(n,i,e),t).on("end.style."+n,null)}function ghe(n,e,t){return function(i){this.style.setProperty(n,e.call(this,i),t)}}function vhe(n,e,t){var i,r;function s(){var o=e.apply(this,arguments);return o!==r&&(i=(r=o)&&ghe(n,o,t)),i}return s._value=e,s}function xhe(n,e,t){var i="style."+(n+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(e==null)return this.tween(i,null);if(typeof e!="function")throw new Error;return this.tween(i,vhe(n,e,t==null?"":t))}function yhe(n){return function(){this.textContent=n}}function _he(n){return function(){var e=n(this);this.textContent=e==null?"":e}}function bhe(n){return this.tween("text",typeof n=="function"?_he(oy(this,"text",n)):yhe(n==null?"":n+""))}function whe(n){return function(e){this.textContent=n.call(this,e)}}function Mhe(n){var e,t;function i(){var r=n.apply(this,arguments);return r!==t&&(e=(t=r)&&whe(r)),e}return i._value=n,i}function She(n){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(n==null)return this.tween(e,null);if(typeof n!="function")throw new Error;return this.tween(e,Mhe(n))}function Ahe(){for(var n=this._name,e=this._id,t=OD(),i=this._groups,r=i.length,s=0;s<r;++s)for(var o=i[s],a=o.length,l,c=0;c<a;++c)if(l=o[c]){var u=f0(l,e);h4(l,n,t,c,o,{time:u.time+u.delay+u.duration,delay:0,duration:u.duration,ease:u.ease})}return new q0(i,this._parents,n,t)}function The(){var n,e,t=this,i=t._id,r=t.size();return new Promise(function(s,o){var a={value:o},l={value:function(){--r==0&&s()}};t.each(function(){var c=$0(this,i),u=c.on;u!==n&&(e=(n=u).copy(),e._.cancel.push(a),e._.interrupt.push(a),e._.end.push(l)),c.on=e}),r===0&&s()})}var Ehe=0;function q0(n,e,t,i){this._groups=n,this._parents=e,this._name=t,this._id=i}function ND(n){return Vc().transition(n)}function OD(){return++Ehe}var qc=Vc.prototype;q0.prototype=ND.prototype={constructor:q0,select:ahe,selectAll:lhe,filter:ehe,merge:the,selection:uhe,transition:Ahe,call:qc.call,nodes:qc.nodes,node:qc.node,size:qc.size,empty:qc.empty,each:qc.each,on:rhe,attr:Ufe,attrTween:Vfe,style:mhe,styleTween:xhe,text:bhe,textTween:She,remove:ohe,tween:Rfe,delay:Yfe,duration:jfe,ease:Qfe,easeVarying:Kfe,end:The,[Symbol.iterator]:qc[Symbol.iterator]};const Lhe=n=>+n;function Che(n){return n*n}function Phe(n){return n*(2-n)}function BD(n){return((n*=2)<=1?n*n:--n*(2-n)+1)/2}function Rhe(n){return n*n*n}function Fhe(n){return--n*n*n+1}function ay(n){return((n*=2)<=1?n*n*n:(n-=2)*n*n+2)/2}var ly=3,Ihe=function n(e){e=+e;function t(i){return Math.pow(i,e)}return t.exponent=n,t}(ly),Dhe=function n(e){e=+e;function t(i){return 1-Math.pow(1-i,e)}return t.exponent=n,t}(ly),UD=function n(e){e=+e;function t(i){return((i*=2)<=1?Math.pow(i,e):2-Math.pow(2-i,e))/2}return t.exponent=n,t}(ly),zD=Math.PI,kD=zD/2;function Nhe(n){return+n==1?1:1-Math.cos(n*kD)}function Ohe(n){return Math.sin(n*kD)}function HD(n){return(1-Math.cos(zD*n))/2}function Ja(n){return(Math.pow(2,-10*n)-.0009765625)*1.0009775171065494}function Bhe(n){return Ja(1-+n)}function Uhe(n){return 1-Ja(n)}function GD(n){return((n*=2)<=1?Ja(1-n):2-Ja(n-1))/2}function zhe(n){return 1-Math.sqrt(1-n*n)}function khe(n){return Math.sqrt(1- --n*n)}function VD(n){return((n*=2)<=1?1-Math.sqrt(1-n*n):Math.sqrt(1-(n-=2)*n)+1)/2}var cy=4/11,Hhe=6/11,Ghe=8/11,Vhe=3/4,Whe=9/11,Xhe=10/11,Yhe=15/16,$he=21/22,qhe=63/64,d4=1/cy/cy;function jhe(n){return 1-Ap(1-n)}function Ap(n){return(n=+n)<cy?d4*n*n:n<Ghe?d4*(n-=Hhe)*n+Vhe:n<Xhe?d4*(n-=Whe)*n+Yhe:d4*(n-=$he)*n+qhe}function Zhe(n){return((n*=2)<=1?1-Ap(1-n):Ap(n-1)+1)/2}var uy=1.70158,Qhe=function n(e){e=+e;function t(i){return(i=+i)*i*(e*(i-1)+i)}return t.overshoot=n,t}(uy),Jhe=function n(e){e=+e;function t(i){return--i*i*((i+1)*e+i)+1}return t.overshoot=n,t}(uy),WD=function n(e){e=+e;function t(i){return((i*=2)<1?i*i*((e+1)*i-e):(i-=2)*i*((e+1)*i+e)+2)/2}return t.overshoot=n,t}(uy),hh=2*Math.PI,fy=1,hy=.3,Khe=function n(e,t){var i=Math.asin(1/(e=Math.max(1,e)))*(t/=hh);function r(s){return e*Ja(- --s)*Math.sin((i-s)/t)}return r.amplitude=function(s){return n(s,t*hh)},r.period=function(s){return n(e,s)},r}(fy,hy),XD=function n(e,t){var i=Math.asin(1/(e=Math.max(1,e)))*(t/=hh);function r(s){return 1-e*Ja(s=+s)*Math.sin((s+i)/t)}return r.amplitude=function(s){return n(s,t*hh)},r.period=function(s){return n(e,s)},r}(fy,hy),ede=function n(e,t){var i=Math.asin(1/(e=Math.max(1,e)))*(t/=hh);function r(s){return((s=s*2-1)<0?e*Ja(-s)*Math.sin((i-s)/t):2-e*Ja(s)*Math.sin((i+s)/t))/2}return r.amplitude=function(s){return n(s,t*hh)},r.period=function(s){return n(e,s)},r}(fy,hy),tde={time:null,delay:0,duration:250,ease:ay};function nde(n,e){for(var t;!(t=n.__transition)||!(t=t[e]);)if(!(n=n.parentNode))throw new Error(`transition ${e} not found`);return t}function ide(n){var e,t;n instanceof q0?(e=n._id,n=n._name):(e=OD(),(t=tde).time=Mp(),n=n==null?null:n+"");for(var i=this._groups,r=i.length,s=0;s<r;++s)for(var o=i[s],a=o.length,l,c=0;c<a;++c)(l=o[c])&&h4(l,n,e,c,o,t||nde(l,e));return new q0(i,this._parents,n,e)}Vc.prototype.interrupt=Lfe;Vc.prototype.transition=ide;var rde=[null];function sde(n,e){var t=n.__transition,i,r;if(t){e=e==null?null:e+"";for(r in t)if((i=t[r]).state>ny&&i.name===e)return new q0([[n]],rde,e,+r)}return null}var dy=n=>()=>n;function ode(n,{sourceEvent:e,target:t,selection:i,mode:r,dispatch:s}){Object.defineProperties(this,{type:{value:n,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:t,enumerable:!0,configurable:!0},selection:{value:i,enumerable:!0,configurable:!0},mode:{value:r,enumerable:!0,configurable:!0},_:{value:s}})}function ade(n){n.stopImmediatePropagation()}function py(n){n.preventDefault(),n.stopImmediatePropagation()}var YD={name:"drag"},my={name:"space"},dh={name:"handle"},ph={name:"center"};const{abs:$D,max:$i,min:qi}=Math;function qD(n){return[+n[0],+n[1]]}function gy(n){return[qD(n[0]),qD(n[1])]}var p4={name:"x",handles:["w","e"].map(Tp),input:function(n,e){return n==null?null:[[+n[0],e[0][1]],[+n[1],e[1][1]]]},output:function(n){return n&&[n[0][0],n[1][0]]}},m4={name:"y",handles:["n","s"].map(Tp),input:function(n,e){return n==null?null:[[e[0][0],+n[0]],[e[1][0],+n[1]]]},output:function(n){return n&&[n[0][1],n[1][1]]}},lde={name:"xy",handles:["n","w","e","s","nw","ne","sw","se"].map(Tp),input:function(n){return n==null?null:gy(n)},output:function(n){return n}},Go={overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},jD={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},ZD={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},cde={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},ude={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1};function Tp(n){return{type:n}}function fde(n){return!n.ctrlKey&&!n.button}function hde(){var n=this.ownerSVGElement||this;return n.hasAttribute("viewBox")?(n=n.viewBox.baseVal,[[n.x,n.y],[n.x+n.width,n.y+n.height]]):[[0,0],[n.width.baseVal.value,n.height.baseVal.value]]}function dde(){return navigator.maxTouchPoints||"ontouchstart"in this}function vy(n){for(;!n.__brush;)if(!(n=n.parentNode))return;return n.__brush}function pde(n){return n[0][0]===n[1][0]||n[0][1]===n[1][1]}function mde(n){var e=n.__brush;return e?e.dim.output(e.selection):null}function gde(){return xy(p4)}function vde(){return xy(m4)}function xde(){return xy(lde)}function xy(n){var e=hde,t=fde,i=dde,r=!0,s=Hc("start","brush","end"),o=6,a;function l(_){var g=_.property("__brush",v).selectAll(".overlay").data([Tp("overlay")]);g.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",Go.overlay).merge(g).each(function(){var b=vy(this).extent;Yi(this).attr("x",b[0][0]).attr("y",b[0][1]).attr("width",b[1][0]-b[0][0]).attr("height",b[1][1]-b[0][1])}),_.selectAll(".selection").data([Tp("selection")]).enter().append("rect").attr("class","selection").attr("cursor",Go.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var x=_.selectAll(".handle").data(n.handles,function(b){return b.type});x.exit().remove(),x.enter().append("rect").attr("class",function(b){return"handle handle--"+b.type}).attr("cursor",function(b){return Go[b.type]}),_.each(c).attr("fill","none").attr("pointer-events","all").on("mousedown.brush",h).filter(i).on("touchstart.brush",h).on("touchmove.brush",d).on("touchend.brush touchcancel.brush",m).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}l.move=function(_,g){_.tween?_.on("start.brush",function(x){u(this,arguments).beforestart().start(x)}).on("interrupt.brush end.brush",function(x){u(this,arguments).end(x)}).tween("brush",function(){var x=this,b=x.__brush,w=u(x,arguments),S=b.selection,A=n.input(typeof g=="function"?g.apply(this,arguments):g,b.extent),T=Qa(S,A);function F(U){b.selection=U===1&&A===null?null:T(U),c.call(x),w.brush()}return S!==null&&A!==null?F:F(1)}):_.each(function(){var x=this,b=arguments,w=x.__brush,S=n.input(typeof g=="function"?g.apply(x,b):g,w.extent),A=u(x,b).beforestart();$c(x),w.selection=S===null?null:S,c.call(x),A.start().brush().end()})},l.clear=function(_){l.move(_,null)};function c(){var _=Yi(this),g=vy(this).selection;g?(_.selectAll(".selection").style("display",null).attr("x",g[0][0]).attr("y",g[0][1]).attr("width",g[1][0]-g[0][0]).attr("height",g[1][1]-g[0][1]),_.selectAll(".handle").style("display",null).attr("x",function(x){return x.type[x.type.length-1]==="e"?g[1][0]-o/2:g[0][0]-o/2}).attr("y",function(x){return x.type[0]==="s"?g[1][1]-o/2:g[0][1]-o/2}).attr("width",function(x){return x.type==="n"||x.type==="s"?g[1][0]-g[0][0]+o:o}).attr("height",function(x){return x.type==="e"||x.type==="w"?g[1][1]-g[0][1]+o:o})):_.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function u(_,g,x){var b=_.__brush.emitter;return b&&(!x||!b.clean)?b:new f(_,g,x)}function f(_,g,x){this.that=_,this.args=g,this.state=_.__brush,this.active=0,this.clean=x}f.prototype={beforestart:function(){return++this.active==1&&(this.state.emitter=this,this.starting=!0),this},start:function(_,g){return this.starting?(this.starting=!1,this.emit("start",_,g)):this.emit("brush",_),this},brush:function(_,g){return this.emit("brush",_,g),this},end:function(_,g){return--this.active==0&&(delete this.state.emitter,this.emit("end",_,g)),this},emit:function(_,g,x){var b=Yi(this.that).datum();s.call(_,this.that,new ode(_,{sourceEvent:g,target:l,selection:n.output(this.state.selection),mode:x,dispatch:s}),b)}};function h(_){if(a&&!_.touches||!t.apply(this,arguments))return;var g=this,x=_.target.__data__.type,b=(r&&_.metaKey?x="overlay":x)==="selection"?YD:r&&_.altKey?ph:dh,w=n===m4?null:cde[x],S=n===p4?null:ude[x],A=vy(g),T=A.extent,F=A.selection,U=T[0][0],N,O,G=T[0][1],D,P,I=T[1][0],C,B,Y=T[1][1],j,re,ie=0,ve=0,de,ye=w&&S&&r&&_.shiftKey,te,$,ge=Array.from(_.touches||[_],L=>{const E=L.identifier;return L=ts(L,g),L.point0=L.slice(),L.identifier=E,L});if(x==="overlay"){F&&(de=!0);const L=[ge[0],ge[1]||ge[0]];A.selection=F=[[N=n===m4?U:qi(L[0][0],L[1][0]),D=n===p4?G:qi(L[0][1],L[1][1])],[C=n===m4?I:$i(L[0][0],L[1][0]),j=n===p4?Y:$i(L[0][1],L[1][1])]],ge.length>1&&z()}else N=F[0][0],D=F[0][1],C=F[1][0],j=F[1][1];O=N,P=D,B=C,re=j;var be=Yi(g).attr("pointer-events","none"),ue=be.selectAll(".overlay").attr("cursor",Go[x]);$c(g);var _e=u(g,arguments,!0).beforestart();if(_.touches)_e.moved=X,_e.ended=W;else{var Te=Yi(_.view).on("mousemove.brush",X,!0).on("mouseup.brush",W,!0);r&&Te.on("keydown.brush",se,!0).on("keyup.brush",ae,!0),Y9(_.view)}c.call(g),_e.start(_,b.name);function X(L){for(const E of L.changedTouches||[L])for(const J of ge)J.identifier===E.identifier&&(J.cur=ts(E,g));if(ye&&!te&&!$&&ge.length===1){const E=ge[0];$D(E.cur[0]-E[0])>$D(E.cur[1]-E[1])?$=!0:te=!0}for(const E of ge)E.cur&&(E[0]=E.cur[0],E[1]=E.cur[1]);de=!0,py(L),z(L)}function z(L){const E=ge[0],J=E.point0;var K;switch(ie=E[0]-J[0],ve=E[1]-J[1],b){case my:case YD:{w&&(ie=$i(U-N,qi(I-C,ie)),O=N+ie,B=C+ie),S&&(ve=$i(G-D,qi(Y-j,ve)),P=D+ve,re=j+ve);break}case dh:{ge[1]?(w&&(O=$i(U,qi(I,ge[0][0])),B=$i(U,qi(I,ge[1][0])),w=1),S&&(P=$i(G,qi(Y,ge[0][1])),re=$i(G,qi(Y,ge[1][1])),S=1)):(w<0?(ie=$i(U-N,qi(I-N,ie)),O=N+ie,B=C):w>0&&(ie=$i(U-C,qi(I-C,ie)),O=N,B=C+ie),S<0?(ve=$i(G-D,qi(Y-D,ve)),P=D+ve,re=j):S>0&&(ve=$i(G-j,qi(Y-j,ve)),P=D,re=j+ve));break}case ph:{w&&(O=$i(U,qi(I,N-ie*w)),B=$i(U,qi(I,C+ie*w))),S&&(P=$i(G,qi(Y,D-ve*S)),re=$i(G,qi(Y,j+ve*S)));break}}B<O&&(w*=-1,K=N,N=C,C=K,K=O,O=B,B=K,x in jD&&ue.attr("cursor",Go[x=jD[x]])),re<P&&(S*=-1,K=D,D=j,j=K,K=P,P=re,re=K,x in ZD&&ue.attr("cursor",Go[x=ZD[x]])),A.selection&&(F=A.selection),te&&(O=F[0][0],B=F[1][0]),$&&(P=F[0][1],re=F[1][1]),(F[0][0]!==O||F[0][1]!==P||F[1][0]!==B||F[1][1]!==re)&&(A.selection=[[O,P],[B,re]],c.call(g),_e.brush(L,b.name))}function W(L){if(ade(L),L.touches){if(L.touches.length)return;a&&clearTimeout(a),a=setTimeout(function(){a=null},500)}else $9(L.view,de),Te.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);be.attr("pointer-events","all"),ue.attr("cursor",Go.overlay),A.selection&&(F=A.selection),pde(F)&&(A.selection=null,c.call(g)),_e.end(L,b.name)}function se(L){switch(L.keyCode){case 16:{ye=w&&S;break}case 18:{b===dh&&(w&&(C=B-ie*w,N=O+ie*w),S&&(j=re-ve*S,D=P+ve*S),b=ph,z());break}case 32:{(b===dh||b===ph)&&(w<0?C=B-ie:w>0&&(N=O-ie),S<0?j=re-ve:S>0&&(D=P-ve),b=my,ue.attr("cursor",Go.selection),z());break}default:return}py(L)}function ae(L){switch(L.keyCode){case 16:{ye&&(te=$=ye=!1,z());break}case 18:{b===ph&&(w<0?C=B:w>0&&(N=O),S<0?j=re:S>0&&(D=P),b=dh,z());break}case 32:{b===my&&(L.altKey?(w&&(C=B-ie*w,N=O+ie*w),S&&(j=re-ve*S,D=P+ve*S),b=ph):(w<0?C=B:w>0&&(N=O),S<0?j=re:S>0&&(D=P),b=dh),ue.attr("cursor",Go[x]),z());break}default:return}py(L)}}function d(_){u(this,arguments).moved(_)}function m(_){u(this,arguments).ended(_)}function v(){var _=this.__brush||{selection:null};return _.extent=gy(e.apply(this,arguments)),_.dim=n,_}return l.extent=function(_){return arguments.length?(e=typeof _=="function"?_:dy(gy(_)),l):e},l.filter=function(_){return arguments.length?(t=typeof _=="function"?_:dy(!!_),l):t},l.touchable=function(_){return arguments.length?(i=typeof _=="function"?_:dy(!!_),l):i},l.handleSize=function(_){return arguments.length?(o=+_,l):o},l.keyModifiers=function(_){return arguments.length?(r=!!_,l):r},l.on=function(){var _=s.on.apply(s,arguments);return _===s?l:_},l}var QD=Math.abs,mh=Math.cos,gh=Math.sin,JD=Math.PI,g4=JD/2,KD=JD*2,eN=Math.max,yy=1e-12;function _y(n,e){return Array.from({length:e-n},(t,i)=>n+i)}function yde(n){return function(e,t){return n(e.source.value+e.target.value,t.source.value+t.target.value)}}function _de(){return by(!1,!1)}function bde(){return by(!1,!0)}function wde(){return by(!0,!1)}function by(n,e){var t=0,i=null,r=null,s=null;function o(a){var l=a.length,c=new Array(l),u=_y(0,l),f=new Array(l*l),h=new Array(l),d=0,m;a=Float64Array.from({length:l*l},e?(v,_)=>a[_%l][_/l|0]:(v,_)=>a[_/l|0][_%l]);for(let v=0;v<l;++v){let _=0;for(let g=0;g<l;++g)_+=a[v*l+g]+n*a[g*l+v];d+=c[v]=_}d=eN(0,KD-t*l)/d,m=d?t:KD/l;{let v=0;i&&u.sort((_,g)=>i(c[_],c[g]));for(const _ of u){const g=v;if(n){const x=_y(~l+1,l).filter(b=>b<0?a[~b*l+_]:a[_*l+b]);r&&x.sort((b,w)=>r(b<0?-a[~b*l+_]:a[_*l+b],w<0?-a[~w*l+_]:a[_*l+w]));for(const b of x)if(b<0){const w=f[~b*l+_]||(f[~b*l+_]={source:null,target:null});w.target={index:_,startAngle:v,endAngle:v+=a[~b*l+_]*d,value:a[~b*l+_]}}else{const w=f[_*l+b]||(f[_*l+b]={source:null,target:null});w.source={index:_,startAngle:v,endAngle:v+=a[_*l+b]*d,value:a[_*l+b]}}h[_]={index:_,startAngle:g,endAngle:v,value:c[_]}}else{const x=_y(0,l).filter(b=>a[_*l+b]||a[b*l+_]);r&&x.sort((b,w)=>r(a[_*l+b],a[_*l+w]));for(const b of x){let w;if(_<b?(w=f[_*l+b]||(f[_*l+b]={source:null,target:null}),w.source={index:_,startAngle:v,endAngle:v+=a[_*l+b]*d,value:a[_*l+b]}):(w=f[b*l+_]||(f[b*l+_]={source:null,target:null}),w.target={index:_,startAngle:v,endAngle:v+=a[_*l+b]*d,value:a[_*l+b]},_===b&&(w.source=w.target)),w.source&&w.target&&w.source.value<w.target.value){const S=w.source;w.source=w.target,w.target=S}}h[_]={index:_,startAngle:g,endAngle:v,value:c[_]}}v+=m}}return f=Object.values(f),f.groups=h,s?f.sort(s):f}return o.padAngle=function(a){return arguments.length?(t=eN(0,a),o):t},o.sortGroups=function(a){return arguments.length?(i=a,o):i},o.sortSubgroups=function(a){return arguments.length?(r=a,o):r},o.sortChords=function(a){return arguments.length?(a==null?s=null:(s=yde(a))._=a,o):s&&s._},o}const wy=Math.PI,My=2*wy,jc=1e-6,Mde=My-jc;function Sy(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function Ka(){return new Sy}Sy.prototype=Ka.prototype={constructor:Sy,moveTo:function(n,e){this._+="M"+(this._x0=this._x1=+n)+","+(this._y0=this._y1=+e)},closePath:function(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(n,e){this._+="L"+(this._x1=+n)+","+(this._y1=+e)},quadraticCurveTo:function(n,e,t,i){this._+="Q"+ +n+","+ +e+","+(this._x1=+t)+","+(this._y1=+i)},bezierCurveTo:function(n,e,t,i,r,s){this._+="C"+ +n+","+ +e+","+ +t+","+ +i+","+(this._x1=+r)+","+(this._y1=+s)},arcTo:function(n,e,t,i,r){n=+n,e=+e,t=+t,i=+i,r=+r;var s=this._x1,o=this._y1,a=t-n,l=i-e,c=s-n,u=o-e,f=c*c+u*u;if(r<0)throw new Error("negative radius: "+r);if(this._x1===null)this._+="M"+(this._x1=n)+","+(this._y1=e);else if(f>jc)if(!(Math.abs(u*a-l*c)>jc)||!r)this._+="L"+(this._x1=n)+","+(this._y1=e);else{var h=t-s,d=i-o,m=a*a+l*l,v=h*h+d*d,_=Math.sqrt(m),g=Math.sqrt(f),x=r*Math.tan((wy-Math.acos((m+f-v)/(2*_*g)))/2),b=x/g,w=x/_;Math.abs(b-1)>jc&&(this._+="L"+(n+b*c)+","+(e+b*u)),this._+="A"+r+","+r+",0,0,"+ +(u*h>c*d)+","+(this._x1=n+w*a)+","+(this._y1=e+w*l)}},arc:function(n,e,t,i,r,s){n=+n,e=+e,t=+t,s=!!s;var o=t*Math.cos(i),a=t*Math.sin(i),l=n+o,c=e+a,u=1^s,f=s?i-r:r-i;if(t<0)throw new Error("negative radius: "+t);this._x1===null?this._+="M"+l+","+c:(Math.abs(this._x1-l)>jc||Math.abs(this._y1-c)>jc)&&(this._+="L"+l+","+c),!!t&&(f<0&&(f=f%My+My),f>Mde?this._+="A"+t+","+t+",0,1,"+u+","+(n-o)+","+(e-a)+"A"+t+","+t+",0,1,"+u+","+(this._x1=l)+","+(this._y1=c):f>jc&&(this._+="A"+t+","+t+",0,"+ +(f>=wy)+","+u+","+(this._x1=n+t*Math.cos(r))+","+(this._y1=e+t*Math.sin(r))))},rect:function(n,e,t,i){this._+="M"+(this._x0=this._x1=+n)+","+(this._y0=this._y1=+e)+"h"+ +t+"v"+ +i+"h"+-t+"Z"},toString:function(){return this._}};var Sde=Array.prototype.slice;function Zc(n){return function(){return n}}function Ade(n){return n.source}function Tde(n){return n.target}function tN(n){return n.radius}function Ede(n){return n.startAngle}function Lde(n){return n.endAngle}function Cde(){return 0}function Pde(){return 10}function nN(n){var e=Ade,t=Tde,i=tN,r=tN,s=Ede,o=Lde,a=Cde,l=null;function c(){var u,f=e.apply(this,arguments),h=t.apply(this,arguments),d=a.apply(this,arguments)/2,m=Sde.call(arguments),v=+i.apply(this,(m[0]=f,m)),_=s.apply(this,m)-g4,g=o.apply(this,m)-g4,x=+r.apply(this,(m[0]=h,m)),b=s.apply(this,m)-g4,w=o.apply(this,m)-g4;if(l||(l=u=Ka()),d>yy&&(QD(g-_)>d*2+yy?g>_?(_+=d,g-=d):(_-=d,g+=d):_=g=(_+g)/2,QD(w-b)>d*2+yy?w>b?(b+=d,w-=d):(b-=d,w+=d):b=w=(b+w)/2),l.moveTo(v*mh(_),v*gh(_)),l.arc(0,0,v,_,g),_!==b||g!==w)if(n){var S=+n.apply(this,arguments),A=x-S,T=(b+w)/2;l.quadraticCurveTo(0,0,A*mh(b),A*gh(b)),l.lineTo(x*mh(T),x*gh(T)),l.lineTo(A*mh(w),A*gh(w))}else l.quadraticCurveTo(0,0,x*mh(b),x*gh(b)),l.arc(0,0,x,b,w);if(l.quadraticCurveTo(0,0,v*mh(_),v*gh(_)),l.closePath(),u)return l=null,u+""||null}return n&&(c.headRadius=function(u){return arguments.length?(n=typeof u=="function"?u:Zc(+u),c):n}),c.radius=function(u){return arguments.length?(i=r=typeof u=="function"?u:Zc(+u),c):i},c.sourceRadius=function(u){return arguments.length?(i=typeof u=="function"?u:Zc(+u),c):i},c.targetRadius=function(u){return arguments.length?(r=typeof u=="function"?u:Zc(+u),c):r},c.startAngle=function(u){return arguments.length?(s=typeof u=="function"?u:Zc(+u),c):s},c.endAngle=function(u){return arguments.length?(o=typeof u=="function"?u:Zc(+u),c):o},c.padAngle=function(u){return arguments.length?(a=typeof u=="function"?u:Zc(+u),c):a},c.source=function(u){return arguments.length?(e=u,c):e},c.target=function(u){return arguments.length?(t=u,c):t},c.context=function(u){return arguments.length?(l=u==null?null:u,c):l},c}function Rde(){return nN()}function Fde(){return nN(Pde)}var Ide=Array.prototype,iN=Ide.slice;function Dde(n,e){return n-e}function Nde(n){for(var e=0,t=n.length,i=n[t-1][1]*n[0][0]-n[t-1][0]*n[0][1];++e<t;)i+=n[e-1][1]*n[e][0]-n[e-1][0]*n[e][1];return i}var el=n=>()=>n;function Ode(n,e){for(var t=-1,i=e.length,r;++t<i;)if(r=Bde(n,e[t]))return r;return 0}function Bde(n,e){for(var t=e[0],i=e[1],r=-1,s=0,o=n.length,a=o-1;s<o;a=s++){var l=n[s],c=l[0],u=l[1],f=n[a],h=f[0],d=f[1];if(Ude(l,f,e))return 0;u>i!=d>i&&t<(h-c)*(i-u)/(d-u)+c&&(r=-r)}return r}function Ude(n,e,t){var i;return zde(n,e,t)&&kde(n[i=+(n[0]===e[0])],t[i],e[i])}function zde(n,e,t){return(e[0]-n[0])*(t[1]-n[1])==(t[0]-n[0])*(e[1]-n[1])}function kde(n,e,t){return n<=e&&e<=t||t<=e&&e<=n}function Hde(){}var Vo=[[],[[[1,1.5],[.5,1]]],[[[1.5,1],[1,1.5]]],[[[1.5,1],[.5,1]]],[[[1,.5],[1.5,1]]],[[[1,1.5],[.5,1]],[[1,.5],[1.5,1]]],[[[1,.5],[1,1.5]]],[[[1,.5],[.5,1]]],[[[.5,1],[1,.5]]],[[[1,1.5],[1,.5]]],[[[.5,1],[1,.5]],[[1.5,1],[1,1.5]]],[[[1.5,1],[1,.5]]],[[[.5,1],[1.5,1]]],[[[1,1.5],[1.5,1]]],[[[.5,1],[1,1.5]]],[]];function rN(){var n=1,e=1,t=Sx,i=l;function r(c){var u=t(c);if(Array.isArray(u))u=u.slice().sort(Dde);else{var f=lp(c),h=f[0],d=f[1];u=rh(h,d,u),u=V0(Math.floor(h/u)*u,Math.floor(d/u)*u,u)}return u.map(function(m){return s(c,m)})}function s(c,u){var f=[],h=[];return o(c,u,function(d){i(d,c,u),Nde(d)>0?f.push([d]):h.push(d)}),h.forEach(function(d){for(var m=0,v=f.length,_;m<v;++m)if(Ode((_=f[m])[0],d)!==-1){_.push(d);return}}),{type:"MultiPolygon",value:u,coordinates:f}}function o(c,u,f){var h=new Array,d=new Array,m,v,_,g,x,b;for(m=v=-1,g=c[0]>=u,Vo[g<<1].forEach(w);++m<n-1;)_=g,g=c[m+1]>=u,Vo[_|g<<1].forEach(w);for(Vo[g<<0].forEach(w);++v<e-1;){for(m=-1,g=c[v*n+n]>=u,x=c[v*n]>=u,Vo[g<<1|x<<2].forEach(w);++m<n-1;)_=g,g=c[v*n+n+m+1]>=u,b=x,x=c[v*n+m+1]>=u,Vo[_|g<<1|x<<2|b<<3].forEach(w);Vo[g|x<<3].forEach(w)}for(m=-1,x=c[v*n]>=u,Vo[x<<2].forEach(w);++m<n-1;)b=x,x=c[v*n+m+1]>=u,Vo[x<<2|b<<3].forEach(w);Vo[x<<3].forEach(w);function w(S){var A=[S[0][0]+m,S[0][1]+v],T=[S[1][0]+m,S[1][1]+v],F=a(A),U=a(T),N,O;(N=d[F])?(O=h[U])?(delete d[N.end],delete h[O.start],N===O?(N.ring.push(T),f(N.ring)):h[N.start]=d[O.end]={start:N.start,end:O.end,ring:N.ring.concat(O.ring)}):(delete d[N.end],N.ring.push(T),d[N.end=U]=N):(N=h[U])?(O=d[F])?(delete h[N.start],delete d[O.end],N===O?(N.ring.push(T),f(N.ring)):h[O.start]=d[N.end]={start:O.start,end:N.end,ring:O.ring.concat(N.ring)}):(delete h[N.start],N.ring.unshift(A),h[N.start=F]=N):h[F]=d[U]={start:F,end:U,ring:[A,T]}}}function a(c){return c[0]*2+c[1]*(n+1)*4}function l(c,u,f){c.forEach(function(h){var d=h[0],m=h[1],v=d|0,_=m|0,g,x=u[_*n+v];d>0&&d<n&&v===d&&(g=u[_*n+v-1],h[0]=d+(f-g)/(x-g)-.5),m>0&&m<e&&_===m&&(g=u[(_-1)*n+v],h[1]=m+(f-g)/(x-g)-.5)})}return r.contour=s,r.size=function(c){if(!arguments.length)return[n,e];var u=Math.floor(c[0]),f=Math.floor(c[1]);if(!(u>=0&&f>=0))throw new Error("invalid size");return n=u,e=f,r},r.thresholds=function(c){return arguments.length?(t=typeof c=="function"?c:Array.isArray(c)?el(iN.call(c)):el(c),r):t},r.smooth=function(c){return arguments.length?(i=c?l:Hde,r):i===l},r}function Ay(n,e,t){for(var i=n.width,r=n.height,s=(t<<1)+1,o=0;o<r;++o)for(var a=0,l=0;a<i+t;++a)a<i&&(l+=n.data[a+o*i]),a>=t&&(a>=s&&(l-=n.data[a-s+o*i]),e.data[a-t+o*i]=l/Math.min(a+1,i-1+s-a,s))}function Ty(n,e,t){for(var i=n.width,r=n.height,s=(t<<1)+1,o=0;o<i;++o)for(var a=0,l=0;a<r+t;++a)a<r&&(l+=n.data[o+a*i]),a>=t&&(a>=s&&(l-=n.data[o+(a-s)*i]),e.data[o+(a-t)*i]=l/Math.min(a+1,r-1+s-a,s))}function Gde(n){return n[0]}function Vde(n){return n[1]}function Wde(){return 1}function Xde(){var n=Gde,e=Vde,t=Wde,i=960,r=500,s=20,o=2,a=s*3,l=i+a*2>>o,c=r+a*2>>o,u=el(20);function f(g){var x=new Float32Array(l*c),b=new Float32Array(l*c);g.forEach(function(A,T,F){var U=+n(A,T,F)+a>>o,N=+e(A,T,F)+a>>o,O=+t(A,T,F);U>=0&&U<l&&N>=0&&N<c&&(x[U+N*l]+=O)}),Ay({width:l,height:c,data:x},{width:l,height:c,data:b},s>>o),Ty({width:l,height:c,data:b},{width:l,height:c,data:x},s>>o),Ay({width:l,height:c,data:x},{width:l,height:c,data:b},s>>o),Ty({width:l,height:c,data:b},{width:l,height:c,data:x},s>>o),Ay({width:l,height:c,data:x},{width:l,height:c,data:b},s>>o),Ty({width:l,height:c,data:b},{width:l,height:c,data:x},s>>o);var w=u(x);if(!Array.isArray(w)){var S=B9(x);w=rh(0,S,w),w=V0(0,Math.floor(S/w)*w,w),w.shift()}return rN().thresholds(w).size([l,c])(x).map(h)}function h(g){return g.value*=Math.pow(2,-2*o),g.coordinates.forEach(d),g}function d(g){g.forEach(m)}function m(g){g.forEach(v)}function v(g){g[0]=g[0]*Math.pow(2,o)-a,g[1]=g[1]*Math.pow(2,o)-a}function _(){return a=s*3,l=i+a*2>>o,c=r+a*2>>o,f}return f.x=function(g){return arguments.length?(n=typeof g=="function"?g:el(+g),f):n},f.y=function(g){return arguments.length?(e=typeof g=="function"?g:el(+g),f):e},f.weight=function(g){return arguments.length?(t=typeof g=="function"?g:el(+g),f):t},f.size=function(g){if(!arguments.length)return[i,r];var x=+g[0],b=+g[1];if(!(x>=0&&b>=0))throw new Error("invalid size");return i=x,r=b,_()},f.cellSize=function(g){if(!arguments.length)return 1<<o;if(!((g=+g)>=1))throw new Error("invalid cell size");return o=Math.floor(Math.log(g)/Math.LN2),_()},f.thresholds=function(g){return arguments.length?(u=typeof g=="function"?g:Array.isArray(g)?el(iN.call(g)):el(g),f):u},f.bandwidth=function(g){if(!arguments.length)return Math.sqrt(s*(s+1));if(!((g=+g)>=0))throw new Error("invalid bandwidth");return s=Math.round((Math.sqrt(4*g*g+1)-1)/2),_()},f}const sN=Math.pow(2,-52),v4=new Uint32Array(512);class x4{static from(e,t=Zde,i=Qde){const r=e.length,s=new Float64Array(r*2);for(let o=0;o<r;o++){const a=e[o];s[2*o]=t(a),s[2*o+1]=i(a)}return new x4(s)}constructor(e){const t=e.length>>1;if(t>0&&typeof e[0]!="number")throw new Error("Expected coords to contain numbers.");this.coords=e;const i=Math.max(2*t-5,0);this._triangles=new Uint32Array(i*3),this._halfedges=new Int32Array(i*3),this._hashSize=Math.ceil(Math.sqrt(t)),this._hullPrev=new Uint32Array(t),this._hullNext=new Uint32Array(t),this._hullTri=new Uint32Array(t),this._hullHash=new Int32Array(this._hashSize).fill(-1),this._ids=new Uint32Array(t),this._dists=new Float64Array(t),this.update()}update(){const{coords:e,_hullPrev:t,_hullNext:i,_hullTri:r,_hullHash:s}=this,o=e.length>>1;let a=1/0,l=1/0,c=-1/0,u=-1/0;for(let N=0;N<o;N++){const O=e[2*N],G=e[2*N+1];O<a&&(a=O),G<l&&(l=G),O>c&&(c=O),G>u&&(u=G),this._ids[N]=N}const f=(a+c)/2,h=(l+u)/2;let d=1/0,m,v,_;for(let N=0;N<o;N++){const O=Ey(f,h,e[2*N],e[2*N+1]);O<d&&(m=N,d=O)}const g=e[2*m],x=e[2*m+1];d=1/0;for(let N=0;N<o;N++){if(N===m)continue;const O=Ey(g,x,e[2*N],e[2*N+1]);O<d&&O>0&&(v=N,d=O)}let b=e[2*v],w=e[2*v+1],S=1/0;for(let N=0;N<o;N++){if(N===m||N===v)continue;const O=qde(g,x,b,w,e[2*N],e[2*N+1]);O<S&&(_=N,S=O)}let A=e[2*_],T=e[2*_+1];if(S===1/0){for(let G=0;G<o;G++)this._dists[G]=e[2*G]-e[0]||e[2*G+1]-e[1];vh(this._ids,this._dists,0,o-1);const N=new Uint32Array(o);let O=0;for(let G=0,D=-1/0;G<o;G++){const P=this._ids[G];this._dists[P]>D&&(N[O++]=P,D=this._dists[P])}this.hull=N.subarray(0,O),this.triangles=new Uint32Array(0),this.halfedges=new Uint32Array(0);return}if(y4(g,x,b,w,A,T)){const N=v,O=b,G=w;v=_,b=A,w=T,_=N,A=O,T=G}const F=jde(g,x,b,w,A,T);this._cx=F.x,this._cy=F.y;for(let N=0;N<o;N++)this._dists[N]=Ey(e[2*N],e[2*N+1],F.x,F.y);vh(this._ids,this._dists,0,o-1),this._hullStart=m;let U=3;i[m]=t[_]=v,i[v]=t[m]=_,i[_]=t[v]=m,r[m]=0,r[v]=1,r[_]=2,s.fill(-1),s[this._hashKey(g,x)]=m,s[this._hashKey(b,w)]=v,s[this._hashKey(A,T)]=_,this.trianglesLen=0,this._addTriangle(m,v,_,-1,-1,-1);for(let N=0,O,G;N<this._ids.length;N++){const D=this._ids[N],P=e[2*D],I=e[2*D+1];if(N>0&&Math.abs(P-O)<=sN&&Math.abs(I-G)<=sN||(O=P,G=I,D===m||D===v||D===_))continue;let C=0;for(let ie=0,ve=this._hashKey(P,I);ie<this._hashSize&&(C=s[(ve+ie)%this._hashSize],!(C!==-1&&C!==i[C]));ie++);C=t[C];let B=C,Y;for(;Y=i[B],!y4(P,I,e[2*B],e[2*B+1],e[2*Y],e[2*Y+1]);)if(B=Y,B===C){B=-1;break}if(B===-1)continue;let j=this._addTriangle(B,D,i[B],-1,-1,r[B]);r[D]=this._legalize(j+2),r[B]=j,U++;let re=i[B];for(;Y=i[re],y4(P,I,e[2*re],e[2*re+1],e[2*Y],e[2*Y+1]);)j=this._addTriangle(re,D,Y,r[D],-1,r[re]),r[D]=this._legalize(j+2),i[re]=re,U--,re=Y;if(B===C)for(;Y=t[B],y4(P,I,e[2*Y],e[2*Y+1],e[2*B],e[2*B+1]);)j=this._addTriangle(Y,D,B,-1,r[B],r[Y]),this._legalize(j+2),r[Y]=j,i[B]=B,U--,B=Y;this._hullStart=t[D]=B,i[B]=t[re]=D,i[D]=re,s[this._hashKey(P,I)]=D,s[this._hashKey(e[2*B],e[2*B+1])]=B}this.hull=new Uint32Array(U);for(let N=0,O=this._hullStart;N<U;N++)this.hull[N]=O,O=i[O];this.triangles=this._triangles.subarray(0,this.trianglesLen),this.halfedges=this._halfedges.subarray(0,this.trianglesLen)}_hashKey(e,t){return Math.floor(Yde(e-this._cx,t-this._cy)*this._hashSize)%this._hashSize}_legalize(e){const{_triangles:t,_halfedges:i,coords:r}=this;let s=0,o=0;for(;;){const a=i[e],l=e-e%3;if(o=l+(e+2)%3,a===-1){if(s===0)break;e=v4[--s];continue}const c=a-a%3,u=l+(e+1)%3,f=c+(a+2)%3,h=t[o],d=t[e],m=t[u],v=t[f];if($de(r[2*h],r[2*h+1],r[2*d],r[2*d+1],r[2*m],r[2*m+1],r[2*v],r[2*v+1])){t[e]=v,t[a]=h;const g=i[f];if(g===-1){let b=this._hullStart;do{if(this._hullTri[b]===f){this._hullTri[b]=e;break}b=this._hullPrev[b]}while(b!==this._hullStart)}this._link(e,g),this._link(a,i[o]),this._link(o,f);const x=c+(a+1)%3;s<v4.length&&(v4[s++]=x)}else{if(s===0)break;e=v4[--s]}}return o}_link(e,t){this._halfedges[e]=t,t!==-1&&(this._halfedges[t]=e)}_addTriangle(e,t,i,r,s,o){const a=this.trianglesLen;return this._triangles[a]=e,this._triangles[a+1]=t,this._triangles[a+2]=i,this._link(a,r),this._link(a+1,s),this._link(a+2,o),this.trianglesLen+=3,a}}function Yde(n,e){const t=n/(Math.abs(n)+Math.abs(e));return(e>0?3-t:1+t)/4}function Ey(n,e,t,i){const r=n-t,s=e-i;return r*r+s*s}function Ly(n,e,t,i,r,s){const o=(i-e)*(r-n),a=(t-n)*(s-e);return Math.abs(o-a)>=33306690738754716e-32*Math.abs(o+a)?o-a:0}function y4(n,e,t,i,r,s){return(Ly(r,s,n,e,t,i)||Ly(n,e,t,i,r,s)||Ly(t,i,r,s,n,e))<0}function $de(n,e,t,i,r,s,o,a){const l=n-o,c=e-a,u=t-o,f=i-a,h=r-o,d=s-a,m=l*l+c*c,v=u*u+f*f,_=h*h+d*d;return l*(f*_-v*d)-c*(u*_-v*h)+m*(u*d-f*h)<0}function qde(n,e,t,i,r,s){const o=t-n,a=i-e,l=r-n,c=s-e,u=o*o+a*a,f=l*l+c*c,h=.5/(o*c-a*l),d=(c*u-a*f)*h,m=(o*f-l*u)*h;return d*d+m*m}function jde(n,e,t,i,r,s){const o=t-n,a=i-e,l=r-n,c=s-e,u=o*o+a*a,f=l*l+c*c,h=.5/(o*c-a*l),d=n+(c*u-a*f)*h,m=e+(o*f-l*u)*h;return{x:d,y:m}}function vh(n,e,t,i){if(i-t<=20)for(let r=t+1;r<=i;r++){const s=n[r],o=e[s];let a=r-1;for(;a>=t&&e[n[a]]>o;)n[a+1]=n[a--];n[a+1]=s}else{const r=t+i>>1;let s=t+1,o=i;Ep(n,r,s),e[n[t]]>e[n[i]]&&Ep(n,t,i),e[n[s]]>e[n[i]]&&Ep(n,s,i),e[n[t]]>e[n[s]]&&Ep(n,t,s);const a=n[s],l=e[a];for(;;){do s++;while(e[n[s]]<l);do o--;while(e[n[o]]>l);if(o<s)break;Ep(n,s,o)}n[t+1]=n[o],n[o]=a,i-s+1>=o-t?(vh(n,e,s,i),vh(n,e,t,o-1)):(vh(n,e,t,o-1),vh(n,e,s,i))}}function Ep(n,e,t){const i=n[e];n[e]=n[t],n[t]=i}function Zde(n){return n[0]}function Qde(n){return n[1]}const oN=1e-6;class Qc{constructor(){this._x0=this._y0=this._x1=this._y1=null,this._=""}moveTo(e,t){this._+=`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")}lineTo(e,t){this._+=`L${this._x1=+e},${this._y1=+t}`}arc(e,t,i){e=+e,t=+t,i=+i;const r=e+i,s=t;if(i<0)throw new Error("negative radius");this._x1===null?this._+=`M${r},${s}`:(Math.abs(this._x1-r)>oN||Math.abs(this._y1-s)>oN)&&(this._+="L"+r+","+s),!!i&&(this._+=`A${i},${i},0,1,1,${e-i},${t}A${i},${i},0,1,1,${this._x1=r},${this._y1=s}`)}rect(e,t,i,r){this._+=`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}h${+i}v${+r}h${-i}Z`}value(){return this._||null}}class Cy{constructor(){this._=[]}moveTo(e,t){this._.push([e,t])}closePath(){this._.push(this._[0].slice())}lineTo(e,t){this._.push([e,t])}value(){return this._.length?this._:null}}class aN{constructor(e,[t,i,r,s]=[0,0,960,500]){if(!((r=+r)>=(t=+t))||!((s=+s)>=(i=+i)))throw new Error("invalid bounds");this.delaunay=e,this._circumcenters=new Float64Array(e.points.length*2),this.vectors=new Float64Array(e.points.length*2),this.xmax=r,this.xmin=t,this.ymax=s,this.ymin=i,this._init()}update(){return this.delaunay.update(),this._init(),this}_init(){const{delaunay:{points:e,hull:t,triangles:i},vectors:r}=this,s=this.circumcenters=this._circumcenters.subarray(0,i.length/3*2);for(let d=0,m=0,v=i.length,_,g;d<v;d+=3,m+=2){const x=i[d]*2,b=i[d+1]*2,w=i[d+2]*2,S=e[x],A=e[x+1],T=e[b],F=e[b+1],U=e[w],N=e[w+1],O=T-S,G=F-A,D=U-S,P=N-A,I=O*O+G*G,C=D*D+P*P,B=(O*P-G*D)*2;if(!B)_=(S+U)/2-1e8*P,g=(A+N)/2+1e8*D;else if(Math.abs(B)<1e-8)_=(S+U)/2,g=(A+N)/2;else{const Y=1/B;_=S+(P*I-G*C)*Y,g=A+(O*C-D*I)*Y}s[m]=_,s[m+1]=g}let o=t[t.length-1],a,l=o*4,c,u=e[2*o],f,h=e[2*o+1];r.fill(0);for(let d=0;d<t.length;++d)o=t[d],a=l,c=u,f=h,l=o*4,u=e[2*o],h=e[2*o+1],r[a+2]=r[l]=f-h,r[a+3]=r[l+1]=u-c}render(e){const t=e==null?e=new Qc:void 0,{delaunay:{halfedges:i,inedges:r,hull:s},circumcenters:o,vectors:a}=this;if(s.length<=1)return null;for(let u=0,f=i.length;u<f;++u){const h=i[u];if(h<u)continue;const d=Math.floor(u/3)*2,m=Math.floor(h/3)*2,v=o[d],_=o[d+1],g=o[m],x=o[m+1];this._renderSegment(v,_,g,x,e)}let l,c=s[s.length-1];for(let u=0;u<s.length;++u){l=c,c=s[u];const f=Math.floor(r[c]/3)*2,h=o[f],d=o[f+1],m=l*4,v=this._project(h,d,a[m+2],a[m+3]);v&&this._renderSegment(h,d,v[0],v[1],e)}return t&&t.value()}renderBounds(e){const t=e==null?e=new Qc:void 0;return e.rect(this.xmin,this.ymin,this.xmax-this.xmin,this.ymax-this.ymin),t&&t.value()}renderCell(e,t){const i=t==null?t=new Qc:void 0,r=this._clip(e);if(r===null||!r.length)return;t.moveTo(r[0],r[1]);let s=r.length;for(;r[0]===r[s-2]&&r[1]===r[s-1]&&s>1;)s-=2;for(let o=2;o<s;o+=2)(r[o]!==r[o-2]||r[o+1]!==r[o-1])&&t.lineTo(r[o],r[o+1]);return t.closePath(),i&&i.value()}*cellPolygons(){const{delaunay:{points:e}}=this;for(let t=0,i=e.length/2;t<i;++t){const r=this.cellPolygon(t);r&&(r.index=t,yield r)}}cellPolygon(e){const t=new Cy;return this.renderCell(e,t),t.value()}_renderSegment(e,t,i,r,s){let o;const a=this._regioncode(e,t),l=this._regioncode(i,r);a===0&&l===0?(s.moveTo(e,t),s.lineTo(i,r)):(o=this._clipSegment(e,t,i,r,a,l))&&(s.moveTo(o[0],o[1]),s.lineTo(o[2],o[3]))}contains(e,t,i){return t=+t,t!==t||(i=+i,i!==i)?!1:this.delaunay._step(e,t,i)===e}*neighbors(e){const t=this._clip(e);if(t)for(const i of this.delaunay.neighbors(e)){const r=this._clip(i);if(r)e:for(let s=0,o=t.length;s<o;s+=2)for(let a=0,l=r.length;a<l;a+=2)if(t[s]==r[a]&&t[s+1]==r[a+1]&&t[(s+2)%o]==r[(a+l-2)%l]&&t[(s+3)%o]==r[(a+l-1)%l]){yield i;break e}}}_cell(e){const{circumcenters:t,delaunay:{inedges:i,halfedges:r,triangles:s}}=this,o=i[e];if(o===-1)return null;const a=[];let l=o;do{const c=Math.floor(l/3);if(a.push(t[c*2],t[c*2+1]),l=l%3==2?l-2:l+1,s[l]!==e)break;l=r[l]}while(l!==o&&l!==-1);return a}_clip(e){if(e===0&&this.delaunay.hull.length===1)return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];const t=this._cell(e);if(t===null)return null;const{vectors:i}=this,r=e*4;return i[r]||i[r+1]?this._clipInfinite(e,t,i[r],i[r+1],i[r+2],i[r+3]):this._clipFinite(e,t)}_clipFinite(e,t){const i=t.length;let r=null,s,o,a=t[i-2],l=t[i-1],c,u=this._regioncode(a,l),f,h;for(let d=0;d<i;d+=2)if(s=a,o=l,a=t[d],l=t[d+1],c=u,u=this._regioncode(a,l),c===0&&u===0)f=h,h=0,r?r.push(a,l):r=[a,l];else{let m,v,_,g,x;if(c===0){if((m=this._clipSegment(s,o,a,l,c,u))===null)continue;[v,_,g,x]=m}else{if((m=this._clipSegment(a,l,s,o,u,c))===null)continue;[g,x,v,_]=m,f=h,h=this._edgecode(v,_),f&&h&&this._edge(e,f,h,r,r.length),r?r.push(v,_):r=[v,_]}f=h,h=this._edgecode(g,x),f&&h&&this._edge(e,f,h,r,r.length),r?r.push(g,x):r=[g,x]}if(r)f=h,h=this._edgecode(r[0],r[1]),f&&h&&this._edge(e,f,h,r,r.length);else if(this.contains(e,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2))return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];return r}_clipSegment(e,t,i,r,s,o){for(;;){if(s===0&&o===0)return[e,t,i,r];if(s&o)return null;let a,l,c=s||o;c&8?(a=e+(i-e)*(this.ymax-t)/(r-t),l=this.ymax):c&4?(a=e+(i-e)*(this.ymin-t)/(r-t),l=this.ymin):c&2?(l=t+(r-t)*(this.xmax-e)/(i-e),a=this.xmax):(l=t+(r-t)*(this.xmin-e)/(i-e),a=this.xmin),s?(e=a,t=l,s=this._regioncode(e,t)):(i=a,r=l,o=this._regioncode(i,r))}}_clipInfinite(e,t,i,r,s,o){let a=Array.from(t),l;if((l=this._project(a[0],a[1],i,r))&&a.unshift(l[0],l[1]),(l=this._project(a[a.length-2],a[a.length-1],s,o))&&a.push(l[0],l[1]),a=this._clipFinite(e,a))for(let c=0,u=a.length,f,h=this._edgecode(a[u-2],a[u-1]);c<u;c+=2)f=h,h=this._edgecode(a[c],a[c+1]),f&&h&&(c=this._edge(e,f,h,a,c),u=a.length);else this.contains(e,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2)&&(a=[this.xmin,this.ymin,this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax]);return a}_edge(e,t,i,r,s){for(;t!==i;){let o,a;switch(t){case 5:t=4;continue;case 4:t=6,o=this.xmax,a=this.ymin;break;case 6:t=2;continue;case 2:t=10,o=this.xmax,a=this.ymax;break;case 10:t=8;continue;case 8:t=9,o=this.xmin,a=this.ymax;break;case 9:t=1;continue;case 1:t=5,o=this.xmin,a=this.ymin;break}(r[s]!==o||r[s+1]!==a)&&this.contains(e,o,a)&&(r.splice(s,0,o,a),s+=2)}if(r.length>4)for(let o=0;o<r.length;o+=2){const a=(o+2)%r.length,l=(o+4)%r.length;(r[o]===r[a]&&r[a]===r[l]||r[o+1]===r[a+1]&&r[a+1]===r[l+1])&&(r.splice(a,2),o-=2)}return s}_project(e,t,i,r){let s=1/0,o,a,l;if(r<0){if(t<=this.ymin)return null;(o=(this.ymin-t)/r)<s&&(l=this.ymin,a=e+(s=o)*i)}else if(r>0){if(t>=this.ymax)return null;(o=(this.ymax-t)/r)<s&&(l=this.ymax,a=e+(s=o)*i)}if(i>0){if(e>=this.xmax)return null;(o=(this.xmax-e)/i)<s&&(a=this.xmax,l=t+(s=o)*r)}else if(i<0){if(e<=this.xmin)return null;(o=(this.xmin-e)/i)<s&&(a=this.xmin,l=t+(s=o)*r)}return[a,l]}_edgecode(e,t){return(e===this.xmin?1:e===this.xmax?2:0)|(t===this.ymin?4:t===this.ymax?8:0)}_regioncode(e,t){return(e<this.xmin?1:e>this.xmax?2:0)|(t<this.ymin?4:t>this.ymax?8:0)}}const Jde=2*Math.PI,xh=Math.pow;function Kde(n){return n[0]}function e1e(n){return n[1]}function t1e(n){const{triangles:e,coords:t}=n;for(let i=0;i<e.length;i+=3){const r=2*e[i],s=2*e[i+1],o=2*e[i+2];if((t[o]-t[r])*(t[s+1]-t[r+1])-(t[s]-t[r])*(t[o+1]-t[r+1])>1e-10)return!1}return!0}function n1e(n,e,t){return[n+Math.sin(n+e)*t,e+Math.cos(n-e)*t]}class Py{static from(e,t=Kde,i=e1e,r){return new Py("length"in e?i1e(e,t,i,r):Float64Array.from(r1e(e,t,i,r)))}constructor(e){this._delaunator=new x4(e),this.inedges=new Int32Array(e.length/2),this._hullIndex=new Int32Array(e.length/2),this.points=this._delaunator.coords,this._init()}update(){return this._delaunator.update(),this._init(),this}_init(){const e=this._delaunator,t=this.points;if(e.hull&&e.hull.length>2&&t1e(e)){this.collinear=Int32Array.from({length:t.length/2},(h,d)=>d).sort((h,d)=>t[2*h]-t[2*d]||t[2*h+1]-t[2*d+1]);const l=this.collinear[0],c=this.collinear[this.collinear.length-1],u=[t[2*l],t[2*l+1],t[2*c],t[2*c+1]],f=1e-8*Math.hypot(u[3]-u[1],u[2]-u[0]);for(let h=0,d=t.length/2;h<d;++h){const m=n1e(t[2*h],t[2*h+1],f);t[2*h]=m[0],t[2*h+1]=m[1]}this._delaunator=new x4(t)}else delete this.collinear;const i=this.halfedges=this._delaunator.halfedges,r=this.hull=this._delaunator.hull,s=this.triangles=this._delaunator.triangles,o=this.inedges.fill(-1),a=this._hullIndex.fill(-1);for(let l=0,c=i.length;l<c;++l){const u=s[l%3==2?l-2:l+1];(i[l]===-1||o[u]===-1)&&(o[u]=l)}for(let l=0,c=r.length;l<c;++l)a[r[l]]=l;r.length<=2&&r.length>0&&(this.triangles=new Int32Array(3).fill(-1),this.halfedges=new Int32Array(3).fill(-1),this.triangles[0]=r[0],this.triangles[1]=r[1],this.triangles[2]=r[1],o[r[0]]=1,r.length===2&&(o[r[1]]=0))}voronoi(e){return new aN(this,e)}*neighbors(e){const{inedges:t,hull:i,_hullIndex:r,halfedges:s,triangles:o,collinear:a}=this;if(a){const f=a.indexOf(e);f>0&&(yield a[f-1]),f<a.length-1&&(yield a[f+1]);return}const l=t[e];if(l===-1)return;let c=l,u=-1;do{if(yield u=o[c],c=c%3==2?c-2:c+1,o[c]!==e)return;if(c=s[c],c===-1){const f=i[(r[e]+1)%i.length];f!==u&&(yield f);return}}while(c!==l)}find(e,t,i=0){if(e=+e,e!==e||(t=+t,t!==t))return-1;const r=i;let s;for(;(s=this._step(i,e,t))>=0&&s!==i&&s!==r;)i=s;return s}_step(e,t,i){const{inedges:r,hull:s,_hullIndex:o,halfedges:a,triangles:l,points:c}=this;if(r[e]===-1||!c.length)return(e+1)%(c.length>>1);let u=e,f=xh(t-c[e*2],2)+xh(i-c[e*2+1],2);const h=r[e];let d=h;do{let m=l[d];const v=xh(t-c[m*2],2)+xh(i-c[m*2+1],2);if(v<f&&(f=v,u=m),d=d%3==2?d-2:d+1,l[d]!==e)break;if(d=a[d],d===-1){if(d=s[(o[e]+1)%s.length],d!==m&&xh(t-c[d*2],2)+xh(i-c[d*2+1],2)<f)return d;break}}while(d!==h);return u}render(e){const t=e==null?e=new Qc:void 0,{points:i,halfedges:r,triangles:s}=this;for(let o=0,a=r.length;o<a;++o){const l=r[o];if(l<o)continue;const c=s[o]*2,u=s[l]*2;e.moveTo(i[c],i[c+1]),e.lineTo(i[u],i[u+1])}return this.renderHull(e),t&&t.value()}renderPoints(e,t=2){const i=e==null?e=new Qc:void 0,{points:r}=this;for(let s=0,o=r.length;s<o;s+=2){const a=r[s],l=r[s+1];e.moveTo(a+t,l),e.arc(a,l,t,0,Jde)}return i&&i.value()}renderHull(e){const t=e==null?e=new Qc:void 0,{hull:i,points:r}=this,s=i[0]*2,o=i.length;e.moveTo(r[s],r[s+1]);for(let a=1;a<o;++a){const l=2*i[a];e.lineTo(r[l],r[l+1])}return e.closePath(),t&&t.value()}hullPolygon(){const e=new Cy;return this.renderHull(e),e.value()}renderTriangle(e,t){const i=t==null?t=new Qc:void 0,{points:r,triangles:s}=this,o=s[e*=3]*2,a=s[e+1]*2,l=s[e+2]*2;return t.moveTo(r[o],r[o+1]),t.lineTo(r[a],r[a+1]),t.lineTo(r[l],r[l+1]),t.closePath(),i&&i.value()}*trianglePolygons(){const{triangles:e}=this;for(let t=0,i=e.length/3;t<i;++t)yield this.trianglePolygon(t)}trianglePolygon(e){const t=new Cy;return this.renderTriangle(e,t),t.value()}}function i1e(n,e,t,i){const r=n.length,s=new Float64Array(r*2);for(let o=0;o<r;++o){const a=n[o];s[o*2]=e.call(i,a,o,n),s[o*2+1]=t.call(i,a,o,n)}return s}function*r1e(n,e,t,i){let r=0;for(const s of n)yield e.call(i,s,r,n),yield t.call(i,s,r,n),++r}var lN={},Ry={},Fy=34,Lp=10,Iy=13;function cN(n){return new Function("d","return {"+n.map(function(e,t){return JSON.stringify(e)+": d["+t+'] || ""'}).join(",")+"}")}function s1e(n,e){var t=cN(n);return function(i,r){return e(t(i),r,n)}}function uN(n){var e=Object.create(null),t=[];return n.forEach(function(i){for(var r in i)r in e||t.push(e[r]=r)}),t}function kr(n,e){var t=n+"",i=t.length;return i<e?new Array(e-i+1).join(0)+t:t}function o1e(n){return n<0?"-"+kr(-n,6):n>9999?"+"+kr(n,6):kr(n,4)}function a1e(n){var e=n.getUTCHours(),t=n.getUTCMinutes(),i=n.getUTCSeconds(),r=n.getUTCMilliseconds();return isNaN(n)?"Invalid Date":o1e(n.getUTCFullYear())+"-"+kr(n.getUTCMonth()+1,2)+"-"+kr(n.getUTCDate(),2)+(r?"T"+kr(e,2)+":"+kr(t,2)+":"+kr(i,2)+"."+kr(r,3)+"Z":i?"T"+kr(e,2)+":"+kr(t,2)+":"+kr(i,2)+"Z":t||e?"T"+kr(e,2)+":"+kr(t,2)+"Z":"")}function _4(n){var e=new RegExp('["'+n+`
\r]`),t=n.charCodeAt(0);function i(f,h){var d,m,v=r(f,function(_,g){if(d)return d(_,g-1);m=_,d=h?s1e(_,h):cN(_)});return v.columns=m||[],v}function r(f,h){var d=[],m=f.length,v=0,_=0,g,x=m<=0,b=!1;f.charCodeAt(m-1)===Lp&&--m,f.charCodeAt(m-1)===Iy&&--m;function w(){if(x)return Ry;if(b)return b=!1,lN;var A,T=v,F;if(f.charCodeAt(T)===Fy){for(;v++<m&&f.charCodeAt(v)!==Fy||f.charCodeAt(++v)===Fy;);return(A=v)>=m?x=!0:(F=f.charCodeAt(v++))===Lp?b=!0:F===Iy&&(b=!0,f.charCodeAt(v)===Lp&&++v),f.slice(T+1,A-1).replace(/""/g,'"')}for(;v<m;){if((F=f.charCodeAt(A=v++))===Lp)b=!0;else if(F===Iy)b=!0,f.charCodeAt(v)===Lp&&++v;else if(F!==t)continue;return f.slice(T,A)}return x=!0,f.slice(T,m)}for(;(g=w())!==Ry;){for(var S=[];g!==lN&&g!==Ry;)S.push(g),g=w();h&&(S=h(S,_++))==null||d.push(S)}return d}function s(f,h){return f.map(function(d){return h.map(function(m){return u(d[m])}).join(n)})}function o(f,h){return h==null&&(h=uN(f)),[h.map(u).join(n)].concat(s(f,h)).join(`
`)}function a(f,h){return h==null&&(h=uN(f)),s(f,h).join(`
`)}function l(f){return f.map(c).join(`
`)}function c(f){return f.map(u).join(n)}function u(f){return f==null?"":f instanceof Date?a1e(f):e.test(f+="")?'"'+f.replace(/"/g,'""')+'"':f}return{parse:i,parseRows:r,format:o,formatBody:a,formatRows:l,formatRow:c,formatValue:u}}var Jc=_4(","),fN=Jc.parse,l1e=Jc.parseRows,c1e=Jc.format,u1e=Jc.formatBody,f1e=Jc.formatRows,h1e=Jc.formatRow,d1e=Jc.formatValue,Kc=_4("	"),hN=Kc.parse,p1e=Kc.parseRows,m1e=Kc.format,g1e=Kc.formatBody,v1e=Kc.formatRows,x1e=Kc.formatRow,y1e=Kc.formatValue;function _1e(n){for(var e in n){var t=n[e].trim(),i,r;if(!t)t=null;else if(t==="true")t=!0;else if(t==="false")t=!1;else if(t==="NaN")t=NaN;else if(!isNaN(i=+t))t=i;else if(r=t.match(/^([-+]\d{2})?\d{4}(-\d{2}(-\d{2})?)?(T\d{2}:\d{2}(:\d{2}(\.\d{3})?)?(Z|[-+]\d{2}:\d{2})?)?$/))b1e&&!!r[4]&&!r[7]&&(t=t.replace(/-/g,"/").replace(/T/," ")),t=new Date(t);else continue;n[e]=t}return n}const b1e=new Date("2019-01-01T00:00").getHours()||new Date("2019-07-01T00:00").getHours();function w1e(n){if(!n.ok)throw new Error(n.status+" "+n.statusText);return n.blob()}function M1e(n,e){return fetch(n,e).then(w1e)}function S1e(n){if(!n.ok)throw new Error(n.status+" "+n.statusText);return n.arrayBuffer()}function A1e(n,e){return fetch(n,e).then(S1e)}function T1e(n){if(!n.ok)throw new Error(n.status+" "+n.statusText);return n.text()}function b4(n,e){return fetch(n,e).then(T1e)}function dN(n){return function(e,t,i){return arguments.length===2&&typeof t=="function"&&(i=t,t=void 0),b4(e,t).then(function(r){return n(r,i)})}}function E1e(n,e,t,i){arguments.length===3&&typeof t=="function"&&(i=t,t=void 0);var r=_4(n);return b4(e,t).then(function(s){return r.parse(s,i)})}var L1e=dN(fN),C1e=dN(hN);function P1e(n,e){return new Promise(function(t,i){var r=new Image;for(var s in e)r[s]=e[s];r.onerror=i,r.onload=function(){t(r)},r.src=n})}function R1e(n){if(!n.ok)throw new Error(n.status+" "+n.statusText);if(!(n.status===204||n.status===205))return n.json()}function F1e(n,e){return fetch(n,e).then(R1e)}function Dy(n){return(e,t)=>b4(e,t).then(i=>new DOMParser().parseFromString(i,n))}var I1e=Dy("application/xml"),D1e=Dy("text/html"),N1e=Dy("image/svg+xml");function O1e(n,e){var t,i=1;n==null&&(n=0),e==null&&(e=0);function r(){var s,o=t.length,a,l=0,c=0;for(s=0;s<o;++s)a=t[s],l+=a.x,c+=a.y;for(l=(l/o-n)*i,c=(c/o-e)*i,s=0;s<o;++s)a=t[s],a.x-=l,a.y-=c}return r.initialize=function(s){t=s},r.x=function(s){return arguments.length?(n=+s,r):n},r.y=function(s){return arguments.length?(e=+s,r):e},r.strength=function(s){return arguments.length?(i=+s,r):i},r}function B1e(n){const e=+this._x.call(null,n),t=+this._y.call(null,n);return pN(this.cover(e,t),e,t,n)}function pN(n,e,t,i){if(isNaN(e)||isNaN(t))return n;var r,s=n._root,o={data:i},a=n._x0,l=n._y0,c=n._x1,u=n._y1,f,h,d,m,v,_,g,x;if(!s)return n._root=o,n;for(;s.length;)if((v=e>=(f=(a+c)/2))?a=f:c=f,(_=t>=(h=(l+u)/2))?l=h:u=h,r=s,!(s=s[g=_<<1|v]))return r[g]=o,n;if(d=+n._x.call(null,s.data),m=+n._y.call(null,s.data),e===d&&t===m)return o.next=s,r?r[g]=o:n._root=o,n;do r=r?r[g]=new Array(4):n._root=new Array(4),(v=e>=(f=(a+c)/2))?a=f:c=f,(_=t>=(h=(l+u)/2))?l=h:u=h;while((g=_<<1|v)==(x=(m>=h)<<1|d>=f));return r[x]=s,r[g]=o,n}function U1e(n){var e,t,i=n.length,r,s,o=new Array(i),a=new Array(i),l=1/0,c=1/0,u=-1/0,f=-1/0;for(t=0;t<i;++t)isNaN(r=+this._x.call(null,e=n[t]))||isNaN(s=+this._y.call(null,e))||(o[t]=r,a[t]=s,r<l&&(l=r),r>u&&(u=r),s<c&&(c=s),s>f&&(f=s));if(l>u||c>f)return this;for(this.cover(l,c).cover(u,f),t=0;t<i;++t)pN(this,o[t],a[t],n[t]);return this}function z1e(n,e){if(isNaN(n=+n)||isNaN(e=+e))return this;var t=this._x0,i=this._y0,r=this._x1,s=this._y1;if(isNaN(t))r=(t=Math.floor(n))+1,s=(i=Math.floor(e))+1;else{for(var o=r-t||1,a=this._root,l,c;t>n||n>=r||i>e||e>=s;)switch(c=(e<i)<<1|n<t,l=new Array(4),l[c]=a,a=l,o*=2,c){case 0:r=t+o,s=i+o;break;case 1:t=r-o,s=i+o;break;case 2:r=t+o,i=s-o;break;case 3:t=r-o,i=s-o;break}this._root&&this._root.length&&(this._root=a)}return this._x0=t,this._y0=i,this._x1=r,this._y1=s,this}function k1e(){var n=[];return this.visit(function(e){if(!e.length)do n.push(e.data);while(e=e.next)}),n}function H1e(n){return arguments.length?this.cover(+n[0][0],+n[0][1]).cover(+n[1][0],+n[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function xr(n,e,t,i,r){this.node=n,this.x0=e,this.y0=t,this.x1=i,this.y1=r}function G1e(n,e,t){var i,r=this._x0,s=this._y0,o,a,l,c,u=this._x1,f=this._y1,h=[],d=this._root,m,v;for(d&&h.push(new xr(d,r,s,u,f)),t==null?t=1/0:(r=n-t,s=e-t,u=n+t,f=e+t,t*=t);m=h.pop();)if(!(!(d=m.node)||(o=m.x0)>u||(a=m.y0)>f||(l=m.x1)<r||(c=m.y1)<s))if(d.length){var _=(o+l)/2,g=(a+c)/2;h.push(new xr(d[3],_,g,l,c),new xr(d[2],o,g,_,c),new xr(d[1],_,a,l,g),new xr(d[0],o,a,_,g)),(v=(e>=g)<<1|n>=_)&&(m=h[h.length-1],h[h.length-1]=h[h.length-1-v],h[h.length-1-v]=m)}else{var x=n-+this._x.call(null,d.data),b=e-+this._y.call(null,d.data),w=x*x+b*b;if(w<t){var S=Math.sqrt(t=w);r=n-S,s=e-S,u=n+S,f=e+S,i=d.data}}return i}function V1e(n){if(isNaN(u=+this._x.call(null,n))||isNaN(f=+this._y.call(null,n)))return this;var e,t=this._root,i,r,s,o=this._x0,a=this._y0,l=this._x1,c=this._y1,u,f,h,d,m,v,_,g;if(!t)return this;if(t.length)for(;;){if((m=u>=(h=(o+l)/2))?o=h:l=h,(v=f>=(d=(a+c)/2))?a=d:c=d,e=t,!(t=t[_=v<<1|m]))return this;if(!t.length)break;(e[_+1&3]||e[_+2&3]||e[_+3&3])&&(i=e,g=_)}for(;t.data!==n;)if(r=t,!(t=t.next))return this;return(s=t.next)&&delete t.next,r?(s?r.next=s:delete r.next,this):e?(s?e[_]=s:delete e[_],(t=e[0]||e[1]||e[2]||e[3])&&t===(e[3]||e[2]||e[1]||e[0])&&!t.length&&(i?i[g]=t:this._root=t),this):(this._root=s,this)}function W1e(n){for(var e=0,t=n.length;e<t;++e)this.remove(n[e]);return this}function X1e(){return this._root}function Y1e(){var n=0;return this.visit(function(e){if(!e.length)do++n;while(e=e.next)}),n}function $1e(n){var e=[],t,i=this._root,r,s,o,a,l;for(i&&e.push(new xr(i,this._x0,this._y0,this._x1,this._y1));t=e.pop();)if(!n(i=t.node,s=t.x0,o=t.y0,a=t.x1,l=t.y1)&&i.length){var c=(s+a)/2,u=(o+l)/2;(r=i[3])&&e.push(new xr(r,c,u,a,l)),(r=i[2])&&e.push(new xr(r,s,u,c,l)),(r=i[1])&&e.push(new xr(r,c,o,a,u)),(r=i[0])&&e.push(new xr(r,s,o,c,u))}return this}function q1e(n){var e=[],t=[],i;for(this._root&&e.push(new xr(this._root,this._x0,this._y0,this._x1,this._y1));i=e.pop();){var r=i.node;if(r.length){var s,o=i.x0,a=i.y0,l=i.x1,c=i.y1,u=(o+l)/2,f=(a+c)/2;(s=r[0])&&e.push(new xr(s,o,a,u,f)),(s=r[1])&&e.push(new xr(s,u,a,l,f)),(s=r[2])&&e.push(new xr(s,o,f,u,c)),(s=r[3])&&e.push(new xr(s,u,f,l,c))}t.push(i)}for(;i=t.pop();)n(i.node,i.x0,i.y0,i.x1,i.y1);return this}function j1e(n){return n[0]}function Z1e(n){return arguments.length?(this._x=n,this):this._x}function Q1e(n){return n[1]}function J1e(n){return arguments.length?(this._y=n,this):this._y}function w4(n,e,t){var i=new Ny(e==null?j1e:e,t==null?Q1e:t,NaN,NaN,NaN,NaN);return n==null?i:i.addAll(n)}function Ny(n,e,t,i,r,s){this._x=n,this._y=e,this._x0=t,this._y0=i,this._x1=r,this._y1=s,this._root=void 0}function mN(n){for(var e={data:n.data},t=e;n=n.next;)t=t.next={data:n.data};return e}var yr=w4.prototype=Ny.prototype;yr.copy=function(){var n=new Ny(this._x,this._y,this._x0,this._y0,this._x1,this._y1),e=this._root,t,i;if(!e)return n;if(!e.length)return n._root=mN(e),n;for(t=[{source:e,target:n._root=new Array(4)}];e=t.pop();)for(var r=0;r<4;++r)(i=e.source[r])&&(i.length?t.push({source:i,target:e.target[r]=new Array(4)}):e.target[r]=mN(i));return n};yr.add=B1e;yr.addAll=U1e;yr.cover=z1e;yr.data=k1e;yr.extent=H1e;yr.find=G1e;yr.remove=V1e;yr.removeAll=W1e;yr.root=X1e;yr.size=Y1e;yr.visit=$1e;yr.visitAfter=q1e;yr.x=Z1e;yr.y=J1e;function fi(n){return function(){return n}}function tl(n){return(n()-.5)*1e-6}function K1e(n){return n.x+n.vx}function epe(n){return n.y+n.vy}function tpe(n){var e,t,i,r=1,s=1;typeof n!="function"&&(n=fi(n==null?1:+n));function o(){for(var c,u=e.length,f,h,d,m,v,_,g=0;g<s;++g)for(f=w4(e,K1e,epe).visitAfter(a),c=0;c<u;++c)h=e[c],v=t[h.index],_=v*v,d=h.x+h.vx,m=h.y+h.vy,f.visit(x);function x(b,w,S,A,T){var F=b.data,U=b.r,N=v+U;if(F){if(F.index>h.index){var O=d-F.x-F.vx,G=m-F.y-F.vy,D=O*O+G*G;D<N*N&&(O===0&&(O=tl(i),D+=O*O),G===0&&(G=tl(i),D+=G*G),D=(N-(D=Math.sqrt(D)))/D*r,h.vx+=(O*=D)*(N=(U*=U)/(_+U)),h.vy+=(G*=D)*N,F.vx-=O*(N=1-N),F.vy-=G*N)}return}return w>d+N||A<d-N||S>m+N||T<m-N}}function a(c){if(c.data)return c.r=t[c.data.index];for(var u=c.r=0;u<4;++u)c[u]&&c[u].r>c.r&&(c.r=c[u].r)}function l(){if(!!e){var c,u=e.length,f;for(t=new Array(u),c=0;c<u;++c)f=e[c],t[f.index]=+n(f,c,e)}}return o.initialize=function(c,u){e=c,i=u,l()},o.iterations=function(c){return arguments.length?(s=+c,o):s},o.strength=function(c){return arguments.length?(r=+c,o):r},o.radius=function(c){return arguments.length?(n=typeof c=="function"?c:fi(+c),l(),o):n},o}function npe(n){return n.index}function gN(n,e){var t=n.get(e);if(!t)throw new Error("node not found: "+e);return t}function ipe(n){var e=npe,t=f,i,r=fi(30),s,o,a,l,c,u=1;n==null&&(n=[]);function f(_){return 1/Math.min(a[_.source.index],a[_.target.index])}function h(_){for(var g=0,x=n.length;g<u;++g)for(var b=0,w,S,A,T,F,U,N;b<x;++b)w=n[b],S=w.source,A=w.target,T=A.x+A.vx-S.x-S.vx||tl(c),F=A.y+A.vy-S.y-S.vy||tl(c),U=Math.sqrt(T*T+F*F),U=(U-s[b])/U*_*i[b],T*=U,F*=U,A.vx-=T*(N=l[b]),A.vy-=F*N,S.vx+=T*(N=1-N),S.vy+=F*N}function d(){if(!!o){var _,g=o.length,x=n.length,b=new Map(o.map((S,A)=>[e(S,A,o),S])),w;for(_=0,a=new Array(g);_<x;++_)w=n[_],w.index=_,typeof w.source!="object"&&(w.source=gN(b,w.source)),typeof w.target!="object"&&(w.target=gN(b,w.target)),a[w.source.index]=(a[w.source.index]||0)+1,a[w.target.index]=(a[w.target.index]||0)+1;for(_=0,l=new Array(x);_<x;++_)w=n[_],l[_]=a[w.source.index]/(a[w.source.index]+a[w.target.index]);i=new Array(x),m(),s=new Array(x),v()}}function m(){if(!!o)for(var _=0,g=n.length;_<g;++_)i[_]=+t(n[_],_,n)}function v(){if(!!o)for(var _=0,g=n.length;_<g;++_)s[_]=+r(n[_],_,n)}return h.initialize=function(_,g){o=_,c=g,d()},h.links=function(_){return arguments.length?(n=_,d(),h):n},h.id=function(_){return arguments.length?(e=_,h):e},h.iterations=function(_){return arguments.length?(u=+_,h):u},h.strength=function(_){return arguments.length?(t=typeof _=="function"?_:fi(+_),m(),h):t},h.distance=function(_){return arguments.length?(r=typeof _=="function"?_:fi(+_),v(),h):r},h}const rpe=1664525,spe=1013904223,vN=4294967296;function ope(){let n=1;return()=>(n=(rpe*n+spe)%vN)/vN}function ape(n){return n.x}function lpe(n){return n.y}var cpe=10,upe=Math.PI*(3-Math.sqrt(5));function fpe(n){var e,t=1,i=.001,r=1-Math.pow(i,1/300),s=0,o=.6,a=new Map,l=c4(f),c=Hc("tick","end"),u=ope();n==null&&(n=[]);function f(){h(),c.call("tick",e),t<i&&(l.stop(),c.call("end",e))}function h(v){var _,g=n.length,x;v===void 0&&(v=1);for(var b=0;b<v;++b)for(t+=(s-t)*r,a.forEach(function(w){w(t)}),_=0;_<g;++_)x=n[_],x.fx==null?x.x+=x.vx*=o:(x.x=x.fx,x.vx=0),x.fy==null?x.y+=x.vy*=o:(x.y=x.fy,x.vy=0);return e}function d(){for(var v=0,_=n.length,g;v<_;++v){if(g=n[v],g.index=v,g.fx!=null&&(g.x=g.fx),g.fy!=null&&(g.y=g.fy),isNaN(g.x)||isNaN(g.y)){var x=cpe*Math.sqrt(.5+v),b=v*upe;g.x=x*Math.cos(b),g.y=x*Math.sin(b)}(isNaN(g.vx)||isNaN(g.vy))&&(g.vx=g.vy=0)}}function m(v){return v.initialize&&v.initialize(n,u),v}return d(),e={tick:h,restart:function(){return l.restart(f),e},stop:function(){return l.stop(),e},nodes:function(v){return arguments.length?(n=v,d(),a.forEach(m),e):n},alpha:function(v){return arguments.length?(t=+v,e):t},alphaMin:function(v){return arguments.length?(i=+v,e):i},alphaDecay:function(v){return arguments.length?(r=+v,e):+r},alphaTarget:function(v){return arguments.length?(s=+v,e):s},velocityDecay:function(v){return arguments.length?(o=1-v,e):1-o},randomSource:function(v){return arguments.length?(u=v,a.forEach(m),e):u},force:function(v,_){return arguments.length>1?(_==null?a.delete(v):a.set(v,m(_)),e):a.get(v)},find:function(v,_,g){var x=0,b=n.length,w,S,A,T,F;for(g==null?g=1/0:g*=g,x=0;x<b;++x)T=n[x],w=v-T.x,S=_-T.y,A=w*w+S*S,A<g&&(F=T,g=A);return F},on:function(v,_){return arguments.length>1?(c.on(v,_),e):c.on(v)}}}function hpe(){var n,e,t,i,r=fi(-30),s,o=1,a=1/0,l=.81;function c(d){var m,v=n.length,_=w4(n,ape,lpe).visitAfter(f);for(i=d,m=0;m<v;++m)e=n[m],_.visit(h)}function u(){if(!!n){var d,m=n.length,v;for(s=new Array(m),d=0;d<m;++d)v=n[d],s[v.index]=+r(v,d,n)}}function f(d){var m=0,v,_,g=0,x,b,w;if(d.length){for(x=b=w=0;w<4;++w)(v=d[w])&&(_=Math.abs(v.value))&&(m+=v.value,g+=_,x+=_*v.x,b+=_*v.y);d.x=x/g,d.y=b/g}else{v=d,v.x=v.data.x,v.y=v.data.y;do m+=s[v.data.index];while(v=v.next)}d.value=m}function h(d,m,v,_){if(!d.value)return!0;var g=d.x-e.x,x=d.y-e.y,b=_-m,w=g*g+x*x;if(b*b/l<w)return w<a&&(g===0&&(g=tl(t),w+=g*g),x===0&&(x=tl(t),w+=x*x),w<o&&(w=Math.sqrt(o*w)),e.vx+=g*d.value*i/w,e.vy+=x*d.value*i/w),!0;if(d.length||w>=a)return;(d.data!==e||d.next)&&(g===0&&(g=tl(t),w+=g*g),x===0&&(x=tl(t),w+=x*x),w<o&&(w=Math.sqrt(o*w)));do d.data!==e&&(b=s[d.data.index]*i/w,e.vx+=g*b,e.vy+=x*b);while(d=d.next)}return c.initialize=function(d,m){n=d,t=m,u()},c.strength=function(d){return arguments.length?(r=typeof d=="function"?d:fi(+d),u(),c):r},c.distanceMin=function(d){return arguments.length?(o=d*d,c):Math.sqrt(o)},c.distanceMax=function(d){return arguments.length?(a=d*d,c):Math.sqrt(a)},c.theta=function(d){return arguments.length?(l=d*d,c):Math.sqrt(l)},c}function dpe(n,e,t){var i,r=fi(.1),s,o;typeof n!="function"&&(n=fi(+n)),e==null&&(e=0),t==null&&(t=0);function a(c){for(var u=0,f=i.length;u<f;++u){var h=i[u],d=h.x-e||1e-6,m=h.y-t||1e-6,v=Math.sqrt(d*d+m*m),_=(o[u]-v)*s[u]*c/v;h.vx+=d*_,h.vy+=m*_}}function l(){if(!!i){var c,u=i.length;for(s=new Array(u),o=new Array(u),c=0;c<u;++c)o[c]=+n(i[c],c,i),s[c]=isNaN(o[c])?0:+r(i[c],c,i)}}return a.initialize=function(c){i=c,l()},a.strength=function(c){return arguments.length?(r=typeof c=="function"?c:fi(+c),l(),a):r},a.radius=function(c){return arguments.length?(n=typeof c=="function"?c:fi(+c),l(),a):n},a.x=function(c){return arguments.length?(e=+c,a):e},a.y=function(c){return arguments.length?(t=+c,a):t},a}function ppe(n){var e=fi(.1),t,i,r;typeof n!="function"&&(n=fi(n==null?0:+n));function s(a){for(var l=0,c=t.length,u;l<c;++l)u=t[l],u.vx+=(r[l]-u.x)*i[l]*a}function o(){if(!!t){var a,l=t.length;for(i=new Array(l),r=new Array(l),a=0;a<l;++a)i[a]=isNaN(r[a]=+n(t[a],a,t))?0:+e(t[a],a,t)}}return s.initialize=function(a){t=a,o()},s.strength=function(a){return arguments.length?(e=typeof a=="function"?a:fi(+a),o(),s):e},s.x=function(a){return arguments.length?(n=typeof a=="function"?a:fi(+a),o(),s):n},s}function mpe(n){var e=fi(.1),t,i,r;typeof n!="function"&&(n=fi(n==null?0:+n));function s(a){for(var l=0,c=t.length,u;l<c;++l)u=t[l],u.vy+=(r[l]-u.y)*i[l]*a}function o(){if(!!t){var a,l=t.length;for(i=new Array(l),r=new Array(l),a=0;a<l;++a)i[a]=isNaN(r[a]=+n(t[a],a,t))?0:+e(t[a],a,t)}}return s.initialize=function(a){t=a,o()},s.strength=function(a){return arguments.length?(e=typeof a=="function"?a:fi(+a),o(),s):e},s.y=function(a){return arguments.length?(n=typeof a=="function"?a:fi(+a),o(),s):n},s}function gpe(n){return Math.abs(n=Math.round(n))>=1e21?n.toLocaleString("en").replace(/,/g,""):n.toString(10)}function M4(n,e){if((t=(n=e?n.toExponential(e-1):n.toExponential()).indexOf("e"))<0)return null;var t,i=n.slice(0,t);return[i.length>1?i[0]+i.slice(2):i,+n.slice(t+1)]}function yh(n){return n=M4(Math.abs(n)),n?n[1]:NaN}function vpe(n,e){return function(t,i){for(var r=t.length,s=[],o=0,a=n[0],l=0;r>0&&a>0&&(l+a+1>i&&(a=Math.max(1,i-l)),s.push(t.substring(r-=a,r+a)),!((l+=a+1)>i));)a=n[o=(o+1)%n.length];return s.reverse().join(e)}}function xpe(n){return function(e){return e.replace(/[0-9]/g,function(t){return n[+t]})}}var ype=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Cp(n){if(!(e=ype.exec(n)))throw new Error("invalid format: "+n);var e;return new S4({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Cp.prototype=S4.prototype;function S4(n){this.fill=n.fill===void 0?" ":n.fill+"",this.align=n.align===void 0?">":n.align+"",this.sign=n.sign===void 0?"-":n.sign+"",this.symbol=n.symbol===void 0?"":n.symbol+"",this.zero=!!n.zero,this.width=n.width===void 0?void 0:+n.width,this.comma=!!n.comma,this.precision=n.precision===void 0?void 0:+n.precision,this.trim=!!n.trim,this.type=n.type===void 0?"":n.type+""}S4.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function _pe(n){e:for(var e=n.length,t=1,i=-1,r;t<e;++t)switch(n[t]){case".":i=r=t;break;case"0":i===0&&(i=t),r=t;break;default:if(!+n[t])break e;i>0&&(i=0);break}return i>0?n.slice(0,i)+n.slice(r+1):n}var xN;function bpe(n,e){var t=M4(n,e);if(!t)return n+"";var i=t[0],r=t[1],s=r-(xN=Math.max(-8,Math.min(8,Math.floor(r/3)))*3)+1,o=i.length;return s===o?i:s>o?i+new Array(s-o+1).join("0"):s>0?i.slice(0,s)+"."+i.slice(s):"0."+new Array(1-s).join("0")+M4(n,Math.max(0,e+s-1))[0]}function yN(n,e){var t=M4(n,e);if(!t)return n+"";var i=t[0],r=t[1];return r<0?"0."+new Array(-r).join("0")+i:i.length>r+1?i.slice(0,r+1)+"."+i.slice(r+1):i+new Array(r-i.length+2).join("0")}var _N={"%":(n,e)=>(n*100).toFixed(e),b:n=>Math.round(n).toString(2),c:n=>n+"",d:gpe,e:(n,e)=>n.toExponential(e),f:(n,e)=>n.toFixed(e),g:(n,e)=>n.toPrecision(e),o:n=>Math.round(n).toString(8),p:(n,e)=>yN(n*100,e),r:yN,s:bpe,X:n=>Math.round(n).toString(16).toUpperCase(),x:n=>Math.round(n).toString(16)};function bN(n){return n}var wN=Array.prototype.map,MN=["y","z","a","f","p","n","\xB5","m","","k","M","G","T","P","E","Z","Y"];function SN(n){var e=n.grouping===void 0||n.thousands===void 0?bN:vpe(wN.call(n.grouping,Number),n.thousands+""),t=n.currency===void 0?"":n.currency[0]+"",i=n.currency===void 0?"":n.currency[1]+"",r=n.decimal===void 0?".":n.decimal+"",s=n.numerals===void 0?bN:xpe(wN.call(n.numerals,String)),o=n.percent===void 0?"%":n.percent+"",a=n.minus===void 0?"\u2212":n.minus+"",l=n.nan===void 0?"NaN":n.nan+"";function c(f){f=Cp(f);var h=f.fill,d=f.align,m=f.sign,v=f.symbol,_=f.zero,g=f.width,x=f.comma,b=f.precision,w=f.trim,S=f.type;S==="n"?(x=!0,S="g"):_N[S]||(b===void 0&&(b=12),w=!0,S="g"),(_||h==="0"&&d==="=")&&(_=!0,h="0",d="=");var A=v==="$"?t:v==="#"&&/[boxX]/.test(S)?"0"+S.toLowerCase():"",T=v==="$"?i:/[%p]/.test(S)?o:"",F=_N[S],U=/[defgprs%]/.test(S);b=b===void 0?6:/[gprs]/.test(S)?Math.max(1,Math.min(21,b)):Math.max(0,Math.min(20,b));function N(O){var G=A,D=T,P,I,C;if(S==="c")D=F(O)+D,O="";else{O=+O;var B=O<0||1/O<0;if(O=isNaN(O)?l:F(Math.abs(O),b),w&&(O=_pe(O)),B&&+O==0&&m!=="+"&&(B=!1),G=(B?m==="("?m:a:m==="-"||m==="("?"":m)+G,D=(S==="s"?MN[8+xN/3]:"")+D+(B&&m==="("?")":""),U){for(P=-1,I=O.length;++P<I;)if(C=O.charCodeAt(P),48>C||C>57){D=(C===46?r+O.slice(P+1):O.slice(P))+D,O=O.slice(0,P);break}}}x&&!_&&(O=e(O,1/0));var Y=G.length+O.length+D.length,j=Y<g?new Array(g-Y+1).join(h):"";switch(x&&_&&(O=e(j+O,j.length?g-D.length:1/0),j=""),d){case"<":O=G+O+D+j;break;case"=":O=G+j+O+D;break;case"^":O=j.slice(0,Y=j.length>>1)+G+O+D+j.slice(Y);break;default:O=j+G+O+D;break}return s(O)}return N.toString=function(){return f+""},N}function u(f,h){var d=c((f=Cp(f),f.type="f",f)),m=Math.max(-8,Math.min(8,Math.floor(yh(h)/3)))*3,v=Math.pow(10,-m),_=MN[8+m/3];return function(g){return d(v*g)+_}}return{format:c,formatPrefix:u}}var A4,T4,Oy;AN({thousands:",",grouping:[3],currency:["$",""]});function AN(n){return A4=SN(n),T4=A4.format,Oy=A4.formatPrefix,A4}function TN(n){return Math.max(0,-yh(Math.abs(n)))}function EN(n,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(yh(e)/3)))*3-yh(Math.abs(n)))}function LN(n,e){return n=Math.abs(n),e=Math.abs(e)-n,Math.max(0,yh(e)-yh(n))+1}var ft=1e-6,Pp=1e-12,Dt=Math.PI,Wn=Dt/2,E4=Dt/4,_r=Dt*2,dn=180/Dt,dt=Dt/180,Xt=Math.abs,_h=Math.atan,br=Math.atan2,ut=Math.cos,L4=Math.ceil,CN=Math.exp,By=Math.hypot,C4=Math.log,Uy=Math.pow,rt=Math.sin,Os=Math.sign||function(n){return n>0?1:n<0?-1:0},bi=Math.sqrt,zy=Math.tan;function PN(n){return n>1?0:n<-1?Dt:Math.acos(n)}function wr(n){return n>1?Wn:n<-1?-Wn:Math.asin(n)}function RN(n){return(n=rt(n/2))*n}function On(){}function P4(n,e){n&&IN.hasOwnProperty(n.type)&&IN[n.type](n,e)}var FN={Feature:function(n,e){P4(n.geometry,e)},FeatureCollection:function(n,e){for(var t=n.features,i=-1,r=t.length;++i<r;)P4(t[i].geometry,e)}},IN={Sphere:function(n,e){e.sphere()},Point:function(n,e){n=n.coordinates,e.point(n[0],n[1],n[2])},MultiPoint:function(n,e){for(var t=n.coordinates,i=-1,r=t.length;++i<r;)n=t[i],e.point(n[0],n[1],n[2])},LineString:function(n,e){ky(n.coordinates,e,0)},MultiLineString:function(n,e){for(var t=n.coordinates,i=-1,r=t.length;++i<r;)ky(t[i],e,0)},Polygon:function(n,e){DN(n.coordinates,e)},MultiPolygon:function(n,e){for(var t=n.coordinates,i=-1,r=t.length;++i<r;)DN(t[i],e)},GeometryCollection:function(n,e){for(var t=n.geometries,i=-1,r=t.length;++i<r;)P4(t[i],e)}};function ky(n,e,t){var i=-1,r=n.length-t,s;for(e.lineStart();++i<r;)s=n[i],e.point(s[0],s[1],s[2]);e.lineEnd()}function DN(n,e){var t=-1,i=n.length;for(e.polygonStart();++t<i;)ky(n[t],e,1);e.polygonEnd()}function h0(n,e){n&&FN.hasOwnProperty(n.type)?FN[n.type](n,e):P4(n,e)}var R4=new ui,F4=new ui,NN,ON,Hy,Gy,Vy,j0={point:On,lineStart:On,lineEnd:On,polygonStart:function(){R4=new ui,j0.lineStart=wpe,j0.lineEnd=Mpe},polygonEnd:function(){var n=+R4;F4.add(n<0?_r+n:n),this.lineStart=this.lineEnd=this.point=On},sphere:function(){F4.add(_r)}};function wpe(){j0.point=Spe}function Mpe(){BN(NN,ON)}function Spe(n,e){j0.point=BN,NN=n,ON=e,n*=dt,e*=dt,Hy=n,Gy=ut(e=e/2+E4),Vy=rt(e)}function BN(n,e){n*=dt,e*=dt,e=e/2+E4;var t=n-Hy,i=t>=0?1:-1,r=i*t,s=ut(e),o=rt(e),a=Vy*o,l=Gy*s+a*ut(r),c=a*i*rt(r);R4.add(br(c,l)),Hy=n,Gy=s,Vy=o}function Ape(n){return F4=new ui,h0(n,j0),F4*2}function I4(n){return[br(n[1],n[0]),wr(n[2])]}function eu(n){var e=n[0],t=n[1],i=ut(t);return[i*ut(e),i*rt(e),rt(t)]}function D4(n,e){return n[0]*e[0]+n[1]*e[1]+n[2]*e[2]}function bh(n,e){return[n[1]*e[2]-n[2]*e[1],n[2]*e[0]-n[0]*e[2],n[0]*e[1]-n[1]*e[0]]}function Wy(n,e){n[0]+=e[0],n[1]+=e[1],n[2]+=e[2]}function N4(n,e){return[n[0]*e,n[1]*e,n[2]*e]}function O4(n){var e=bi(n[0]*n[0]+n[1]*n[1]+n[2]*n[2]);n[0]/=e,n[1]/=e,n[2]/=e}var Bn,Hr,Xn,ns,tu,UN,zN,wh,Rp,nl,Wo,Xo={point:Xy,lineStart:HN,lineEnd:GN,polygonStart:function(){Xo.point=VN,Xo.lineStart=Tpe,Xo.lineEnd=Epe,Rp=new ui,j0.polygonStart()},polygonEnd:function(){j0.polygonEnd(),Xo.point=Xy,Xo.lineStart=HN,Xo.lineEnd=GN,R4<0?(Bn=-(Xn=180),Hr=-(ns=90)):Rp>ft?ns=90:Rp<-ft&&(Hr=-90),Wo[0]=Bn,Wo[1]=Xn},sphere:function(){Bn=-(Xn=180),Hr=-(ns=90)}};function Xy(n,e){nl.push(Wo=[Bn=n,Xn=n]),e<Hr&&(Hr=e),e>ns&&(ns=e)}function kN(n,e){var t=eu([n*dt,e*dt]);if(wh){var i=bh(wh,t),r=[i[1],-i[0],0],s=bh(r,i);O4(s),s=I4(s);var o=n-tu,a=o>0?1:-1,l=s[0]*dn*a,c,u=Xt(o)>180;u^(a*tu<l&&l<a*n)?(c=s[1]*dn,c>ns&&(ns=c)):(l=(l+360)%360-180,u^(a*tu<l&&l<a*n)?(c=-s[1]*dn,c<Hr&&(Hr=c)):(e<Hr&&(Hr=e),e>ns&&(ns=e))),u?n<tu?is(Bn,n)>is(Bn,Xn)&&(Xn=n):is(n,Xn)>is(Bn,Xn)&&(Bn=n):Xn>=Bn?(n<Bn&&(Bn=n),n>Xn&&(Xn=n)):n>tu?is(Bn,n)>is(Bn,Xn)&&(Xn=n):is(n,Xn)>is(Bn,Xn)&&(Bn=n)}else nl.push(Wo=[Bn=n,Xn=n]);e<Hr&&(Hr=e),e>ns&&(ns=e),wh=t,tu=n}function HN(){Xo.point=kN}function GN(){Wo[0]=Bn,Wo[1]=Xn,Xo.point=Xy,wh=null}function VN(n,e){if(wh){var t=n-tu;Rp.add(Xt(t)>180?t+(t>0?360:-360):t)}else UN=n,zN=e;j0.point(n,e),kN(n,e)}function Tpe(){j0.lineStart()}function Epe(){VN(UN,zN),j0.lineEnd(),Xt(Rp)>ft&&(Bn=-(Xn=180)),Wo[0]=Bn,Wo[1]=Xn,wh=null}function is(n,e){return(e-=n)<0?e+360:e}function Lpe(n,e){return n[0]-e[0]}function WN(n,e){return n[0]<=n[1]?n[0]<=e&&e<=n[1]:e<n[0]||n[1]<e}function Cpe(n){var e,t,i,r,s,o,a;if(ns=Xn=-(Bn=Hr=1/0),nl=[],h0(n,Xo),t=nl.length){for(nl.sort(Lpe),e=1,i=nl[0],s=[i];e<t;++e)r=nl[e],WN(i,r[0])||WN(i,r[1])?(is(i[0],r[1])>is(i[0],i[1])&&(i[1]=r[1]),is(r[0],i[1])>is(i[0],i[1])&&(i[0]=r[0])):s.push(i=r);for(o=-1/0,t=s.length-1,e=0,i=s[t];e<=t;i=r,++e)r=s[e],(a=is(i[1],r[0]))>o&&(o=a,Bn=r[0],Xn=i[1])}return nl=Wo=null,Bn===1/0||Hr===1/0?[[NaN,NaN],[NaN,NaN]]:[[Bn,Hr],[Xn,ns]]}var Fp,B4,U4,z4,k4,H4,G4,V4,Yy,$y,qy,XN,YN,Mr,Sr,Ar,d0={sphere:On,point:jy,lineStart:$N,lineEnd:qN,polygonStart:function(){d0.lineStart=Fpe,d0.lineEnd=Ipe},polygonEnd:function(){d0.lineStart=$N,d0.lineEnd=qN}};function jy(n,e){n*=dt,e*=dt;var t=ut(e);Ip(t*ut(n),t*rt(n),rt(e))}function Ip(n,e,t){++Fp,U4+=(n-U4)/Fp,z4+=(e-z4)/Fp,k4+=(t-k4)/Fp}function $N(){d0.point=Ppe}function Ppe(n,e){n*=dt,e*=dt;var t=ut(e);Mr=t*ut(n),Sr=t*rt(n),Ar=rt(e),d0.point=Rpe,Ip(Mr,Sr,Ar)}function Rpe(n,e){n*=dt,e*=dt;var t=ut(e),i=t*ut(n),r=t*rt(n),s=rt(e),o=br(bi((o=Sr*s-Ar*r)*o+(o=Ar*i-Mr*s)*o+(o=Mr*r-Sr*i)*o),Mr*i+Sr*r+Ar*s);B4+=o,H4+=o*(Mr+(Mr=i)),G4+=o*(Sr+(Sr=r)),V4+=o*(Ar+(Ar=s)),Ip(Mr,Sr,Ar)}function qN(){d0.point=jy}function Fpe(){d0.point=Dpe}function Ipe(){jN(XN,YN),d0.point=jy}function Dpe(n,e){XN=n,YN=e,n*=dt,e*=dt,d0.point=jN;var t=ut(e);Mr=t*ut(n),Sr=t*rt(n),Ar=rt(e),Ip(Mr,Sr,Ar)}function jN(n,e){n*=dt,e*=dt;var t=ut(e),i=t*ut(n),r=t*rt(n),s=rt(e),o=Sr*s-Ar*r,a=Ar*i-Mr*s,l=Mr*r-Sr*i,c=By(o,a,l),u=wr(c),f=c&&-u/c;Yy.add(f*o),$y.add(f*a),qy.add(f*l),B4+=u,H4+=u*(Mr+(Mr=i)),G4+=u*(Sr+(Sr=r)),V4+=u*(Ar+(Ar=s)),Ip(Mr,Sr,Ar)}function Npe(n){Fp=B4=U4=z4=k4=H4=G4=V4=0,Yy=new ui,$y=new ui,qy=new ui,h0(n,d0);var e=+Yy,t=+$y,i=+qy,r=By(e,t,i);return r<Pp&&(e=H4,t=G4,i=V4,B4<ft&&(e=U4,t=z4,i=k4),r=By(e,t,i),r<Pp)?[NaN,NaN]:[br(t,e)*dn,wr(i/r)*dn]}function Mh(n){return function(){return n}}function Zy(n,e){function t(i,r){return i=n(i,r),e(i[0],i[1])}return n.invert&&e.invert&&(t.invert=function(i,r){return i=e.invert(i,r),i&&n.invert(i[0],i[1])}),t}function Qy(n,e){return[Xt(n)>Dt?n+Math.round(-n/_r)*_r:n,e]}Qy.invert=Qy;function Jy(n,e,t){return(n%=_r)?e||t?Zy(QN(n),JN(e,t)):QN(n):e||t?JN(e,t):Qy}function ZN(n){return function(e,t){return e+=n,[e>Dt?e-_r:e<-Dt?e+_r:e,t]}}function QN(n){var e=ZN(n);return e.invert=ZN(-n),e}function JN(n,e){var t=ut(n),i=rt(n),r=ut(e),s=rt(e);function o(a,l){var c=ut(l),u=ut(a)*c,f=rt(a)*c,h=rt(l),d=h*t+u*i;return[br(f*r-d*s,u*t-h*i),wr(d*r+f*s)]}return o.invert=function(a,l){var c=ut(l),u=ut(a)*c,f=rt(a)*c,h=rt(l),d=h*r-f*s;return[br(f*r+h*s,u*t+d*i),wr(d*t-u*i)]},o}function KN(n){n=Jy(n[0]*dt,n[1]*dt,n.length>2?n[2]*dt:0);function e(t){return t=n(t[0]*dt,t[1]*dt),t[0]*=dn,t[1]*=dn,t}return e.invert=function(t){return t=n.invert(t[0]*dt,t[1]*dt),t[0]*=dn,t[1]*=dn,t},e}function eO(n,e,t,i,r,s){if(!!t){var o=ut(e),a=rt(e),l=i*t;r==null?(r=e+i*_r,s=e-l/2):(r=tO(o,r),s=tO(o,s),(i>0?r<s:r>s)&&(r+=i*_r));for(var c,u=r;i>0?u>s:u<s;u-=l)c=I4([o,-a*ut(u),-a*rt(u)]),n.point(c[0],c[1])}}function tO(n,e){e=eu(e),e[0]-=n,O4(e);var t=PN(-e[1]);return((-e[2]<0?-t:t)+_r-ft)%_r}function Ope(){var n=Mh([0,0]),e=Mh(90),t=Mh(6),i,r,s={point:o};function o(l,c){i.push(l=r(l,c)),l[0]*=dn,l[1]*=dn}function a(){var l=n.apply(this,arguments),c=e.apply(this,arguments)*dt,u=t.apply(this,arguments)*dt;return i=[],r=Jy(-l[0]*dt,-l[1]*dt,0).invert,eO(s,c,u,1),l={type:"Polygon",coordinates:[i]},i=r=null,l}return a.center=function(l){return arguments.length?(n=typeof l=="function"?l:Mh([+l[0],+l[1]]),a):n},a.radius=function(l){return arguments.length?(e=typeof l=="function"?l:Mh(+l),a):e},a.precision=function(l){return arguments.length?(t=typeof l=="function"?l:Mh(+l),a):t},a}function nO(){var n=[],e;return{point:function(t,i,r){e.push([t,i,r])},lineStart:function(){n.push(e=[])},lineEnd:On,rejoin:function(){n.length>1&&n.push(n.pop().concat(n.shift()))},result:function(){var t=n;return n=[],e=null,t}}}function W4(n,e){return Xt(n[0]-e[0])<ft&&Xt(n[1]-e[1])<ft}function X4(n,e,t,i){this.x=n,this.z=e,this.o=t,this.e=i,this.v=!1,this.n=this.p=null}function iO(n,e,t,i,r){var s=[],o=[],a,l;if(n.forEach(function(m){if(!((v=m.length-1)<=0)){var v,_=m[0],g=m[v],x;if(W4(_,g)){if(!_[2]&&!g[2]){for(r.lineStart(),a=0;a<v;++a)r.point((_=m[a])[0],_[1]);r.lineEnd();return}g[0]+=2*ft}s.push(x=new X4(_,m,null,!0)),o.push(x.o=new X4(_,null,x,!1)),s.push(x=new X4(g,m,null,!1)),o.push(x.o=new X4(g,null,x,!0))}}),!!s.length){for(o.sort(e),rO(s),rO(o),a=0,l=o.length;a<l;++a)o[a].e=t=!t;for(var c=s[0],u,f;;){for(var h=c,d=!0;h.v;)if((h=h.n)===c)return;u=h.z,r.lineStart();do{if(h.v=h.o.v=!0,h.e){if(d)for(a=0,l=u.length;a<l;++a)r.point((f=u[a])[0],f[1]);else i(h.x,h.n.x,1,r);h=h.n}else{if(d)for(u=h.p.z,a=u.length-1;a>=0;--a)r.point((f=u[a])[0],f[1]);else i(h.x,h.p.x,-1,r);h=h.p}h=h.o,u=h.z,d=!d}while(!h.v);r.lineEnd()}}}function rO(n){if(!!(e=n.length)){for(var e,t=0,i=n[0],r;++t<e;)i.n=r=n[t],r.p=i,i=r;i.n=r=n[0],r.p=i}}function Ky(n){return Xt(n[0])<=Dt?n[0]:Os(n[0])*((Xt(n[0])+Dt)%_r-Dt)}function sO(n,e){var t=Ky(e),i=e[1],r=rt(i),s=[rt(t),-ut(t),0],o=0,a=0,l=new ui;r===1?i=Wn+ft:r===-1&&(i=-Wn-ft);for(var c=0,u=n.length;c<u;++c)if(!!(h=(f=n[c]).length))for(var f,h,d=f[h-1],m=Ky(d),v=d[1]/2+E4,_=rt(v),g=ut(v),x=0;x<h;++x,m=w,_=A,g=T,d=b){var b=f[x],w=Ky(b),S=b[1]/2+E4,A=rt(S),T=ut(S),F=w-m,U=F>=0?1:-1,N=U*F,O=N>Dt,G=_*A;if(l.add(br(G*U*rt(N),g*T+G*ut(N))),o+=O?F+U*_r:F,O^m>=t^w>=t){var D=bh(eu(d),eu(b));O4(D);var P=bh(s,D);O4(P);var I=(O^F>=0?-1:1)*wr(P[2]);(i>I||i===I&&(D[0]||D[1]))&&(a+=O^F>=0?1:-1)}}return(o<-ft||o<ft&&l<-Pp)^a&1}function oO(n,e,t,i){return function(r){var s=e(r),o=nO(),a=e(o),l=!1,c,u,f,h={point:d,lineStart:v,lineEnd:_,polygonStart:function(){h.point=g,h.lineStart=x,h.lineEnd=b,u=[],c=[]},polygonEnd:function(){h.point=d,h.lineStart=v,h.lineEnd=_,u=Tx(u);var w=sO(c,i);u.length?(l||(r.polygonStart(),l=!0),iO(u,Upe,w,t,r)):w&&(l||(r.polygonStart(),l=!0),r.lineStart(),t(null,null,1,r),r.lineEnd()),l&&(r.polygonEnd(),l=!1),u=c=null},sphere:function(){r.polygonStart(),r.lineStart(),t(null,null,1,r),r.lineEnd(),r.polygonEnd()}};function d(w,S){n(w,S)&&r.point(w,S)}function m(w,S){s.point(w,S)}function v(){h.point=m,s.lineStart()}function _(){h.point=d,s.lineEnd()}function g(w,S){f.push([w,S]),a.point(w,S)}function x(){a.lineStart(),f=[]}function b(){g(f[0][0],f[0][1]),a.lineEnd();var w=a.clean(),S=o.result(),A,T=S.length,F,U,N;if(f.pop(),c.push(f),f=null,!!T){if(w&1){if(U=S[0],(F=U.length-1)>0){for(l||(r.polygonStart(),l=!0),r.lineStart(),A=0;A<F;++A)r.point((N=U[A])[0],N[1]);r.lineEnd()}return}T>1&&w&2&&S.push(S.pop().concat(S.shift())),u.push(S.filter(Bpe))}}return h}}function Bpe(n){return n.length>1}function Upe(n,e){return((n=n.x)[0]<0?n[1]-Wn-ft:Wn-n[1])-((e=e.x)[0]<0?e[1]-Wn-ft:Wn-e[1])}var e_=oO(function(){return!0},zpe,Hpe,[-Dt,-Wn]);function zpe(n){var e=NaN,t=NaN,i=NaN,r;return{lineStart:function(){n.lineStart(),r=1},point:function(s,o){var a=s>0?Dt:-Dt,l=Xt(s-e);Xt(l-Dt)<ft?(n.point(e,t=(t+o)/2>0?Wn:-Wn),n.point(i,t),n.lineEnd(),n.lineStart(),n.point(a,t),n.point(s,t),r=0):i!==a&&l>=Dt&&(Xt(e-i)<ft&&(e-=i*ft),Xt(s-a)<ft&&(s-=a*ft),t=kpe(e,t,s,o),n.point(i,t),n.lineEnd(),n.lineStart(),n.point(a,t),r=0),n.point(e=s,t=o),i=a},lineEnd:function(){n.lineEnd(),e=t=NaN},clean:function(){return 2-r}}}function kpe(n,e,t,i){var r,s,o=rt(n-t);return Xt(o)>ft?_h((rt(e)*(s=ut(i))*rt(t)-rt(i)*(r=ut(e))*rt(n))/(r*s*o)):(e+i)/2}function Hpe(n,e,t,i){var r;if(n==null)r=t*Wn,i.point(-Dt,r),i.point(0,r),i.point(Dt,r),i.point(Dt,0),i.point(Dt,-r),i.point(0,-r),i.point(-Dt,-r),i.point(-Dt,0),i.point(-Dt,r);else if(Xt(n[0]-e[0])>ft){var s=n[0]<e[0]?Dt:-Dt;r=t*s/2,i.point(-s,r),i.point(0,r),i.point(s,r)}else i.point(e[0],e[1])}function aO(n){var e=ut(n),t=6*dt,i=e>0,r=Xt(e)>ft;function s(u,f,h,d){eO(d,n,t,h,u,f)}function o(u,f){return ut(u)*ut(f)>e}function a(u){var f,h,d,m,v;return{lineStart:function(){m=d=!1,v=1},point:function(_,g){var x=[_,g],b,w=o(_,g),S=i?w?0:c(_,g):w?c(_+(_<0?Dt:-Dt),g):0;if(!f&&(m=d=w)&&u.lineStart(),w!==d&&(b=l(f,x),(!b||W4(f,b)||W4(x,b))&&(x[2]=1)),w!==d)v=0,w?(u.lineStart(),b=l(x,f),u.point(b[0],b[1])):(b=l(f,x),u.point(b[0],b[1],2),u.lineEnd()),f=b;else if(r&&f&&i^w){var A;!(S&h)&&(A=l(x,f,!0))&&(v=0,i?(u.lineStart(),u.point(A[0][0],A[0][1]),u.point(A[1][0],A[1][1]),u.lineEnd()):(u.point(A[1][0],A[1][1]),u.lineEnd(),u.lineStart(),u.point(A[0][0],A[0][1],3)))}w&&(!f||!W4(f,x))&&u.point(x[0],x[1]),f=x,d=w,h=S},lineEnd:function(){d&&u.lineEnd(),f=null},clean:function(){return v|(m&&d)<<1}}}function l(u,f,h){var d=eu(u),m=eu(f),v=[1,0,0],_=bh(d,m),g=D4(_,_),x=_[0],b=g-x*x;if(!b)return!h&&u;var w=e*g/b,S=-e*x/b,A=bh(v,_),T=N4(v,w),F=N4(_,S);Wy(T,F);var U=A,N=D4(T,U),O=D4(U,U),G=N*N-O*(D4(T,T)-1);if(!(G<0)){var D=bi(G),P=N4(U,(-N-D)/O);if(Wy(P,T),P=I4(P),!h)return P;var I=u[0],C=f[0],B=u[1],Y=f[1],j;C<I&&(j=I,I=C,C=j);var re=C-I,ie=Xt(re-Dt)<ft,ve=ie||re<ft;if(!ie&&Y<B&&(j=B,B=Y,Y=j),ve?ie?B+Y>0^P[1]<(Xt(P[0]-I)<ft?B:Y):B<=P[1]&&P[1]<=Y:re>Dt^(I<=P[0]&&P[0]<=C)){var de=N4(U,(-N+D)/O);return Wy(de,T),[P,I4(de)]}}}function c(u,f){var h=i?n:Dt-n,d=0;return u<-h?d|=1:u>h&&(d|=2),f<-h?d|=4:f>h&&(d|=8),d}return oO(o,a,s,i?[0,-n]:[-Dt,n-Dt])}function Gpe(n,e,t,i,r,s){var o=n[0],a=n[1],l=e[0],c=e[1],u=0,f=1,h=l-o,d=c-a,m;if(m=t-o,!(!h&&m>0)){if(m/=h,h<0){if(m<u)return;m<f&&(f=m)}else if(h>0){if(m>f)return;m>u&&(u=m)}if(m=r-o,!(!h&&m<0)){if(m/=h,h<0){if(m>f)return;m>u&&(u=m)}else if(h>0){if(m<u)return;m<f&&(f=m)}if(m=i-a,!(!d&&m>0)){if(m/=d,d<0){if(m<u)return;m<f&&(f=m)}else if(d>0){if(m>f)return;m>u&&(u=m)}if(m=s-a,!(!d&&m<0)){if(m/=d,d<0){if(m>f)return;m>u&&(u=m)}else if(d>0){if(m<u)return;m<f&&(f=m)}return u>0&&(n[0]=o+u*h,n[1]=a+u*d),f<1&&(e[0]=o+f*h,e[1]=a+f*d),!0}}}}}var Dp=1e9,Y4=-Dp;function $4(n,e,t,i){function r(c,u){return n<=c&&c<=t&&e<=u&&u<=i}function s(c,u,f,h){var d=0,m=0;if(c==null||(d=o(c,f))!==(m=o(u,f))||l(c,u)<0^f>0)do h.point(d===0||d===3?n:t,d>1?i:e);while((d=(d+f+4)%4)!==m);else h.point(u[0],u[1])}function o(c,u){return Xt(c[0]-n)<ft?u>0?0:3:Xt(c[0]-t)<ft?u>0?2:1:Xt(c[1]-e)<ft?u>0?1:0:u>0?3:2}function a(c,u){return l(c.x,u.x)}function l(c,u){var f=o(c,1),h=o(u,1);return f!==h?f-h:f===0?u[1]-c[1]:f===1?c[0]-u[0]:f===2?c[1]-u[1]:u[0]-c[0]}return function(c){var u=c,f=nO(),h,d,m,v,_,g,x,b,w,S,A,T={point:F,lineStart:G,lineEnd:D,polygonStart:N,polygonEnd:O};function F(I,C){r(I,C)&&u.point(I,C)}function U(){for(var I=0,C=0,B=d.length;C<B;++C)for(var Y=d[C],j=1,re=Y.length,ie=Y[0],ve,de,ye=ie[0],te=ie[1];j<re;++j)ve=ye,de=te,ie=Y[j],ye=ie[0],te=ie[1],de<=i?te>i&&(ye-ve)*(i-de)>(te-de)*(n-ve)&&++I:te<=i&&(ye-ve)*(i-de)<(te-de)*(n-ve)&&--I;return I}function N(){u=f,h=[],d=[],A=!0}function O(){var I=U(),C=A&&I,B=(h=Tx(h)).length;(C||B)&&(c.polygonStart(),C&&(c.lineStart(),s(null,null,1,c),c.lineEnd()),B&&iO(h,a,I,s,c),c.polygonEnd()),u=c,h=d=m=null}function G(){T.point=P,d&&d.push(m=[]),S=!0,w=!1,x=b=NaN}function D(){h&&(P(v,_),g&&w&&f.rejoin(),h.push(f.result())),T.point=F,w&&u.lineEnd()}function P(I,C){var B=r(I,C);if(d&&m.push([I,C]),S)v=I,_=C,g=B,S=!1,B&&(u.lineStart(),u.point(I,C));else if(B&&w)u.point(I,C);else{var Y=[x=Math.max(Y4,Math.min(Dp,x)),b=Math.max(Y4,Math.min(Dp,b))],j=[I=Math.max(Y4,Math.min(Dp,I)),C=Math.max(Y4,Math.min(Dp,C))];Gpe(Y,j,n,e,t,i)?(w||(u.lineStart(),u.point(Y[0],Y[1])),u.point(j[0],j[1]),B||u.lineEnd(),A=!1):B&&(u.lineStart(),u.point(I,C),A=!1)}x=I,b=C,w=B}return T}}function Vpe(){var n=0,e=0,t=960,i=500,r,s,o;return o={stream:function(a){return r&&s===a?r:r=$4(n,e,t,i)(s=a)},extent:function(a){return arguments.length?(n=+a[0][0],e=+a[0][1],t=+a[1][0],i=+a[1][1],r=s=null,o):[[n,e],[t,i]]}}}var t_,n_,q4,j4,Sh={sphere:On,point:On,lineStart:Wpe,lineEnd:On,polygonStart:On,polygonEnd:On};function Wpe(){Sh.point=Ype,Sh.lineEnd=Xpe}function Xpe(){Sh.point=Sh.lineEnd=On}function Ype(n,e){n*=dt,e*=dt,n_=n,q4=rt(e),j4=ut(e),Sh.point=$pe}function $pe(n,e){n*=dt,e*=dt;var t=rt(e),i=ut(e),r=Xt(n-n_),s=ut(r),o=rt(r),a=i*o,l=j4*t-q4*i*s,c=q4*t+j4*i*s;t_.add(br(bi(a*a+l*l),c)),n_=n,q4=t,j4=i}function lO(n){return t_=new ui,h0(n,Sh),+t_}var i_=[null,null],qpe={type:"LineString",coordinates:i_};function Z4(n,e){return i_[0]=n,i_[1]=e,lO(qpe)}var cO={Feature:function(n,e){return Q4(n.geometry,e)},FeatureCollection:function(n,e){for(var t=n.features,i=-1,r=t.length;++i<r;)if(Q4(t[i].geometry,e))return!0;return!1}},uO={Sphere:function(){return!0},Point:function(n,e){return fO(n.coordinates,e)},MultiPoint:function(n,e){for(var t=n.coordinates,i=-1,r=t.length;++i<r;)if(fO(t[i],e))return!0;return!1},LineString:function(n,e){return hO(n.coordinates,e)},MultiLineString:function(n,e){for(var t=n.coordinates,i=-1,r=t.length;++i<r;)if(hO(t[i],e))return!0;return!1},Polygon:function(n,e){return dO(n.coordinates,e)},MultiPolygon:function(n,e){for(var t=n.coordinates,i=-1,r=t.length;++i<r;)if(dO(t[i],e))return!0;return!1},GeometryCollection:function(n,e){for(var t=n.geometries,i=-1,r=t.length;++i<r;)if(Q4(t[i],e))return!0;return!1}};function Q4(n,e){return n&&uO.hasOwnProperty(n.type)?uO[n.type](n,e):!1}function fO(n,e){return Z4(n,e)===0}function hO(n,e){for(var t,i,r,s=0,o=n.length;s<o;s++){if(i=Z4(n[s],e),i===0||s>0&&(r=Z4(n[s],n[s-1]),r>0&&t<=r&&i<=r&&(t+i-r)*(1-Math.pow((t-i)/r,2))<Pp*r))return!0;t=i}return!1}function dO(n,e){return!!sO(n.map(jpe),pO(e))}function jpe(n){return n=n.map(pO),n.pop(),n}function pO(n){return[n[0]*dt,n[1]*dt]}function Zpe(n,e){return(n&&cO.hasOwnProperty(n.type)?cO[n.type]:Q4)(n,e)}function mO(n,e,t){var i=V0(n,e-ft,t).concat(e);return function(r){return i.map(function(s){return[r,s]})}}function gO(n,e,t){var i=V0(n,e-ft,t).concat(e);return function(r){return i.map(function(s){return[s,r]})}}function vO(){var n,e,t,i,r,s,o,a,l=10,c=l,u=90,f=360,h,d,m,v,_=2.5;function g(){return{type:"MultiLineString",coordinates:x()}}function x(){return V0(L4(i/u)*u,t,u).map(m).concat(V0(L4(a/f)*f,o,f).map(v)).concat(V0(L4(e/l)*l,n,l).filter(function(b){return Xt(b%u)>ft}).map(h)).concat(V0(L4(s/c)*c,r,c).filter(function(b){return Xt(b%f)>ft}).map(d))}return g.lines=function(){return x().map(function(b){return{type:"LineString",coordinates:b}})},g.outline=function(){return{type:"Polygon",coordinates:[m(i).concat(v(o).slice(1),m(t).reverse().slice(1),v(a).reverse().slice(1))]}},g.extent=function(b){return arguments.length?g.extentMajor(b).extentMinor(b):g.extentMinor()},g.extentMajor=function(b){return arguments.length?(i=+b[0][0],t=+b[1][0],a=+b[0][1],o=+b[1][1],i>t&&(b=i,i=t,t=b),a>o&&(b=a,a=o,o=b),g.precision(_)):[[i,a],[t,o]]},g.extentMinor=function(b){return arguments.length?(e=+b[0][0],n=+b[1][0],s=+b[0][1],r=+b[1][1],e>n&&(b=e,e=n,n=b),s>r&&(b=s,s=r,r=b),g.precision(_)):[[e,s],[n,r]]},g.step=function(b){return arguments.length?g.stepMajor(b).stepMinor(b):g.stepMinor()},g.stepMajor=function(b){return arguments.length?(u=+b[0],f=+b[1],g):[u,f]},g.stepMinor=function(b){return arguments.length?(l=+b[0],c=+b[1],g):[l,c]},g.precision=function(b){return arguments.length?(_=+b,h=mO(s,r,90),d=gO(e,n,_),m=mO(a,o,90),v=gO(i,t,_),g):_},g.extentMajor([[-180,-90+ft],[180,90-ft]]).extentMinor([[-180,-80-ft],[180,80+ft]])}function Qpe(){return vO()()}function Jpe(n,e){var t=n[0]*dt,i=n[1]*dt,r=e[0]*dt,s=e[1]*dt,o=ut(i),a=rt(i),l=ut(s),c=rt(s),u=o*ut(t),f=o*rt(t),h=l*ut(r),d=l*rt(r),m=2*wr(bi(RN(s-i)+o*l*RN(r-t))),v=rt(m),_=m?function(g){var x=rt(g*=m)/v,b=rt(m-g)/v,w=b*u+x*h,S=b*f+x*d,A=b*a+x*c;return[br(S,w)*dn,br(A,bi(w*w+S*S))*dn]}:function(){return[t*dn,i*dn]};return _.distance=m,_}var Np=n=>n,r_=new ui,s_=new ui,xO,yO,o_,a_,il={point:On,lineStart:On,lineEnd:On,polygonStart:function(){il.lineStart=Kpe,il.lineEnd=t2e},polygonEnd:function(){il.lineStart=il.lineEnd=il.point=On,r_.add(Xt(s_)),s_=new ui},result:function(){var n=r_/2;return r_=new ui,n}};function Kpe(){il.point=e2e}function e2e(n,e){il.point=_O,xO=o_=n,yO=a_=e}function _O(n,e){s_.add(a_*n-o_*e),o_=n,a_=e}function t2e(){_O(xO,yO)}var bO=il,Ah=1/0,J4=Ah,Op=-Ah,K4=Op,n2e={point:i2e,lineStart:On,lineEnd:On,polygonStart:On,polygonEnd:On,result:function(){var n=[[Ah,J4],[Op,K4]];return Op=K4=-(J4=Ah=1/0),n}};function i2e(n,e){n<Ah&&(Ah=n),n>Op&&(Op=n),e<J4&&(J4=e),e>K4&&(K4=e)}var e5=n2e,l_=0,c_=0,Bp=0,t5=0,n5=0,Th=0,u_=0,f_=0,Up=0,wO,MO,Z0,Q0,p0={point:nu,lineStart:SO,lineEnd:AO,polygonStart:function(){p0.lineStart=o2e,p0.lineEnd=a2e},polygonEnd:function(){p0.point=nu,p0.lineStart=SO,p0.lineEnd=AO},result:function(){var n=Up?[u_/Up,f_/Up]:Th?[t5/Th,n5/Th]:Bp?[l_/Bp,c_/Bp]:[NaN,NaN];return l_=c_=Bp=t5=n5=Th=u_=f_=Up=0,n}};function nu(n,e){l_+=n,c_+=e,++Bp}function SO(){p0.point=r2e}function r2e(n,e){p0.point=s2e,nu(Z0=n,Q0=e)}function s2e(n,e){var t=n-Z0,i=e-Q0,r=bi(t*t+i*i);t5+=r*(Z0+n)/2,n5+=r*(Q0+e)/2,Th+=r,nu(Z0=n,Q0=e)}function AO(){p0.point=nu}function o2e(){p0.point=l2e}function a2e(){TO(wO,MO)}function l2e(n,e){p0.point=TO,nu(wO=Z0=n,MO=Q0=e)}function TO(n,e){var t=n-Z0,i=e-Q0,r=bi(t*t+i*i);t5+=r*(Z0+n)/2,n5+=r*(Q0+e)/2,Th+=r,r=Q0*n-Z0*e,u_+=r*(Z0+n),f_+=r*(Q0+e),Up+=r*3,nu(Z0=n,Q0=e)}var EO=p0;function LO(n){this._context=n}LO.prototype={_radius:4.5,pointRadius:function(n){return this._radius=n,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(n,e){switch(this._point){case 0:{this._context.moveTo(n,e),this._point=1;break}case 1:{this._context.lineTo(n,e);break}default:{this._context.moveTo(n+this._radius,e),this._context.arc(n,e,this._radius,0,_r);break}}},result:On};var h_=new ui,d_,CO,PO,zp,kp,i5={point:On,lineStart:function(){i5.point=c2e},lineEnd:function(){d_&&RO(CO,PO),i5.point=On},polygonStart:function(){d_=!0},polygonEnd:function(){d_=null},result:function(){var n=+h_;return h_=new ui,n}};function c2e(n,e){i5.point=RO,CO=zp=n,PO=kp=e}function RO(n,e){zp-=n,kp-=e,h_.add(bi(zp*zp+kp*kp)),zp=n,kp=e}var FO=i5;function IO(){this._string=[]}IO.prototype={_radius:4.5,_circle:DO(4.5),pointRadius:function(n){return(n=+n)!==this._radius&&(this._radius=n,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._string.push("Z"),this._point=NaN},point:function(n,e){switch(this._point){case 0:{this._string.push("M",n,",",e),this._point=1;break}case 1:{this._string.push("L",n,",",e);break}default:{this._circle==null&&(this._circle=DO(this._radius)),this._string.push("M",n,",",e,this._circle);break}}},result:function(){if(this._string.length){var n=this._string.join("");return this._string=[],n}else return null}};function DO(n){return"m0,"+n+"a"+n+","+n+" 0 1,1 0,"+-2*n+"a"+n+","+n+" 0 1,1 0,"+2*n+"z"}function u2e(n,e){var t=4.5,i,r;function s(o){return o&&(typeof t=="function"&&r.pointRadius(+t.apply(this,arguments)),h0(o,i(r))),r.result()}return s.area=function(o){return h0(o,i(bO)),bO.result()},s.measure=function(o){return h0(o,i(FO)),FO.result()},s.bounds=function(o){return h0(o,i(e5)),e5.result()},s.centroid=function(o){return h0(o,i(EO)),EO.result()},s.projection=function(o){return arguments.length?(i=o==null?(n=null,Np):(n=o).stream,s):n},s.context=function(o){return arguments.length?(r=o==null?(e=null,new IO):new LO(e=o),typeof t!="function"&&r.pointRadius(t),s):e},s.pointRadius=function(o){return arguments.length?(t=typeof o=="function"?o:(r.pointRadius(+o),+o),s):t},s.projection(n).context(e)}function f2e(n){return{stream:Hp(n)}}function Hp(n){return function(e){var t=new p_;for(var i in n)t[i]=n[i];return t.stream=e,t}}function p_(){}p_.prototype={constructor:p_,point:function(n,e){this.stream.point(n,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function m_(n,e,t){var i=n.clipExtent&&n.clipExtent();return n.scale(150).translate([0,0]),i!=null&&n.clipExtent(null),h0(t,n.stream(e5)),e(e5.result()),i!=null&&n.clipExtent(i),n}function r5(n,e,t){return m_(n,function(i){var r=e[1][0]-e[0][0],s=e[1][1]-e[0][1],o=Math.min(r/(i[1][0]-i[0][0]),s/(i[1][1]-i[0][1])),a=+e[0][0]+(r-o*(i[1][0]+i[0][0]))/2,l=+e[0][1]+(s-o*(i[1][1]+i[0][1]))/2;n.scale(150*o).translate([a,l])},t)}function g_(n,e,t){return r5(n,[[0,0],e],t)}function v_(n,e,t){return m_(n,function(i){var r=+e,s=r/(i[1][0]-i[0][0]),o=(r-s*(i[1][0]+i[0][0]))/2,a=-s*i[0][1];n.scale(150*s).translate([o,a])},t)}function x_(n,e,t){return m_(n,function(i){var r=+e,s=r/(i[1][1]-i[0][1]),o=-s*i[0][0],a=(r-s*(i[1][1]+i[0][1]))/2;n.scale(150*s).translate([o,a])},t)}var NO=16,h2e=ut(30*dt);function OO(n,e){return+e?p2e(n,e):d2e(n)}function d2e(n){return Hp({point:function(e,t){e=n(e,t),this.stream.point(e[0],e[1])}})}function p2e(n,e){function t(i,r,s,o,a,l,c,u,f,h,d,m,v,_){var g=c-i,x=u-r,b=g*g+x*x;if(b>4*e&&v--){var w=o+h,S=a+d,A=l+m,T=bi(w*w+S*S+A*A),F=wr(A/=T),U=Xt(Xt(A)-1)<ft||Xt(s-f)<ft?(s+f)/2:br(S,w),N=n(U,F),O=N[0],G=N[1],D=O-i,P=G-r,I=x*D-g*P;(I*I/b>e||Xt((g*D+x*P)/b-.5)>.3||o*h+a*d+l*m<h2e)&&(t(i,r,s,o,a,l,O,G,U,w/=T,S/=T,A,v,_),_.point(O,G),t(O,G,U,w,S,A,c,u,f,h,d,m,v,_))}}return function(i){var r,s,o,a,l,c,u,f,h,d,m,v,_={point:g,lineStart:x,lineEnd:w,polygonStart:function(){i.polygonStart(),_.lineStart=S},polygonEnd:function(){i.polygonEnd(),_.lineStart=x}};function g(F,U){F=n(F,U),i.point(F[0],F[1])}function x(){f=NaN,_.point=b,i.lineStart()}function b(F,U){var N=eu([F,U]),O=n(F,U);t(f,h,u,d,m,v,f=O[0],h=O[1],u=F,d=N[0],m=N[1],v=N[2],NO,i),i.point(f,h)}function w(){_.point=g,i.lineEnd()}function S(){x(),_.point=A,_.lineEnd=T}function A(F,U){b(r=F,U),s=f,o=h,a=d,l=m,c=v,_.point=b}function T(){t(f,h,u,d,m,v,s,o,r,a,l,c,NO,i),_.lineEnd=w,w()}return _}}var m2e=Hp({point:function(n,e){this.stream.point(n*dt,e*dt)}});function g2e(n){return Hp({point:function(e,t){var i=n(e,t);return this.stream.point(i[0],i[1])}})}function v2e(n,e,t,i,r){function s(o,a){return o*=i,a*=r,[e+n*o,t-n*a]}return s.invert=function(o,a){return[(o-e)/n*i,(t-a)/n*r]},s}function BO(n,e,t,i,r,s){if(!s)return v2e(n,e,t,i,r);var o=ut(s),a=rt(s),l=o*n,c=a*n,u=o/n,f=a/n,h=(a*t-o*e)/n,d=(a*e+o*t)/n;function m(v,_){return v*=i,_*=r,[l*v-c*_+e,t-c*v-l*_]}return m.invert=function(v,_){return[i*(u*v-f*_+h),r*(d-f*v-u*_)]},m}function J0(n){return y_(function(){return n})()}function y_(n){var e,t=150,i=480,r=250,s=0,o=0,a=0,l=0,c=0,u,f=0,h=1,d=1,m=null,v=e_,_=null,g,x,b,w=Np,S=.5,A,T,F,U,N;function O(I){return F(I[0]*dt,I[1]*dt)}function G(I){return I=F.invert(I[0],I[1]),I&&[I[0]*dn,I[1]*dn]}O.stream=function(I){return U&&N===I?U:U=m2e(g2e(u)(v(A(w(N=I)))))},O.preclip=function(I){return arguments.length?(v=I,m=void 0,P()):v},O.postclip=function(I){return arguments.length?(w=I,_=g=x=b=null,P()):w},O.clipAngle=function(I){return arguments.length?(v=+I?aO(m=I*dt):(m=null,e_),P()):m*dn},O.clipExtent=function(I){return arguments.length?(w=I==null?(_=g=x=b=null,Np):$4(_=+I[0][0],g=+I[0][1],x=+I[1][0],b=+I[1][1]),P()):_==null?null:[[_,g],[x,b]]},O.scale=function(I){return arguments.length?(t=+I,D()):t},O.translate=function(I){return arguments.length?(i=+I[0],r=+I[1],D()):[i,r]},O.center=function(I){return arguments.length?(s=I[0]%360*dt,o=I[1]%360*dt,D()):[s*dn,o*dn]},O.rotate=function(I){return arguments.length?(a=I[0]%360*dt,l=I[1]%360*dt,c=I.length>2?I[2]%360*dt:0,D()):[a*dn,l*dn,c*dn]},O.angle=function(I){return arguments.length?(f=I%360*dt,D()):f*dn},O.reflectX=function(I){return arguments.length?(h=I?-1:1,D()):h<0},O.reflectY=function(I){return arguments.length?(d=I?-1:1,D()):d<0},O.precision=function(I){return arguments.length?(A=OO(T,S=I*I),P()):bi(S)},O.fitExtent=function(I,C){return r5(O,I,C)},O.fitSize=function(I,C){return g_(O,I,C)},O.fitWidth=function(I,C){return v_(O,I,C)},O.fitHeight=function(I,C){return x_(O,I,C)};function D(){var I=BO(t,0,0,h,d,f).apply(null,e(s,o)),C=BO(t,i-I[0],r-I[1],h,d,f);return u=Jy(a,l,c),T=Zy(e,C),F=Zy(u,T),A=OO(T,S),P()}function P(){return U=N=null,O}return function(){return e=n.apply(this,arguments),O.invert=e.invert&&G,D()}}function __(n){var e=0,t=Dt/3,i=y_(n),r=i(e,t);return r.parallels=function(s){return arguments.length?i(e=s[0]*dt,t=s[1]*dt):[e*dn,t*dn]},r}function x2e(n){var e=ut(n);function t(i,r){return[i*e,rt(r)/e]}return t.invert=function(i,r){return[i/e,wr(r*e)]},t}function UO(n,e){var t=rt(n),i=(t+rt(e))/2;if(Xt(i)<ft)return x2e(n);var r=1+t*(2*i-t),s=bi(r)/i;function o(a,l){var c=bi(r-2*i*rt(l))/i;return[c*rt(a*=i),s-c*ut(a)]}return o.invert=function(a,l){var c=s-l,u=br(a,Xt(c))*Os(c);return c*i<0&&(u-=Dt*Os(a)*Os(c)),[u/i,wr((r-(a*a+c*c)*i*i)/(2*i))]},o}function s5(){return __(UO).scale(155.424).center([0,33.6442])}function zO(){return s5().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function y2e(n){var e=n.length;return{point:function(t,i){for(var r=-1;++r<e;)n[r].point(t,i)},sphere:function(){for(var t=-1;++t<e;)n[t].sphere()},lineStart:function(){for(var t=-1;++t<e;)n[t].lineStart()},lineEnd:function(){for(var t=-1;++t<e;)n[t].lineEnd()},polygonStart:function(){for(var t=-1;++t<e;)n[t].polygonStart()},polygonEnd:function(){for(var t=-1;++t<e;)n[t].polygonEnd()}}}function _2e(){var n,e,t=zO(),i,r=s5().rotate([154,0]).center([-2,58.5]).parallels([55,65]),s,o=s5().rotate([157,0]).center([-3,19.9]).parallels([8,18]),a,l,c={point:function(h,d){l=[h,d]}};function u(h){var d=h[0],m=h[1];return l=null,i.point(d,m),l||(s.point(d,m),l)||(a.point(d,m),l)}u.invert=function(h){var d=t.scale(),m=t.translate(),v=(h[0]-m[0])/d,_=(h[1]-m[1])/d;return(_>=.12&&_<.234&&v>=-.425&&v<-.214?r:_>=.166&&_<.234&&v>=-.214&&v<-.115?o:t).invert(h)},u.stream=function(h){return n&&e===h?n:n=y2e([t.stream(e=h),r.stream(h),o.stream(h)])},u.precision=function(h){return arguments.length?(t.precision(h),r.precision(h),o.precision(h),f()):t.precision()},u.scale=function(h){return arguments.length?(t.scale(h),r.scale(h*.35),o.scale(h),u.translate(t.translate())):t.scale()},u.translate=function(h){if(!arguments.length)return t.translate();var d=t.scale(),m=+h[0],v=+h[1];return i=t.translate(h).clipExtent([[m-.455*d,v-.238*d],[m+.455*d,v+.238*d]]).stream(c),s=r.translate([m-.307*d,v+.201*d]).clipExtent([[m-.425*d+ft,v+.12*d+ft],[m-.214*d-ft,v+.234*d-ft]]).stream(c),a=o.translate([m-.205*d,v+.212*d]).clipExtent([[m-.214*d+ft,v+.166*d+ft],[m-.115*d-ft,v+.234*d-ft]]).stream(c),f()},u.fitExtent=function(h,d){return r5(u,h,d)},u.fitSize=function(h,d){return g_(u,h,d)},u.fitWidth=function(h,d){return v_(u,h,d)},u.fitHeight=function(h,d){return x_(u,h,d)};function f(){return n=e=null,u}return u.scale(1070)}function kO(n){return function(e,t){var i=ut(e),r=ut(t),s=n(i*r);return s===1/0?[2,0]:[s*r*rt(e),s*rt(t)]}}function Gp(n){return function(e,t){var i=bi(e*e+t*t),r=n(i),s=rt(r),o=ut(r);return[br(e*s,i*o),wr(i&&t*s/i)]}}var b_=kO(function(n){return bi(2/(1+n))});b_.invert=Gp(function(n){return 2*wr(n/2)});function b2e(){return J0(b_).scale(124.75).clipAngle(180-.001)}var w_=kO(function(n){return(n=PN(n))&&n/rt(n)});w_.invert=Gp(function(n){return n});function w2e(){return J0(w_).scale(79.4188).clipAngle(180-.001)}function Vp(n,e){return[n,C4(zy((Wn+e)/2))]}Vp.invert=function(n,e){return[n,2*_h(CN(e))-Wn]};function M2e(){return HO(Vp).scale(961/_r)}function HO(n){var e=J0(n),t=e.center,i=e.scale,r=e.translate,s=e.clipExtent,o=null,a,l,c;e.scale=function(f){return arguments.length?(i(f),u()):i()},e.translate=function(f){return arguments.length?(r(f),u()):r()},e.center=function(f){return arguments.length?(t(f),u()):t()},e.clipExtent=function(f){return arguments.length?(f==null?o=a=l=c=null:(o=+f[0][0],a=+f[0][1],l=+f[1][0],c=+f[1][1]),u()):o==null?null:[[o,a],[l,c]]};function u(){var f=Dt*i(),h=e(KN(e.rotate()).invert([0,0]));return s(o==null?[[h[0]-f,h[1]-f],[h[0]+f,h[1]+f]]:n===Vp?[[Math.max(h[0]-f,o),a],[Math.min(h[0]+f,l),c]]:[[o,Math.max(h[1]-f,a)],[l,Math.min(h[1]+f,c)]])}return u()}function o5(n){return zy((Wn+n)/2)}function GO(n,e){var t=ut(n),i=n===e?rt(n):C4(t/ut(e))/C4(o5(e)/o5(n)),r=t*Uy(o5(n),i)/i;if(!i)return Vp;function s(o,a){r>0?a<-Wn+ft&&(a=-Wn+ft):a>Wn-ft&&(a=Wn-ft);var l=r/Uy(o5(a),i);return[l*rt(i*o),r-l*ut(i*o)]}return s.invert=function(o,a){var l=r-a,c=Os(i)*bi(o*o+l*l),u=br(o,Xt(l))*Os(l);return l*i<0&&(u-=Dt*Os(o)*Os(l)),[u/i,2*_h(Uy(r/c,1/i))-Wn]},s}function S2e(){return __(GO).scale(109.5).parallels([30,30])}function Wp(n,e){return[n,e]}Wp.invert=Wp;function A2e(){return J0(Wp).scale(152.63)}function VO(n,e){var t=ut(n),i=n===e?rt(n):(t-ut(e))/(e-n),r=t/i+n;if(Xt(i)<ft)return Wp;function s(o,a){var l=r-a,c=i*o;return[l*rt(c),r-l*ut(c)]}return s.invert=function(o,a){var l=r-a,c=br(o,Xt(l))*Os(l);return l*i<0&&(c-=Dt*Os(o)*Os(l)),[c/i,r-Os(i)*bi(o*o+l*l)]},s}function T2e(){return __(VO).scale(131.154).center([0,13.9389])}var Xp=1.340264,Yp=-.081106,$p=893e-6,qp=.003796,a5=bi(3)/2,E2e=12;function M_(n,e){var t=wr(a5*rt(e)),i=t*t,r=i*i*i;return[n*ut(t)/(a5*(Xp+3*Yp*i+r*(7*$p+9*qp*i))),t*(Xp+Yp*i+r*($p+qp*i))]}M_.invert=function(n,e){for(var t=e,i=t*t,r=i*i*i,s=0,o,a,l;s<E2e&&(a=t*(Xp+Yp*i+r*($p+qp*i))-e,l=Xp+3*Yp*i+r*(7*$p+9*qp*i),t-=o=a/l,i=t*t,r=i*i*i,!(Xt(o)<Pp));++s);return[a5*n*(Xp+3*Yp*i+r*(7*$p+9*qp*i))/ut(t),wr(rt(t)/a5)]};function L2e(){return J0(M_).scale(177.158)}function S_(n,e){var t=ut(e),i=ut(n)*t;return[t*rt(n)/i,rt(e)/i]}S_.invert=Gp(_h);function C2e(){return J0(S_).scale(144.049).clipAngle(60)}function P2e(){var n=1,e=0,t=0,i=1,r=1,s=0,o,a,l=null,c,u,f,h=1,d=1,m=Hp({point:function(w,S){var A=b([w,S]);this.stream.point(A[0],A[1])}}),v=Np,_,g;function x(){return h=n*i,d=n*r,_=g=null,b}function b(w){var S=w[0]*h,A=w[1]*d;if(s){var T=A*o-S*a;S=S*o+A*a,A=T}return[S+e,A+t]}return b.invert=function(w){var S=w[0]-e,A=w[1]-t;if(s){var T=A*o+S*a;S=S*o-A*a,A=T}return[S/h,A/d]},b.stream=function(w){return _&&g===w?_:_=m(v(g=w))},b.postclip=function(w){return arguments.length?(v=w,l=c=u=f=null,x()):v},b.clipExtent=function(w){return arguments.length?(v=w==null?(l=c=u=f=null,Np):$4(l=+w[0][0],c=+w[0][1],u=+w[1][0],f=+w[1][1]),x()):l==null?null:[[l,c],[u,f]]},b.scale=function(w){return arguments.length?(n=+w,x()):n},b.translate=function(w){return arguments.length?(e=+w[0],t=+w[1],x()):[e,t]},b.angle=function(w){return arguments.length?(s=w%360*dt,a=rt(s),o=ut(s),x()):s*dn},b.reflectX=function(w){return arguments.length?(i=w?-1:1,x()):i<0},b.reflectY=function(w){return arguments.length?(r=w?-1:1,x()):r<0},b.fitExtent=function(w,S){return r5(b,w,S)},b.fitSize=function(w,S){return g_(b,w,S)},b.fitWidth=function(w,S){return v_(b,w,S)},b.fitHeight=function(w,S){return x_(b,w,S)},b}function A_(n,e){var t=e*e,i=t*t;return[n*(.8707-.131979*t+i*(-.013791+i*(.003971*t-.001529*i))),e*(1.007226+t*(.015085+i*(-.044475+.028874*t-.005916*i)))]}A_.invert=function(n,e){var t=e,i=25,r;do{var s=t*t,o=s*s;t-=r=(t*(1.007226+s*(.015085+o*(-.044475+.028874*s-.005916*o)))-e)/(1.007226+s*(.015085*3+o*(-.044475*7+.028874*9*s-.005916*11*o)))}while(Xt(r)>ft&&--i>0);return[n/(.8707+(s=t*t)*(-.131979+s*(-.013791+s*s*s*(.003971-.001529*s)))),t]};function R2e(){return J0(A_).scale(175.295)}function T_(n,e){return[ut(e)*rt(n),rt(e)]}T_.invert=Gp(wr);function F2e(){return J0(T_).scale(249.5).clipAngle(90+ft)}function E_(n,e){var t=ut(e),i=1+ut(n)*t;return[t*rt(n)/i,rt(e)/i]}E_.invert=Gp(function(n){return 2*_h(n)});function I2e(){return J0(E_).scale(250).clipAngle(142)}function L_(n,e){return[C4(zy((Wn+e)/2)),-n]}L_.invert=function(n,e){return[-e,2*_h(CN(n))-Wn]};function D2e(){var n=HO(L_),e=n.center,t=n.rotate;return n.center=function(i){return arguments.length?e([-i[1],i[0]]):(i=e(),[i[1],-i[0]])},n.rotate=function(i){return arguments.length?t([i[0],i[1],i.length>2?i[2]+90:90]):(i=t(),[i[0],i[1],i[2]-90])},t([0,0,90]).scale(159.155)}function N2e(n,e){return n.parent===e.parent?1:2}function O2e(n){return n.reduce(B2e,0)/n.length}function B2e(n,e){return n+e.x}function U2e(n){return 1+n.reduce(z2e,0)}function z2e(n,e){return Math.max(n,e.y)}function k2e(n){for(var e;e=n.children;)n=e[0];return n}function H2e(n){for(var e;e=n.children;)n=e[e.length-1];return n}function G2e(){var n=N2e,e=1,t=1,i=!1;function r(s){var o,a=0;s.eachAfter(function(h){var d=h.children;d?(h.x=O2e(d),h.y=U2e(d)):(h.x=o?a+=n(h,o):0,h.y=0,o=h)});var l=k2e(s),c=H2e(s),u=l.x-n(l,c)/2,f=c.x+n(c,l)/2;return s.eachAfter(i?function(h){h.x=(h.x-s.x)*e,h.y=(s.y-h.y)*t}:function(h){h.x=(h.x-u)/(f-u)*e,h.y=(1-(s.y?h.y/s.y:1))*t})}return r.separation=function(s){return arguments.length?(n=s,r):n},r.size=function(s){return arguments.length?(i=!1,e=+s[0],t=+s[1],r):i?null:[e,t]},r.nodeSize=function(s){return arguments.length?(i=!0,e=+s[0],t=+s[1],r):i?[e,t]:null},r}function V2e(n){var e=0,t=n.children,i=t&&t.length;if(!i)e=1;else for(;--i>=0;)e+=t[i].value;n.value=e}function W2e(){return this.eachAfter(V2e)}function X2e(n,e){let t=-1;for(const i of this)n.call(e,i,++t,this);return this}function Y2e(n,e){for(var t=this,i=[t],r,s,o=-1;t=i.pop();)if(n.call(e,t,++o,this),r=t.children)for(s=r.length-1;s>=0;--s)i.push(r[s]);return this}function $2e(n,e){for(var t=this,i=[t],r=[],s,o,a,l=-1;t=i.pop();)if(r.push(t),s=t.children)for(o=0,a=s.length;o<a;++o)i.push(s[o]);for(;t=r.pop();)n.call(e,t,++l,this);return this}function q2e(n,e){let t=-1;for(const i of this)if(n.call(e,i,++t,this))return i}function j2e(n){return this.eachAfter(function(e){for(var t=+n(e.data)||0,i=e.children,r=i&&i.length;--r>=0;)t+=i[r].value;e.value=t})}function Z2e(n){return this.eachBefore(function(e){e.children&&e.children.sort(n)})}function Q2e(n){for(var e=this,t=J2e(e,n),i=[e];e!==t;)e=e.parent,i.push(e);for(var r=i.length;n!==t;)i.splice(r,0,n),n=n.parent;return i}function J2e(n,e){if(n===e)return n;var t=n.ancestors(),i=e.ancestors(),r=null;for(n=t.pop(),e=i.pop();n===e;)r=n,n=t.pop(),e=i.pop();return r}function K2e(){for(var n=this,e=[n];n=n.parent;)e.push(n);return e}function eme(){return Array.from(this)}function tme(){var n=[];return this.eachBefore(function(e){e.children||n.push(e)}),n}function nme(){var n=this,e=[];return n.each(function(t){t!==n&&e.push({source:t.parent,target:t})}),e}function*ime(){var n=this,e,t=[n],i,r,s;do for(e=t.reverse(),t=[];n=e.pop();)if(yield n,i=n.children)for(r=0,s=i.length;r<s;++r)t.push(i[r]);while(t.length)}function C_(n,e){n instanceof Map?(n=[void 0,n],e===void 0&&(e=ome)):e===void 0&&(e=sme);for(var t=new Eh(n),i,r=[t],s,o,a,l;i=r.pop();)if((o=e(i.data))&&(l=(o=Array.from(o)).length))for(i.children=o,a=l-1;a>=0;--a)r.push(s=o[a]=new Eh(o[a])),s.parent=i,s.depth=i.depth+1;return t.eachBefore(WO)}function rme(){return C_(this).eachBefore(ame)}function sme(n){return n.children}function ome(n){return Array.isArray(n)?n[1]:null}function ame(n){n.data.value!==void 0&&(n.value=n.data.value),n.data=n.data.data}function WO(n){var e=0;do n.height=e;while((n=n.parent)&&n.height<++e)}function Eh(n){this.data=n,this.depth=this.height=0,this.parent=null}Eh.prototype=C_.prototype={constructor:Eh,count:W2e,each:X2e,eachAfter:$2e,eachBefore:Y2e,find:q2e,sum:j2e,sort:Z2e,path:Q2e,ancestors:K2e,descendants:eme,leaves:tme,links:nme,copy:rme,[Symbol.iterator]:ime};function lme(n){return typeof n=="object"&&"length"in n?n:Array.from(n)}function cme(n){for(var e=n.length,t,i;e;)i=Math.random()*e--|0,t=n[e],n[e]=n[i],n[i]=t;return n}function XO(n){for(var e=0,t=(n=cme(Array.from(n))).length,i=[],r,s;e<t;)r=n[e],s&&YO(s,r)?++e:(s=fme(i=ume(i,r)),e=0);return s}function ume(n,e){var t,i;if(P_(e,n))return[e];for(t=0;t<n.length;++t)if(l5(e,n[t])&&P_(jp(n[t],e),n))return[n[t],e];for(t=0;t<n.length-1;++t)for(i=t+1;i<n.length;++i)if(l5(jp(n[t],n[i]),e)&&l5(jp(n[t],e),n[i])&&l5(jp(n[i],e),n[t])&&P_($O(n[t],n[i],e),n))return[n[t],n[i],e];throw new Error}function l5(n,e){var t=n.r-e.r,i=e.x-n.x,r=e.y-n.y;return t<0||t*t<i*i+r*r}function YO(n,e){var t=n.r-e.r+Math.max(n.r,e.r,1)*1e-9,i=e.x-n.x,r=e.y-n.y;return t>0&&t*t>i*i+r*r}function P_(n,e){for(var t=0;t<e.length;++t)if(!YO(n,e[t]))return!1;return!0}function fme(n){switch(n.length){case 1:return hme(n[0]);case 2:return jp(n[0],n[1]);case 3:return $O(n[0],n[1],n[2])}}function hme(n){return{x:n.x,y:n.y,r:n.r}}function jp(n,e){var t=n.x,i=n.y,r=n.r,s=e.x,o=e.y,a=e.r,l=s-t,c=o-i,u=a-r,f=Math.sqrt(l*l+c*c);return{x:(t+s+l/f*u)/2,y:(i+o+c/f*u)/2,r:(f+r+a)/2}}function $O(n,e,t){var i=n.x,r=n.y,s=n.r,o=e.x,a=e.y,l=e.r,c=t.x,u=t.y,f=t.r,h=i-o,d=i-c,m=r-a,v=r-u,_=l-s,g=f-s,x=i*i+r*r-s*s,b=x-o*o-a*a+l*l,w=x-c*c-u*u+f*f,S=d*m-h*v,A=(m*w-v*b)/(S*2)-i,T=(v*_-m*g)/S,F=(d*b-h*w)/(S*2)-r,U=(h*g-d*_)/S,N=T*T+U*U-1,O=2*(s+A*T+F*U),G=A*A+F*F-s*s,D=-(N?(O+Math.sqrt(O*O-4*N*G))/(2*N):G/O);return{x:i+A+T*D,y:r+F+U*D,r:D}}function qO(n,e,t){var i=n.x-e.x,r,s,o=n.y-e.y,a,l,c=i*i+o*o;c?(s=e.r+t.r,s*=s,l=n.r+t.r,l*=l,s>l?(r=(c+l-s)/(2*c),a=Math.sqrt(Math.max(0,l/c-r*r)),t.x=n.x-r*i-a*o,t.y=n.y-r*o+a*i):(r=(c+s-l)/(2*c),a=Math.sqrt(Math.max(0,s/c-r*r)),t.x=e.x+r*i-a*o,t.y=e.y+r*o+a*i)):(t.x=e.x+t.r,t.y=e.y)}function jO(n,e){var t=n.r+e.r-1e-6,i=e.x-n.x,r=e.y-n.y;return t>0&&t*t>i*i+r*r}function ZO(n){var e=n._,t=n.next._,i=e.r+t.r,r=(e.x*t.r+t.x*e.r)/i,s=(e.y*t.r+t.y*e.r)/i;return r*r+s*s}function c5(n){this._=n,this.next=null,this.previous=null}function QO(n){if(!(r=(n=lme(n)).length))return 0;var e,t,i,r,s,o,a,l,c,u,f;if(e=n[0],e.x=0,e.y=0,!(r>1))return e.r;if(t=n[1],e.x=-t.r,t.x=e.r,t.y=0,!(r>2))return e.r+t.r;qO(t,e,i=n[2]),e=new c5(e),t=new c5(t),i=new c5(i),e.next=i.previous=t,t.next=e.previous=i,i.next=t.previous=e;e:for(a=3;a<r;++a){qO(e._,t._,i=n[a]),i=new c5(i),l=t.next,c=e.previous,u=t._.r,f=e._.r;do if(u<=f){if(jO(l._,i._)){t=l,e.next=t,t.previous=e,--a;continue e}u+=l._.r,l=l.next}else{if(jO(c._,i._)){e=c,e.next=t,t.previous=e,--a;continue e}f+=c._.r,c=c.previous}while(l!==c.next);for(i.previous=e,i.next=t,e.next=t.previous=t=i,s=ZO(e);(i=i.next)!==t;)(o=ZO(i))<s&&(e=i,s=o);t=e.next}for(e=[t._],i=t;(i=i.next)!==t;)e.push(i._);for(i=XO(e),a=0;a<r;++a)e=n[a],e.x-=i.x,e.y-=i.y;return i.r}function dme(n){return QO(n),n}function pme(n){return n==null?null:u5(n)}function u5(n){if(typeof n!="function")throw new Error;return n}function iu(){return 0}function Lh(n){return function(){return n}}function mme(n){return Math.sqrt(n.value)}function gme(){var n=null,e=1,t=1,i=iu;function r(s){return s.x=e/2,s.y=t/2,n?s.eachBefore(JO(n)).eachAfter(R_(i,.5)).eachBefore(KO(1)):s.eachBefore(JO(mme)).eachAfter(R_(iu,1)).eachAfter(R_(i,s.r/Math.min(e,t))).eachBefore(KO(Math.min(e,t)/(2*s.r))),s}return r.radius=function(s){return arguments.length?(n=pme(s),r):n},r.size=function(s){return arguments.length?(e=+s[0],t=+s[1],r):[e,t]},r.padding=function(s){return arguments.length?(i=typeof s=="function"?s:Lh(+s),r):i},r}function JO(n){return function(e){e.children||(e.r=Math.max(0,+n(e)||0))}}function R_(n,e){return function(t){if(i=t.children){var i,r,s=i.length,o=n(t)*e||0,a;if(o)for(r=0;r<s;++r)i[r].r+=o;if(a=QO(i),o)for(r=0;r<s;++r)i[r].r-=o;t.r=a+o}}}function KO(n){return function(e){var t=e.parent;e.r*=n,t&&(e.x=t.x+n*e.x,e.y=t.y+n*e.y)}}function eB(n){n.x0=Math.round(n.x0),n.y0=Math.round(n.y0),n.x1=Math.round(n.x1),n.y1=Math.round(n.y1)}function Zp(n,e,t,i,r){for(var s=n.children,o,a=-1,l=s.length,c=n.value&&(i-e)/n.value;++a<l;)o=s[a],o.y0=t,o.y1=r,o.x0=e,o.x1=e+=o.value*c}function vme(){var n=1,e=1,t=0,i=!1;function r(o){var a=o.height+1;return o.x0=o.y0=t,o.x1=n,o.y1=e/a,o.eachBefore(s(e,a)),i&&o.eachBefore(eB),o}function s(o,a){return function(l){l.children&&Zp(l,l.x0,o*(l.depth+1)/a,l.x1,o*(l.depth+2)/a);var c=l.x0,u=l.y0,f=l.x1-t,h=l.y1-t;f<c&&(c=f=(c+f)/2),h<u&&(u=h=(u+h)/2),l.x0=c,l.y0=u,l.x1=f,l.y1=h}}return r.round=function(o){return arguments.length?(i=!!o,r):i},r.size=function(o){return arguments.length?(n=+o[0],e=+o[1],r):[n,e]},r.padding=function(o){return arguments.length?(t=+o,r):t},r}var xme={depth:-1},tB={};function yme(n){return n.id}function _me(n){return n.parentId}function bme(){var n=yme,e=_me;function t(i){var r=Array.from(i),s=r.length,o,a,l,c,u,f,h,d=new Map;for(a=0;a<s;++a)o=r[a],u=r[a]=new Eh(o),(f=n(o,a,i))!=null&&(f+="")&&(h=u.id=f,d.set(h,d.has(h)?tB:u)),(f=e(o,a,i))!=null&&(f+="")&&(u.parent=f);for(a=0;a<s;++a)if(u=r[a],f=u.parent){if(c=d.get(f),!c)throw new Error("missing: "+f);if(c===tB)throw new Error("ambiguous: "+f);c.children?c.children.push(u):c.children=[u],u.parent=c}else{if(l)throw new Error("multiple roots");l=u}if(!l)throw new Error("no root");if(l.parent=xme,l.eachBefore(function(m){m.depth=m.parent.depth+1,--s}).eachBefore(WO),l.parent=null,s>0)throw new Error("cycle");return l}return t.id=function(i){return arguments.length?(n=u5(i),t):n},t.parentId=function(i){return arguments.length?(e=u5(i),t):e},t}function wme(n,e){return n.parent===e.parent?1:2}function F_(n){var e=n.children;return e?e[0]:n.t}function I_(n){var e=n.children;return e?e[e.length-1]:n.t}function Mme(n,e,t){var i=t/(e.i-n.i);e.c-=i,e.s+=t,n.c+=i,e.z+=t,e.m+=t}function Sme(n){for(var e=0,t=0,i=n.children,r=i.length,s;--r>=0;)s=i[r],s.z+=e,s.m+=e,e+=s.s+(t+=s.c)}function Ame(n,e,t){return n.a.parent===e.parent?n.a:t}function f5(n,e){this._=n,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=e}f5.prototype=Object.create(Eh.prototype);function Tme(n){for(var e=new f5(n,0),t,i=[e],r,s,o,a;t=i.pop();)if(s=t._.children)for(t.children=new Array(a=s.length),o=a-1;o>=0;--o)i.push(r=t.children[o]=new f5(s[o],o)),r.parent=t;return(e.parent=new f5(null,0)).children=[e],e}function Eme(){var n=wme,e=1,t=1,i=null;function r(c){var u=Tme(c);if(u.eachAfter(s),u.parent.m=-u.z,u.eachBefore(o),i)c.eachBefore(l);else{var f=c,h=c,d=c;c.eachBefore(function(x){x.x<f.x&&(f=x),x.x>h.x&&(h=x),x.depth>d.depth&&(d=x)});var m=f===h?1:n(f,h)/2,v=m-f.x,_=e/(h.x+m+v),g=t/(d.depth||1);c.eachBefore(function(x){x.x=(x.x+v)*_,x.y=x.depth*g})}return c}function s(c){var u=c.children,f=c.parent.children,h=c.i?f[c.i-1]:null;if(u){Sme(c);var d=(u[0].z+u[u.length-1].z)/2;h?(c.z=h.z+n(c._,h._),c.m=c.z-d):c.z=d}else h&&(c.z=h.z+n(c._,h._));c.parent.A=a(c,h,c.parent.A||f[0])}function o(c){c._.x=c.z+c.parent.m,c.m+=c.parent.m}function a(c,u,f){if(u){for(var h=c,d=c,m=u,v=h.parent.children[0],_=h.m,g=d.m,x=m.m,b=v.m,w;m=I_(m),h=F_(h),m&&h;)v=F_(v),d=I_(d),d.a=c,w=m.z+x-h.z-_+n(m._,h._),w>0&&(Mme(Ame(m,c,f),c,w),_+=w,g+=w),x+=m.m,_+=h.m,b+=v.m,g+=d.m;m&&!I_(d)&&(d.t=m,d.m+=x-g),h&&!F_(v)&&(v.t=h,v.m+=_-b,f=c)}return f}function l(c){c.x*=e,c.y=c.depth*t}return r.separation=function(c){return arguments.length?(n=c,r):n},r.size=function(c){return arguments.length?(i=!1,e=+c[0],t=+c[1],r):i?null:[e,t]},r.nodeSize=function(c){return arguments.length?(i=!0,e=+c[0],t=+c[1],r):i?[e,t]:null},r}function h5(n,e,t,i,r){for(var s=n.children,o,a=-1,l=s.length,c=n.value&&(r-t)/n.value;++a<l;)o=s[a],o.x0=e,o.x1=i,o.y0=t,o.y1=t+=o.value*c}var nB=(1+Math.sqrt(5))/2;function iB(n,e,t,i,r,s){for(var o=[],a=e.children,l,c,u=0,f=0,h=a.length,d,m,v=e.value,_,g,x,b,w,S,A;u<h;){d=r-t,m=s-i;do _=a[f++].value;while(!_&&f<h);for(g=x=_,S=Math.max(m/d,d/m)/(v*n),A=_*_*S,w=Math.max(x/A,A/g);f<h;++f){if(_+=c=a[f].value,c<g&&(g=c),c>x&&(x=c),A=_*_*S,b=Math.max(x/A,A/g),b>w){_-=c;break}w=b}o.push(l={value:_,dice:d<m,children:a.slice(u,f)}),l.dice?Zp(l,t,i,r,v?i+=m*_/v:s):h5(l,t,i,v?t+=d*_/v:r,s),v-=_,u=f}return o}var rB=function n(e){function t(i,r,s,o,a){iB(e,i,r,s,o,a)}return t.ratio=function(i){return n((i=+i)>1?i:1)},t}(nB);function Lme(){var n=rB,e=!1,t=1,i=1,r=[0],s=iu,o=iu,a=iu,l=iu,c=iu;function u(h){return h.x0=h.y0=0,h.x1=t,h.y1=i,h.eachBefore(f),r=[0],e&&h.eachBefore(eB),h}function f(h){var d=r[h.depth],m=h.x0+d,v=h.y0+d,_=h.x1-d,g=h.y1-d;_<m&&(m=_=(m+_)/2),g<v&&(v=g=(v+g)/2),h.x0=m,h.y0=v,h.x1=_,h.y1=g,h.children&&(d=r[h.depth+1]=s(h)/2,m+=c(h)-d,v+=o(h)-d,_-=a(h)-d,g-=l(h)-d,_<m&&(m=_=(m+_)/2),g<v&&(v=g=(v+g)/2),n(h,m,v,_,g))}return u.round=function(h){return arguments.length?(e=!!h,u):e},u.size=function(h){return arguments.length?(t=+h[0],i=+h[1],u):[t,i]},u.tile=function(h){return arguments.length?(n=u5(h),u):n},u.padding=function(h){return arguments.length?u.paddingInner(h).paddingOuter(h):u.paddingInner()},u.paddingInner=function(h){return arguments.length?(s=typeof h=="function"?h:Lh(+h),u):s},u.paddingOuter=function(h){return arguments.length?u.paddingTop(h).paddingRight(h).paddingBottom(h).paddingLeft(h):u.paddingTop()},u.paddingTop=function(h){return arguments.length?(o=typeof h=="function"?h:Lh(+h),u):o},u.paddingRight=function(h){return arguments.length?(a=typeof h=="function"?h:Lh(+h),u):a},u.paddingBottom=function(h){return arguments.length?(l=typeof h=="function"?h:Lh(+h),u):l},u.paddingLeft=function(h){return arguments.length?(c=typeof h=="function"?h:Lh(+h),u):c},u}function Cme(n,e,t,i,r){var s=n.children,o,a=s.length,l,c=new Array(a+1);for(c[0]=l=o=0;o<a;++o)c[o+1]=l+=s[o].value;u(0,a,n.value,e,t,i,r);function u(f,h,d,m,v,_,g){if(f>=h-1){var x=s[f];x.x0=m,x.y0=v,x.x1=_,x.y1=g;return}for(var b=c[f],w=d/2+b,S=f+1,A=h-1;S<A;){var T=S+A>>>1;c[T]<w?S=T+1:A=T}w-c[S-1]<c[S]-w&&f+1<S&&--S;var F=c[S]-b,U=d-F;if(_-m>g-v){var N=d?(m*U+_*F)/d:_;u(f,S,F,m,v,N,g),u(S,h,U,N,v,_,g)}else{var O=d?(v*U+g*F)/d:g;u(f,S,F,m,v,_,O),u(S,h,U,m,O,_,g)}}}function Pme(n,e,t,i,r){(n.depth&1?h5:Zp)(n,e,t,i,r)}var Rme=function n(e){function t(i,r,s,o,a){if((l=i._squarify)&&l.ratio===e)for(var l,c,u,f,h=-1,d,m=l.length,v=i.value;++h<m;){for(c=l[h],u=c.children,f=c.value=0,d=u.length;f<d;++f)c.value+=u[f].value;c.dice?Zp(c,r,s,o,v?s+=(a-s)*c.value/v:a):h5(c,r,s,v?r+=(o-r)*c.value/v:o,a),v-=c.value}else i._squarify=l=iB(e,i,r,s,o,a),l.ratio=e}return t.ratio=function(i){return n((i=+i)>1?i:1)},t}(nB);function Fme(n){for(var e=-1,t=n.length,i,r=n[t-1],s=0;++e<t;)i=r,r=n[e],s+=i[1]*r[0]-i[0]*r[1];return s/2}function Ime(n){for(var e=-1,t=n.length,i=0,r=0,s,o=n[t-1],a,l=0;++e<t;)s=o,o=n[e],l+=a=s[0]*o[1]-o[0]*s[1],i+=(s[0]+o[0])*a,r+=(s[1]+o[1])*a;return l*=3,[i/l,r/l]}function Dme(n,e,t){return(e[0]-n[0])*(t[1]-n[1])-(e[1]-n[1])*(t[0]-n[0])}function Nme(n,e){return n[0]-e[0]||n[1]-e[1]}function sB(n){const e=n.length,t=[0,1];let i=2,r;for(r=2;r<e;++r){for(;i>1&&Dme(n[t[i-2]],n[t[i-1]],n[r])<=0;)--i;t[i++]=r}return t.slice(0,i)}function Ome(n){if((t=n.length)<3)return null;var e,t,i=new Array(t),r=new Array(t);for(e=0;e<t;++e)i[e]=[+n[e][0],+n[e][1],e];for(i.sort(Nme),e=0;e<t;++e)r[e]=[i[e][0],-i[e][1]];var s=sB(i),o=sB(r),a=o[0]===s[0],l=o[o.length-1]===s[s.length-1],c=[];for(e=s.length-1;e>=0;--e)c.push(n[i[s[e]][2]]);for(e=+a;e<o.length-l;++e)c.push(n[i[o[e]][2]]);return c}function Bme(n,e){for(var t=n.length,i=n[t-1],r=e[0],s=e[1],o=i[0],a=i[1],l,c,u=!1,f=0;f<t;++f)i=n[f],l=i[0],c=i[1],c>s!=a>s&&r<(o-l)*(s-c)/(a-c)+l&&(u=!u),o=l,a=c;return u}function Ume(n){for(var e=-1,t=n.length,i=n[t-1],r,s,o=i[0],a=i[1],l=0;++e<t;)r=o,s=a,i=n[e],o=i[0],a=i[1],r-=o,s-=a,l+=Math.hypot(r,s);return l}var Ni=Math.random,zme=function n(e){function t(i,r){return i=i==null?0:+i,r=r==null?1:+r,arguments.length===1?(r=i,i=0):r-=i,function(){return e()*r+i}}return t.source=n,t}(Ni),kme=function n(e){function t(i,r){return arguments.length<2&&(r=i,i=0),i=Math.floor(i),r=Math.floor(r)-i,function(){return Math.floor(e()*r+i)}}return t.source=n,t}(Ni),D_=function n(e){function t(i,r){var s,o;return i=i==null?0:+i,r=r==null?1:+r,function(){var a;if(s!=null)a=s,s=null;else do s=e()*2-1,a=e()*2-1,o=s*s+a*a;while(!o||o>1);return i+r*a*Math.sqrt(-2*Math.log(o)/o)}}return t.source=n,t}(Ni),Hme=function n(e){var t=D_.source(e);function i(){var r=t.apply(this,arguments);return function(){return Math.exp(r())}}return i.source=n,i}(Ni),oB=function n(e){function t(i){return(i=+i)<=0?()=>0:function(){for(var r=0,s=i;s>1;--s)r+=e();return r+s*e()}}return t.source=n,t}(Ni),Gme=function n(e){var t=oB.source(e);function i(r){if((r=+r)==0)return e;var s=t(r);return function(){return s()/r}}return i.source=n,i}(Ni),Vme=function n(e){function t(i){return function(){return-Math.log1p(-e())/i}}return t.source=n,t}(Ni),Wme=function n(e){function t(i){if((i=+i)<0)throw new RangeError("invalid alpha");return i=1/-i,function(){return Math.pow(1-e(),i)}}return t.source=n,t}(Ni),Xme=function n(e){function t(i){if((i=+i)<0||i>1)throw new RangeError("invalid p");return function(){return Math.floor(e()+i)}}return t.source=n,t}(Ni),aB=function n(e){function t(i){if((i=+i)<0||i>1)throw new RangeError("invalid p");return i===0?()=>1/0:i===1?()=>1:(i=Math.log1p(-i),function(){return 1+Math.floor(Math.log1p(-e())/i)})}return t.source=n,t}(Ni),N_=function n(e){var t=D_.source(e)();function i(r,s){if((r=+r)<0)throw new RangeError("invalid k");if(r===0)return()=>0;if(s=s==null?1:+s,r===1)return()=>-Math.log1p(-e())*s;var o=(r<1?r+1:r)-1/3,a=1/(3*Math.sqrt(o)),l=r<1?()=>Math.pow(e(),1/r):()=>1;return function(){do{do var c=t(),u=1+a*c;while(u<=0);u*=u*u;var f=1-e()}while(f>=1-.0331*c*c*c*c&&Math.log(f)>=.5*c*c+o*(1-u+Math.log(u)));return o*u*l()*s}}return i.source=n,i}(Ni),lB=function n(e){var t=N_.source(e);function i(r,s){var o=t(r),a=t(s);return function(){var l=o();return l===0?0:l/(l+a())}}return i.source=n,i}(Ni),cB=function n(e){var t=aB.source(e),i=lB.source(e);function r(s,o){return s=+s,(o=+o)>=1?()=>s:o<=0?()=>0:function(){for(var a=0,l=s,c=o;l*c>16&&l*(1-c)>16;){var u=Math.floor((l+1)*c),f=i(u,l-u+1)();f<=c?(a+=u,l-=u,c=(c-f)/(1-f)):(l=u-1,c/=f)}for(var h=c<.5,d=h?c:1-c,m=t(d),v=m(),_=0;v<=l;++_)v+=m();return a+(h?_:l-_)}}return r.source=n,r}(Ni),Yme=function n(e){function t(i,r,s){var o;return(i=+i)==0?o=a=>-Math.log(a):(i=1/i,o=a=>Math.pow(a,i)),r=r==null?0:+r,s=s==null?1:+s,function(){return r+s*o(-Math.log1p(-e()))}}return t.source=n,t}(Ni),$me=function n(e){function t(i,r){return i=i==null?0:+i,r=r==null?1:+r,function(){return i+r*Math.tan(Math.PI*e())}}return t.source=n,t}(Ni),qme=function n(e){function t(i,r){return i=i==null?0:+i,r=r==null?1:+r,function(){var s=e();return i+r*Math.log(s/(1-s))}}return t.source=n,t}(Ni),jme=function n(e){var t=N_.source(e),i=cB.source(e);function r(s){return function(){for(var o=0,a=s;a>16;){var l=Math.floor(.875*a),c=t(l)();if(c>a)return o+i(l-1,a/c)();o+=l,a-=c}for(var u=-Math.log1p(-e()),f=0;u<=a;++f)u-=Math.log1p(-e());return o+f}}return r.source=n,r}(Ni);const Zme=1664525,Qme=1013904223,uB=1/4294967296;function Jme(n=Math.random()){let e=(0<=n&&n<1?n/uB:Math.abs(n))|0;return()=>(e=Zme*e+Qme|0,uB*(e>>>0))}function Bs(n,e){switch(arguments.length){case 0:break;case 1:this.range(n);break;default:this.range(e).domain(n);break}return this}function Yo(n,e){switch(arguments.length){case 0:break;case 1:{typeof n=="function"?this.interpolator(n):this.range(n);break}default:{this.domain(n),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const O_=Symbol("implicit");function B_(){var n=new Map,e=[],t=[],i=O_;function r(s){var o=s+"",a=n.get(o);if(!a){if(i!==O_)return i;n.set(o,a=e.push(s))}return t[(a-1)%t.length]}return r.domain=function(s){if(!arguments.length)return e.slice();e=[],n=new Map;for(const o of s){const a=o+"";n.has(a)||n.set(a,e.push(o))}return r},r.range=function(s){return arguments.length?(t=Array.from(s),r):t.slice()},r.unknown=function(s){return arguments.length?(i=s,r):i},r.copy=function(){return B_(e,t).unknown(i)},Bs.apply(r,arguments),r}function U_(){var n=B_().unknown(void 0),e=n.domain,t=n.range,i=0,r=1,s,o,a=!1,l=0,c=0,u=.5;delete n.unknown;function f(){var h=e().length,d=r<i,m=d?r:i,v=d?i:r;s=(v-m)/Math.max(1,h-l+c*2),a&&(s=Math.floor(s)),m+=(v-m-s*(h-l))*u,o=s*(1-l),a&&(m=Math.round(m),o=Math.round(o));var _=V0(h).map(function(g){return m+s*g});return t(d?_.reverse():_)}return n.domain=function(h){return arguments.length?(e(h),f()):e()},n.range=function(h){return arguments.length?([i,r]=h,i=+i,r=+r,f()):[i,r]},n.rangeRound=function(h){return[i,r]=h,i=+i,r=+r,a=!0,f()},n.bandwidth=function(){return o},n.step=function(){return s},n.round=function(h){return arguments.length?(a=!!h,f()):a},n.padding=function(h){return arguments.length?(l=Math.min(1,c=+h),f()):l},n.paddingInner=function(h){return arguments.length?(l=Math.min(1,h),f()):l},n.paddingOuter=function(h){return arguments.length?(c=+h,f()):c},n.align=function(h){return arguments.length?(u=Math.max(0,Math.min(1,h)),f()):u},n.copy=function(){return U_(e(),[i,r]).round(a).paddingInner(l).paddingOuter(c).align(u)},Bs.apply(f(),arguments)}function fB(n){var e=n.copy;return n.padding=n.paddingOuter,delete n.paddingInner,delete n.paddingOuter,n.copy=function(){return fB(e())},n}function Kme(){return fB(U_.apply(null,arguments).paddingInner(1))}function e3e(n){return function(){return n}}function d5(n){return+n}var hB=[0,1];function Tr(n){return n}function z_(n,e){return(e-=n=+n)?function(t){return(t-n)/e}:e3e(isNaN(e)?NaN:.5)}function t3e(n,e){var t;return n>e&&(t=n,n=e,e=t),function(i){return Math.max(n,Math.min(e,i))}}function n3e(n,e,t){var i=n[0],r=n[1],s=e[0],o=e[1];return r<i?(i=z_(r,i),s=t(o,s)):(i=z_(i,r),s=t(s,o)),function(a){return s(i(a))}}function i3e(n,e,t){var i=Math.min(n.length,e.length)-1,r=new Array(i),s=new Array(i),o=-1;for(n[i]<n[0]&&(n=n.slice().reverse(),e=e.slice().reverse());++o<i;)r[o]=z_(n[o],n[o+1]),s[o]=t(e[o],e[o+1]);return function(a){var l=kc(n,a,1,i)-1;return s[l](r[l](a))}}function Qp(n,e){return e.domain(n.domain()).range(n.range()).interpolate(n.interpolate()).clamp(n.clamp()).unknown(n.unknown())}function p5(){var n=hB,e=hB,t=Qa,i,r,s,o=Tr,a,l,c;function u(){var h=Math.min(n.length,e.length);return o!==Tr&&(o=t3e(n[0],n[h-1])),a=h>2?i3e:n3e,l=c=null,f}function f(h){return h==null||isNaN(h=+h)?s:(l||(l=a(n.map(i),e,t)))(i(o(h)))}return f.invert=function(h){return o(r((c||(c=a(e,n.map(i),Ns)))(h)))},f.domain=function(h){return arguments.length?(n=Array.from(h,d5),u()):n.slice()},f.range=function(h){return arguments.length?(e=Array.from(h),u()):e.slice()},f.rangeRound=function(h){return e=Array.from(h),t=i4,u()},f.clamp=function(h){return arguments.length?(o=h?!0:Tr,u()):o!==Tr},f.interpolate=function(h){return arguments.length?(t=h,u()):t},f.unknown=function(h){return arguments.length?(s=h,f):s},function(h,d){return i=h,r=d,u()}}function k_(){return p5()(Tr,Tr)}function dB(n,e,t,i){var r=rh(n,e,t),s;switch(i=Cp(i==null?",f":i),i.type){case"s":{var o=Math.max(Math.abs(n),Math.abs(e));return i.precision==null&&!isNaN(s=EN(r,o))&&(i.precision=s),Oy(i,o)}case"":case"e":case"g":case"p":case"r":{i.precision==null&&!isNaN(s=LN(r,Math.max(Math.abs(n),Math.abs(e))))&&(i.precision=s-(i.type==="e"));break}case"f":case"%":{i.precision==null&&!isNaN(s=TN(r))&&(i.precision=s-(i.type==="%")*2);break}}return T4(i)}function rl(n){var e=n.domain;return n.ticks=function(t){var i=e();return cp(i[0],i[i.length-1],t==null?10:t)},n.tickFormat=function(t,i){var r=e();return dB(r[0],r[r.length-1],t==null?10:t,i)},n.nice=function(t){t==null&&(t=10);var i=e(),r=0,s=i.length-1,o=i[r],a=i[s],l,c,u=10;for(a<o&&(c=o,o=a,a=c,c=r,r=s,s=c);u-- >0;){if(c=up(o,a,t),c===l)return i[r]=o,i[s]=a,e(i);if(c>0)o=Math.floor(o/c)*c,a=Math.ceil(a/c)*c;else if(c<0)o=Math.ceil(o*c)/c,a=Math.floor(a*c)/c;else break;l=c}return n},n}function pB(){var n=k_();return n.copy=function(){return Qp(n,pB())},Bs.apply(n,arguments),rl(n)}function mB(n){var e;function t(i){return i==null||isNaN(i=+i)?e:i}return t.invert=t,t.domain=t.range=function(i){return arguments.length?(n=Array.from(i,d5),t):n.slice()},t.unknown=function(i){return arguments.length?(e=i,t):e},t.copy=function(){return mB(n).unknown(e)},n=arguments.length?Array.from(n,d5):[0,1],rl(t)}function gB(n,e){n=n.slice();var t=0,i=n.length-1,r=n[t],s=n[i],o;return s<r&&(o=t,t=i,i=o,o=r,r=s,s=o),n[t]=e.floor(r),n[i]=e.ceil(s),n}function vB(n){return Math.log(n)}function xB(n){return Math.exp(n)}function r3e(n){return-Math.log(-n)}function s3e(n){return-Math.exp(-n)}function o3e(n){return isFinite(n)?+("1e"+n):n<0?0:n}function a3e(n){return n===10?o3e:n===Math.E?Math.exp:function(e){return Math.pow(n,e)}}function l3e(n){return n===Math.E?Math.log:n===10&&Math.log10||n===2&&Math.log2||(n=Math.log(n),function(e){return Math.log(e)/n})}function yB(n){return function(e){return-n(-e)}}function H_(n){var e=n(vB,xB),t=e.domain,i=10,r,s;function o(){return r=l3e(i),s=a3e(i),t()[0]<0?(r=yB(r),s=yB(s),n(r3e,s3e)):n(vB,xB),e}return e.base=function(a){return arguments.length?(i=+a,o()):i},e.domain=function(a){return arguments.length?(t(a),o()):t()},e.ticks=function(a){var l=t(),c=l[0],u=l[l.length-1],f;(f=u<c)&&(h=c,c=u,u=h);var h=r(c),d=r(u),m,v,_,g=a==null?10:+a,x=[];if(!(i%1)&&d-h<g){if(h=Math.floor(h),d=Math.ceil(d),c>0){for(;h<=d;++h)for(v=1,m=s(h);v<i;++v)if(_=m*v,!(_<c)){if(_>u)break;x.push(_)}}else for(;h<=d;++h)for(v=i-1,m=s(h);v>=1;--v)if(_=m*v,!(_<c)){if(_>u)break;x.push(_)}x.length*2<g&&(x=cp(c,u,g))}else x=cp(h,d,Math.min(d-h,g)).map(s);return f?x.reverse():x},e.tickFormat=function(a,l){if(l==null&&(l=i===10?".0e":","),typeof l!="function"&&(l=T4(l)),a===1/0)return l;a==null&&(a=10);var c=Math.max(1,i*a/e.ticks().length);return function(u){var f=u/s(Math.round(r(u)));return f*i<i-.5&&(f*=i),f<=c?l(u):""}},e.nice=function(){return t(gB(t(),{floor:function(a){return s(Math.floor(r(a)))},ceil:function(a){return s(Math.ceil(r(a)))}}))},e}function _B(){var n=H_(p5()).domain([1,10]);return n.copy=function(){return Qp(n,_B()).base(n.base())},Bs.apply(n,arguments),n}function bB(n){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/n))}}function wB(n){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*n}}function G_(n){var e=1,t=n(bB(e),wB(e));return t.constant=function(i){return arguments.length?n(bB(e=+i),wB(e)):e},rl(t)}function MB(){var n=G_(p5());return n.copy=function(){return Qp(n,MB()).constant(n.constant())},Bs.apply(n,arguments)}function SB(n){return function(e){return e<0?-Math.pow(-e,n):Math.pow(e,n)}}function c3e(n){return n<0?-Math.sqrt(-n):Math.sqrt(n)}function u3e(n){return n<0?-n*n:n*n}function V_(n){var e=n(Tr,Tr),t=1;function i(){return t===1?n(Tr,Tr):t===.5?n(c3e,u3e):n(SB(t),SB(1/t))}return e.exponent=function(r){return arguments.length?(t=+r,i()):t},rl(e)}function W_(){var n=V_(p5());return n.copy=function(){return Qp(n,W_()).exponent(n.exponent())},Bs.apply(n,arguments),n}function f3e(){return W_.apply(null,arguments).exponent(.5)}function AB(n){return Math.sign(n)*n*n}function h3e(n){return Math.sign(n)*Math.sqrt(Math.abs(n))}function TB(){var n=k_(),e=[0,1],t=!1,i;function r(s){var o=h3e(n(s));return isNaN(o)?i:t?Math.round(o):o}return r.invert=function(s){return n.invert(AB(s))},r.domain=function(s){return arguments.length?(n.domain(s),r):n.domain()},r.range=function(s){return arguments.length?(n.range((e=Array.from(s,d5)).map(AB)),r):e.slice()},r.rangeRound=function(s){return r.range(s).round(!0)},r.round=function(s){return arguments.length?(t=!!s,r):t},r.clamp=function(s){return arguments.length?(n.clamp(s),r):n.clamp()},r.unknown=function(s){return arguments.length?(i=s,r):i},r.copy=function(){return TB(n.domain(),e).round(t).clamp(n.clamp()).unknown(i)},Bs.apply(r,arguments),rl(r)}function EB(){var n=[],e=[],t=[],i;function r(){var o=0,a=Math.max(1,e.length);for(t=new Array(a-1);++o<a;)t[o-1]=_I(n,o/a);return s}function s(o){return o==null||isNaN(o=+o)?i:e[kc(t,o)]}return s.invertExtent=function(o){var a=e.indexOf(o);return a<0?[NaN,NaN]:[a>0?t[a-1]:n[0],a<t.length?t[a]:n[n.length-1]]},s.domain=function(o){if(!arguments.length)return n.slice();n=[];for(let a of o)a!=null&&!isNaN(a=+a)&&n.push(a);return n.sort(oi),r()},s.range=function(o){return arguments.length?(e=Array.from(o),r()):e.slice()},s.unknown=function(o){return arguments.length?(i=o,s):i},s.quantiles=function(){return t.slice()},s.copy=function(){return EB().domain(n).range(e).unknown(i)},Bs.apply(s,arguments)}function LB(){var n=0,e=1,t=1,i=[.5],r=[0,1],s;function o(l){return l!=null&&l<=l?r[kc(i,l,0,t)]:s}function a(){var l=-1;for(i=new Array(t);++l<t;)i[l]=((l+1)*e-(l-t)*n)/(t+1);return o}return o.domain=function(l){return arguments.length?([n,e]=l,n=+n,e=+e,a()):[n,e]},o.range=function(l){return arguments.length?(t=(r=Array.from(l)).length-1,a()):r.slice()},o.invertExtent=function(l){var c=r.indexOf(l);return c<0?[NaN,NaN]:c<1?[n,i[0]]:c>=t?[i[t-1],e]:[i[c-1],i[c]]},o.unknown=function(l){return arguments.length&&(s=l),o},o.thresholds=function(){return i.slice()},o.copy=function(){return LB().domain([n,e]).range(r).unknown(s)},Bs.apply(rl(o),arguments)}function CB(){var n=[.5],e=[0,1],t,i=1;function r(s){return s!=null&&s<=s?e[kc(n,s,0,i)]:t}return r.domain=function(s){return arguments.length?(n=Array.from(s),i=Math.min(n.length,e.length-1),r):n.slice()},r.range=function(s){return arguments.length?(e=Array.from(s),i=Math.min(n.length,e.length-1),r):e.slice()},r.invertExtent=function(s){var o=e.indexOf(s);return[n[o-1],n[o]]},r.unknown=function(s){return arguments.length?(t=s,r):t},r.copy=function(){return CB().domain(n).range(e).unknown(t)},Bs.apply(r,arguments)}var X_=new Date,Y_=new Date;function hi(n,e,t,i){function r(s){return n(s=arguments.length===0?new Date:new Date(+s)),s}return r.floor=function(s){return n(s=new Date(+s)),s},r.ceil=function(s){return n(s=new Date(s-1)),e(s,1),n(s),s},r.round=function(s){var o=r(s),a=r.ceil(s);return s-o<a-s?o:a},r.offset=function(s,o){return e(s=new Date(+s),o==null?1:Math.floor(o)),s},r.range=function(s,o,a){var l=[],c;if(s=r.ceil(s),a=a==null?1:Math.floor(a),!(s<o)||!(a>0))return l;do l.push(c=new Date(+s)),e(s,a),n(s);while(c<s&&s<o);return l},r.filter=function(s){return hi(function(o){if(o>=o)for(;n(o),!s(o);)o.setTime(o-1)},function(o,a){if(o>=o)if(a<0)for(;++a<=0;)for(;e(o,-1),!s(o););else for(;--a>=0;)for(;e(o,1),!s(o););})},t&&(r.count=function(s,o){return X_.setTime(+s),Y_.setTime(+o),n(X_),n(Y_),Math.floor(t(X_,Y_))},r.every=function(s){return s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?r.filter(i?function(o){return i(o)%s==0}:function(o){return r.count(0,o)%s==0}):r}),r}var m5=hi(function(){},function(n,e){n.setTime(+n+e)},function(n,e){return e-n});m5.every=function(n){return n=Math.floor(n),!isFinite(n)||!(n>0)?null:n>1?hi(function(e){e.setTime(Math.floor(e/n)*n)},function(e,t){e.setTime(+e+t*n)},function(e,t){return(t-e)/n}):m5};var $_=m5,PB=m5.range;const $o=1e3,Us=$o*60,qo=Us*60,ru=qo*24,q_=ru*7,RB=ru*30,j_=ru*365;var FB=hi(function(n){n.setTime(n-n.getMilliseconds())},function(n,e){n.setTime(+n+e*$o)},function(n,e){return(e-n)/$o},function(n){return n.getUTCSeconds()}),sl=FB,IB=FB.range,DB=hi(function(n){n.setTime(n-n.getMilliseconds()-n.getSeconds()*$o)},function(n,e){n.setTime(+n+e*Us)},function(n,e){return(e-n)/Us},function(n){return n.getMinutes()}),Z_=DB,d3e=DB.range,NB=hi(function(n){n.setTime(n-n.getMilliseconds()-n.getSeconds()*$o-n.getMinutes()*Us)},function(n,e){n.setTime(+n+e*qo)},function(n,e){return(e-n)/qo},function(n){return n.getHours()}),Q_=NB,p3e=NB.range,OB=hi(n=>n.setHours(0,0,0,0),(n,e)=>n.setDate(n.getDate()+e),(n,e)=>(e-n-(e.getTimezoneOffset()-n.getTimezoneOffset())*Us)/ru,n=>n.getDate()-1),Jp=OB,m3e=OB.range;function su(n){return hi(function(e){e.setDate(e.getDate()-(e.getDay()+7-n)%7),e.setHours(0,0,0,0)},function(e,t){e.setDate(e.getDate()+t*7)},function(e,t){return(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Us)/q_})}var Ch=su(0),Kp=su(1),BB=su(2),UB=su(3),ou=su(4),zB=su(5),kB=su(6),HB=Ch.range,g3e=Kp.range,v3e=BB.range,x3e=UB.range,y3e=ou.range,_3e=zB.range,b3e=kB.range,GB=hi(function(n){n.setDate(1),n.setHours(0,0,0,0)},function(n,e){n.setMonth(n.getMonth()+e)},function(n,e){return e.getMonth()-n.getMonth()+(e.getFullYear()-n.getFullYear())*12},function(n){return n.getMonth()}),J_=GB,w3e=GB.range,K_=hi(function(n){n.setMonth(0,1),n.setHours(0,0,0,0)},function(n,e){n.setFullYear(n.getFullYear()+e)},function(n,e){return e.getFullYear()-n.getFullYear()},function(n){return n.getFullYear()});K_.every=function(n){return!isFinite(n=Math.floor(n))||!(n>0)?null:hi(function(e){e.setFullYear(Math.floor(e.getFullYear()/n)*n),e.setMonth(0,1),e.setHours(0,0,0,0)},function(e,t){e.setFullYear(e.getFullYear()+t*n)})};var ol=K_,M3e=K_.range,VB=hi(function(n){n.setUTCSeconds(0,0)},function(n,e){n.setTime(+n+e*Us)},function(n,e){return(e-n)/Us},function(n){return n.getUTCMinutes()}),eb=VB,S3e=VB.range,WB=hi(function(n){n.setUTCMinutes(0,0,0)},function(n,e){n.setTime(+n+e*qo)},function(n,e){return(e-n)/qo},function(n){return n.getUTCHours()}),tb=WB,A3e=WB.range,XB=hi(function(n){n.setUTCHours(0,0,0,0)},function(n,e){n.setUTCDate(n.getUTCDate()+e)},function(n,e){return(e-n)/ru},function(n){return n.getUTCDate()-1}),e2=XB,T3e=XB.range;function au(n){return hi(function(e){e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-n)%7),e.setUTCHours(0,0,0,0)},function(e,t){e.setUTCDate(e.getUTCDate()+t*7)},function(e,t){return(t-e)/q_})}var Ph=au(0),t2=au(1),YB=au(2),$B=au(3),lu=au(4),qB=au(5),jB=au(6),ZB=Ph.range,E3e=t2.range,L3e=YB.range,C3e=$B.range,P3e=lu.range,R3e=qB.range,F3e=jB.range,QB=hi(function(n){n.setUTCDate(1),n.setUTCHours(0,0,0,0)},function(n,e){n.setUTCMonth(n.getUTCMonth()+e)},function(n,e){return e.getUTCMonth()-n.getUTCMonth()+(e.getUTCFullYear()-n.getUTCFullYear())*12},function(n){return n.getUTCMonth()}),nb=QB,I3e=QB.range,ib=hi(function(n){n.setUTCMonth(0,1),n.setUTCHours(0,0,0,0)},function(n,e){n.setUTCFullYear(n.getUTCFullYear()+e)},function(n,e){return e.getUTCFullYear()-n.getUTCFullYear()},function(n){return n.getUTCFullYear()});ib.every=function(n){return!isFinite(n=Math.floor(n))||!(n>0)?null:hi(function(e){e.setUTCFullYear(Math.floor(e.getUTCFullYear()/n)*n),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},function(e,t){e.setUTCFullYear(e.getUTCFullYear()+t*n)})};var al=ib,D3e=ib.range;function JB(n,e,t,i,r,s){const o=[[sl,1,$o],[sl,5,5*$o],[sl,15,15*$o],[sl,30,30*$o],[s,1,Us],[s,5,5*Us],[s,15,15*Us],[s,30,30*Us],[r,1,qo],[r,3,3*qo],[r,6,6*qo],[r,12,12*qo],[i,1,ru],[i,2,2*ru],[t,1,q_],[e,1,RB],[e,3,3*RB],[n,1,j_]];function a(c,u,f){const h=u<c;h&&([c,u]=[u,c]);const d=f&&typeof f.range=="function"?f:l(c,u,f),m=d?d.range(c,+u+1):[];return h?m.reverse():m}function l(c,u,f){const h=Math.abs(u-c)/f,d=D9(([,,_])=>_).right(o,h);if(d===o.length)return n.every(rh(c/j_,u/j_,f));if(d===0)return $_.every(Math.max(rh(c,u,f),1));const[m,v]=o[h/o[d-1][2]<o[d][2]/h?d-1:d];return m.every(v)}return[a,l]}const[KB,eU]=JB(al,nb,Ph,e2,tb,eb),[tU,nU]=JB(ol,J_,Ch,Jp,Q_,Z_);function rb(n){if(0<=n.y&&n.y<100){var e=new Date(-1,n.m,n.d,n.H,n.M,n.S,n.L);return e.setFullYear(n.y),e}return new Date(n.y,n.m,n.d,n.H,n.M,n.S,n.L)}function sb(n){if(0<=n.y&&n.y<100){var e=new Date(Date.UTC(-1,n.m,n.d,n.H,n.M,n.S,n.L));return e.setUTCFullYear(n.y),e}return new Date(Date.UTC(n.y,n.m,n.d,n.H,n.M,n.S,n.L))}function n2(n,e,t){return{y:n,m:e,d:t,H:0,M:0,S:0,L:0}}function iU(n){var e=n.dateTime,t=n.date,i=n.time,r=n.periods,s=n.days,o=n.shortDays,a=n.months,l=n.shortMonths,c=i2(r),u=r2(r),f=i2(s),h=r2(s),d=i2(o),m=r2(o),v=i2(a),_=r2(a),g=i2(l),x=r2(l),b={a:B,A:Y,b:j,B:re,c:null,d:cU,e:cU,f:i9e,g:d9e,G:m9e,H:e9e,I:t9e,j:n9e,L:uU,m:r9e,M:s9e,p:ie,q:ve,Q:gU,s:vU,S:o9e,u:a9e,U:l9e,V:c9e,w:u9e,W:f9e,x:null,X:null,y:h9e,Y:p9e,Z:g9e,"%":mU},w={a:de,A:ye,b:te,B:$,c:null,d:hU,e:hU,f:_9e,g:P9e,G:F9e,H:v9e,I:x9e,j:y9e,L:dU,m:b9e,M:w9e,p:ge,q:be,Q:gU,s:vU,S:M9e,u:S9e,U:A9e,V:T9e,w:E9e,W:L9e,x:null,X:null,y:C9e,Y:R9e,Z:I9e,"%":mU},S={a:N,A:O,b:G,B:D,c:P,d:aU,e:aU,f:Z3e,g:oU,G:sU,H:lU,I:lU,j:Y3e,L:j3e,m:X3e,M:$3e,p:U,q:W3e,Q:J3e,s:K3e,S:q3e,u:z3e,U:k3e,V:H3e,w:U3e,W:G3e,x:I,X:C,y:oU,Y:sU,Z:V3e,"%":Q3e};b.x=A(t,b),b.X=A(i,b),b.c=A(e,b),w.x=A(t,w),w.X=A(i,w),w.c=A(e,w);function A(ue,_e){return function(Te){var X=[],z=-1,W=0,se=ue.length,ae,L,E;for(Te instanceof Date||(Te=new Date(+Te));++z<se;)ue.charCodeAt(z)===37&&(X.push(ue.slice(W,z)),(L=rU[ae=ue.charAt(++z)])!=null?ae=ue.charAt(++z):L=ae==="e"?" ":"0",(E=_e[ae])&&(ae=E(Te,L)),X.push(ae),W=z+1);return X.push(ue.slice(W,z)),X.join("")}}function T(ue,_e){return function(Te){var X=n2(1900,void 0,1),z=F(X,ue,Te+="",0),W,se;if(z!=Te.length)return null;if("Q"in X)return new Date(X.Q);if("s"in X)return new Date(X.s*1e3+("L"in X?X.L:0));if(_e&&!("Z"in X)&&(X.Z=0),"p"in X&&(X.H=X.H%12+X.p*12),X.m===void 0&&(X.m="q"in X?X.q:0),"V"in X){if(X.V<1||X.V>53)return null;"w"in X||(X.w=1),"Z"in X?(W=sb(n2(X.y,0,1)),se=W.getUTCDay(),W=se>4||se===0?t2.ceil(W):t2(W),W=e2.offset(W,(X.V-1)*7),X.y=W.getUTCFullYear(),X.m=W.getUTCMonth(),X.d=W.getUTCDate()+(X.w+6)%7):(W=rb(n2(X.y,0,1)),se=W.getDay(),W=se>4||se===0?Kp.ceil(W):Kp(W),W=Jp.offset(W,(X.V-1)*7),X.y=W.getFullYear(),X.m=W.getMonth(),X.d=W.getDate()+(X.w+6)%7)}else("W"in X||"U"in X)&&("w"in X||(X.w="u"in X?X.u%7:"W"in X?1:0),se="Z"in X?sb(n2(X.y,0,1)).getUTCDay():rb(n2(X.y,0,1)).getDay(),X.m=0,X.d="W"in X?(X.w+6)%7+X.W*7-(se+5)%7:X.w+X.U*7-(se+6)%7);return"Z"in X?(X.H+=X.Z/100|0,X.M+=X.Z%100,sb(X)):rb(X)}}function F(ue,_e,Te,X){for(var z=0,W=_e.length,se=Te.length,ae,L;z<W;){if(X>=se)return-1;if(ae=_e.charCodeAt(z++),ae===37){if(ae=_e.charAt(z++),L=S[ae in rU?_e.charAt(z++):ae],!L||(X=L(ue,Te,X))<0)return-1}else if(ae!=Te.charCodeAt(X++))return-1}return X}function U(ue,_e,Te){var X=c.exec(_e.slice(Te));return X?(ue.p=u.get(X[0].toLowerCase()),Te+X[0].length):-1}function N(ue,_e,Te){var X=d.exec(_e.slice(Te));return X?(ue.w=m.get(X[0].toLowerCase()),Te+X[0].length):-1}function O(ue,_e,Te){var X=f.exec(_e.slice(Te));return X?(ue.w=h.get(X[0].toLowerCase()),Te+X[0].length):-1}function G(ue,_e,Te){var X=g.exec(_e.slice(Te));return X?(ue.m=x.get(X[0].toLowerCase()),Te+X[0].length):-1}function D(ue,_e,Te){var X=v.exec(_e.slice(Te));return X?(ue.m=_.get(X[0].toLowerCase()),Te+X[0].length):-1}function P(ue,_e,Te){return F(ue,e,_e,Te)}function I(ue,_e,Te){return F(ue,t,_e,Te)}function C(ue,_e,Te){return F(ue,i,_e,Te)}function B(ue){return o[ue.getDay()]}function Y(ue){return s[ue.getDay()]}function j(ue){return l[ue.getMonth()]}function re(ue){return a[ue.getMonth()]}function ie(ue){return r[+(ue.getHours()>=12)]}function ve(ue){return 1+~~(ue.getMonth()/3)}function de(ue){return o[ue.getUTCDay()]}function ye(ue){return s[ue.getUTCDay()]}function te(ue){return l[ue.getUTCMonth()]}function $(ue){return a[ue.getUTCMonth()]}function ge(ue){return r[+(ue.getUTCHours()>=12)]}function be(ue){return 1+~~(ue.getUTCMonth()/3)}return{format:function(ue){var _e=A(ue+="",b);return _e.toString=function(){return ue},_e},parse:function(ue){var _e=T(ue+="",!1);return _e.toString=function(){return ue},_e},utcFormat:function(ue){var _e=A(ue+="",w);return _e.toString=function(){return ue},_e},utcParse:function(ue){var _e=T(ue+="",!0);return _e.toString=function(){return ue},_e}}}var rU={"-":"",_:" ","0":"0"},wi=/^\s*\d+/,N3e=/^%/,O3e=/[\\^$*+?|[\]().{}]/g;function jt(n,e,t){var i=n<0?"-":"",r=(i?-n:n)+"",s=r.length;return i+(s<t?new Array(t-s+1).join(e)+r:r)}function B3e(n){return n.replace(O3e,"\\$&")}function i2(n){return new RegExp("^(?:"+n.map(B3e).join("|")+")","i")}function r2(n){return new Map(n.map((e,t)=>[e.toLowerCase(),t]))}function U3e(n,e,t){var i=wi.exec(e.slice(t,t+1));return i?(n.w=+i[0],t+i[0].length):-1}function z3e(n,e,t){var i=wi.exec(e.slice(t,t+1));return i?(n.u=+i[0],t+i[0].length):-1}function k3e(n,e,t){var i=wi.exec(e.slice(t,t+2));return i?(n.U=+i[0],t+i[0].length):-1}function H3e(n,e,t){var i=wi.exec(e.slice(t,t+2));return i?(n.V=+i[0],t+i[0].length):-1}function G3e(n,e,t){var i=wi.exec(e.slice(t,t+2));return i?(n.W=+i[0],t+i[0].length):-1}function sU(n,e,t){var i=wi.exec(e.slice(t,t+4));return i?(n.y=+i[0],t+i[0].length):-1}function oU(n,e,t){var i=wi.exec(e.slice(t,t+2));return i?(n.y=+i[0]+(+i[0]>68?1900:2e3),t+i[0].length):-1}function V3e(n,e,t){var i=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(t,t+6));return i?(n.Z=i[1]?0:-(i[2]+(i[3]||"00")),t+i[0].length):-1}function W3e(n,e,t){var i=wi.exec(e.slice(t,t+1));return i?(n.q=i[0]*3-3,t+i[0].length):-1}function X3e(n,e,t){var i=wi.exec(e.slice(t,t+2));return i?(n.m=i[0]-1,t+i[0].length):-1}function aU(n,e,t){var i=wi.exec(e.slice(t,t+2));return i?(n.d=+i[0],t+i[0].length):-1}function Y3e(n,e,t){var i=wi.exec(e.slice(t,t+3));return i?(n.m=0,n.d=+i[0],t+i[0].length):-1}function lU(n,e,t){var i=wi.exec(e.slice(t,t+2));return i?(n.H=+i[0],t+i[0].length):-1}function $3e(n,e,t){var i=wi.exec(e.slice(t,t+2));return i?(n.M=+i[0],t+i[0].length):-1}function q3e(n,e,t){var i=wi.exec(e.slice(t,t+2));return i?(n.S=+i[0],t+i[0].length):-1}function j3e(n,e,t){var i=wi.exec(e.slice(t,t+3));return i?(n.L=+i[0],t+i[0].length):-1}function Z3e(n,e,t){var i=wi.exec(e.slice(t,t+6));return i?(n.L=Math.floor(i[0]/1e3),t+i[0].length):-1}function Q3e(n,e,t){var i=N3e.exec(e.slice(t,t+1));return i?t+i[0].length:-1}function J3e(n,e,t){var i=wi.exec(e.slice(t));return i?(n.Q=+i[0],t+i[0].length):-1}function K3e(n,e,t){var i=wi.exec(e.slice(t));return i?(n.s=+i[0],t+i[0].length):-1}function cU(n,e){return jt(n.getDate(),e,2)}function e9e(n,e){return jt(n.getHours(),e,2)}function t9e(n,e){return jt(n.getHours()%12||12,e,2)}function n9e(n,e){return jt(1+Jp.count(ol(n),n),e,3)}function uU(n,e){return jt(n.getMilliseconds(),e,3)}function i9e(n,e){return uU(n,e)+"000"}function r9e(n,e){return jt(n.getMonth()+1,e,2)}function s9e(n,e){return jt(n.getMinutes(),e,2)}function o9e(n,e){return jt(n.getSeconds(),e,2)}function a9e(n){var e=n.getDay();return e===0?7:e}function l9e(n,e){return jt(Ch.count(ol(n)-1,n),e,2)}function fU(n){var e=n.getDay();return e>=4||e===0?ou(n):ou.ceil(n)}function c9e(n,e){return n=fU(n),jt(ou.count(ol(n),n)+(ol(n).getDay()===4),e,2)}function u9e(n){return n.getDay()}function f9e(n,e){return jt(Kp.count(ol(n)-1,n),e,2)}function h9e(n,e){return jt(n.getFullYear()%100,e,2)}function d9e(n,e){return n=fU(n),jt(n.getFullYear()%100,e,2)}function p9e(n,e){return jt(n.getFullYear()%1e4,e,4)}function m9e(n,e){var t=n.getDay();return n=t>=4||t===0?ou(n):ou.ceil(n),jt(n.getFullYear()%1e4,e,4)}function g9e(n){var e=n.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+jt(e/60|0,"0",2)+jt(e%60,"0",2)}function hU(n,e){return jt(n.getUTCDate(),e,2)}function v9e(n,e){return jt(n.getUTCHours(),e,2)}function x9e(n,e){return jt(n.getUTCHours()%12||12,e,2)}function y9e(n,e){return jt(1+e2.count(al(n),n),e,3)}function dU(n,e){return jt(n.getUTCMilliseconds(),e,3)}function _9e(n,e){return dU(n,e)+"000"}function b9e(n,e){return jt(n.getUTCMonth()+1,e,2)}function w9e(n,e){return jt(n.getUTCMinutes(),e,2)}function M9e(n,e){return jt(n.getUTCSeconds(),e,2)}function S9e(n){var e=n.getUTCDay();return e===0?7:e}function A9e(n,e){return jt(Ph.count(al(n)-1,n),e,2)}function pU(n){var e=n.getUTCDay();return e>=4||e===0?lu(n):lu.ceil(n)}function T9e(n,e){return n=pU(n),jt(lu.count(al(n),n)+(al(n).getUTCDay()===4),e,2)}function E9e(n){return n.getUTCDay()}function L9e(n,e){return jt(t2.count(al(n)-1,n),e,2)}function C9e(n,e){return jt(n.getUTCFullYear()%100,e,2)}function P9e(n,e){return n=pU(n),jt(n.getUTCFullYear()%100,e,2)}function R9e(n,e){return jt(n.getUTCFullYear()%1e4,e,4)}function F9e(n,e){var t=n.getUTCDay();return n=t>=4||t===0?lu(n):lu.ceil(n),jt(n.getUTCFullYear()%1e4,e,4)}function I9e(){return"+0000"}function mU(){return"%"}function gU(n){return+n}function vU(n){return Math.floor(+n/1e3)}var Rh,ob,xU,g5,ab;yU({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function yU(n){return Rh=iU(n),ob=Rh.format,xU=Rh.parse,g5=Rh.utcFormat,ab=Rh.utcParse,Rh}var _U="%Y-%m-%dT%H:%M:%S.%LZ";function D9e(n){return n.toISOString()}var N9e=Date.prototype.toISOString?D9e:g5(_U),O9e=N9e;function B9e(n){var e=new Date(n);return isNaN(e)?null:e}var U9e=+new Date("2000-01-01T00:00:00.000Z")?B9e:ab(_U),z9e=U9e;function k9e(n){return new Date(n)}function H9e(n){return n instanceof Date?+n:+new Date(+n)}function lb(n,e,t,i,r,s,o,a,l,c){var u=k_(),f=u.invert,h=u.domain,d=c(".%L"),m=c(":%S"),v=c("%I:%M"),_=c("%I %p"),g=c("%a %d"),x=c("%b %d"),b=c("%B"),w=c("%Y");function S(A){return(l(A)<A?d:a(A)<A?m:o(A)<A?v:s(A)<A?_:i(A)<A?r(A)<A?g:x:t(A)<A?b:w)(A)}return u.invert=function(A){return new Date(f(A))},u.domain=function(A){return arguments.length?h(Array.from(A,H9e)):h().map(k9e)},u.ticks=function(A){var T=h();return n(T[0],T[T.length-1],A==null?10:A)},u.tickFormat=function(A,T){return T==null?S:c(T)},u.nice=function(A){var T=h();return(!A||typeof A.range!="function")&&(A=e(T[0],T[T.length-1],A==null?10:A)),A?h(gB(T,A)):u},u.copy=function(){return Qp(u,lb(n,e,t,i,r,s,o,a,l,c))},u}function G9e(){return Bs.apply(lb(tU,nU,ol,J_,Ch,Jp,Q_,Z_,sl,ob).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function V9e(){return Bs.apply(lb(KB,eU,al,nb,Ph,e2,tb,eb,sl,g5).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function v5(){var n=0,e=1,t,i,r,s,o=Tr,a=!1,l;function c(f){return f==null||isNaN(f=+f)?l:o(r===0?.5:(f=(s(f)-t)*r,a?Math.max(0,Math.min(1,f)):f))}c.domain=function(f){return arguments.length?([n,e]=f,t=s(n=+n),i=s(e=+e),r=t===i?0:1/(i-t),c):[n,e]},c.clamp=function(f){return arguments.length?(a=!!f,c):a},c.interpolator=function(f){return arguments.length?(o=f,c):o};function u(f){return function(h){var d,m;return arguments.length?([d,m]=h,o=f(d,m),c):[o(0),o(1)]}}return c.range=u(Qa),c.rangeRound=u(i4),c.unknown=function(f){return arguments.length?(l=f,c):l},function(f){return s=f,t=f(n),i=f(e),r=t===i?0:1/(i-t),c}}function ll(n,e){return e.domain(n.domain()).interpolator(n.interpolator()).clamp(n.clamp()).unknown(n.unknown())}function bU(){var n=rl(v5()(Tr));return n.copy=function(){return ll(n,bU())},Yo.apply(n,arguments)}function wU(){var n=H_(v5()).domain([1,10]);return n.copy=function(){return ll(n,wU()).base(n.base())},Yo.apply(n,arguments)}function MU(){var n=G_(v5());return n.copy=function(){return ll(n,MU()).constant(n.constant())},Yo.apply(n,arguments)}function cb(){var n=V_(v5());return n.copy=function(){return ll(n,cb()).exponent(n.exponent())},Yo.apply(n,arguments)}function W9e(){return cb.apply(null,arguments).exponent(.5)}function SU(){var n=[],e=Tr;function t(i){if(i!=null&&!isNaN(i=+i))return e((kc(n,i,1)-1)/(n.length-1))}return t.domain=function(i){if(!arguments.length)return n.slice();n=[];for(let r of i)r!=null&&!isNaN(r=+r)&&n.push(r);return n.sort(oi),t},t.interpolator=function(i){return arguments.length?(e=i,t):e},t.range=function(){return n.map((i,r)=>e(r/(n.length-1)))},t.quantiles=function(i){return Array.from({length:i+1},(r,s)=>hp(n,s/i))},t.copy=function(){return SU(e).domain(n)},Yo.apply(t,arguments)}function x5(){var n=0,e=.5,t=1,i=1,r,s,o,a,l,c=Tr,u,f=!1,h;function d(v){return isNaN(v=+v)?h:(v=.5+((v=+u(v))-s)*(i*v<i*s?a:l),c(f?Math.max(0,Math.min(1,v)):v))}d.domain=function(v){return arguments.length?([n,e,t]=v,r=u(n=+n),s=u(e=+e),o=u(t=+t),a=r===s?0:.5/(s-r),l=s===o?0:.5/(o-s),i=s<r?-1:1,d):[n,e,t]},d.clamp=function(v){return arguments.length?(f=!!v,d):f},d.interpolator=function(v){return arguments.length?(c=v,d):c};function m(v){return function(_){var g,x,b;return arguments.length?([g,x,b]=_,c=TD(v,[g,x,b]),d):[c(0),c(.5),c(1)]}}return d.range=m(Qa),d.rangeRound=m(i4),d.unknown=function(v){return arguments.length?(h=v,d):h},function(v){return u=v,r=v(n),s=v(e),o=v(t),a=r===s?0:.5/(s-r),l=s===o?0:.5/(o-s),i=s<r?-1:1,d}}function AU(){var n=rl(x5()(Tr));return n.copy=function(){return ll(n,AU())},Yo.apply(n,arguments)}function TU(){var n=H_(x5()).domain([.1,1,10]);return n.copy=function(){return ll(n,TU()).base(n.base())},Yo.apply(n,arguments)}function EU(){var n=G_(x5());return n.copy=function(){return ll(n,EU()).constant(n.constant())},Yo.apply(n,arguments)}function ub(){var n=V_(x5());return n.copy=function(){return ll(n,ub()).exponent(n.exponent())},Yo.apply(n,arguments)}function X9e(){return ub.apply(null,arguments).exponent(.5)}function Pt(n){for(var e=n.length/6|0,t=new Array(e),i=0;i<e;)t[i]="#"+n.slice(i*6,++i*6);return t}var Y9e=Pt("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),$9e=Pt("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),q9e=Pt("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),j9e=Pt("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),Z9e=Pt("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),Q9e=Pt("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),J9e=Pt("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),K9e=Pt("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),e4e=Pt("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"),t4e=Pt("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab"),pn=n=>fD(n[n.length-1]),LU=new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(Pt),n4e=pn(LU),CU=new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(Pt),i4e=pn(CU),PU=new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(Pt),r4e=pn(PU),RU=new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(Pt),s4e=pn(RU),FU=new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(Pt),o4e=pn(FU),IU=new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(Pt),a4e=pn(IU),DU=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(Pt),l4e=pn(DU),NU=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(Pt),c4e=pn(NU),OU=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(Pt),u4e=pn(OU),BU=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(Pt),f4e=pn(BU),UU=new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(Pt),h4e=pn(UU),zU=new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(Pt),d4e=pn(zU),kU=new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(Pt),p4e=pn(kU),HU=new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(Pt),m4e=pn(HU),GU=new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(Pt),g4e=pn(GU),VU=new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(Pt),v4e=pn(VU),WU=new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(Pt),x4e=pn(WU),XU=new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(Pt),y4e=pn(XU),YU=new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(Pt),_4e=pn(YU),$U=new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(Pt),b4e=pn($U),qU=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(Pt),w4e=pn(qU),jU=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(Pt),M4e=pn(jU),ZU=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(Pt),S4e=pn(ZU),QU=new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(Pt),A4e=pn(QU),JU=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(Pt),T4e=pn(JU),KU=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(Pt),E4e=pn(KU),ez=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(Pt),L4e=pn(ez);function C4e(n){return n=Math.max(0,Math.min(1,n)),"rgb("+Math.max(0,Math.min(255,Math.round(-4.54-n*(35.34-n*(2381.73-n*(6402.7-n*(7024.72-n*2710.57)))))))+", "+Math.max(0,Math.min(255,Math.round(32.49+n*(170.73+n*(52.82-n*(131.46-n*(176.58-n*67.37)))))))+", "+Math.max(0,Math.min(255,Math.round(81.24+n*(442.36-n*(2482.43-n*(6167.24-n*(6614.94-n*2475.67)))))))+")"}var P4e=s4(u0(300,.5,0),u0(-240,.5,1)),R4e=s4(u0(-100,.75,.35),u0(80,1.5,.8)),F4e=s4(u0(260,.75,.35),u0(80,1.5,.8)),y5=u0();function I4e(n){(n<0||n>1)&&(n-=Math.floor(n));var e=Math.abs(n-.5);return y5.h=360*n-100,y5.s=1.5-1.5*e,y5.l=.8-.9*e,y5+""}var _5=ch(),D4e=Math.PI/3,N4e=Math.PI*2/3;function O4e(n){var e;return n=(.5-n)*Math.PI,_5.r=255*(e=Math.sin(n))*e,_5.g=255*(e=Math.sin(n+D4e))*e,_5.b=255*(e=Math.sin(n+N4e))*e,_5+""}function B4e(n){return n=Math.max(0,Math.min(1,n)),"rgb("+Math.max(0,Math.min(255,Math.round(34.61+n*(1172.33-n*(10793.56-n*(33300.12-n*(38394.49-n*14825.05)))))))+", "+Math.max(0,Math.min(255,Math.round(23.31+n*(557.33+n*(1225.33-n*(3574.96-n*(1073.77+n*707.56)))))))+", "+Math.max(0,Math.min(255,Math.round(27.2+n*(3211.1-n*(15327.97-n*(27814-n*(22569.18-n*6838.66)))))))+")"}function b5(n){var e=n.length;return function(t){return n[Math.max(0,Math.min(e-1,Math.floor(t*e)))]}}var U4e=b5(Pt("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725")),z4e=b5(Pt("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),k4e=b5(Pt("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),H4e=b5(Pt("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));function Et(n){return function(){return n}}var tz=Math.abs,ji=Math.atan2,cu=Math.cos,G4e=Math.max,fb=Math.min,K0=Math.sin,Fh=Math.sqrt,Zi=1e-12,cl=Math.PI,w5=cl/2,ul=2*cl;function V4e(n){return n>1?0:n<-1?cl:Math.acos(n)}function nz(n){return n>=1?w5:n<=-1?-w5:Math.asin(n)}function W4e(n){return n.innerRadius}function X4e(n){return n.outerRadius}function Y4e(n){return n.startAngle}function $4e(n){return n.endAngle}function q4e(n){return n&&n.padAngle}function j4e(n,e,t,i,r,s,o,a){var l=t-n,c=i-e,u=o-r,f=a-s,h=f*l-u*c;if(!(h*h<Zi))return h=(u*(e-s)-f*(n-r))/h,[n+h*l,e+h*c]}function M5(n,e,t,i,r,s,o){var a=n-t,l=e-i,c=(o?s:-s)/Fh(a*a+l*l),u=c*l,f=-c*a,h=n+u,d=e+f,m=t+u,v=i+f,_=(h+m)/2,g=(d+v)/2,x=m-h,b=v-d,w=x*x+b*b,S=r-s,A=h*v-m*d,T=(b<0?-1:1)*Fh(G4e(0,S*S*w-A*A)),F=(A*b-x*T)/w,U=(-A*x-b*T)/w,N=(A*b+x*T)/w,O=(-A*x+b*T)/w,G=F-_,D=U-g,P=N-_,I=O-g;return G*G+D*D>P*P+I*I&&(F=N,U=O),{cx:F,cy:U,x01:-u,y01:-f,x11:F*(r/S-1),y11:U*(r/S-1)}}function Z4e(){var n=W4e,e=X4e,t=Et(0),i=null,r=Y4e,s=$4e,o=q4e,a=null;function l(){var c,u,f=+n.apply(this,arguments),h=+e.apply(this,arguments),d=r.apply(this,arguments)-w5,m=s.apply(this,arguments)-w5,v=tz(m-d),_=m>d;if(a||(a=c=Ka()),h<f&&(u=h,h=f,f=u),!(h>Zi))a.moveTo(0,0);else if(v>ul-Zi)a.moveTo(h*cu(d),h*K0(d)),a.arc(0,0,h,d,m,!_),f>Zi&&(a.moveTo(f*cu(m),f*K0(m)),a.arc(0,0,f,m,d,_));else{var g=d,x=m,b=d,w=m,S=v,A=v,T=o.apply(this,arguments)/2,F=T>Zi&&(i?+i.apply(this,arguments):Fh(f*f+h*h)),U=fb(tz(h-f)/2,+t.apply(this,arguments)),N=U,O=U,G,D;if(F>Zi){var P=nz(F/f*K0(T)),I=nz(F/h*K0(T));(S-=P*2)>Zi?(P*=_?1:-1,b+=P,w-=P):(S=0,b=w=(d+m)/2),(A-=I*2)>Zi?(I*=_?1:-1,g+=I,x-=I):(A=0,g=x=(d+m)/2)}var C=h*cu(g),B=h*K0(g),Y=f*cu(w),j=f*K0(w);if(U>Zi){var re=h*cu(x),ie=h*K0(x),ve=f*cu(b),de=f*K0(b),ye;if(v<cl&&(ye=j4e(C,B,ve,de,re,ie,Y,j))){var te=C-ye[0],$=B-ye[1],ge=re-ye[0],be=ie-ye[1],ue=1/K0(V4e((te*ge+$*be)/(Fh(te*te+$*$)*Fh(ge*ge+be*be)))/2),_e=Fh(ye[0]*ye[0]+ye[1]*ye[1]);N=fb(U,(f-_e)/(ue-1)),O=fb(U,(h-_e)/(ue+1))}}A>Zi?O>Zi?(G=M5(ve,de,C,B,h,O,_),D=M5(re,ie,Y,j,h,O,_),a.moveTo(G.cx+G.x01,G.cy+G.y01),O<U?a.arc(G.cx,G.cy,O,ji(G.y01,G.x01),ji(D.y01,D.x01),!_):(a.arc(G.cx,G.cy,O,ji(G.y01,G.x01),ji(G.y11,G.x11),!_),a.arc(0,0,h,ji(G.cy+G.y11,G.cx+G.x11),ji(D.cy+D.y11,D.cx+D.x11),!_),a.arc(D.cx,D.cy,O,ji(D.y11,D.x11),ji(D.y01,D.x01),!_))):(a.moveTo(C,B),a.arc(0,0,h,g,x,!_)):a.moveTo(C,B),!(f>Zi)||!(S>Zi)?a.lineTo(Y,j):N>Zi?(G=M5(Y,j,re,ie,f,-N,_),D=M5(C,B,ve,de,f,-N,_),a.lineTo(G.cx+G.x01,G.cy+G.y01),N<U?a.arc(G.cx,G.cy,N,ji(G.y01,G.x01),ji(D.y01,D.x01),!_):(a.arc(G.cx,G.cy,N,ji(G.y01,G.x01),ji(G.y11,G.x11),!_),a.arc(0,0,f,ji(G.cy+G.y11,G.cx+G.x11),ji(D.cy+D.y11,D.cx+D.x11),_),a.arc(D.cx,D.cy,N,ji(D.y11,D.x11),ji(D.y01,D.x01),!_))):a.arc(0,0,f,w,b,_)}if(a.closePath(),c)return a=null,c+""||null}return l.centroid=function(){var c=(+n.apply(this,arguments)+ +e.apply(this,arguments))/2,u=(+r.apply(this,arguments)+ +s.apply(this,arguments))/2-cl/2;return[cu(u)*c,K0(u)*c]},l.innerRadius=function(c){return arguments.length?(n=typeof c=="function"?c:Et(+c),l):n},l.outerRadius=function(c){return arguments.length?(e=typeof c=="function"?c:Et(+c),l):e},l.cornerRadius=function(c){return arguments.length?(t=typeof c=="function"?c:Et(+c),l):t},l.padRadius=function(c){return arguments.length?(i=c==null?null:typeof c=="function"?c:Et(+c),l):i},l.startAngle=function(c){return arguments.length?(r=typeof c=="function"?c:Et(+c),l):r},l.endAngle=function(c){return arguments.length?(s=typeof c=="function"?c:Et(+c),l):s},l.padAngle=function(c){return arguments.length?(o=typeof c=="function"?c:Et(+c),l):o},l.context=function(c){return arguments.length?(a=c==null?null:c,l):a},l}var Q4e=Array.prototype.slice;function S5(n){return typeof n=="object"&&"length"in n?n:Array.from(n)}function iz(n){this._context=n}iz.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(n,e){switch(n=+n,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(n,e):this._context.moveTo(n,e);break;case 1:this._point=2;default:this._context.lineTo(n,e);break}}};function A5(n){return new iz(n)}function hb(n){return n[0]}function db(n){return n[1]}function pb(n,e){var t=Et(!0),i=null,r=A5,s=null;n=typeof n=="function"?n:n===void 0?hb:Et(n),e=typeof e=="function"?e:e===void 0?db:Et(e);function o(a){var l,c=(a=S5(a)).length,u,f=!1,h;for(i==null&&(s=r(h=Ka())),l=0;l<=c;++l)!(l<c&&t(u=a[l],l,a))===f&&((f=!f)?s.lineStart():s.lineEnd()),f&&s.point(+n(u,l,a),+e(u,l,a));if(h)return s=null,h+""||null}return o.x=function(a){return arguments.length?(n=typeof a=="function"?a:Et(+a),o):n},o.y=function(a){return arguments.length?(e=typeof a=="function"?a:Et(+a),o):e},o.defined=function(a){return arguments.length?(t=typeof a=="function"?a:Et(!!a),o):t},o.curve=function(a){return arguments.length?(r=a,i!=null&&(s=r(i)),o):r},o.context=function(a){return arguments.length?(a==null?i=s=null:s=r(i=a),o):i},o}function rz(n,e,t){var i=null,r=Et(!0),s=null,o=A5,a=null;n=typeof n=="function"?n:n===void 0?hb:Et(+n),e=typeof e=="function"?e:Et(e===void 0?0:+e),t=typeof t=="function"?t:t===void 0?db:Et(+t);function l(u){var f,h,d,m=(u=S5(u)).length,v,_=!1,g,x=new Array(m),b=new Array(m);for(s==null&&(a=o(g=Ka())),f=0;f<=m;++f){if(!(f<m&&r(v=u[f],f,u))===_)if(_=!_)h=f,a.areaStart(),a.lineStart();else{for(a.lineEnd(),a.lineStart(),d=f-1;d>=h;--d)a.point(x[d],b[d]);a.lineEnd(),a.areaEnd()}_&&(x[f]=+n(v,f,u),b[f]=+e(v,f,u),a.point(i?+i(v,f,u):x[f],t?+t(v,f,u):b[f]))}if(g)return a=null,g+""||null}function c(){return pb().defined(r).curve(o).context(s)}return l.x=function(u){return arguments.length?(n=typeof u=="function"?u:Et(+u),i=null,l):n},l.x0=function(u){return arguments.length?(n=typeof u=="function"?u:Et(+u),l):n},l.x1=function(u){return arguments.length?(i=u==null?null:typeof u=="function"?u:Et(+u),l):i},l.y=function(u){return arguments.length?(e=typeof u=="function"?u:Et(+u),t=null,l):e},l.y0=function(u){return arguments.length?(e=typeof u=="function"?u:Et(+u),l):e},l.y1=function(u){return arguments.length?(t=u==null?null:typeof u=="function"?u:Et(+u),l):t},l.lineX0=l.lineY0=function(){return c().x(n).y(e)},l.lineY1=function(){return c().x(n).y(t)},l.lineX1=function(){return c().x(i).y(e)},l.defined=function(u){return arguments.length?(r=typeof u=="function"?u:Et(!!u),l):r},l.curve=function(u){return arguments.length?(o=u,s!=null&&(a=o(s)),l):o},l.context=function(u){return arguments.length?(u==null?s=a=null:a=o(s=u),l):s},l}function J4e(n,e){return e<n?-1:e>n?1:e>=n?0:NaN}function K4e(n){return n}function e5e(){var n=K4e,e=J4e,t=null,i=Et(0),r=Et(ul),s=Et(0);function o(a){var l,c=(a=S5(a)).length,u,f,h=0,d=new Array(c),m=new Array(c),v=+i.apply(this,arguments),_=Math.min(ul,Math.max(-ul,r.apply(this,arguments)-v)),g,x=Math.min(Math.abs(_)/c,s.apply(this,arguments)),b=x*(_<0?-1:1),w;for(l=0;l<c;++l)(w=m[d[l]=l]=+n(a[l],l,a))>0&&(h+=w);for(e!=null?d.sort(function(S,A){return e(m[S],m[A])}):t!=null&&d.sort(function(S,A){return t(a[S],a[A])}),l=0,f=h?(_-c*b)/h:0;l<c;++l,v=g)u=d[l],w=m[u],g=v+(w>0?w*f:0)+b,m[u]={data:a[u],index:l,value:w,startAngle:v,endAngle:g,padAngle:x};return m}return o.value=function(a){return arguments.length?(n=typeof a=="function"?a:Et(+a),o):n},o.sortValues=function(a){return arguments.length?(e=a,t=null,o):e},o.sort=function(a){return arguments.length?(t=a,e=null,o):t},o.startAngle=function(a){return arguments.length?(i=typeof a=="function"?a:Et(+a),o):i},o.endAngle=function(a){return arguments.length?(r=typeof a=="function"?a:Et(+a),o):r},o.padAngle=function(a){return arguments.length?(s=typeof a=="function"?a:Et(+a),o):s},o}var sz=mb(A5);function oz(n){this._curve=n}oz.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(n,e){this._curve.point(e*Math.sin(n),e*-Math.cos(n))}};function mb(n){function e(t){return new oz(n(t))}return e._curve=n,e}function s2(n){var e=n.curve;return n.angle=n.x,delete n.x,n.radius=n.y,delete n.y,n.curve=function(t){return arguments.length?e(mb(t)):e()._curve},n}function az(){return s2(pb().curve(sz))}function lz(){var n=rz().curve(sz),e=n.curve,t=n.lineX0,i=n.lineX1,r=n.lineY0,s=n.lineY1;return n.angle=n.x,delete n.x,n.startAngle=n.x0,delete n.x0,n.endAngle=n.x1,delete n.x1,n.radius=n.y,delete n.y,n.innerRadius=n.y0,delete n.y0,n.outerRadius=n.y1,delete n.y1,n.lineStartAngle=function(){return s2(t())},delete n.lineX0,n.lineEndAngle=function(){return s2(i())},delete n.lineX1,n.lineInnerRadius=function(){return s2(r())},delete n.lineY0,n.lineOuterRadius=function(){return s2(s())},delete n.lineY1,n.curve=function(o){return arguments.length?e(mb(o)):e()._curve},n}function o2(n,e){return[(e=+e)*Math.cos(n-=Math.PI/2),e*Math.sin(n)]}function t5e(n){return n.source}function n5e(n){return n.target}function gb(n){var e=t5e,t=n5e,i=hb,r=db,s=null;function o(){var a,l=Q4e.call(arguments),c=e.apply(this,l),u=t.apply(this,l);if(s||(s=a=Ka()),n(s,+i.apply(this,(l[0]=c,l)),+r.apply(this,l),+i.apply(this,(l[0]=u,l)),+r.apply(this,l)),a)return s=null,a+""||null}return o.source=function(a){return arguments.length?(e=a,o):e},o.target=function(a){return arguments.length?(t=a,o):t},o.x=function(a){return arguments.length?(i=typeof a=="function"?a:Et(+a),o):i},o.y=function(a){return arguments.length?(r=typeof a=="function"?a:Et(+a),o):r},o.context=function(a){return arguments.length?(s=a==null?null:a,o):s},o}function i5e(n,e,t,i,r){n.moveTo(e,t),n.bezierCurveTo(e=(e+i)/2,t,e,r,i,r)}function r5e(n,e,t,i,r){n.moveTo(e,t),n.bezierCurveTo(e,t=(t+r)/2,i,t,i,r)}function s5e(n,e,t,i,r){var s=o2(e,t),o=o2(e,t=(t+r)/2),a=o2(i,t),l=o2(i,r);n.moveTo(s[0],s[1]),n.bezierCurveTo(o[0],o[1],a[0],a[1],l[0],l[1])}function o5e(){return gb(i5e)}function a5e(){return gb(r5e)}function l5e(){var n=gb(s5e);return n.angle=n.x,delete n.x,n.radius=n.y,delete n.y,n}var vb={draw:function(n,e){var t=Math.sqrt(e/cl);n.moveTo(t,0),n.arc(0,0,t,0,ul)}},cz={draw:function(n,e){var t=Math.sqrt(e/5)/2;n.moveTo(-3*t,-t),n.lineTo(-t,-t),n.lineTo(-t,-3*t),n.lineTo(t,-3*t),n.lineTo(t,-t),n.lineTo(3*t,-t),n.lineTo(3*t,t),n.lineTo(t,t),n.lineTo(t,3*t),n.lineTo(-t,3*t),n.lineTo(-t,t),n.lineTo(-3*t,t),n.closePath()}},uz=Math.sqrt(1/3),c5e=uz*2,fz={draw:function(n,e){var t=Math.sqrt(e/c5e),i=t*uz;n.moveTo(0,-t),n.lineTo(i,0),n.lineTo(0,t),n.lineTo(-i,0),n.closePath()}},u5e=.8908130915292852,hz=Math.sin(cl/10)/Math.sin(7*cl/10),f5e=Math.sin(ul/10)*hz,h5e=-Math.cos(ul/10)*hz,dz={draw:function(n,e){var t=Math.sqrt(e*u5e),i=f5e*t,r=h5e*t;n.moveTo(0,-t),n.lineTo(i,r);for(var s=1;s<5;++s){var o=ul*s/5,a=Math.cos(o),l=Math.sin(o);n.lineTo(l*t,-a*t),n.lineTo(a*i-l*r,l*i+a*r)}n.closePath()}},pz={draw:function(n,e){var t=Math.sqrt(e),i=-t/2;n.rect(i,i,t,t)}},xb=Math.sqrt(3),mz={draw:function(n,e){var t=-Math.sqrt(e/(xb*3));n.moveTo(0,t*2),n.lineTo(-xb*t,-t),n.lineTo(xb*t,-t),n.closePath()}},zs=-.5,ks=Math.sqrt(3)/2,yb=1/Math.sqrt(12),d5e=(yb/2+1)*3,gz={draw:function(n,e){var t=Math.sqrt(e/d5e),i=t/2,r=t*yb,s=i,o=t*yb+t,a=-s,l=o;n.moveTo(i,r),n.lineTo(s,o),n.lineTo(a,l),n.lineTo(zs*i-ks*r,ks*i+zs*r),n.lineTo(zs*s-ks*o,ks*s+zs*o),n.lineTo(zs*a-ks*l,ks*a+zs*l),n.lineTo(zs*i+ks*r,zs*r-ks*i),n.lineTo(zs*s+ks*o,zs*o-ks*s),n.lineTo(zs*a+ks*l,zs*l-ks*a),n.closePath()}},p5e=[vb,cz,fz,pz,dz,mz,gz];function m5e(n,e){var t=null;n=typeof n=="function"?n:Et(n||vb),e=typeof e=="function"?e:Et(e===void 0?64:+e);function i(){var r;if(t||(t=r=Ka()),n.apply(this,arguments).draw(t,+e.apply(this,arguments)),r)return t=null,r+""||null}return i.type=function(r){return arguments.length?(n=typeof r=="function"?r:Et(r),i):n},i.size=function(r){return arguments.length?(e=typeof r=="function"?r:Et(+r),i):e},i.context=function(r){return arguments.length?(t=r==null?null:r,i):t},i}function fl(){}function T5(n,e,t){n._context.bezierCurveTo((2*n._x0+n._x1)/3,(2*n._y0+n._y1)/3,(n._x0+2*n._x1)/3,(n._y0+2*n._y1)/3,(n._x0+4*n._x1+e)/6,(n._y0+4*n._y1+t)/6)}function E5(n){this._context=n}E5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:T5(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(n,e){switch(n=+n,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(n,e):this._context.moveTo(n,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:T5(this,n,e);break}this._x0=this._x1,this._x1=n,this._y0=this._y1,this._y1=e}};function g5e(n){return new E5(n)}function vz(n){this._context=n}vz.prototype={areaStart:fl,areaEnd:fl,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(n,e){switch(n=+n,e=+e,this._point){case 0:this._point=1,this._x2=n,this._y2=e;break;case 1:this._point=2,this._x3=n,this._y3=e;break;case 2:this._point=3,this._x4=n,this._y4=e,this._context.moveTo((this._x0+4*this._x1+n)/6,(this._y0+4*this._y1+e)/6);break;default:T5(this,n,e);break}this._x0=this._x1,this._x1=n,this._y0=this._y1,this._y1=e}};function v5e(n){return new vz(n)}function xz(n){this._context=n}xz.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(n,e){switch(n=+n,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var t=(this._x0+4*this._x1+n)/6,i=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(t,i):this._context.moveTo(t,i);break;case 3:this._point=4;default:T5(this,n,e);break}this._x0=this._x1,this._x1=n,this._y0=this._y1,this._y1=e}};function x5e(n){return new xz(n)}class yz{constructor(e,t){this._context=e,this._x=t}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,t){switch(e=+e,t=+t,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,t,e,t):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+t)/2,e,this._y0,e,t);break}}this._x0=e,this._y0=t}}function y5e(n){return new yz(n,!0)}function _5e(n){return new yz(n,!1)}function _z(n,e){this._basis=new E5(n),this._beta=e}_z.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var n=this._x,e=this._y,t=n.length-1;if(t>0)for(var i=n[0],r=e[0],s=n[t]-i,o=e[t]-r,a=-1,l;++a<=t;)l=a/t,this._basis.point(this._beta*n[a]+(1-this._beta)*(i+l*s),this._beta*e[a]+(1-this._beta)*(r+l*o));this._x=this._y=null,this._basis.lineEnd()},point:function(n,e){this._x.push(+n),this._y.push(+e)}};var b5e=function n(e){function t(i){return e===1?new E5(i):new _z(i,e)}return t.beta=function(i){return n(+i)},t}(.85);function L5(n,e,t){n._context.bezierCurveTo(n._x1+n._k*(n._x2-n._x0),n._y1+n._k*(n._y2-n._y0),n._x2+n._k*(n._x1-e),n._y2+n._k*(n._y1-t),n._x2,n._y2)}function _b(n,e){this._context=n,this._k=(1-e)/6}_b.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:L5(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(n,e){switch(n=+n,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(n,e):this._context.moveTo(n,e);break;case 1:this._point=2,this._x1=n,this._y1=e;break;case 2:this._point=3;default:L5(this,n,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=n,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var w5e=function n(e){function t(i){return new _b(i,e)}return t.tension=function(i){return n(+i)},t}(0);function bb(n,e){this._context=n,this._k=(1-e)/6}bb.prototype={areaStart:fl,areaEnd:fl,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(n,e){switch(n=+n,e=+e,this._point){case 0:this._point=1,this._x3=n,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=n,this._y4=e);break;case 2:this._point=3,this._x5=n,this._y5=e;break;default:L5(this,n,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=n,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var M5e=function n(e){function t(i){return new bb(i,e)}return t.tension=function(i){return n(+i)},t}(0);function wb(n,e){this._context=n,this._k=(1-e)/6}wb.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(n,e){switch(n=+n,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:L5(this,n,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=n,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var S5e=function n(e){function t(i){return new wb(i,e)}return t.tension=function(i){return n(+i)},t}(0);function Mb(n,e,t){var i=n._x1,r=n._y1,s=n._x2,o=n._y2;if(n._l01_a>Zi){var a=2*n._l01_2a+3*n._l01_a*n._l12_a+n._l12_2a,l=3*n._l01_a*(n._l01_a+n._l12_a);i=(i*a-n._x0*n._l12_2a+n._x2*n._l01_2a)/l,r=(r*a-n._y0*n._l12_2a+n._y2*n._l01_2a)/l}if(n._l23_a>Zi){var c=2*n._l23_2a+3*n._l23_a*n._l12_a+n._l12_2a,u=3*n._l23_a*(n._l23_a+n._l12_a);s=(s*c+n._x1*n._l23_2a-e*n._l12_2a)/u,o=(o*c+n._y1*n._l23_2a-t*n._l12_2a)/u}n._context.bezierCurveTo(i,r,s,o,n._x2,n._y2)}function bz(n,e){this._context=n,this._alpha=e}bz.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(n,e){if(n=+n,e=+e,this._point){var t=this._x2-n,i=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(t*t+i*i,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(n,e):this._context.moveTo(n,e);break;case 1:this._point=2;break;case 2:this._point=3;default:Mb(this,n,e);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=n,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var A5e=function n(e){function t(i){return e?new bz(i,e):new _b(i,0)}return t.alpha=function(i){return n(+i)},t}(.5);function wz(n,e){this._context=n,this._alpha=e}wz.prototype={areaStart:fl,areaEnd:fl,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(n,e){if(n=+n,e=+e,this._point){var t=this._x2-n,i=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(t*t+i*i,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=n,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=n,this._y4=e);break;case 2:this._point=3,this._x5=n,this._y5=e;break;default:Mb(this,n,e);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=n,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var T5e=function n(e){function t(i){return e?new wz(i,e):new bb(i,0)}return t.alpha=function(i){return n(+i)},t}(.5);function Mz(n,e){this._context=n,this._alpha=e}Mz.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(n,e){if(n=+n,e=+e,this._point){var t=this._x2-n,i=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(t*t+i*i,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Mb(this,n,e);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=n,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var E5e=function n(e){function t(i){return e?new Mz(i,e):new wb(i,0)}return t.alpha=function(i){return n(+i)},t}(.5);function Sz(n){this._context=n}Sz.prototype={areaStart:fl,areaEnd:fl,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(n,e){n=+n,e=+e,this._point?this._context.lineTo(n,e):(this._point=1,this._context.moveTo(n,e))}};function L5e(n){return new Sz(n)}function Az(n){return n<0?-1:1}function Tz(n,e,t){var i=n._x1-n._x0,r=e-n._x1,s=(n._y1-n._y0)/(i||r<0&&-0),o=(t-n._y1)/(r||i<0&&-0),a=(s*r+o*i)/(i+r);return(Az(s)+Az(o))*Math.min(Math.abs(s),Math.abs(o),.5*Math.abs(a))||0}function Ez(n,e){var t=n._x1-n._x0;return t?(3*(n._y1-n._y0)/t-e)/2:e}function Sb(n,e,t){var i=n._x0,r=n._y0,s=n._x1,o=n._y1,a=(s-i)/3;n._context.bezierCurveTo(i+a,r+a*e,s-a,o-a*t,s,o)}function C5(n){this._context=n}C5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Sb(this,this._t0,Ez(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(n,e){var t=NaN;if(n=+n,e=+e,!(n===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(n,e):this._context.moveTo(n,e);break;case 1:this._point=2;break;case 2:this._point=3,Sb(this,Ez(this,t=Tz(this,n,e)),t);break;default:Sb(this,this._t0,t=Tz(this,n,e));break}this._x0=this._x1,this._x1=n,this._y0=this._y1,this._y1=e,this._t0=t}}};function Lz(n){this._context=new Cz(n)}(Lz.prototype=Object.create(C5.prototype)).point=function(n,e){C5.prototype.point.call(this,e,n)};function Cz(n){this._context=n}Cz.prototype={moveTo:function(n,e){this._context.moveTo(e,n)},closePath:function(){this._context.closePath()},lineTo:function(n,e){this._context.lineTo(e,n)},bezierCurveTo:function(n,e,t,i,r,s){this._context.bezierCurveTo(e,n,i,t,s,r)}};function C5e(n){return new C5(n)}function P5e(n){return new Lz(n)}function Pz(n){this._context=n}Pz.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var n=this._x,e=this._y,t=n.length;if(t)if(this._line?this._context.lineTo(n[0],e[0]):this._context.moveTo(n[0],e[0]),t===2)this._context.lineTo(n[1],e[1]);else for(var i=Rz(n),r=Rz(e),s=0,o=1;o<t;++s,++o)this._context.bezierCurveTo(i[0][s],r[0][s],i[1][s],r[1][s],n[o],e[o]);(this._line||this._line!==0&&t===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(n,e){this._x.push(+n),this._y.push(+e)}};function Rz(n){var e,t=n.length-1,i,r=new Array(t),s=new Array(t),o=new Array(t);for(r[0]=0,s[0]=2,o[0]=n[0]+2*n[1],e=1;e<t-1;++e)r[e]=1,s[e]=4,o[e]=4*n[e]+2*n[e+1];for(r[t-1]=2,s[t-1]=7,o[t-1]=8*n[t-1]+n[t],e=1;e<t;++e)i=r[e]/s[e-1],s[e]-=i,o[e]-=i*o[e-1];for(r[t-1]=o[t-1]/s[t-1],e=t-2;e>=0;--e)r[e]=(o[e]-r[e+1])/s[e];for(s[t-1]=(n[t]+r[t-1])/2,e=0;e<t-1;++e)s[e]=2*n[e+1]-r[e+1];return[r,s]}function R5e(n){return new Pz(n)}function P5(n,e){this._context=n,this._t=e}P5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(n,e){switch(n=+n,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(n,e):this._context.moveTo(n,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(n,e);else{var t=this._x*(1-this._t)+n*this._t;this._context.lineTo(t,this._y),this._context.lineTo(t,e)}break}}this._x=n,this._y=e}};function F5e(n){return new P5(n,.5)}function I5e(n){return new P5(n,0)}function D5e(n){return new P5(n,1)}function Ih(n,e){if((o=n.length)>1)for(var t=1,i,r,s=n[e[0]],o,a=s.length;t<o;++t)for(r=s,s=n[e[t]],i=0;i<a;++i)s[i][1]+=s[i][0]=isNaN(r[i][1])?r[i][0]:r[i][1]}function Dh(n){for(var e=n.length,t=new Array(e);--e>=0;)t[e]=e;return t}function N5e(n,e){return n[e]}function O5e(n){const e=[];return e.key=n,e}function B5e(){var n=Et([]),e=Dh,t=Ih,i=N5e;function r(s){var o=Array.from(n.apply(this,arguments),O5e),a,l=o.length,c=-1,u;for(const f of s)for(a=0,++c;a<l;++a)(o[a][c]=[0,+i(f,o[a].key,c,s)]).data=f;for(a=0,u=S5(e(o));a<l;++a)o[u[a]].index=a;return t(o,u),o}return r.keys=function(s){return arguments.length?(n=typeof s=="function"?s:Et(Array.from(s)),r):n},r.value=function(s){return arguments.length?(i=typeof s=="function"?s:Et(+s),r):i},r.order=function(s){return arguments.length?(e=s==null?Dh:typeof s=="function"?s:Et(Array.from(s)),r):e},r.offset=function(s){return arguments.length?(t=s==null?Ih:s,r):t},r}function U5e(n,e){if((i=n.length)>0){for(var t,i,r=0,s=n[0].length,o;r<s;++r){for(o=t=0;t<i;++t)o+=n[t][r][1]||0;if(o)for(t=0;t<i;++t)n[t][r][1]/=o}Ih(n,e)}}function z5e(n,e){if((l=n.length)>0)for(var t,i=0,r,s,o,a,l,c=n[e[0]].length;i<c;++i)for(o=a=0,t=0;t<l;++t)(s=(r=n[e[t]][i])[1]-r[0])>0?(r[0]=o,r[1]=o+=s):s<0?(r[1]=a,r[0]=a+=s):(r[0]=0,r[1]=s)}function k5e(n,e){if((r=n.length)>0){for(var t=0,i=n[e[0]],r,s=i.length;t<s;++t){for(var o=0,a=0;o<r;++o)a+=n[o][t][1]||0;i[t][1]+=i[t][0]=-a/2}Ih(n,e)}}function H5e(n,e){if(!(!((o=n.length)>0)||!((s=(r=n[e[0]]).length)>0))){for(var t=0,i=1,r,s,o;i<s;++i){for(var a=0,l=0,c=0;a<o;++a){for(var u=n[e[a]],f=u[i][1]||0,h=u[i-1][1]||0,d=(f-h)/2,m=0;m<a;++m){var v=n[e[m]],_=v[i][1]||0,g=v[i-1][1]||0;d+=_-g}l+=f,c+=d*f}r[i-1][1]+=r[i-1][0]=t,l&&(t-=c/l)}r[i-1][1]+=r[i-1][0]=t,Ih(n,e)}}function Fz(n){var e=n.map(G5e);return Dh(n).sort(function(t,i){return e[t]-e[i]})}function G5e(n){for(var e=-1,t=0,i=n.length,r,s=-1/0;++e<i;)(r=+n[e][1])>s&&(s=r,t=e);return t}function Iz(n){var e=n.map(Dz);return Dh(n).sort(function(t,i){return e[t]-e[i]})}function Dz(n){for(var e=0,t=-1,i=n.length,r;++t<i;)(r=+n[t][1])&&(e+=r);return e}function V5e(n){return Iz(n).reverse()}function W5e(n){var e=n.length,t,i,r=n.map(Dz),s=Fz(n),o=0,a=0,l=[],c=[];for(t=0;t<e;++t)i=s[t],o<a?(o+=r[i],l.push(i)):(a+=r[i],c.push(i));return c.reverse().concat(l)}function X5e(n){return Dh(n).reverse()}var R5=n=>()=>n;function Y5e(n,{sourceEvent:e,target:t,transform:i,dispatch:r}){Object.defineProperties(this,{type:{value:n,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:t,enumerable:!0,configurable:!0},transform:{value:i,enumerable:!0,configurable:!0},_:{value:r}})}function jo(n,e,t){this.k=n,this.x=e,this.y=t}jo.prototype={constructor:jo,scale:function(n){return n===1?this:new jo(this.k*n,this.x,this.y)},translate:function(n,e){return n===0&e===0?this:new jo(this.k,this.x+this.k*n,this.y+this.k*e)},apply:function(n){return[n[0]*this.k+this.x,n[1]*this.k+this.y]},applyX:function(n){return n*this.k+this.x},applyY:function(n){return n*this.k+this.y},invert:function(n){return[(n[0]-this.x)/this.k,(n[1]-this.y)/this.k]},invertX:function(n){return(n-this.x)/this.k},invertY:function(n){return(n-this.y)/this.k},rescaleX:function(n){return n.copy().domain(n.range().map(this.invertX,this).map(n.invert,n))},rescaleY:function(n){return n.copy().domain(n.range().map(this.invertY,this).map(n.invert,n))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var F5=new jo(1,0,0);Nz.prototype=jo.prototype;function Nz(n){for(;!n.__zoom;)if(!(n=n.parentNode))return F5;return n.__zoom}function Ab(n){n.stopImmediatePropagation()}function a2(n){n.preventDefault(),n.stopImmediatePropagation()}function $5e(n){return(!n.ctrlKey||n.type==="wheel")&&!n.button}function q5e(){var n=this;return n instanceof SVGElement?(n=n.ownerSVGElement||n,n.hasAttribute("viewBox")?(n=n.viewBox.baseVal,[[n.x,n.y],[n.x+n.width,n.y+n.height]]):[[0,0],[n.width.baseVal.value,n.height.baseVal.value]]):[[0,0],[n.clientWidth,n.clientHeight]]}function Oz(){return this.__zoom||F5}function j5e(n){return-n.deltaY*(n.deltaMode===1?.05:n.deltaMode?1:.002)*(n.ctrlKey?10:1)}function Z5e(){return navigator.maxTouchPoints||"ontouchstart"in this}function Q5e(n,e,t){var i=n.invertX(e[0][0])-t[0][0],r=n.invertX(e[1][0])-t[1][0],s=n.invertY(e[0][1])-t[0][1],o=n.invertY(e[1][1])-t[1][1];return n.translate(r>i?(i+r)/2:Math.min(0,i)||Math.max(0,r),o>s?(s+o)/2:Math.min(0,s)||Math.max(0,o))}function J5e(){var n=$5e,e=q5e,t=Q5e,i=j5e,r=Z5e,s=[0,1/0],o=[[-1/0,-1/0],[1/0,1/0]],a=250,l=wD,c=Hc("start","zoom","end"),u,f,h,d=500,m=150,v=0,_=10;function g(P){P.property("__zoom",Oz).on("wheel.zoom",F).on("mousedown.zoom",U).on("dblclick.zoom",N).filter(r).on("touchstart.zoom",O).on("touchmove.zoom",G).on("touchend.zoom touchcancel.zoom",D).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}g.transform=function(P,I,C,B){var Y=P.selection?P.selection():P;Y.property("__zoom",Oz),P!==Y?S(P,I,C,B):Y.interrupt().each(function(){A(this,arguments).event(B).start().zoom(null,typeof I=="function"?I.apply(this,arguments):I).end()})},g.scaleBy=function(P,I,C,B){g.scaleTo(P,function(){var Y=this.__zoom.k,j=typeof I=="function"?I.apply(this,arguments):I;return Y*j},C,B)},g.scaleTo=function(P,I,C,B){g.transform(P,function(){var Y=e.apply(this,arguments),j=this.__zoom,re=C==null?w(Y):typeof C=="function"?C.apply(this,arguments):C,ie=j.invert(re),ve=typeof I=="function"?I.apply(this,arguments):I;return t(b(x(j,ve),re,ie),Y,o)},C,B)},g.translateBy=function(P,I,C,B){g.transform(P,function(){return t(this.__zoom.translate(typeof I=="function"?I.apply(this,arguments):I,typeof C=="function"?C.apply(this,arguments):C),e.apply(this,arguments),o)},null,B)},g.translateTo=function(P,I,C,B,Y){g.transform(P,function(){var j=e.apply(this,arguments),re=this.__zoom,ie=B==null?w(j):typeof B=="function"?B.apply(this,arguments):B;return t(F5.translate(ie[0],ie[1]).scale(re.k).translate(typeof I=="function"?-I.apply(this,arguments):-I,typeof C=="function"?-C.apply(this,arguments):-C),j,o)},B,Y)};function x(P,I){return I=Math.max(s[0],Math.min(s[1],I)),I===P.k?P:new jo(I,P.x,P.y)}function b(P,I,C){var B=I[0]-C[0]*P.k,Y=I[1]-C[1]*P.k;return B===P.x&&Y===P.y?P:new jo(P.k,B,Y)}function w(P){return[(+P[0][0]+ +P[1][0])/2,(+P[0][1]+ +P[1][1])/2]}function S(P,I,C,B){P.on("start.zoom",function(){A(this,arguments).event(B).start()}).on("interrupt.zoom end.zoom",function(){A(this,arguments).event(B).end()}).tween("zoom",function(){var Y=this,j=arguments,re=A(Y,j).event(B),ie=e.apply(Y,j),ve=C==null?w(ie):typeof C=="function"?C.apply(Y,j):C,de=Math.max(ie[1][0]-ie[0][0],ie[1][1]-ie[0][1]),ye=Y.__zoom,te=typeof I=="function"?I.apply(Y,j):I,$=l(ye.invert(ve).concat(de/ye.k),te.invert(ve).concat(de/te.k));return function(ge){if(ge===1)ge=te;else{var be=$(ge),ue=de/be[2];ge=new jo(ue,ve[0]-be[0]*ue,ve[1]-be[1]*ue)}re.zoom(null,ge)}})}function A(P,I,C){return!C&&P.__zooming||new T(P,I)}function T(P,I){this.that=P,this.args=I,this.active=0,this.sourceEvent=null,this.extent=e.apply(P,I),this.taps=0}T.prototype={event:function(P){return P&&(this.sourceEvent=P),this},start:function(){return++this.active==1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(P,I){return this.mouse&&P!=="mouse"&&(this.mouse[1]=I.invert(this.mouse[0])),this.touch0&&P!=="touch"&&(this.touch0[1]=I.invert(this.touch0[0])),this.touch1&&P!=="touch"&&(this.touch1[1]=I.invert(this.touch1[0])),this.that.__zoom=I,this.emit("zoom"),this},end:function(){return--this.active==0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(P){var I=Yi(this.that).datum();c.call(P,this.that,new Y5e(P,{sourceEvent:this.sourceEvent,target:g,type:P,transform:this.that.__zoom,dispatch:c}),I)}};function F(P,...I){if(!n.apply(this,arguments))return;var C=A(this,I).event(P),B=this.__zoom,Y=Math.max(s[0],Math.min(s[1],B.k*Math.pow(2,i.apply(this,arguments)))),j=ts(P);if(C.wheel)(C.mouse[0][0]!==j[0]||C.mouse[0][1]!==j[1])&&(C.mouse[1]=B.invert(C.mouse[0]=j)),clearTimeout(C.wheel);else{if(B.k===Y)return;C.mouse=[j,B.invert(j)],$c(this),C.start()}a2(P),C.wheel=setTimeout(re,m),C.zoom("mouse",t(b(x(B,Y),C.mouse[0],C.mouse[1]),C.extent,o));function re(){C.wheel=null,C.end()}}function U(P,...I){if(h||!n.apply(this,arguments))return;var C=A(this,I,!0).event(P),B=Yi(P.view).on("mousemove.zoom",ve,!0).on("mouseup.zoom",de,!0),Y=ts(P,j),j=P.currentTarget,re=P.clientX,ie=P.clientY;Y9(P.view),Ab(P),C.mouse=[Y,this.__zoom.invert(Y)],$c(this),C.start();function ve(ye){if(a2(ye),!C.moved){var te=ye.clientX-re,$=ye.clientY-ie;C.moved=te*te+$*$>v}C.event(ye).zoom("mouse",t(b(C.that.__zoom,C.mouse[0]=ts(ye,j),C.mouse[1]),C.extent,o))}function de(ye){B.on("mousemove.zoom mouseup.zoom",null),$9(ye.view,C.moved),a2(ye),C.event(ye).end()}}function N(P,...I){if(!!n.apply(this,arguments)){var C=this.__zoom,B=ts(P.changedTouches?P.changedTouches[0]:P,this),Y=C.invert(B),j=C.k*(P.shiftKey?.5:2),re=t(b(x(C,j),B,Y),e.apply(this,I),o);a2(P),a>0?Yi(this).transition().duration(a).call(S,re,B,P):Yi(this).call(g.transform,re,B,P)}}function O(P,...I){if(!!n.apply(this,arguments)){var C=P.touches,B=C.length,Y=A(this,I,P.changedTouches.length===B).event(P),j,re,ie,ve;for(Ab(P),re=0;re<B;++re)ie=C[re],ve=ts(ie,this),ve=[ve,this.__zoom.invert(ve),ie.identifier],Y.touch0?!Y.touch1&&Y.touch0[2]!==ve[2]&&(Y.touch1=ve,Y.taps=0):(Y.touch0=ve,j=!0,Y.taps=1+!!u);u&&(u=clearTimeout(u)),j&&(Y.taps<2&&(f=ve[0],u=setTimeout(function(){u=null},d)),$c(this),Y.start())}}function G(P,...I){if(!!this.__zooming){var C=A(this,I).event(P),B=P.changedTouches,Y=B.length,j,re,ie,ve;for(a2(P),j=0;j<Y;++j)re=B[j],ie=ts(re,this),C.touch0&&C.touch0[2]===re.identifier?C.touch0[0]=ie:C.touch1&&C.touch1[2]===re.identifier&&(C.touch1[0]=ie);if(re=C.that.__zoom,C.touch1){var de=C.touch0[0],ye=C.touch0[1],te=C.touch1[0],$=C.touch1[1],ge=(ge=te[0]-de[0])*ge+(ge=te[1]-de[1])*ge,be=(be=$[0]-ye[0])*be+(be=$[1]-ye[1])*be;re=x(re,Math.sqrt(ge/be)),ie=[(de[0]+te[0])/2,(de[1]+te[1])/2],ve=[(ye[0]+$[0])/2,(ye[1]+$[1])/2]}else if(C.touch0)ie=C.touch0[0],ve=C.touch0[1];else return;C.zoom("touch",t(b(re,ie,ve),C.extent,o))}}function D(P,...I){if(!!this.__zooming){var C=A(this,I).event(P),B=P.changedTouches,Y=B.length,j,re;for(Ab(P),h&&clearTimeout(h),h=setTimeout(function(){h=null},d),j=0;j<Y;++j)re=B[j],C.touch0&&C.touch0[2]===re.identifier?delete C.touch0:C.touch1&&C.touch1[2]===re.identifier&&delete C.touch1;if(C.touch1&&!C.touch0&&(C.touch0=C.touch1,delete C.touch1),C.touch0)C.touch0[1]=this.__zoom.invert(C.touch0[0]);else if(C.end(),C.taps===2&&(re=ts(re,this),Math.hypot(f[0]-re[0],f[1]-re[1])<_)){var ie=Yi(this).on("dblclick.zoom");ie&&ie.apply(this,arguments)}}}return g.wheelDelta=function(P){return arguments.length?(i=typeof P=="function"?P:R5(+P),g):i},g.filter=function(P){return arguments.length?(n=typeof P=="function"?P:R5(!!P),g):n},g.touchable=function(P){return arguments.length?(r=typeof P=="function"?P:R5(!!P),g):r},g.extent=function(P){return arguments.length?(e=typeof P=="function"?P:R5([[+P[0][0],+P[0][1]],[+P[1][0],+P[1][1]]]),g):e},g.scaleExtent=function(P){return arguments.length?(s[0]=+P[0],s[1]=+P[1],g):[s[0],s[1]]},g.translateExtent=function(P){return arguments.length?(o[0][0]=+P[0][0],o[1][0]=+P[1][0],o[0][1]=+P[0][1],o[1][1]=+P[1][1],g):[[o[0][0],o[0][1]],[o[1][0],o[1][1]]]},g.constrain=function(P){return arguments.length?(t=P,g):t},g.duration=function(P){return arguments.length?(a=+P,g):a},g.interpolate=function(P){return arguments.length?(l=P,g):l},g.on=function(){var P=c.on.apply(c,arguments);return P===c?g:P},g.clickDistance=function(P){return arguments.length?(v=(P=+P)*P,g):Math.sqrt(v)},g.tapDistance=function(P){return arguments.length?(_=+P,g):_},g}var Iwe=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",version:Zae,bisect:kc,bisectRight:aI,bisectLeft:Kae,bisectCenter:ele,ascending:oi,bisector:D9,count:N9,cross:sle,cumsum:ole,descending:ale,deviation:cI,extent:lp,Adder:ui,fsum:lle,fcumsum:cle,group:pI,groups:fle,index:dle,indexes:ple,rollup:mI,rollups:hle,groupSort:mle,bin:yI,histogram:yI,thresholdFreedmanDiaconis:xle,thresholdScott:yle,thresholdSturges:Sx,max:B9,maxIndex:bI,mean:_le,median:ble,merge:Tx,min:U9,minIndex:wI,nice:xI,pairs:Mle,permute:vI,quantile:hp,quantileSorted:_I,quickselect:Ax,range:V0,least:Ale,leastIndex:MI,greatest:Tle,greatestIndex:Ele,scan:Lle,shuffle:Cle,shuffler:SI,sum:Ple,ticks:cp,tickIncrement:up,tickStep:rh,transpose:AI,variance:lI,zip:Fle,every:Ile,some:Dle,filter:Nle,map:Ole,reduce:Ble,reverse:Ule,sort:_x,difference:zle,disjoint:kle,intersection:Gle,subset:Vle,superset:TI,union:Wle,InternMap:uI,InternSet:ule,axisTop:Qle,axisRight:Jle,axisBottom:Kle,axisLeft:ece,brush:xde,brushX:gde,brushY:vde,brushSelection:mde,chord:_de,chordTranspose:bde,chordDirected:wde,ribbon:Rde,ribbonArrow:Fde,color:Za,rgb:ch,hsl:Z9,lab:J9,hcl:K9,lch:Kue,gray:Jue,cubehelix:u0,contours:rN,contourDensity:Xde,Delaunay:Py,Voronoi:aN,dispatch:Hc,drag:Gue,dragDisable:Y9,dragEnable:$9,dsvFormat:_4,csvParse:fN,csvParseRows:l1e,csvFormat:c1e,csvFormatBody:u1e,csvFormatRows:f1e,csvFormatRow:h1e,csvFormatValue:d1e,tsvParse:hN,tsvParseRows:p1e,tsvFormat:m1e,tsvFormatBody:g1e,tsvFormatRows:v1e,tsvFormatRow:x1e,tsvFormatValue:y1e,autoType:_1e,easeLinear:Lhe,easeQuad:BD,easeQuadIn:Che,easeQuadOut:Phe,easeQuadInOut:BD,easeCubic:ay,easeCubicIn:Rhe,easeCubicOut:Fhe,easeCubicInOut:ay,easePoly:UD,easePolyIn:Ihe,easePolyOut:Dhe,easePolyInOut:UD,easeSin:HD,easeSinIn:Nhe,easeSinOut:Ohe,easeSinInOut:HD,easeExp:GD,easeExpIn:Bhe,easeExpOut:Uhe,easeExpInOut:GD,easeCircle:VD,easeCircleIn:zhe,easeCircleOut:khe,easeCircleInOut:VD,easeBounce:Ap,easeBounceIn:jhe,easeBounceOut:Ap,easeBounceInOut:Zhe,easeBack:WD,easeBackIn:Qhe,easeBackOut:Jhe,easeBackInOut:WD,easeElastic:XD,easeElasticIn:Khe,easeElasticOut:XD,easeElasticInOut:ede,blob:M1e,buffer:A1e,dsv:E1e,csv:L1e,tsv:C1e,image:P1e,json:F1e,text:b4,xml:I1e,html:D1e,svg:N1e,forceCenter:O1e,forceCollide:tpe,forceLink:ipe,forceManyBody:hpe,forceRadial:dpe,forceSimulation:fpe,forceX:ppe,forceY:mpe,formatDefaultLocale:AN,get format(){return T4},get formatPrefix(){return Oy},formatLocale:SN,formatSpecifier:Cp,FormatSpecifier:S4,precisionFixed:TN,precisionPrefix:EN,precisionRound:LN,geoArea:Ape,geoBounds:Cpe,geoCentroid:Npe,geoCircle:Ope,geoClipAntimeridian:e_,geoClipCircle:aO,geoClipExtent:Vpe,geoClipRectangle:$4,geoContains:Zpe,geoDistance:Z4,geoGraticule:vO,geoGraticule10:Qpe,geoInterpolate:Jpe,geoLength:lO,geoPath:u2e,geoAlbers:zO,geoAlbersUsa:_2e,geoAzimuthalEqualArea:b2e,geoAzimuthalEqualAreaRaw:b_,geoAzimuthalEquidistant:w2e,geoAzimuthalEquidistantRaw:w_,geoConicConformal:S2e,geoConicConformalRaw:GO,geoConicEqualArea:s5,geoConicEqualAreaRaw:UO,geoConicEquidistant:T2e,geoConicEquidistantRaw:VO,geoEqualEarth:L2e,geoEqualEarthRaw:M_,geoEquirectangular:A2e,geoEquirectangularRaw:Wp,geoGnomonic:C2e,geoGnomonicRaw:S_,geoIdentity:P2e,geoProjection:J0,geoProjectionMutator:y_,geoMercator:M2e,geoMercatorRaw:Vp,geoNaturalEarth1:R2e,geoNaturalEarth1Raw:A_,geoOrthographic:F2e,geoOrthographicRaw:T_,geoStereographic:I2e,geoStereographicRaw:E_,geoTransverseMercator:D2e,geoTransverseMercatorRaw:L_,geoRotation:KN,geoStream:h0,geoTransform:f2e,cluster:G2e,hierarchy:C_,pack:gme,packSiblings:dme,packEnclose:XO,partition:vme,stratify:bme,tree:Eme,treemap:Lme,treemapBinary:Cme,treemapDice:Zp,treemapSlice:h5,treemapSliceDice:Pme,treemapSquarify:rB,treemapResquarify:Rme,interpolate:Qa,interpolateArray:rfe,interpolateBasis:aD,interpolateBasisClosed:lD,interpolateDate:pD,interpolateDiscrete:afe,interpolateHue:lfe,interpolateNumber:Ns,interpolateNumberArray:jx,interpolateObject:mD,interpolateRound:i4,interpolateString:Jx,interpolateTransformCss:yD,interpolateTransformSvg:_D,interpolateZoom:wD,interpolateRgb:xp,interpolateRgbBasis:fD,interpolateRgbBasisClosed:ife,interpolateHsl:pfe,interpolateHslLong:mfe,interpolateLab:gfe,interpolateHcl:vfe,interpolateHclLong:xfe,interpolateCubehelix:yfe,interpolateCubehelixLong:s4,piecewise:TD,quantize:_fe,path:Ka,polygonArea:Fme,polygonCentroid:Ime,polygonHull:Ome,polygonContains:Bme,polygonLength:Ume,quadtree:w4,randomUniform:zme,randomInt:kme,randomNormal:D_,randomLogNormal:Hme,randomBates:Gme,randomIrwinHall:oB,randomExponential:Vme,randomPareto:Wme,randomBernoulli:Xme,randomGeometric:aB,randomBinomial:cB,randomGamma:N_,randomBeta:lB,randomWeibull:Yme,randomCauchy:$me,randomLogistic:qme,randomPoisson:jme,randomLcg:Jme,scaleBand:U_,scalePoint:Kme,scaleIdentity:mB,scaleLinear:pB,scaleLog:_B,scaleSymlog:MB,scaleOrdinal:B_,scaleImplicit:O_,scalePow:W_,scaleSqrt:f3e,scaleRadial:TB,scaleQuantile:EB,scaleQuantize:LB,scaleThreshold:CB,scaleTime:G9e,scaleUtc:V9e,scaleSequential:bU,scaleSequentialLog:wU,scaleSequentialPow:cb,scaleSequentialSqrt:W9e,scaleSequentialSymlog:MU,scaleSequentialQuantile:SU,scaleDiverging:AU,scaleDivergingLog:TU,scaleDivergingPow:ub,scaleDivergingSqrt:X9e,scaleDivergingSymlog:EU,tickFormat:dB,schemeCategory10:Y9e,schemeAccent:$9e,schemeDark2:q9e,schemePaired:j9e,schemePastel1:Z9e,schemePastel2:Q9e,schemeSet1:J9e,schemeSet2:K9e,schemeSet3:e4e,schemeTableau10:t4e,interpolateBrBG:n4e,schemeBrBG:LU,interpolatePRGn:i4e,schemePRGn:CU,interpolatePiYG:r4e,schemePiYG:PU,interpolatePuOr:s4e,schemePuOr:RU,interpolateRdBu:o4e,schemeRdBu:FU,interpolateRdGy:a4e,schemeRdGy:IU,interpolateRdYlBu:l4e,schemeRdYlBu:DU,interpolateRdYlGn:c4e,schemeRdYlGn:NU,interpolateSpectral:u4e,schemeSpectral:OU,interpolateBuGn:f4e,schemeBuGn:BU,interpolateBuPu:h4e,schemeBuPu:UU,interpolateGnBu:d4e,schemeGnBu:zU,interpolateOrRd:p4e,schemeOrRd:kU,interpolatePuBuGn:m4e,schemePuBuGn:HU,interpolatePuBu:g4e,schemePuBu:GU,interpolatePuRd:v4e,schemePuRd:VU,interpolateRdPu:x4e,schemeRdPu:WU,interpolateYlGnBu:y4e,schemeYlGnBu:XU,interpolateYlGn:_4e,schemeYlGn:YU,interpolateYlOrBr:b4e,schemeYlOrBr:$U,interpolateYlOrRd:w4e,schemeYlOrRd:qU,interpolateBlues:M4e,schemeBlues:jU,interpolateGreens:S4e,schemeGreens:ZU,interpolateGreys:A4e,schemeGreys:QU,interpolatePurples:T4e,schemePurples:JU,interpolateReds:E4e,schemeReds:KU,interpolateOranges:L4e,schemeOranges:ez,interpolateCividis:C4e,interpolateCubehelixDefault:P4e,interpolateRainbow:I4e,interpolateWarm:R4e,interpolateCool:F4e,interpolateSinebow:O4e,interpolateTurbo:B4e,interpolateViridis:U4e,interpolateMagma:z4e,interpolateInferno:k4e,interpolatePlasma:H4e,create:Due,creator:V9,local:OI,matcher:Ix,namespace:pp,namespaces:Px,pointer:ts,pointers:Oue,select:Yi,selectAll:Bue,selection:Vc,selector:W9,selectorAll:Fx,style:Gc,window:Dx,arc:Z4e,area:rz,line:pb,pie:e5e,areaRadial:lz,radialArea:lz,lineRadial:az,radialLine:az,pointRadial:o2,linkHorizontal:o5e,linkVertical:a5e,linkRadial:l5e,symbol:m5e,symbols:p5e,symbolCircle:vb,symbolCross:cz,symbolDiamond:fz,symbolSquare:pz,symbolStar:dz,symbolTriangle:mz,symbolWye:gz,curveBasisClosed:v5e,curveBasisOpen:x5e,curveBasis:g5e,curveBumpX:y5e,curveBumpY:_5e,curveBundle:b5e,curveCardinalClosed:M5e,curveCardinalOpen:S5e,curveCardinal:w5e,curveCatmullRomClosed:T5e,curveCatmullRomOpen:E5e,curveCatmullRom:A5e,curveLinearClosed:L5e,curveLinear:A5,curveMonotoneX:C5e,curveMonotoneY:P5e,curveNatural:R5e,curveStep:F5e,curveStepAfter:D5e,curveStepBefore:I5e,stack:B5e,stackOffsetExpand:U5e,stackOffsetDiverging:z5e,stackOffsetNone:Ih,stackOffsetSilhouette:k5e,stackOffsetWiggle:H5e,stackOrderAppearance:Fz,stackOrderAscending:Iz,stackOrderDescending:V5e,stackOrderInsideOut:W5e,stackOrderNone:Dh,stackOrderReverse:X5e,timeInterval:hi,timeMillisecond:$_,timeMilliseconds:PB,utcMillisecond:$_,utcMilliseconds:PB,timeSecond:sl,timeSeconds:IB,utcSecond:sl,utcSeconds:IB,timeMinute:Z_,timeMinutes:d3e,timeHour:Q_,timeHours:p3e,timeDay:Jp,timeDays:m3e,timeWeek:Ch,timeWeeks:HB,timeSunday:Ch,timeSundays:HB,timeMonday:Kp,timeMondays:g3e,timeTuesday:BB,timeTuesdays:v3e,timeWednesday:UB,timeWednesdays:x3e,timeThursday:ou,timeThursdays:y3e,timeFriday:zB,timeFridays:_3e,timeSaturday:kB,timeSaturdays:b3e,timeMonth:J_,timeMonths:w3e,timeYear:ol,timeYears:M3e,utcMinute:eb,utcMinutes:S3e,utcHour:tb,utcHours:A3e,utcDay:e2,utcDays:T3e,utcWeek:Ph,utcWeeks:ZB,utcSunday:Ph,utcSundays:ZB,utcMonday:t2,utcMondays:E3e,utcTuesday:YB,utcTuesdays:L3e,utcWednesday:$B,utcWednesdays:C3e,utcThursday:lu,utcThursdays:P3e,utcFriday:qB,utcFridays:R3e,utcSaturday:jB,utcSaturdays:F3e,utcMonth:nb,utcMonths:I3e,utcYear:al,utcYears:D3e,utcTicks:KB,utcTickInterval:eU,timeTicks:tU,timeTickInterval:nU,timeFormatDefaultLocale:yU,get timeFormat(){return ob},get timeParse(){return xU},get utcFormat(){return g5},get utcParse(){return ab},timeFormatLocale:iU,isoFormat:O9e,isoParse:z9e,now:Mp,timer:c4,timerFlush:CD,timeout:ty,interval:Sfe,transition:ND,active:sde,interrupt:$c,zoom:J5e,zoomTransform:Nz,zoomIdentity:F5});function Dwe(n,e=!1){const t=n[0].index!==null,i=new Set(Object.keys(n[0].attributes)),r=new Set(Object.keys(n[0].morphAttributes)),s={},o={},a=n[0].morphTargetsRelative,l=new ot;let c=0;for(let u=0;u<n.length;++u){const f=n[u];let h=0;if(t!==(f.index!==null))return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index "+u+". All geometries must have compatible attributes; make sure index attribute exists among all geometries, or in none of them."),null;for(const d in f.attributes){if(!i.has(d))return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index "+u+'. All geometries must have compatible attributes; make sure "'+d+'" attribute exists among all geometries, or in none of them.'),null;s[d]===void 0&&(s[d]=[]),s[d].push(f.attributes[d]),h++}if(h!==i.size)return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index "+u+". Make sure all geometries have the same number of attributes."),null;if(a!==f.morphTargetsRelative)return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index "+u+". .morphTargetsRelative must be consistent throughout all geometries."),null;for(const d in f.morphAttributes){if(!r.has(d))return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index "+u+".  .morphAttributes must be consistent throughout all geometries."),null;o[d]===void 0&&(o[d]=[]),o[d].push(f.morphAttributes[d])}if(l.userData.mergedUserData=l.userData.mergedUserData||[],l.userData.mergedUserData.push(f.userData),e){let d;if(t)d=f.index.count;else if(f.attributes.position!==void 0)d=f.attributes.position.count;else return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index "+u+". The geometry must have either an index or a position attribute"),null;l.addGroup(c,d,u),c+=d}}if(t){let u=0;const f=[];for(let h=0;h<n.length;++h){const d=n[h].index;for(let m=0;m<d.count;++m)f.push(d.getX(m)+u);u+=n[h].attributes.position.count}l.setIndex(f)}for(const u in s){const f=Bz(s[u]);if(!f)return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed while trying to merge the "+u+" attribute."),null;l.setAttribute(u,f)}for(const u in o){const f=o[u][0].length;if(f===0)break;l.morphAttributes=l.morphAttributes||{},l.morphAttributes[u]=[];for(let h=0;h<f;++h){const d=[];for(let v=0;v<o[u].length;++v)d.push(o[u][v][h]);const m=Bz(d);if(!m)return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed while trying to merge the "+u+" morphAttribute."),null;l.morphAttributes[u].push(m)}}return l}function Bz(n){let e,t,i,r=0;for(let a=0;a<n.length;++a){const l=n[a];if(l.isInterleavedBufferAttribute)return console.error("THREE.BufferGeometryUtils: .mergeBufferAttributes() failed. InterleavedBufferAttributes are not supported."),null;if(e===void 0&&(e=l.array.constructor),e!==l.array.constructor)return console.error("THREE.BufferGeometryUtils: .mergeBufferAttributes() failed. BufferAttribute.array must be of consistent array types across matching attributes."),null;if(t===void 0&&(t=l.itemSize),t!==l.itemSize)return console.error("THREE.BufferGeometryUtils: .mergeBufferAttributes() failed. BufferAttribute.itemSize must be consistent across matching attributes."),null;if(i===void 0&&(i=l.normalized),i!==l.normalized)return console.error("THREE.BufferGeometryUtils: .mergeBufferAttributes() failed. BufferAttribute.normalized must be consistent across matching attributes."),null;r+=l.array.length}const s=new e(r);let o=0;for(let a=0;a<n.length;++a)s.set(n[a].array,o),o+=n[a].array.length;return new Tt(s,t,i)}/**
 * @license
 * Copyright 2010-2021 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const Uz="129",K5e=0,zz=1,ege=2,kz=1,tge=2,l2=3,I5=0,Mi=1,D5=2,Hz=1,c2=0,u2=1,Gz=2,Vz=3,Wz=4,nge=5,Nh=100,ige=101,rge=102,Xz=103,Yz=104,sge=200,oge=201,age=202,lge=203,$z=204,qz=205,cge=206,uge=207,fge=208,hge=209,dge=210,pge=0,mge=1,gge=2,Tb=3,vge=4,xge=5,yge=6,_ge=7,N5=0,bge=1,wge=2,f2=0,Mge=1,Sge=2,Age=3,Tge=4,Ege=5,jz=300,Eb=301,Lb=302,Zz=303,Qz=304,Cb=306,Pb=307,Rb=1e3,rs=1001,Fb=1002,Qi=1003,Jz=1004,Kz=1005,Hs=1006,Lge=1007,O5=1008,Ib=1009,Cge=1010,Pge=1011,B5=1012,Rge=1013,U5=1014,uu=1015,z5=1016,Fge=1017,Ige=1018,Dge=1019,h2=1020,Nge=1021,fu=1022,eo=1023,Oge=1024,Bge=1025,Oh=1026,d2=1027,Uge=1028,zge=1029,kge=1030,Hge=1031,Gge=1032,Vge=1033,ek=33776,tk=33777,nk=33778,ik=33779,rk=35840,sk=35841,ok=35842,ak=35843,Wge=36196,lk=37492,ck=37496,Xge=37808,Yge=37809,$ge=37810,qge=37811,jge=37812,Zge=37813,Qge=37814,Jge=37815,Kge=37816,e8e=37817,t8e=37818,n8e=37819,i8e=37820,r8e=37821,s8e=36492,o8e=37840,a8e=37841,l8e=37842,c8e=37843,u8e=37844,f8e=37845,h8e=37846,d8e=37847,p8e=37848,m8e=37849,g8e=37850,v8e=37851,x8e=37852,y8e=37853,_8e=2200,b8e=2201,w8e=2202,k5=2300,H5=2301,Db=2302,Bh=2400,Uh=2401,G5=2402,Nb=2500,uk=2501,M8e=0,p2=3e3,fk=3001,S8e=3007,A8e=3002,T8e=3003,E8e=3004,L8e=3005,C8e=3006,P8e=3200,R8e=3201,zh=0,F8e=1,Ob=7680,I8e=519,m2=35044,V5=35048,hk="300 es";class hu{addEventListener(e,t){this._listeners===void 0&&(this._listeners={});const i=this._listeners;i[e]===void 0&&(i[e]=[]),i[e].indexOf(t)===-1&&i[e].push(t)}hasEventListener(e,t){if(this._listeners===void 0)return!1;const i=this._listeners;return i[e]!==void 0&&i[e].indexOf(t)!==-1}removeEventListener(e,t){if(this._listeners===void 0)return;const r=this._listeners[e];if(r!==void 0){const s=r.indexOf(t);s!==-1&&r.splice(s,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const i=this._listeners[e.type];if(i!==void 0){e.target=this;const r=i.slice(0);for(let s=0,o=r.length;s<o;s++)r[s].call(this,e);e.target=null}}}const Oi=[];for(let n=0;n<256;n++)Oi[n]=(n<16?"0":"")+n.toString(16);const Bb=Math.PI/180,Ub=180/Math.PI;function to(){const n=Math.random()*4294967295|0,e=Math.random()*4294967295|0,t=Math.random()*4294967295|0,i=Math.random()*4294967295|0;return(Oi[n&255]+Oi[n>>8&255]+Oi[n>>16&255]+Oi[n>>24&255]+"-"+Oi[e&255]+Oi[e>>8&255]+"-"+Oi[e>>16&15|64]+Oi[e>>24&255]+"-"+Oi[t&63|128]+Oi[t>>8&255]+"-"+Oi[t>>16&255]+Oi[t>>24&255]+Oi[i&255]+Oi[i>>8&255]+Oi[i>>16&255]+Oi[i>>24&255]).toUpperCase()}function ss(n,e,t){return Math.max(e,Math.min(t,n))}function D8e(n,e){return(n%e+e)%e}function zb(n,e,t){return(1-t)*n+t*e}function dk(n){return(n&n-1)==0&&n!==0}function N8e(n){return Math.pow(2,Math.floor(Math.log(n)/Math.LN2))}class qe{constructor(e=0,t=0){this.x=e,this.y=t}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e,t){return t!==void 0?(console.warn("THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this)}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e,t){return t!==void 0?(console.warn("THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this)}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const t=this.x,i=this.y,r=e.elements;return this.x=r[0]*t+r[3]*i+r[6],this.y=r[1]*t+r[4]*i+r[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this}clampLength(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(e,Math.min(t,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,i=this.y-e.y;return t*t+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e}fromBufferAttribute(e,t,i){return i!==void 0&&console.warn("THREE.Vector2: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this}rotateAround(e,t){const i=Math.cos(t),r=Math.sin(t),s=this.x-e.x,o=this.y-e.y;return this.x=s*i-o*r+e.x,this.y=s*r+o*i+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}}qe.prototype.isVector2=!0;class Bi{constructor(){this.elements=[1,0,0,0,1,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.")}set(e,t,i,r,s,o,a,l,c){const u=this.elements;return u[0]=e,u[1]=r,u[2]=a,u[3]=t,u[4]=s,u[5]=l,u[6]=i,u[7]=o,u[8]=c,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const t=this.elements,i=e.elements;return t[0]=i[0],t[1]=i[1],t[2]=i[2],t[3]=i[3],t[4]=i[4],t[5]=i[5],t[6]=i[6],t[7]=i[7],t[8]=i[8],this}extractBasis(e,t,i){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),i.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const i=e.elements,r=t.elements,s=this.elements,o=i[0],a=i[3],l=i[6],c=i[1],u=i[4],f=i[7],h=i[2],d=i[5],m=i[8],v=r[0],_=r[3],g=r[6],x=r[1],b=r[4],w=r[7],S=r[2],A=r[5],T=r[8];return s[0]=o*v+a*x+l*S,s[3]=o*_+a*b+l*A,s[6]=o*g+a*w+l*T,s[1]=c*v+u*x+f*S,s[4]=c*_+u*b+f*A,s[7]=c*g+u*w+f*T,s[2]=h*v+d*x+m*S,s[5]=h*_+d*b+m*A,s[8]=h*g+d*w+m*T,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){const e=this.elements,t=e[0],i=e[1],r=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],u=e[8];return t*o*u-t*a*c-i*s*u+i*a*l+r*s*c-r*o*l}invert(){const e=this.elements,t=e[0],i=e[1],r=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],u=e[8],f=u*o-a*c,h=a*l-u*s,d=c*s-o*l,m=t*f+i*h+r*d;if(m===0)return this.set(0,0,0,0,0,0,0,0,0);const v=1/m;return e[0]=f*v,e[1]=(r*c-u*i)*v,e[2]=(a*i-r*o)*v,e[3]=h*v,e[4]=(u*t-r*l)*v,e[5]=(r*s-a*t)*v,e[6]=d*v,e[7]=(i*l-c*t)*v,e[8]=(o*t-i*s)*v,this}transpose(){let e;const t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,i,r,s,o,a){const l=Math.cos(s),c=Math.sin(s);return this.set(i*l,i*c,-i*(l*o+c*a)+o+e,-r*c,r*l,-r*(-c*o+l*a)+a+t,0,0,1),this}scale(e,t){const i=this.elements;return i[0]*=e,i[3]*=e,i[6]*=e,i[1]*=t,i[4]*=t,i[7]*=t,this}rotate(e){const t=Math.cos(e),i=Math.sin(e),r=this.elements,s=r[0],o=r[3],a=r[6],l=r[1],c=r[4],u=r[7];return r[0]=t*s+i*l,r[3]=t*o+i*c,r[6]=t*a+i*u,r[1]=-i*s+t*l,r[4]=-i*o+t*c,r[7]=-i*a+t*u,this}translate(e,t){const i=this.elements;return i[0]+=e*i[2],i[3]+=e*i[5],i[6]+=e*i[8],i[1]+=t*i[2],i[4]+=t*i[5],i[7]+=t*i[8],this}equals(e){const t=this.elements,i=e.elements;for(let r=0;r<9;r++)if(t[r]!==i[r])return!1;return!0}fromArray(e,t=0){for(let i=0;i<9;i++)this.elements[i]=e[i+t];return this}toArray(e=[],t=0){const i=this.elements;return e[t]=i[0],e[t+1]=i[1],e[t+2]=i[2],e[t+3]=i[3],e[t+4]=i[4],e[t+5]=i[5],e[t+6]=i[6],e[t+7]=i[7],e[t+8]=i[8],e}clone(){return new this.constructor().fromArray(this.elements)}}Bi.prototype.isMatrix3=!0;let kh;class Hh{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement=="undefined")return e.src;let t;if(e instanceof HTMLCanvasElement)t=e;else{kh===void 0&&(kh=document.createElementNS("http://www.w3.org/1999/xhtml","canvas")),kh.width=e.width,kh.height=e.height;const i=kh.getContext("2d");e instanceof ImageData?i.putImageData(e,0,0):i.drawImage(e,0,0,e.width,e.height),t=kh}return t.width>2048||t.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),t.toDataURL("image/jpeg",.6)):t.toDataURL("image/png")}}let O8e=0;class Ui extends hu{constructor(e=Ui.DEFAULT_IMAGE,t=Ui.DEFAULT_MAPPING,i=rs,r=rs,s=Hs,o=O5,a=eo,l=Ib,c=1,u=p2){super();Object.defineProperty(this,"id",{value:O8e++}),this.uuid=to(),this.name="",this.image=e,this.mipmaps=[],this.mapping=t,this.wrapS=i,this.wrapT=r,this.magFilter=s,this.minFilter=o,this.anisotropy=c,this.format=a,this.internalFormat=null,this.type=l,this.offset=new qe(0,0),this.repeat=new qe(1,1),this.center=new qe(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Bi,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=u,this.version=0,this.onUpdate=null}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.image=e.image,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.encoding=e.encoding,this}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const i={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};if(this.image!==void 0){const r=this.image;if(r.uuid===void 0&&(r.uuid=to()),!t&&e.images[r.uuid]===void 0){let s;if(Array.isArray(r)){s=[];for(let o=0,a=r.length;o<a;o++)r[o].isDataTexture?s.push(kb(r[o].image)):s.push(kb(r[o]))}else s=kb(r);e.images[r.uuid]={uuid:r.uuid,url:s}}i.image=r.uuid}return t||(e.textures[this.uuid]=i),i}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==jz)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case Rb:e.x=e.x-Math.floor(e.x);break;case rs:e.x=e.x<0?0:1;break;case Fb:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case Rb:e.y=e.y-Math.floor(e.y);break;case rs:e.y=e.y<0?0:1;break;case Fb:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&this.version++}}Ui.DEFAULT_IMAGE=void 0;Ui.DEFAULT_MAPPING=jz;Ui.prototype.isTexture=!0;function kb(n){return typeof HTMLImageElement!="undefined"&&n instanceof HTMLImageElement||typeof HTMLCanvasElement!="undefined"&&n instanceof HTMLCanvasElement||typeof ImageBitmap!="undefined"&&n instanceof ImageBitmap?Hh.getDataURL(n):n.data?{data:Array.prototype.slice.call(n.data),width:n.width,height:n.height,type:n.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}class un{constructor(e=0,t=0,i=0,r=1){this.x=e,this.y=t,this.z=i,this.w=r}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,t,i,r){return this.x=e,this.y=t,this.z=i,this.w=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e,t){return t!==void 0?(console.warn("THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this)}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}sub(e,t){return t!==void 0?(console.warn("THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this)}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const t=this.x,i=this.y,r=this.z,s=this.w,o=e.elements;return this.x=o[0]*t+o[4]*i+o[8]*r+o[12]*s,this.y=o[1]*t+o[5]*i+o[9]*r+o[13]*s,this.z=o[2]*t+o[6]*i+o[10]*r+o[14]*s,this.w=o[3]*t+o[7]*i+o[11]*r+o[15]*s,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}setAxisAngleFromRotationMatrix(e){let t,i,r,s;const o=.01,a=.1,l=e.elements,c=l[0],u=l[4],f=l[8],h=l[1],d=l[5],m=l[9],v=l[2],_=l[6],g=l[10];if(Math.abs(u-h)<o&&Math.abs(f-v)<o&&Math.abs(m-_)<o){if(Math.abs(u+h)<a&&Math.abs(f+v)<a&&Math.abs(m+_)<a&&Math.abs(c+d+g-3)<a)return this.set(1,0,0,0),this;t=Math.PI;const b=(c+1)/2,w=(d+1)/2,S=(g+1)/2,A=(u+h)/4,T=(f+v)/4,F=(m+_)/4;return b>w&&b>S?b<o?(i=0,r=.707106781,s=.707106781):(i=Math.sqrt(b),r=A/i,s=T/i):w>S?w<o?(i=.707106781,r=0,s=.707106781):(r=Math.sqrt(w),i=A/r,s=F/r):S<o?(i=.707106781,r=.707106781,s=0):(s=Math.sqrt(S),i=T/s,r=F/s),this.set(i,r,s,t),this}let x=Math.sqrt((_-m)*(_-m)+(f-v)*(f-v)+(h-u)*(h-u));return Math.abs(x)<.001&&(x=1),this.x=(_-m)/x,this.y=(f-v)/x,this.z=(h-u)/x,this.w=Math.acos((c+d+g-1)/2),this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this.w=Math.max(e.w,Math.min(t.w,this.w)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this.w=Math.max(e,Math.min(t,this.w)),this}clampLength(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(e,Math.min(t,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this.z=e.z+(t.z-e.z)*i,this.w=e.w+(t.w-e.w)*i,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}fromBufferAttribute(e,t,i){return i!==void 0&&console.warn("THREE.Vector4: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}}un.prototype.isVector4=!0;class Zo extends hu{constructor(e,t,i){super();this.width=e,this.height=t,this.depth=1,this.scissor=new un(0,0,e,t),this.scissorTest=!1,this.viewport=new un(0,0,e,t),i=i||{},this.texture=new Ui(void 0,i.mapping,i.wrapS,i.wrapT,i.magFilter,i.minFilter,i.format,i.type,i.anisotropy,i.encoding),this.texture.image={},this.texture.image.width=e,this.texture.image.height=t,this.texture.image.depth=1,this.texture.generateMipmaps=i.generateMipmaps!==void 0?i.generateMipmaps:!1,this.texture.minFilter=i.minFilter!==void 0?i.minFilter:Hs,this.depthBuffer=i.depthBuffer!==void 0?i.depthBuffer:!0,this.stencilBuffer=i.stencilBuffer!==void 0?i.stencilBuffer:!1,this.depthTexture=i.depthTexture!==void 0?i.depthTexture:null}setTexture(e){e.image={width:this.width,height:this.height,depth:this.depth},this.texture=e}setSize(e,t,i=1){(this.width!==e||this.height!==t||this.depth!==i)&&(this.width=e,this.height=t,this.depth=i,this.texture.image.width=e,this.texture.image.height=t,this.texture.image.depth=i,this.dispose()),this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}clone(){return new this.constructor().copy(this)}copy(e){return this.width=e.width,this.height=e.height,this.depth=e.depth,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.texture.image=ys({},this.texture.image),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.depthTexture=e.depthTexture,this}dispose(){this.dispatchEvent({type:"dispose"})}}Zo.prototype.isWebGLRenderTarget=!0;class B8e extends Zo{constructor(e,t,i){super(e,t);const r=this.texture;this.texture=[];for(let s=0;s<i;s++)this.texture[s]=r.clone()}setSize(e,t,i=1){if(this.width!==e||this.height!==t||this.depth!==i){this.width=e,this.height=t,this.depth=i;for(let r=0,s=this.texture.length;r<s;r++)this.texture[r].image.width=e,this.texture[r].image.height=t,this.texture[r].image.depth=i;this.dispose()}return this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t),this}copy(e){this.dispose(),this.width=e.width,this.height=e.height,this.depth=e.depth,this.viewport.set(0,0,this.width,this.height),this.scissor.set(0,0,this.width,this.height),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.depthTexture=e.depthTexture,this.texture.length=0;for(let t=0,i=e.texture.length;t<i;t++)this.texture[t]=e.texture[t].clone();return this}}B8e.prototype.isWebGLMultipleRenderTargets=!0;class U8e extends Zo{constructor(e,t,i){super(e,t,i);this.samples=4}copy(e){return super.copy.call(this,e),this.samples=e.samples,this}}U8e.prototype.isWebGLMultisampleRenderTarget=!0;class Er{constructor(e=0,t=0,i=0,r=1){this._x=e,this._y=t,this._z=i,this._w=r}static slerp(e,t,i,r){return console.warn("THREE.Quaternion: Static .slerp() has been deprecated. Use qm.slerpQuaternions( qa, qb, t ) instead."),i.slerpQuaternions(e,t,r)}static slerpFlat(e,t,i,r,s,o,a){let l=i[r+0],c=i[r+1],u=i[r+2],f=i[r+3];const h=s[o+0],d=s[o+1],m=s[o+2],v=s[o+3];if(a===0){e[t+0]=l,e[t+1]=c,e[t+2]=u,e[t+3]=f;return}if(a===1){e[t+0]=h,e[t+1]=d,e[t+2]=m,e[t+3]=v;return}if(f!==v||l!==h||c!==d||u!==m){let _=1-a;const g=l*h+c*d+u*m+f*v,x=g>=0?1:-1,b=1-g*g;if(b>Number.EPSILON){const S=Math.sqrt(b),A=Math.atan2(S,g*x);_=Math.sin(_*A)/S,a=Math.sin(a*A)/S}const w=a*x;if(l=l*_+h*w,c=c*_+d*w,u=u*_+m*w,f=f*_+v*w,_===1-a){const S=1/Math.sqrt(l*l+c*c+u*u+f*f);l*=S,c*=S,u*=S,f*=S}}e[t]=l,e[t+1]=c,e[t+2]=u,e[t+3]=f}static multiplyQuaternionsFlat(e,t,i,r,s,o){const a=i[r],l=i[r+1],c=i[r+2],u=i[r+3],f=s[o],h=s[o+1],d=s[o+2],m=s[o+3];return e[t]=a*m+u*f+l*d-c*h,e[t+1]=l*m+u*h+c*f-a*d,e[t+2]=c*m+u*d+a*h-l*f,e[t+3]=u*m-a*f-l*h-c*d,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,i,r){return this._x=e,this._y=t,this._z=i,this._w=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,t){if(!(e&&e.isEuler))throw new Error("THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");const i=e._x,r=e._y,s=e._z,o=e._order,a=Math.cos,l=Math.sin,c=a(i/2),u=a(r/2),f=a(s/2),h=l(i/2),d=l(r/2),m=l(s/2);switch(o){case"XYZ":this._x=h*u*f+c*d*m,this._y=c*d*f-h*u*m,this._z=c*u*m+h*d*f,this._w=c*u*f-h*d*m;break;case"YXZ":this._x=h*u*f+c*d*m,this._y=c*d*f-h*u*m,this._z=c*u*m-h*d*f,this._w=c*u*f+h*d*m;break;case"ZXY":this._x=h*u*f-c*d*m,this._y=c*d*f+h*u*m,this._z=c*u*m+h*d*f,this._w=c*u*f-h*d*m;break;case"ZYX":this._x=h*u*f-c*d*m,this._y=c*d*f+h*u*m,this._z=c*u*m-h*d*f,this._w=c*u*f+h*d*m;break;case"YZX":this._x=h*u*f+c*d*m,this._y=c*d*f+h*u*m,this._z=c*u*m-h*d*f,this._w=c*u*f-h*d*m;break;case"XZY":this._x=h*u*f-c*d*m,this._y=c*d*f-h*u*m,this._z=c*u*m+h*d*f,this._w=c*u*f+h*d*m;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+o)}return t!==!1&&this._onChangeCallback(),this}setFromAxisAngle(e,t){const i=t/2,r=Math.sin(i);return this._x=e.x*r,this._y=e.y*r,this._z=e.z*r,this._w=Math.cos(i),this._onChangeCallback(),this}setFromRotationMatrix(e){const t=e.elements,i=t[0],r=t[4],s=t[8],o=t[1],a=t[5],l=t[9],c=t[2],u=t[6],f=t[10],h=i+a+f;if(h>0){const d=.5/Math.sqrt(h+1);this._w=.25/d,this._x=(u-l)*d,this._y=(s-c)*d,this._z=(o-r)*d}else if(i>a&&i>f){const d=2*Math.sqrt(1+i-a-f);this._w=(u-l)/d,this._x=.25*d,this._y=(r+o)/d,this._z=(s+c)/d}else if(a>f){const d=2*Math.sqrt(1+a-i-f);this._w=(s-c)/d,this._x=(r+o)/d,this._y=.25*d,this._z=(l+u)/d}else{const d=2*Math.sqrt(1+f-i-a);this._w=(o-r)/d,this._x=(s+c)/d,this._y=(l+u)/d,this._z=.25*d}return this._onChangeCallback(),this}setFromUnitVectors(e,t){let i=e.dot(t)+1;return i<Number.EPSILON?(i=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=i):(this._x=0,this._y=-e.z,this._z=e.y,this._w=i)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=i),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(ss(this.dot(e),-1,1)))}rotateTowards(e,t){const i=this.angleTo(e);if(i===0)return this;const r=Math.min(1,t/i);return this.slerp(e,r),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e,t){return t!==void 0?(console.warn("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),this.multiplyQuaternions(e,t)):this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){const i=e._x,r=e._y,s=e._z,o=e._w,a=t._x,l=t._y,c=t._z,u=t._w;return this._x=i*u+o*a+r*c-s*l,this._y=r*u+o*l+s*a-i*c,this._z=s*u+o*c+i*l-r*a,this._w=o*u-i*a-r*l-s*c,this._onChangeCallback(),this}slerp(e,t){if(t===0)return this;if(t===1)return this.copy(e);const i=this._x,r=this._y,s=this._z,o=this._w;let a=o*e._w+i*e._x+r*e._y+s*e._z;if(a<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,a=-a):this.copy(e),a>=1)return this._w=o,this._x=i,this._y=r,this._z=s,this;const l=1-a*a;if(l<=Number.EPSILON){const d=1-t;return this._w=d*o+t*this._w,this._x=d*i+t*this._x,this._y=d*r+t*this._y,this._z=d*s+t*this._z,this.normalize(),this._onChangeCallback(),this}const c=Math.sqrt(l),u=Math.atan2(c,a),f=Math.sin((1-t)*u)/c,h=Math.sin(t*u)/c;return this._w=o*f+this._w*h,this._x=i*f+this._x*h,this._y=r*f+this._y*h,this._z=s*f+this._z*h,this._onChangeCallback(),this}slerpQuaternions(e,t,i){this.copy(e).slerp(t,i)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,t=0){return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}}Er.prototype.isQuaternion=!0;class me{constructor(e=0,t=0,i=0){this.x=e,this.y=t,this.z=i}set(e,t,i){return i===void 0&&(i=this.z),this.x=e,this.y=t,this.z=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e,t){return t!==void 0?(console.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this)}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e,t){return t!==void 0?(console.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this)}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e,t){return t!==void 0?(console.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.multiplyVectors(e,t)):(this.x*=e.x,this.y*=e.y,this.z*=e.z,this)}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return e&&e.isEuler||console.error("THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order."),this.applyQuaternion(pk.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion(pk.setFromAxisAngle(e,t))}applyMatrix3(e){const t=this.x,i=this.y,r=this.z,s=e.elements;return this.x=s[0]*t+s[3]*i+s[6]*r,this.y=s[1]*t+s[4]*i+s[7]*r,this.z=s[2]*t+s[5]*i+s[8]*r,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const t=this.x,i=this.y,r=this.z,s=e.elements,o=1/(s[3]*t+s[7]*i+s[11]*r+s[15]);return this.x=(s[0]*t+s[4]*i+s[8]*r+s[12])*o,this.y=(s[1]*t+s[5]*i+s[9]*r+s[13])*o,this.z=(s[2]*t+s[6]*i+s[10]*r+s[14])*o,this}applyQuaternion(e){const t=this.x,i=this.y,r=this.z,s=e.x,o=e.y,a=e.z,l=e.w,c=l*t+o*r-a*i,u=l*i+a*t-s*r,f=l*r+s*i-o*t,h=-s*t-o*i-a*r;return this.x=c*l+h*-s+u*-a-f*-o,this.y=u*l+h*-o+f*-s-c*-a,this.z=f*l+h*-a+c*-o-u*-s,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const t=this.x,i=this.y,r=this.z,s=e.elements;return this.x=s[0]*t+s[4]*i+s[8]*r,this.y=s[1]*t+s[5]*i+s[9]*r,this.z=s[2]*t+s[6]*i+s[10]*r,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this}clampLength(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(e,Math.min(t,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this.z=e.z+(t.z-e.z)*i,this}cross(e,t){return t!==void 0?(console.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),this.crossVectors(e,t)):this.crossVectors(this,e)}crossVectors(e,t){const i=e.x,r=e.y,s=e.z,o=t.x,a=t.y,l=t.z;return this.x=r*l-s*a,this.y=s*o-i*l,this.z=i*a-r*o,this}projectOnVector(e){const t=e.lengthSq();if(t===0)return this.set(0,0,0);const i=e.dot(this)/t;return this.copy(e).multiplyScalar(i)}projectOnPlane(e){return Hb.copy(this).projectOnVector(e),this.sub(Hb)}reflect(e){return this.sub(Hb.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const i=this.dot(e)/t;return Math.acos(ss(i,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,i=this.y-e.y,r=this.z-e.z;return t*t+i*i+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,i){const r=Math.sin(t)*e;return this.x=r*Math.sin(i),this.y=Math.cos(t)*e,this.z=r*Math.cos(i),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,i){return this.x=e*Math.sin(t),this.y=i,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(e){const t=this.setFromMatrixColumn(e,0).length(),i=this.setFromMatrixColumn(e,1).length(),r=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=i,this.z=r,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,t*4)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,t*3)}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t,i){return i!==void 0&&console.warn("THREE.Vector3: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}}me.prototype.isVector3=!0;const Hb=new me,pk=new Er;class Gs{constructor(e=new me(1/0,1/0,1/0),t=new me(-1/0,-1/0,-1/0)){this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromArray(e){let t=1/0,i=1/0,r=1/0,s=-1/0,o=-1/0,a=-1/0;for(let l=0,c=e.length;l<c;l+=3){const u=e[l],f=e[l+1],h=e[l+2];u<t&&(t=u),f<i&&(i=f),h<r&&(r=h),u>s&&(s=u),f>o&&(o=f),h>a&&(a=h)}return this.min.set(t,i,r),this.max.set(s,o,a),this}setFromBufferAttribute(e){let t=1/0,i=1/0,r=1/0,s=-1/0,o=-1/0,a=-1/0;for(let l=0,c=e.count;l<c;l++){const u=e.getX(l),f=e.getY(l),h=e.getZ(l);u<t&&(t=u),f<i&&(i=f),h<r&&(r=h),u>s&&(s=u),f>o&&(o=f),h>a&&(a=h)}return this.min.set(t,i,r),this.max.set(s,o,a),this}setFromPoints(e){this.makeEmpty();for(let t=0,i=e.length;t<i;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const i=g2.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(i),this.max.copy(e).add(i),this}setFromObject(e){return this.makeEmpty(),this.expandByObject(e)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return e===void 0&&(console.warn("THREE.Box3: .getCenter() target is now required"),e=new me),this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return e===void 0&&(console.warn("THREE.Box3: .getSize() target is now required"),e=new me),this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e){e.updateWorldMatrix(!1,!1);const t=e.geometry;t!==void 0&&(t.boundingBox===null&&t.computeBoundingBox(),Gb.copy(t.boundingBox),Gb.applyMatrix4(e.matrixWorld),this.union(Gb));const i=e.children;for(let r=0,s=i.length;r<s;r++)this.expandByObject(i[r]);return this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,t){return t===void 0&&(console.warn("THREE.Box3: .getParameter() target is now required"),t=new me),t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}intersectsSphere(e){return this.clampPoint(e.center,g2),g2.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let t,i;return e.normal.x>0?(t=e.normal.x*this.min.x,i=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,i=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,i+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,i+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,i+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,i+=e.normal.z*this.min.z),t<=-e.constant&&i>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(v2),W5.subVectors(this.max,v2),Gh.subVectors(e.a,v2),Vh.subVectors(e.b,v2),Wh.subVectors(e.c,v2),hl.subVectors(Vh,Gh),dl.subVectors(Wh,Vh),du.subVectors(Gh,Wh);let t=[0,-hl.z,hl.y,0,-dl.z,dl.y,0,-du.z,du.y,hl.z,0,-hl.x,dl.z,0,-dl.x,du.z,0,-du.x,-hl.y,hl.x,0,-dl.y,dl.x,0,-du.y,du.x,0];return!Vb(t,Gh,Vh,Wh,W5)||(t=[1,0,0,0,1,0,0,0,1],!Vb(t,Gh,Vh,Wh,W5))?!1:(X5.crossVectors(hl,dl),t=[X5.x,X5.y,X5.z],Vb(t,Gh,Vh,Wh,W5))}clampPoint(e,t){return t===void 0&&(console.warn("THREE.Box3: .clampPoint() target is now required"),t=new me),t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return g2.copy(e).clamp(this.min,this.max).sub(e).length()}getBoundingSphere(e){return e===void 0&&console.error("THREE.Box3: .getBoundingSphere() target is now required"),this.getCenter(e.center),e.radius=this.getSize(g2).length()*.5,e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(Qo[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),Qo[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),Qo[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),Qo[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),Qo[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),Qo[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),Qo[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),Qo[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(Qo),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}Gs.prototype.isBox3=!0;const Qo=[new me,new me,new me,new me,new me,new me,new me,new me],g2=new me,Gb=new Gs,Gh=new me,Vh=new me,Wh=new me,hl=new me,dl=new me,du=new me,v2=new me,W5=new me,X5=new me,pu=new me;function Vb(n,e,t,i,r){for(let s=0,o=n.length-3;s<=o;s+=3){pu.fromArray(n,s);const a=r.x*Math.abs(pu.x)+r.y*Math.abs(pu.y)+r.z*Math.abs(pu.z),l=e.dot(pu),c=t.dot(pu),u=i.dot(pu);if(Math.max(-Math.max(l,c,u),Math.min(l,c,u))>a)return!1}return!0}const z8e=new Gs,mk=new me,Wb=new me,Xb=new me;class mu{constructor(e=new me,t=-1){this.center=e,this.radius=t}set(e,t){return this.center.copy(e),this.radius=t,this}setFromPoints(e,t){const i=this.center;t!==void 0?i.copy(t):z8e.setFromPoints(e).getCenter(i);let r=0;for(let s=0,o=e.length;s<o;s++)r=Math.max(r,i.distanceToSquared(e[s]));return this.radius=Math.sqrt(r),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,t){const i=this.center.distanceToSquared(e);return t===void 0&&(console.warn("THREE.Sphere: .clampPoint() target is now required"),t=new me),t.copy(e),i>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}getBoundingBox(e){return e===void 0&&(console.warn("THREE.Sphere: .getBoundingBox() target is now required"),e=new Gs),this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){Xb.subVectors(e,this.center);const t=Xb.lengthSq();if(t>this.radius*this.radius){const i=Math.sqrt(t),r=(i-this.radius)*.5;this.center.add(Xb.multiplyScalar(r/i)),this.radius+=r}return this}union(e){return Wb.subVectors(e.center,this.center).normalize().multiplyScalar(e.radius),this.expandByPoint(mk.copy(e.center).add(Wb)),this.expandByPoint(mk.copy(e.center).sub(Wb)),this}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}}const Jo=new me,Yb=new me,Y5=new me,pl=new me,$b=new me,$5=new me,qb=new me;class gu{constructor(e=new me,t=new me(0,0,-1)){this.origin=e,this.direction=t}set(e,t){return this.origin.copy(e),this.direction.copy(t),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,t){return t===void 0&&(console.warn("THREE.Ray: .at() target is now required"),t=new me),t.copy(this.direction).multiplyScalar(e).add(this.origin)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,Jo)),this}closestPointToPoint(e,t){t===void 0&&(console.warn("THREE.Ray: .closestPointToPoint() target is now required"),t=new me),t.subVectors(e,this.origin);const i=t.dot(this.direction);return i<0?t.copy(this.origin):t.copy(this.direction).multiplyScalar(i).add(this.origin)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const t=Jo.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(Jo.copy(this.direction).multiplyScalar(t).add(this.origin),Jo.distanceToSquared(e))}distanceSqToSegment(e,t,i,r){Yb.copy(e).add(t).multiplyScalar(.5),Y5.copy(t).sub(e).normalize(),pl.copy(this.origin).sub(Yb);const s=e.distanceTo(t)*.5,o=-this.direction.dot(Y5),a=pl.dot(this.direction),l=-pl.dot(Y5),c=pl.lengthSq(),u=Math.abs(1-o*o);let f,h,d,m;if(u>0)if(f=o*l-a,h=o*a-l,m=s*u,f>=0)if(h>=-m)if(h<=m){const v=1/u;f*=v,h*=v,d=f*(f+o*h+2*a)+h*(o*f+h+2*l)+c}else h=s,f=Math.max(0,-(o*h+a)),d=-f*f+h*(h+2*l)+c;else h=-s,f=Math.max(0,-(o*h+a)),d=-f*f+h*(h+2*l)+c;else h<=-m?(f=Math.max(0,-(-o*s+a)),h=f>0?-s:Math.min(Math.max(-s,-l),s),d=-f*f+h*(h+2*l)+c):h<=m?(f=0,h=Math.min(Math.max(-s,-l),s),d=h*(h+2*l)+c):(f=Math.max(0,-(o*s+a)),h=f>0?s:Math.min(Math.max(-s,-l),s),d=-f*f+h*(h+2*l)+c);else h=o>0?-s:s,f=Math.max(0,-(o*h+a)),d=-f*f+h*(h+2*l)+c;return i&&i.copy(this.direction).multiplyScalar(f).add(this.origin),r&&r.copy(Y5).multiplyScalar(h).add(Yb),d}intersectSphere(e,t){Jo.subVectors(e.center,this.origin);const i=Jo.dot(this.direction),r=Jo.dot(Jo)-i*i,s=e.radius*e.radius;if(r>s)return null;const o=Math.sqrt(s-r),a=i-o,l=i+o;return a<0&&l<0?null:a<0?this.at(l,t):this.at(a,t)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const t=e.normal.dot(this.direction);if(t===0)return e.distanceToPoint(this.origin)===0?0:null;const i=-(this.origin.dot(e.normal)+e.constant)/t;return i>=0?i:null}intersectPlane(e,t){const i=this.distanceToPlane(e);return i===null?null:this.at(i,t)}intersectsPlane(e){const t=e.distanceToPoint(this.origin);return t===0||e.normal.dot(this.direction)*t<0}intersectBox(e,t){let i,r,s,o,a,l;const c=1/this.direction.x,u=1/this.direction.y,f=1/this.direction.z,h=this.origin;return c>=0?(i=(e.min.x-h.x)*c,r=(e.max.x-h.x)*c):(i=(e.max.x-h.x)*c,r=(e.min.x-h.x)*c),u>=0?(s=(e.min.y-h.y)*u,o=(e.max.y-h.y)*u):(s=(e.max.y-h.y)*u,o=(e.min.y-h.y)*u),i>o||s>r||((s>i||i!==i)&&(i=s),(o<r||r!==r)&&(r=o),f>=0?(a=(e.min.z-h.z)*f,l=(e.max.z-h.z)*f):(a=(e.max.z-h.z)*f,l=(e.min.z-h.z)*f),i>l||a>r)||((a>i||i!==i)&&(i=a),(l<r||r!==r)&&(r=l),r<0)?null:this.at(i>=0?i:r,t)}intersectsBox(e){return this.intersectBox(e,Jo)!==null}intersectTriangle(e,t,i,r,s){$b.subVectors(t,e),$5.subVectors(i,e),qb.crossVectors($b,$5);let o=this.direction.dot(qb),a;if(o>0){if(r)return null;a=1}else if(o<0)a=-1,o=-o;else return null;pl.subVectors(this.origin,e);const l=a*this.direction.dot($5.crossVectors(pl,$5));if(l<0)return null;const c=a*this.direction.dot($b.cross(pl));if(c<0||l+c>o)return null;const u=-a*pl.dot(qb);return u<0?null:this.at(u/o,s)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class pt{constructor(){this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.")}set(e,t,i,r,s,o,a,l,c,u,f,h,d,m,v,_){const g=this.elements;return g[0]=e,g[4]=t,g[8]=i,g[12]=r,g[1]=s,g[5]=o,g[9]=a,g[13]=l,g[2]=c,g[6]=u,g[10]=f,g[14]=h,g[3]=d,g[7]=m,g[11]=v,g[15]=_,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new pt().fromArray(this.elements)}copy(e){const t=this.elements,i=e.elements;return t[0]=i[0],t[1]=i[1],t[2]=i[2],t[3]=i[3],t[4]=i[4],t[5]=i[5],t[6]=i[6],t[7]=i[7],t[8]=i[8],t[9]=i[9],t[10]=i[10],t[11]=i[11],t[12]=i[12],t[13]=i[13],t[14]=i[14],t[15]=i[15],this}copyPosition(e){const t=this.elements,i=e.elements;return t[12]=i[12],t[13]=i[13],t[14]=i[14],this}setFromMatrix3(e){const t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}extractBasis(e,t,i){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),i.setFromMatrixColumn(this,2),this}makeBasis(e,t,i){return this.set(e.x,t.x,i.x,0,e.y,t.y,i.y,0,e.z,t.z,i.z,0,0,0,0,1),this}extractRotation(e){const t=this.elements,i=e.elements,r=1/Xh.setFromMatrixColumn(e,0).length(),s=1/Xh.setFromMatrixColumn(e,1).length(),o=1/Xh.setFromMatrixColumn(e,2).length();return t[0]=i[0]*r,t[1]=i[1]*r,t[2]=i[2]*r,t[3]=0,t[4]=i[4]*s,t[5]=i[5]*s,t[6]=i[6]*s,t[7]=0,t[8]=i[8]*o,t[9]=i[9]*o,t[10]=i[10]*o,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){e&&e.isEuler||console.error("THREE.Matrix4: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.");const t=this.elements,i=e.x,r=e.y,s=e.z,o=Math.cos(i),a=Math.sin(i),l=Math.cos(r),c=Math.sin(r),u=Math.cos(s),f=Math.sin(s);if(e.order==="XYZ"){const h=o*u,d=o*f,m=a*u,v=a*f;t[0]=l*u,t[4]=-l*f,t[8]=c,t[1]=d+m*c,t[5]=h-v*c,t[9]=-a*l,t[2]=v-h*c,t[6]=m+d*c,t[10]=o*l}else if(e.order==="YXZ"){const h=l*u,d=l*f,m=c*u,v=c*f;t[0]=h+v*a,t[4]=m*a-d,t[8]=o*c,t[1]=o*f,t[5]=o*u,t[9]=-a,t[2]=d*a-m,t[6]=v+h*a,t[10]=o*l}else if(e.order==="ZXY"){const h=l*u,d=l*f,m=c*u,v=c*f;t[0]=h-v*a,t[4]=-o*f,t[8]=m+d*a,t[1]=d+m*a,t[5]=o*u,t[9]=v-h*a,t[2]=-o*c,t[6]=a,t[10]=o*l}else if(e.order==="ZYX"){const h=o*u,d=o*f,m=a*u,v=a*f;t[0]=l*u,t[4]=m*c-d,t[8]=h*c+v,t[1]=l*f,t[5]=v*c+h,t[9]=d*c-m,t[2]=-c,t[6]=a*l,t[10]=o*l}else if(e.order==="YZX"){const h=o*l,d=o*c,m=a*l,v=a*c;t[0]=l*u,t[4]=v-h*f,t[8]=m*f+d,t[1]=f,t[5]=o*u,t[9]=-a*u,t[2]=-c*u,t[6]=d*f+m,t[10]=h-v*f}else if(e.order==="XZY"){const h=o*l,d=o*c,m=a*l,v=a*c;t[0]=l*u,t[4]=-f,t[8]=c*u,t[1]=h*f+v,t[5]=o*u,t[9]=d*f-m,t[2]=m*f-d,t[6]=a*u,t[10]=v*f+h}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(e){return this.compose(k8e,e,H8e)}lookAt(e,t,i){const r=this.elements;return os.subVectors(e,t),os.lengthSq()===0&&(os.z=1),os.normalize(),ml.crossVectors(i,os),ml.lengthSq()===0&&(Math.abs(i.z)===1?os.x+=1e-4:os.z+=1e-4,os.normalize(),ml.crossVectors(i,os)),ml.normalize(),q5.crossVectors(os,ml),r[0]=ml.x,r[4]=q5.x,r[8]=os.x,r[1]=ml.y,r[5]=q5.y,r[9]=os.y,r[2]=ml.z,r[6]=q5.z,r[10]=os.z,this}multiply(e,t){return t!==void 0?(console.warn("THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),this.multiplyMatrices(e,t)):this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const i=e.elements,r=t.elements,s=this.elements,o=i[0],a=i[4],l=i[8],c=i[12],u=i[1],f=i[5],h=i[9],d=i[13],m=i[2],v=i[6],_=i[10],g=i[14],x=i[3],b=i[7],w=i[11],S=i[15],A=r[0],T=r[4],F=r[8],U=r[12],N=r[1],O=r[5],G=r[9],D=r[13],P=r[2],I=r[6],C=r[10],B=r[14],Y=r[3],j=r[7],re=r[11],ie=r[15];return s[0]=o*A+a*N+l*P+c*Y,s[4]=o*T+a*O+l*I+c*j,s[8]=o*F+a*G+l*C+c*re,s[12]=o*U+a*D+l*B+c*ie,s[1]=u*A+f*N+h*P+d*Y,s[5]=u*T+f*O+h*I+d*j,s[9]=u*F+f*G+h*C+d*re,s[13]=u*U+f*D+h*B+d*ie,s[2]=m*A+v*N+_*P+g*Y,s[6]=m*T+v*O+_*I+g*j,s[10]=m*F+v*G+_*C+g*re,s[14]=m*U+v*D+_*B+g*ie,s[3]=x*A+b*N+w*P+S*Y,s[7]=x*T+b*O+w*I+S*j,s[11]=x*F+b*G+w*C+S*re,s[15]=x*U+b*D+w*B+S*ie,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){const e=this.elements,t=e[0],i=e[4],r=e[8],s=e[12],o=e[1],a=e[5],l=e[9],c=e[13],u=e[2],f=e[6],h=e[10],d=e[14],m=e[3],v=e[7],_=e[11],g=e[15];return m*(+s*l*f-r*c*f-s*a*h+i*c*h+r*a*d-i*l*d)+v*(+t*l*d-t*c*h+s*o*h-r*o*d+r*c*u-s*l*u)+_*(+t*c*f-t*a*d-s*o*f+i*o*d+s*a*u-i*c*u)+g*(-r*a*u-t*l*f+t*a*h+r*o*f-i*o*h+i*l*u)}transpose(){const e=this.elements;let t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}setPosition(e,t,i){const r=this.elements;return e.isVector3?(r[12]=e.x,r[13]=e.y,r[14]=e.z):(r[12]=e,r[13]=t,r[14]=i),this}invert(){const e=this.elements,t=e[0],i=e[1],r=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],u=e[8],f=e[9],h=e[10],d=e[11],m=e[12],v=e[13],_=e[14],g=e[15],x=f*_*c-v*h*c+v*l*d-a*_*d-f*l*g+a*h*g,b=m*h*c-u*_*c-m*l*d+o*_*d+u*l*g-o*h*g,w=u*v*c-m*f*c+m*a*d-o*v*d-u*a*g+o*f*g,S=m*f*l-u*v*l-m*a*h+o*v*h+u*a*_-o*f*_,A=t*x+i*b+r*w+s*S;if(A===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const T=1/A;return e[0]=x*T,e[1]=(v*h*s-f*_*s-v*r*d+i*_*d+f*r*g-i*h*g)*T,e[2]=(a*_*s-v*l*s+v*r*c-i*_*c-a*r*g+i*l*g)*T,e[3]=(f*l*s-a*h*s-f*r*c+i*h*c+a*r*d-i*l*d)*T,e[4]=b*T,e[5]=(u*_*s-m*h*s+m*r*d-t*_*d-u*r*g+t*h*g)*T,e[6]=(m*l*s-o*_*s-m*r*c+t*_*c+o*r*g-t*l*g)*T,e[7]=(o*h*s-u*l*s+u*r*c-t*h*c-o*r*d+t*l*d)*T,e[8]=w*T,e[9]=(m*f*s-u*v*s-m*i*d+t*v*d+u*i*g-t*f*g)*T,e[10]=(o*v*s-m*a*s+m*i*c-t*v*c-o*i*g+t*a*g)*T,e[11]=(u*a*s-o*f*s-u*i*c+t*f*c+o*i*d-t*a*d)*T,e[12]=S*T,e[13]=(u*v*r-m*f*r+m*i*h-t*v*h-u*i*_+t*f*_)*T,e[14]=(m*a*r-o*v*r-m*i*l+t*v*l+o*i*_-t*a*_)*T,e[15]=(o*f*r-u*a*r+u*i*l-t*f*l-o*i*h+t*a*h)*T,this}scale(e){const t=this.elements,i=e.x,r=e.y,s=e.z;return t[0]*=i,t[4]*=r,t[8]*=s,t[1]*=i,t[5]*=r,t[9]*=s,t[2]*=i,t[6]*=r,t[10]*=s,t[3]*=i,t[7]*=r,t[11]*=s,this}getMaxScaleOnAxis(){const e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],i=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],r=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,i,r))}makeTranslation(e,t,i){return this.set(1,0,0,e,0,1,0,t,0,0,1,i,0,0,0,1),this}makeRotationX(e){const t=Math.cos(e),i=Math.sin(e);return this.set(1,0,0,0,0,t,-i,0,0,i,t,0,0,0,0,1),this}makeRotationY(e){const t=Math.cos(e),i=Math.sin(e);return this.set(t,0,i,0,0,1,0,0,-i,0,t,0,0,0,0,1),this}makeRotationZ(e){const t=Math.cos(e),i=Math.sin(e);return this.set(t,-i,0,0,i,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){const i=Math.cos(t),r=Math.sin(t),s=1-i,o=e.x,a=e.y,l=e.z,c=s*o,u=s*a;return this.set(c*o+i,c*a-r*l,c*l+r*a,0,c*a+r*l,u*a+i,u*l-r*o,0,c*l-r*a,u*l+r*o,s*l*l+i,0,0,0,0,1),this}makeScale(e,t,i){return this.set(e,0,0,0,0,t,0,0,0,0,i,0,0,0,0,1),this}makeShear(e,t,i,r,s,o){return this.set(1,i,s,0,e,1,o,0,t,r,1,0,0,0,0,1),this}compose(e,t,i){const r=this.elements,s=t._x,o=t._y,a=t._z,l=t._w,c=s+s,u=o+o,f=a+a,h=s*c,d=s*u,m=s*f,v=o*u,_=o*f,g=a*f,x=l*c,b=l*u,w=l*f,S=i.x,A=i.y,T=i.z;return r[0]=(1-(v+g))*S,r[1]=(d+w)*S,r[2]=(m-b)*S,r[3]=0,r[4]=(d-w)*A,r[5]=(1-(h+g))*A,r[6]=(_+x)*A,r[7]=0,r[8]=(m+b)*T,r[9]=(_-x)*T,r[10]=(1-(h+v))*T,r[11]=0,r[12]=e.x,r[13]=e.y,r[14]=e.z,r[15]=1,this}decompose(e,t,i){const r=this.elements;let s=Xh.set(r[0],r[1],r[2]).length();const o=Xh.set(r[4],r[5],r[6]).length(),a=Xh.set(r[8],r[9],r[10]).length();this.determinant()<0&&(s=-s),e.x=r[12],e.y=r[13],e.z=r[14],m0.copy(this);const c=1/s,u=1/o,f=1/a;return m0.elements[0]*=c,m0.elements[1]*=c,m0.elements[2]*=c,m0.elements[4]*=u,m0.elements[5]*=u,m0.elements[6]*=u,m0.elements[8]*=f,m0.elements[9]*=f,m0.elements[10]*=f,t.setFromRotationMatrix(m0),i.x=s,i.y=o,i.z=a,this}makePerspective(e,t,i,r,s,o){o===void 0&&console.warn("THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.");const a=this.elements,l=2*s/(t-e),c=2*s/(i-r),u=(t+e)/(t-e),f=(i+r)/(i-r),h=-(o+s)/(o-s),d=-2*o*s/(o-s);return a[0]=l,a[4]=0,a[8]=u,a[12]=0,a[1]=0,a[5]=c,a[9]=f,a[13]=0,a[2]=0,a[6]=0,a[10]=h,a[14]=d,a[3]=0,a[7]=0,a[11]=-1,a[15]=0,this}makeOrthographic(e,t,i,r,s,o){const a=this.elements,l=1/(t-e),c=1/(i-r),u=1/(o-s),f=(t+e)*l,h=(i+r)*c,d=(o+s)*u;return a[0]=2*l,a[4]=0,a[8]=0,a[12]=-f,a[1]=0,a[5]=2*c,a[9]=0,a[13]=-h,a[2]=0,a[6]=0,a[10]=-2*u,a[14]=-d,a[3]=0,a[7]=0,a[11]=0,a[15]=1,this}equals(e){const t=this.elements,i=e.elements;for(let r=0;r<16;r++)if(t[r]!==i[r])return!1;return!0}fromArray(e,t=0){for(let i=0;i<16;i++)this.elements[i]=e[i+t];return this}toArray(e=[],t=0){const i=this.elements;return e[t]=i[0],e[t+1]=i[1],e[t+2]=i[2],e[t+3]=i[3],e[t+4]=i[4],e[t+5]=i[5],e[t+6]=i[6],e[t+7]=i[7],e[t+8]=i[8],e[t+9]=i[9],e[t+10]=i[10],e[t+11]=i[11],e[t+12]=i[12],e[t+13]=i[13],e[t+14]=i[14],e[t+15]=i[15],e}}pt.prototype.isMatrix4=!0;const Xh=new me,m0=new pt,k8e=new me(0,0,0),H8e=new me(1,1,1),ml=new me,q5=new me,os=new me,gk=new pt,vk=new Er;class Yh{constructor(e=0,t=0,i=0,r=Yh.DefaultOrder){this._x=e,this._y=t,this._z=i,this._order=r}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,t,i,r){return this._x=e,this._y=t,this._z=i,this._order=r||this._order,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,t,i){const r=e.elements,s=r[0],o=r[4],a=r[8],l=r[1],c=r[5],u=r[9],f=r[2],h=r[6],d=r[10];switch(t=t||this._order,t){case"XYZ":this._y=Math.asin(ss(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(-u,d),this._z=Math.atan2(-o,s)):(this._x=Math.atan2(h,c),this._z=0);break;case"YXZ":this._x=Math.asin(-ss(u,-1,1)),Math.abs(u)<.9999999?(this._y=Math.atan2(a,d),this._z=Math.atan2(l,c)):(this._y=Math.atan2(-f,s),this._z=0);break;case"ZXY":this._x=Math.asin(ss(h,-1,1)),Math.abs(h)<.9999999?(this._y=Math.atan2(-f,d),this._z=Math.atan2(-o,c)):(this._y=0,this._z=Math.atan2(l,s));break;case"ZYX":this._y=Math.asin(-ss(f,-1,1)),Math.abs(f)<.9999999?(this._x=Math.atan2(h,d),this._z=Math.atan2(l,s)):(this._x=0,this._z=Math.atan2(-o,c));break;case"YZX":this._z=Math.asin(ss(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-u,c),this._y=Math.atan2(-f,s)):(this._x=0,this._y=Math.atan2(a,d));break;case"XZY":this._z=Math.asin(-ss(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(h,c),this._y=Math.atan2(a,s)):(this._x=Math.atan2(-u,d),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,i!==!1&&this._onChangeCallback(),this}setFromQuaternion(e,t,i){return gk.makeRotationFromQuaternion(e),this.setFromRotationMatrix(gk,t,i)}setFromVector3(e,t){return this.set(e.x,e.y,e.z,t||this._order)}reorder(e){return vk.setFromEuler(this),this.setFromQuaternion(vk,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}toVector3(e){return e?e.set(this._x,this._y,this._z):new me(this._x,this._y,this._z)}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}}Yh.prototype.isEuler=!0;Yh.DefaultOrder="XYZ";Yh.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"];class G8e{constructor(){this.mask=1|0}set(e){this.mask=1<<e|0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=4294967295|0}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!=0}}let V8e=0;const xk=new me,$h=new Er,Ko=new pt,j5=new me,x2=new me,W8e=new me,X8e=new Er,yk=new me(1,0,0),_k=new me(0,1,0),bk=new me(0,0,1),Y8e={type:"added"},wk={type:"removed"};class rn extends hu{constructor(){super();Object.defineProperty(this,"id",{value:V8e++}),this.uuid=to(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=rn.DefaultUp.clone();const e=new me,t=new Yh,i=new Er,r=new me(1,1,1);function s(){i.setFromEuler(t,!1)}function o(){t.setFromQuaternion(i,void 0,!1)}t._onChange(s),i._onChange(o),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:i},scale:{configurable:!0,enumerable:!0,value:r},modelViewMatrix:{value:new pt},normalMatrix:{value:new Bi}}),this.matrix=new pt,this.matrixWorld=new pt,this.matrixAutoUpdate=rn.DefaultMatrixAutoUpdate,this.matrixWorldNeedsUpdate=!1,this.layers=new G8e,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,t){this.quaternion.setFromAxisAngle(e,t)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,t){return $h.setFromAxisAngle(e,t),this.quaternion.multiply($h),this}rotateOnWorldAxis(e,t){return $h.setFromAxisAngle(e,t),this.quaternion.premultiply($h),this}rotateX(e){return this.rotateOnAxis(yk,e)}rotateY(e){return this.rotateOnAxis(_k,e)}rotateZ(e){return this.rotateOnAxis(bk,e)}translateOnAxis(e,t){return xk.copy(e).applyQuaternion(this.quaternion),this.position.add(xk.multiplyScalar(t)),this}translateX(e){return this.translateOnAxis(yk,e)}translateY(e){return this.translateOnAxis(_k,e)}translateZ(e){return this.translateOnAxis(bk,e)}localToWorld(e){return e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return e.applyMatrix4(Ko.copy(this.matrixWorld).invert())}lookAt(e,t,i){e.isVector3?j5.copy(e):j5.set(e,t,i);const r=this.parent;this.updateWorldMatrix(!0,!1),x2.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?Ko.lookAt(x2,j5,this.up):Ko.lookAt(j5,x2,this.up),this.quaternion.setFromRotationMatrix(Ko),r&&(Ko.extractRotation(r.matrixWorld),$h.setFromRotationMatrix(Ko),this.quaternion.premultiply($h.invert()))}add(e){if(arguments.length>1){for(let t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.parent!==null&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent(Y8e)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let i=0;i<arguments.length;i++)this.remove(arguments[i]);return this}const t=this.children.indexOf(e);return t!==-1&&(e.parent=null,this.children.splice(t,1),e.dispatchEvent(wk)),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){for(let e=0;e<this.children.length;e++){const t=this.children[e];t.parent=null,t.dispatchEvent(wk)}return this.children.length=0,this}attach(e){return this.updateWorldMatrix(!0,!1),Ko.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),Ko.multiply(e.parent.matrixWorld)),e.applyMatrix4(Ko),this.add(e),e.updateWorldMatrix(!1,!0),this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,t){if(this[e]===t)return this;for(let i=0,r=this.children.length;i<r;i++){const o=this.children[i].getObjectByProperty(e,t);if(o!==void 0)return o}}getWorldPosition(e){return e===void 0&&(console.warn("THREE.Object3D: .getWorldPosition() target is now required"),e=new me),this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return e===void 0&&(console.warn("THREE.Object3D: .getWorldQuaternion() target is now required"),e=new Er),this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(x2,e,W8e),e}getWorldScale(e){return e===void 0&&(console.warn("THREE.Object3D: .getWorldScale() target is now required"),e=new me),this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(x2,X8e,e),e}getWorldDirection(e){e===void 0&&(console.warn("THREE.Object3D: .getWorldDirection() target is now required"),e=new me),this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()}raycast(){}traverse(e){e(this);const t=this.children;for(let i=0,r=t.length;i<r;i++)t[i].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const t=this.children;for(let i=0,r=t.length;i<r;i++)t[i].traverseVisible(e)}traverseAncestors(e){const t=this.parent;t!==null&&(e(t),t.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);const t=this.children;for(let i=0,r=t.length;i<r;i++)t[i].updateMatrixWorld(e)}updateWorldMatrix(e,t){const i=this.parent;if(e===!0&&i!==null&&i.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),t===!0){const r=this.children;for(let s=0,o=r.length;s<o;s++)r[s].updateWorldMatrix(!1,!0)}}toJSON(e){const t=e===void 0||typeof e=="string",i={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{}},i.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});const r={};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.castShadow===!0&&(r.castShadow=!0),this.receiveShadow===!0&&(r.receiveShadow=!0),this.visible===!1&&(r.visible=!1),this.frustumCulled===!1&&(r.frustumCulled=!1),this.renderOrder!==0&&(r.renderOrder=this.renderOrder),JSON.stringify(this.userData)!=="{}"&&(r.userData=this.userData),r.layers=this.layers.mask,r.matrix=this.matrix.toArray(),this.matrixAutoUpdate===!1&&(r.matrixAutoUpdate=!1),this.isInstancedMesh&&(r.type="InstancedMesh",r.count=this.count,r.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(r.instanceColor=this.instanceColor.toJSON()));function s(a,l){return a[l.uuid]===void 0&&(a[l.uuid]=l.toJSON(e)),l.uuid}if(this.isMesh||this.isLine||this.isPoints){r.geometry=s(e.geometries,this.geometry);const a=this.geometry.parameters;if(a!==void 0&&a.shapes!==void 0){const l=a.shapes;if(Array.isArray(l))for(let c=0,u=l.length;c<u;c++){const f=l[c];s(e.shapes,f)}else s(e.shapes,l)}}if(this.isSkinnedMesh&&(r.bindMode=this.bindMode,r.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(s(e.skeletons,this.skeleton),r.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const a=[];for(let l=0,c=this.material.length;l<c;l++)a.push(s(e.materials,this.material[l]));r.material=a}else r.material=s(e.materials,this.material);if(this.children.length>0){r.children=[];for(let a=0;a<this.children.length;a++)r.children.push(this.children[a].toJSON(e).object)}if(this.animations.length>0){r.animations=[];for(let a=0;a<this.animations.length;a++){const l=this.animations[a];r.animations.push(s(e.animations,l))}}if(t){const a=o(e.geometries),l=o(e.materials),c=o(e.textures),u=o(e.images),f=o(e.shapes),h=o(e.skeletons),d=o(e.animations);a.length>0&&(i.geometries=a),l.length>0&&(i.materials=l),c.length>0&&(i.textures=c),u.length>0&&(i.images=u),f.length>0&&(i.shapes=f),h.length>0&&(i.skeletons=h),d.length>0&&(i.animations=d)}return i.object=r,i;function o(a){const l=[];for(const c in a){const u=a[c];delete u.metadata,l.push(u)}return l}}clone(e){return new this.constructor().copy(this,e)}copy(e,t=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.userData=JSON.parse(JSON.stringify(e.userData)),t===!0)for(let i=0;i<e.children.length;i++){const r=e.children[i];this.add(r.clone())}return this}}rn.DefaultUp=new me(0,1,0);rn.DefaultMatrixAutoUpdate=!0;rn.prototype.isObject3D=!0;const jb=new me,$8e=new me,q8e=new Bi;class no{constructor(e=new me(1,0,0),t=0){this.normal=e,this.constant=t}set(e,t){return this.normal.copy(e),this.constant=t,this}setComponents(e,t,i,r){return this.normal.set(e,t,i),this.constant=r,this}setFromNormalAndCoplanarPoint(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}setFromCoplanarPoints(e,t,i){const r=jb.subVectors(i,t).cross($8e.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(r,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,t){return t===void 0&&(console.warn("THREE.Plane: .projectPoint() target is now required"),t=new me),t.copy(this.normal).multiplyScalar(-this.distanceToPoint(e)).add(e)}intersectLine(e,t){t===void 0&&(console.warn("THREE.Plane: .intersectLine() target is now required"),t=new me);const i=e.delta(jb),r=this.normal.dot(i);if(r===0)return this.distanceToPoint(e.start)===0?t.copy(e.start):null;const s=-(e.start.dot(this.normal)+this.constant)/r;return s<0||s>1?null:t.copy(i).multiplyScalar(s).add(e.start)}intersectsLine(e){const t=this.distanceToPoint(e.start),i=this.distanceToPoint(e.end);return t<0&&i>0||i<0&&t>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e===void 0&&(console.warn("THREE.Plane: .coplanarPoint() target is now required"),e=new me),e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,t){const i=t||q8e.getNormalMatrix(e),r=this.coplanarPoint(jb).applyMatrix4(e),s=this.normal.applyMatrix3(i).normalize();return this.constant=-r.dot(s),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}no.prototype.isPlane=!0;const g0=new me,ea=new me,Zb=new me,ta=new me,qh=new me,jh=new me,Mk=new me,Qb=new me,Jb=new me,Kb=new me;class ai{constructor(e=new me,t=new me,i=new me){this.a=e,this.b=t,this.c=i}static getNormal(e,t,i,r){r===void 0&&(console.warn("THREE.Triangle: .getNormal() target is now required"),r=new me),r.subVectors(i,t),g0.subVectors(e,t),r.cross(g0);const s=r.lengthSq();return s>0?r.multiplyScalar(1/Math.sqrt(s)):r.set(0,0,0)}static getBarycoord(e,t,i,r,s){g0.subVectors(r,t),ea.subVectors(i,t),Zb.subVectors(e,t);const o=g0.dot(g0),a=g0.dot(ea),l=g0.dot(Zb),c=ea.dot(ea),u=ea.dot(Zb),f=o*c-a*a;if(s===void 0&&(console.warn("THREE.Triangle: .getBarycoord() target is now required"),s=new me),f===0)return s.set(-2,-1,-1);const h=1/f,d=(c*l-a*u)*h,m=(o*u-a*l)*h;return s.set(1-d-m,m,d)}static containsPoint(e,t,i,r){return this.getBarycoord(e,t,i,r,ta),ta.x>=0&&ta.y>=0&&ta.x+ta.y<=1}static getUV(e,t,i,r,s,o,a,l){return this.getBarycoord(e,t,i,r,ta),l.set(0,0),l.addScaledVector(s,ta.x),l.addScaledVector(o,ta.y),l.addScaledVector(a,ta.z),l}static isFrontFacing(e,t,i,r){return g0.subVectors(i,t),ea.subVectors(e,t),g0.cross(ea).dot(r)<0}set(e,t,i){return this.a.copy(e),this.b.copy(t),this.c.copy(i),this}setFromPointsAndIndices(e,t,i,r){return this.a.copy(e[t]),this.b.copy(e[i]),this.c.copy(e[r]),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return g0.subVectors(this.c,this.b),ea.subVectors(this.a,this.b),g0.cross(ea).length()*.5}getMidpoint(e){return e===void 0&&(console.warn("THREE.Triangle: .getMidpoint() target is now required"),e=new me),e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return ai.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e===void 0&&(console.warn("THREE.Triangle: .getPlane() target is now required"),e=new no),e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,t){return ai.getBarycoord(e,this.a,this.b,this.c,t)}getUV(e,t,i,r,s){return ai.getUV(e,this.a,this.b,this.c,t,i,r,s)}containsPoint(e){return ai.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return ai.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,t){t===void 0&&(console.warn("THREE.Triangle: .closestPointToPoint() target is now required"),t=new me);const i=this.a,r=this.b,s=this.c;let o,a;qh.subVectors(r,i),jh.subVectors(s,i),Qb.subVectors(e,i);const l=qh.dot(Qb),c=jh.dot(Qb);if(l<=0&&c<=0)return t.copy(i);Jb.subVectors(e,r);const u=qh.dot(Jb),f=jh.dot(Jb);if(u>=0&&f<=u)return t.copy(r);const h=l*f-u*c;if(h<=0&&l>=0&&u<=0)return o=l/(l-u),t.copy(i).addScaledVector(qh,o);Kb.subVectors(e,s);const d=qh.dot(Kb),m=jh.dot(Kb);if(m>=0&&d<=m)return t.copy(s);const v=d*c-l*m;if(v<=0&&c>=0&&m<=0)return a=c/(c-m),t.copy(i).addScaledVector(jh,a);const _=u*m-d*f;if(_<=0&&f-u>=0&&d-m>=0)return Mk.subVectors(s,r),a=(f-u)/(f-u+(d-m)),t.copy(r).addScaledVector(Mk,a);const g=1/(_+v+h);return o=v*g,a=h*g,t.copy(i).addScaledVector(qh,o).addScaledVector(jh,a)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}let j8e=0;class Ji extends hu{constructor(){super();Object.defineProperty(this,"id",{value:j8e++}),this.uuid=to(),this.name="",this.type="Material",this.fog=!0,this.blending=u2,this.side=I5,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.blendSrc=$z,this.blendDst=qz,this.blendEquation=Nh,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=Tb,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=I8e,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=Ob,this.stencilZFail=Ob,this.stencilZPass=Ob,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaTest=0,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0}onBuild(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const t in e){const i=e[t];if(i===void 0){console.warn("THREE.Material: '"+t+"' parameter is undefined.");continue}if(t==="shading"){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=i===Hz;continue}const r=this[t];if(r===void 0){console.warn("THREE."+this.type+": '"+t+"' is not a property of this material.");continue}r&&r.isColor?r.set(i):r&&r.isVector3&&i&&i.isVector3?r.copy(i):this[t]=i}}toJSON(e){const t=e===void 0||typeof e=="string";t&&(e={textures:{},images:{}});const i={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.color&&this.color.isColor&&(i.color=this.color.getHex()),this.roughness!==void 0&&(i.roughness=this.roughness),this.metalness!==void 0&&(i.metalness=this.metalness),this.sheen&&this.sheen.isColor&&(i.sheen=this.sheen.getHex()),this.emissive&&this.emissive.isColor&&(i.emissive=this.emissive.getHex()),this.emissiveIntensity&&this.emissiveIntensity!==1&&(i.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(i.specular=this.specular.getHex()),this.shininess!==void 0&&(i.shininess=this.shininess),this.clearcoat!==void 0&&(i.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(i.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(i.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(i.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,i.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.map&&this.map.isTexture&&(i.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(i.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(i.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(i.lightMap=this.lightMap.toJSON(e).uuid,i.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(i.aoMap=this.aoMap.toJSON(e).uuid,i.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(i.bumpMap=this.bumpMap.toJSON(e).uuid,i.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(i.normalMap=this.normalMap.toJSON(e).uuid,i.normalMapType=this.normalMapType,i.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(i.displacementMap=this.displacementMap.toJSON(e).uuid,i.displacementScale=this.displacementScale,i.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(i.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(i.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(i.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(i.specularMap=this.specularMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(i.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(i.combine=this.combine)),this.envMapIntensity!==void 0&&(i.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(i.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(i.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(i.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(i.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(i.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(i.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(i.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&(i.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(i.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(i.size=this.size),this.shadowSide!==null&&(i.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(i.sizeAttenuation=this.sizeAttenuation),this.blending!==u2&&(i.blending=this.blending),this.side!==I5&&(i.side=this.side),this.vertexColors&&(i.vertexColors=!0),this.opacity<1&&(i.opacity=this.opacity),this.transparent===!0&&(i.transparent=this.transparent),i.depthFunc=this.depthFunc,i.depthTest=this.depthTest,i.depthWrite=this.depthWrite,i.colorWrite=this.colorWrite,i.stencilWrite=this.stencilWrite,i.stencilWriteMask=this.stencilWriteMask,i.stencilFunc=this.stencilFunc,i.stencilRef=this.stencilRef,i.stencilFuncMask=this.stencilFuncMask,i.stencilFail=this.stencilFail,i.stencilZFail=this.stencilZFail,i.stencilZPass=this.stencilZPass,this.rotation&&this.rotation!==0&&(i.rotation=this.rotation),this.polygonOffset===!0&&(i.polygonOffset=!0),this.polygonOffsetFactor!==0&&(i.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(i.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth&&this.linewidth!==1&&(i.linewidth=this.linewidth),this.dashSize!==void 0&&(i.dashSize=this.dashSize),this.gapSize!==void 0&&(i.gapSize=this.gapSize),this.scale!==void 0&&(i.scale=this.scale),this.dithering===!0&&(i.dithering=!0),this.alphaTest>0&&(i.alphaTest=this.alphaTest),this.alphaToCoverage===!0&&(i.alphaToCoverage=this.alphaToCoverage),this.premultipliedAlpha===!0&&(i.premultipliedAlpha=this.premultipliedAlpha),this.wireframe===!0&&(i.wireframe=this.wireframe),this.wireframeLinewidth>1&&(i.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(i.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(i.wireframeLinejoin=this.wireframeLinejoin),this.morphTargets===!0&&(i.morphTargets=!0),this.morphNormals===!0&&(i.morphNormals=!0),this.flatShading===!0&&(i.flatShading=this.flatShading),this.visible===!1&&(i.visible=!1),this.toneMapped===!1&&(i.toneMapped=!1),JSON.stringify(this.userData)!=="{}"&&(i.userData=this.userData);function r(s){const o=[];for(const a in s){const l=s[a];delete l.metadata,o.push(l)}return o}if(t){const s=r(e.textures),o=r(e.images);s.length>0&&(i.textures=s),o.length>0&&(i.images=o)}return i}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.fog=e.fog,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const t=e.clippingPlanes;let i=null;if(t!==null){const r=t.length;i=new Array(r);for(let s=0;s!==r;++s)i[s]=t[s].clone()}return this.clippingPlanes=i,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}}Ji.prototype.isMaterial=!0;const Sk={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},v0={h:0,s:0,l:0},Z5={h:0,s:0,l:0};function ew(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*6*(2/3-t):n}function tw(n){return n<.04045?n*.0773993808:Math.pow(n*.9478672986+.0521327014,2.4)}function nw(n){return n<.0031308?n*12.92:1.055*Math.pow(n,.41666)-.055}class ht{constructor(e,t,i){return t===void 0&&i===void 0?this.set(e):this.setRGB(e,t,i)}set(e){return e&&e.isColor?this.copy(e):typeof e=="number"?this.setHex(e):typeof e=="string"&&this.setStyle(e),this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,this}setRGB(e,t,i){return this.r=e,this.g=t,this.b=i,this}setHSL(e,t,i){if(e=D8e(e,1),t=ss(t,0,1),i=ss(i,0,1),t===0)this.r=this.g=this.b=i;else{const r=i<=.5?i*(1+t):i+t-i*t,s=2*i-r;this.r=ew(s,r,e+1/3),this.g=ew(s,r,e),this.b=ew(s,r,e-1/3)}return this}setStyle(e){function t(r){r!==void 0&&parseFloat(r)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let i;if(i=/^((?:rgb|hsl)a?)\(([^\)]*)\)/.exec(e)){let r;const s=i[1],o=i[2];switch(s){case"rgb":case"rgba":if(r=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return this.r=Math.min(255,parseInt(r[1],10))/255,this.g=Math.min(255,parseInt(r[2],10))/255,this.b=Math.min(255,parseInt(r[3],10))/255,t(r[4]),this;if(r=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return this.r=Math.min(100,parseInt(r[1],10))/100,this.g=Math.min(100,parseInt(r[2],10))/100,this.b=Math.min(100,parseInt(r[3],10))/100,t(r[4]),this;break;case"hsl":case"hsla":if(r=/^\s*(\d*\.?\d+)\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o)){const a=parseFloat(r[1])/360,l=parseInt(r[2],10)/100,c=parseInt(r[3],10)/100;return t(r[4]),this.setHSL(a,l,c)}break}}else if(i=/^\#([A-Fa-f\d]+)$/.exec(e)){const r=i[1],s=r.length;if(s===3)return this.r=parseInt(r.charAt(0)+r.charAt(0),16)/255,this.g=parseInt(r.charAt(1)+r.charAt(1),16)/255,this.b=parseInt(r.charAt(2)+r.charAt(2),16)/255,this;if(s===6)return this.r=parseInt(r.charAt(0)+r.charAt(1),16)/255,this.g=parseInt(r.charAt(2)+r.charAt(3),16)/255,this.b=parseInt(r.charAt(4)+r.charAt(5),16)/255,this}return e&&e.length>0?this.setColorName(e):this}setColorName(e){const t=Sk[e.toLowerCase()];return t!==void 0?this.setHex(t):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copyGammaToLinear(e,t=2){return this.r=Math.pow(e.r,t),this.g=Math.pow(e.g,t),this.b=Math.pow(e.b,t),this}copyLinearToGamma(e,t=2){const i=t>0?1/t:1;return this.r=Math.pow(e.r,i),this.g=Math.pow(e.g,i),this.b=Math.pow(e.b,i),this}convertGammaToLinear(e){return this.copyGammaToLinear(this,e),this}convertLinearToGamma(e){return this.copyLinearToGamma(this,e),this}copySRGBToLinear(e){return this.r=tw(e.r),this.g=tw(e.g),this.b=tw(e.b),this}copyLinearToSRGB(e){return this.r=nw(e.r),this.g=nw(e.g),this.b=nw(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(){return this.r*255<<16^this.g*255<<8^this.b*255<<0}getHexString(){return("000000"+this.getHex().toString(16)).slice(-6)}getHSL(e){e===void 0&&(console.warn("THREE.Color: .getHSL() target is now required"),e={h:0,s:0,l:0});const t=this.r,i=this.g,r=this.b,s=Math.max(t,i,r),o=Math.min(t,i,r);let a,l;const c=(o+s)/2;if(o===s)a=0,l=0;else{const u=s-o;switch(l=c<=.5?u/(s+o):u/(2-s-o),s){case t:a=(i-r)/u+(i<r?6:0);break;case i:a=(r-t)/u+2;break;case r:a=(t-i)/u+4;break}a/=6}return e.h=a,e.s=l,e.l=c,e}getStyle(){return"rgb("+(this.r*255|0)+","+(this.g*255|0)+","+(this.b*255|0)+")"}offsetHSL(e,t,i){return this.getHSL(v0),v0.h+=e,v0.s+=t,v0.l+=i,this.setHSL(v0.h,v0.s,v0.l),this}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}lerpColors(e,t,i){return this.r=e.r+(t.r-e.r)*i,this.g=e.g+(t.g-e.g)*i,this.b=e.b+(t.b-e.b)*i,this}lerpHSL(e,t){this.getHSL(v0),e.getHSL(Z5);const i=zb(v0.h,Z5.h,t),r=zb(v0.s,Z5.s,t),s=zb(v0.l,Z5.l,t);return this.setHSL(i,r,s),this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,t=0){return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}toArray(e=[],t=0){return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}fromBufferAttribute(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),e.normalized===!0&&(this.r/=255,this.g/=255,this.b/=255),this}toJSON(){return this.getHex()}}ht.NAMES=Sk;ht.prototype.isColor=!0;ht.prototype.r=1;ht.prototype.g=1;ht.prototype.b=1;class iw extends Ji{constructor(e){super();this.type="MeshBasicMaterial",this.color=new ht(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=N5,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.morphTargets=!1,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.morphTargets=e.morphTargets,this}}iw.prototype.isMeshBasicMaterial=!0;const bn=new me,Q5=new qe;class wn{constructor(e,t,i){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.name="",this.array=e,this.itemSize=t,this.count=e!==void 0?e.length/t:0,this.normalized=i===!0,this.usage=m2,this.updateRange={offset:0,count:-1},this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this}copyAt(e,t,i){e*=this.itemSize,i*=t.itemSize;for(let r=0,s=this.itemSize;r<s;r++)this.array[e+r]=t.array[i+r];return this}copyArray(e){return this.array.set(e),this}copyColorsArray(e){const t=this.array;let i=0;for(let r=0,s=e.length;r<s;r++){let o=e[r];o===void 0&&(console.warn("THREE.BufferAttribute.copyColorsArray(): color is undefined",r),o=new ht),t[i++]=o.r,t[i++]=o.g,t[i++]=o.b}return this}copyVector2sArray(e){const t=this.array;let i=0;for(let r=0,s=e.length;r<s;r++){let o=e[r];o===void 0&&(console.warn("THREE.BufferAttribute.copyVector2sArray(): vector is undefined",r),o=new qe),t[i++]=o.x,t[i++]=o.y}return this}copyVector3sArray(e){const t=this.array;let i=0;for(let r=0,s=e.length;r<s;r++){let o=e[r];o===void 0&&(console.warn("THREE.BufferAttribute.copyVector3sArray(): vector is undefined",r),o=new me),t[i++]=o.x,t[i++]=o.y,t[i++]=o.z}return this}copyVector4sArray(e){const t=this.array;let i=0;for(let r=0,s=e.length;r<s;r++){let o=e[r];o===void 0&&(console.warn("THREE.BufferAttribute.copyVector4sArray(): vector is undefined",r),o=new un),t[i++]=o.x,t[i++]=o.y,t[i++]=o.z,t[i++]=o.w}return this}applyMatrix3(e){if(this.itemSize===2)for(let t=0,i=this.count;t<i;t++)Q5.fromBufferAttribute(this,t),Q5.applyMatrix3(e),this.setXY(t,Q5.x,Q5.y);else if(this.itemSize===3)for(let t=0,i=this.count;t<i;t++)bn.fromBufferAttribute(this,t),bn.applyMatrix3(e),this.setXYZ(t,bn.x,bn.y,bn.z);return this}applyMatrix4(e){for(let t=0,i=this.count;t<i;t++)bn.x=this.getX(t),bn.y=this.getY(t),bn.z=this.getZ(t),bn.applyMatrix4(e),this.setXYZ(t,bn.x,bn.y,bn.z);return this}applyNormalMatrix(e){for(let t=0,i=this.count;t<i;t++)bn.x=this.getX(t),bn.y=this.getY(t),bn.z=this.getZ(t),bn.applyNormalMatrix(e),this.setXYZ(t,bn.x,bn.y,bn.z);return this}transformDirection(e){for(let t=0,i=this.count;t<i;t++)bn.x=this.getX(t),bn.y=this.getY(t),bn.z=this.getZ(t),bn.transformDirection(e),this.setXYZ(t,bn.x,bn.y,bn.z);return this}set(e,t=0){return this.array.set(e,t),this}getX(e){return this.array[e*this.itemSize]}setX(e,t){return this.array[e*this.itemSize]=t,this}getY(e){return this.array[e*this.itemSize+1]}setY(e,t){return this.array[e*this.itemSize+1]=t,this}getZ(e){return this.array[e*this.itemSize+2]}setZ(e,t){return this.array[e*this.itemSize+2]=t,this}getW(e){return this.array[e*this.itemSize+3]}setW(e,t){return this.array[e*this.itemSize+3]=t,this}setXY(e,t,i){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=i,this}setXYZ(e,t,i,r){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=i,this.array[e+2]=r,this}setXYZW(e,t,i,r,s){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=i,this.array[e+2]=r,this.array[e+3]=s,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.prototype.slice.call(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==m2&&(e.usage=this.usage),(this.updateRange.offset!==0||this.updateRange.count!==-1)&&(e.updateRange=this.updateRange),e}}wn.prototype.isBufferAttribute=!0;class Ak extends wn{constructor(e,t,i){super(new Uint16Array(e),t,i)}}class Tk extends wn{constructor(e,t,i){super(new Uint32Array(e),t,i)}}class Z8e extends wn{constructor(e,t,i){super(new Uint16Array(e),t,i)}}Z8e.prototype.isFloat16BufferAttribute=!0;class Si extends wn{constructor(e,t,i){super(new Float32Array(e),t,i)}}function Ek(n){if(n.length===0)return-1/0;let e=n[0];for(let t=1,i=n.length;t<i;++t)n[t]>e&&(e=n[t]);return e}let Q8e=0;const Vs=new pt,rw=new rn,Zh=new me,as=new Gs,y2=new Gs,Ai=new me;class Mn extends hu{constructor(){super();Object.defineProperty(this,"id",{value:Q8e++}),this.uuid=to(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(Ek(e)>65535?Tk:Ak)(e,1):this.index=e,this}getAttribute(e){return this.attributes[e]}setAttribute(e,t){return this.attributes[e]=t,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,t,i=0){this.groups.push({start:e,count:t,materialIndex:i})}clearGroups(){this.groups=[]}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}applyMatrix4(e){const t=this.attributes.position;t!==void 0&&(t.applyMatrix4(e),t.needsUpdate=!0);const i=this.attributes.normal;if(i!==void 0){const s=new Bi().getNormalMatrix(e);i.applyNormalMatrix(s),i.needsUpdate=!0}const r=this.attributes.tangent;return r!==void 0&&(r.transformDirection(e),r.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return Vs.makeRotationFromQuaternion(e),this.applyMatrix4(Vs),this}rotateX(e){return Vs.makeRotationX(e),this.applyMatrix4(Vs),this}rotateY(e){return Vs.makeRotationY(e),this.applyMatrix4(Vs),this}rotateZ(e){return Vs.makeRotationZ(e),this.applyMatrix4(Vs),this}translate(e,t,i){return Vs.makeTranslation(e,t,i),this.applyMatrix4(Vs),this}scale(e,t,i){return Vs.makeScale(e,t,i),this.applyMatrix4(Vs),this}lookAt(e){return rw.lookAt(e),rw.updateMatrix(),this.applyMatrix4(rw.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(Zh).negate(),this.translate(Zh.x,Zh.y,Zh.z),this}setFromPoints(e){const t=[];for(let i=0,r=e.length;i<r;i++){const s=e[i];t.push(s.x,s.y,s.z||0)}return this.setAttribute("position",new Si(t,3)),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Gs);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingBox.set(new me(-1/0,-1/0,-1/0),new me(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),t)for(let i=0,r=t.length;i<r;i++){const s=t[i];as.setFromBufferAttribute(s),this.morphTargetsRelative?(Ai.addVectors(this.boundingBox.min,as.min),this.boundingBox.expandByPoint(Ai),Ai.addVectors(this.boundingBox.max,as.max),this.boundingBox.expandByPoint(Ai)):(this.boundingBox.expandByPoint(as.min),this.boundingBox.expandByPoint(as.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new mu);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingSphere.set(new me,1/0);return}if(e){const i=this.boundingSphere.center;if(as.setFromBufferAttribute(e),t)for(let s=0,o=t.length;s<o;s++){const a=t[s];y2.setFromBufferAttribute(a),this.morphTargetsRelative?(Ai.addVectors(as.min,y2.min),as.expandByPoint(Ai),Ai.addVectors(as.max,y2.max),as.expandByPoint(Ai)):(as.expandByPoint(y2.min),as.expandByPoint(y2.max))}as.getCenter(i);let r=0;for(let s=0,o=e.count;s<o;s++)Ai.fromBufferAttribute(e,s),r=Math.max(r,i.distanceToSquared(Ai));if(t)for(let s=0,o=t.length;s<o;s++){const a=t[s],l=this.morphTargetsRelative;for(let c=0,u=a.count;c<u;c++)Ai.fromBufferAttribute(a,c),l&&(Zh.fromBufferAttribute(e,c),Ai.add(Zh)),r=Math.max(r,i.distanceToSquared(Ai))}this.boundingSphere.radius=Math.sqrt(r),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeFaceNormals(){}computeTangents(){const e=this.index,t=this.attributes;if(e===null||t.position===void 0||t.normal===void 0||t.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const i=e.array,r=t.position.array,s=t.normal.array,o=t.uv.array,a=r.length/3;t.tangent===void 0&&this.setAttribute("tangent",new wn(new Float32Array(4*a),4));const l=t.tangent.array,c=[],u=[];for(let N=0;N<a;N++)c[N]=new me,u[N]=new me;const f=new me,h=new me,d=new me,m=new qe,v=new qe,_=new qe,g=new me,x=new me;function b(N,O,G){f.fromArray(r,N*3),h.fromArray(r,O*3),d.fromArray(r,G*3),m.fromArray(o,N*2),v.fromArray(o,O*2),_.fromArray(o,G*2),h.sub(f),d.sub(f),v.sub(m),_.sub(m);const D=1/(v.x*_.y-_.x*v.y);!isFinite(D)||(g.copy(h).multiplyScalar(_.y).addScaledVector(d,-v.y).multiplyScalar(D),x.copy(d).multiplyScalar(v.x).addScaledVector(h,-_.x).multiplyScalar(D),c[N].add(g),c[O].add(g),c[G].add(g),u[N].add(x),u[O].add(x),u[G].add(x))}let w=this.groups;w.length===0&&(w=[{start:0,count:i.length}]);for(let N=0,O=w.length;N<O;++N){const G=w[N],D=G.start,P=G.count;for(let I=D,C=D+P;I<C;I+=3)b(i[I+0],i[I+1],i[I+2])}const S=new me,A=new me,T=new me,F=new me;function U(N){T.fromArray(s,N*3),F.copy(T);const O=c[N];S.copy(O),S.sub(T.multiplyScalar(T.dot(O))).normalize(),A.crossVectors(F,O);const D=A.dot(u[N])<0?-1:1;l[N*4]=S.x,l[N*4+1]=S.y,l[N*4+2]=S.z,l[N*4+3]=D}for(let N=0,O=w.length;N<O;++N){const G=w[N],D=G.start,P=G.count;for(let I=D,C=D+P;I<C;I+=3)U(i[I+0]),U(i[I+1]),U(i[I+2])}}computeVertexNormals(){const e=this.index,t=this.getAttribute("position");if(t!==void 0){let i=this.getAttribute("normal");if(i===void 0)i=new wn(new Float32Array(t.count*3),3),this.setAttribute("normal",i);else for(let h=0,d=i.count;h<d;h++)i.setXYZ(h,0,0,0);const r=new me,s=new me,o=new me,a=new me,l=new me,c=new me,u=new me,f=new me;if(e)for(let h=0,d=e.count;h<d;h+=3){const m=e.getX(h+0),v=e.getX(h+1),_=e.getX(h+2);r.fromBufferAttribute(t,m),s.fromBufferAttribute(t,v),o.fromBufferAttribute(t,_),u.subVectors(o,s),f.subVectors(r,s),u.cross(f),a.fromBufferAttribute(i,m),l.fromBufferAttribute(i,v),c.fromBufferAttribute(i,_),a.add(u),l.add(u),c.add(u),i.setXYZ(m,a.x,a.y,a.z),i.setXYZ(v,l.x,l.y,l.z),i.setXYZ(_,c.x,c.y,c.z)}else for(let h=0,d=t.count;h<d;h+=3)r.fromBufferAttribute(t,h+0),s.fromBufferAttribute(t,h+1),o.fromBufferAttribute(t,h+2),u.subVectors(o,s),f.subVectors(r,s),u.cross(f),i.setXYZ(h+0,u.x,u.y,u.z),i.setXYZ(h+1,u.x,u.y,u.z),i.setXYZ(h+2,u.x,u.y,u.z);this.normalizeNormals(),i.needsUpdate=!0}}merge(e,t){if(!(e&&e.isBufferGeometry)){console.error("THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.",e);return}t===void 0&&(t=0,console.warn("THREE.BufferGeometry.merge(): Overwriting original geometry, starting at offset=0. Use BufferGeometryUtils.mergeBufferGeometries() for lossless merge."));const i=this.attributes;for(const r in i){if(e.attributes[r]===void 0)continue;const o=i[r].array,a=e.attributes[r],l=a.array,c=a.itemSize*t,u=Math.min(l.length,o.length-c);for(let f=0,h=c;f<u;f++,h++)o[h]=l[f]}return this}normalizeNormals(){const e=this.attributes.normal;for(let t=0,i=e.count;t<i;t++)Ai.fromBufferAttribute(e,t),Ai.normalize(),e.setXYZ(t,Ai.x,Ai.y,Ai.z)}toNonIndexed(){function e(a,l){const c=a.array,u=a.itemSize,f=a.normalized,h=new c.constructor(l.length*u);let d=0,m=0;for(let v=0,_=l.length;v<_;v++){d=l[v]*u;for(let g=0;g<u;g++)h[m++]=c[d++]}return new wn(h,u,f)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const t=new Mn,i=this.index.array,r=this.attributes;for(const a in r){const l=r[a],c=e(l,i);t.setAttribute(a,c)}const s=this.morphAttributes;for(const a in s){const l=[],c=s[a];for(let u=0,f=c.length;u<f;u++){const h=c[u],d=e(h,i);l.push(d)}t.morphAttributes[a]=l}t.morphTargetsRelative=this.morphTargetsRelative;const o=this.groups;for(let a=0,l=o.length;a<l;a++){const c=o[a];t.addGroup(c.start,c.count,c.materialIndex)}return t}toJSON(){const e={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const l=this.parameters;for(const c in l)l[c]!==void 0&&(e[c]=l[c]);return e}e.data={attributes:{}};const t=this.index;t!==null&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});const i=this.attributes;for(const l in i){const c=i[l];e.data.attributes[l]=c.toJSON(e.data)}const r={};let s=!1;for(const l in this.morphAttributes){const c=this.morphAttributes[l],u=[];for(let f=0,h=c.length;f<h;f++){const d=c[f];u.push(d.toJSON(e.data))}u.length>0&&(r[l]=u,s=!0)}s&&(e.data.morphAttributes=r,e.data.morphTargetsRelative=this.morphTargetsRelative);const o=this.groups;o.length>0&&(e.data.groups=JSON.parse(JSON.stringify(o)));const a=this.boundingSphere;return a!==null&&(e.data.boundingSphere={center:a.center.toArray(),radius:a.radius}),e}clone(){return new Mn().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const t={};this.name=e.name;const i=e.index;i!==null&&this.setIndex(i.clone(t));const r=e.attributes;for(const c in r){const u=r[c];this.setAttribute(c,u.clone(t))}const s=e.morphAttributes;for(const c in s){const u=[],f=s[c];for(let h=0,d=f.length;h<d;h++)u.push(f[h].clone(t));this.morphAttributes[c]=u}this.morphTargetsRelative=e.morphTargetsRelative;const o=e.groups;for(let c=0,u=o.length;c<u;c++){const f=o[c];this.addGroup(f.start,f.count,f.materialIndex)}const a=e.boundingBox;a!==null&&(this.boundingBox=a.clone());const l=e.boundingSphere;return l!==null&&(this.boundingSphere=l.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}Mn.prototype.isBufferGeometry=!0;const Lk=new pt,Qh=new gu,sw=new mu,gl=new me,vl=new me,xl=new me,ow=new me,aw=new me,lw=new me,J5=new me,K5=new me,eg=new me,tg=new qe,ng=new qe,ig=new qe,cw=new me,rg=new me;class x0 extends rn{constructor(e=new Mn,t=new iw){super();this.type="Mesh",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e){return super.copy(e),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=e.material,this.geometry=e.geometry,this}updateMorphTargets(){const e=this.geometry;if(e.isBufferGeometry){const t=e.morphAttributes,i=Object.keys(t);if(i.length>0){const r=t[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=r.length;s<o;s++){const a=r[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}else{const t=e.morphTargets;t!==void 0&&t.length>0&&console.error("THREE.Mesh.updateMorphTargets() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}}raycast(e,t){const i=this.geometry,r=this.material,s=this.matrixWorld;if(r===void 0||(i.boundingSphere===null&&i.computeBoundingSphere(),sw.copy(i.boundingSphere),sw.applyMatrix4(s),e.ray.intersectsSphere(sw)===!1)||(Lk.copy(s).invert(),Qh.copy(e.ray).applyMatrix4(Lk),i.boundingBox!==null&&Qh.intersectsBox(i.boundingBox)===!1))return;let o;if(i.isBufferGeometry){const a=i.index,l=i.attributes.position,c=i.morphAttributes.position,u=i.morphTargetsRelative,f=i.attributes.uv,h=i.attributes.uv2,d=i.groups,m=i.drawRange;if(a!==null)if(Array.isArray(r))for(let v=0,_=d.length;v<_;v++){const g=d[v],x=r[g.materialIndex],b=Math.max(g.start,m.start),w=Math.min(g.start+g.count,m.start+m.count);for(let S=b,A=w;S<A;S+=3){const T=a.getX(S),F=a.getX(S+1),U=a.getX(S+2);o=sg(this,x,e,Qh,l,c,u,f,h,T,F,U),o&&(o.faceIndex=Math.floor(S/3),o.face.materialIndex=g.materialIndex,t.push(o))}}else{const v=Math.max(0,m.start),_=Math.min(a.count,m.start+m.count);for(let g=v,x=_;g<x;g+=3){const b=a.getX(g),w=a.getX(g+1),S=a.getX(g+2);o=sg(this,r,e,Qh,l,c,u,f,h,b,w,S),o&&(o.faceIndex=Math.floor(g/3),t.push(o))}}else if(l!==void 0)if(Array.isArray(r))for(let v=0,_=d.length;v<_;v++){const g=d[v],x=r[g.materialIndex],b=Math.max(g.start,m.start),w=Math.min(g.start+g.count,m.start+m.count);for(let S=b,A=w;S<A;S+=3){const T=S,F=S+1,U=S+2;o=sg(this,x,e,Qh,l,c,u,f,h,T,F,U),o&&(o.faceIndex=Math.floor(S/3),o.face.materialIndex=g.materialIndex,t.push(o))}}else{const v=Math.max(0,m.start),_=Math.min(l.count,m.start+m.count);for(let g=v,x=_;g<x;g+=3){const b=g,w=g+1,S=g+2;o=sg(this,r,e,Qh,l,c,u,f,h,b,w,S),o&&(o.faceIndex=Math.floor(g/3),t.push(o))}}}else i.isGeometry&&console.error("THREE.Mesh.raycast() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}}x0.prototype.isMesh=!0;function J8e(n,e,t,i,r,s,o,a){let l;if(e.side===Mi?l=i.intersectTriangle(o,s,r,!0,a):l=i.intersectTriangle(r,s,o,e.side!==D5,a),l===null)return null;rg.copy(a),rg.applyMatrix4(n.matrixWorld);const c=t.ray.origin.distanceTo(rg);return c<t.near||c>t.far?null:{distance:c,point:rg.clone(),object:n}}function sg(n,e,t,i,r,s,o,a,l,c,u,f){gl.fromBufferAttribute(r,c),vl.fromBufferAttribute(r,u),xl.fromBufferAttribute(r,f);const h=n.morphTargetInfluences;if(e.morphTargets&&s&&h){J5.set(0,0,0),K5.set(0,0,0),eg.set(0,0,0);for(let m=0,v=s.length;m<v;m++){const _=h[m],g=s[m];_!==0&&(ow.fromBufferAttribute(g,c),aw.fromBufferAttribute(g,u),lw.fromBufferAttribute(g,f),o?(J5.addScaledVector(ow,_),K5.addScaledVector(aw,_),eg.addScaledVector(lw,_)):(J5.addScaledVector(ow.sub(gl),_),K5.addScaledVector(aw.sub(vl),_),eg.addScaledVector(lw.sub(xl),_)))}gl.add(J5),vl.add(K5),xl.add(eg)}n.isSkinnedMesh&&(n.boneTransform(c,gl),n.boneTransform(u,vl),n.boneTransform(f,xl));const d=J8e(n,e,t,i,gl,vl,xl,cw);if(d){a&&(tg.fromBufferAttribute(a,c),ng.fromBufferAttribute(a,u),ig.fromBufferAttribute(a,f),d.uv=ai.getUV(cw,gl,vl,xl,tg,ng,ig,new qe)),l&&(tg.fromBufferAttribute(l,c),ng.fromBufferAttribute(l,u),ig.fromBufferAttribute(l,f),d.uv2=ai.getUV(cw,gl,vl,xl,tg,ng,ig,new qe));const m={a:c,b:u,c:f,normal:new me,materialIndex:0};ai.getNormal(gl,vl,xl,m.normal),d.face=m}return d}class uw extends Mn{constructor(e=1,t=1,i=1,r=1,s=1,o=1){super();this.type="BoxGeometry",this.parameters={width:e,height:t,depth:i,widthSegments:r,heightSegments:s,depthSegments:o};const a=this;r=Math.floor(r),s=Math.floor(s),o=Math.floor(o);const l=[],c=[],u=[],f=[];let h=0,d=0;m("z","y","x",-1,-1,i,t,e,o,s,0),m("z","y","x",1,-1,i,t,-e,o,s,1),m("x","z","y",1,1,e,i,t,r,o,2),m("x","z","y",1,-1,e,i,-t,r,o,3),m("x","y","z",1,-1,e,t,i,r,s,4),m("x","y","z",-1,-1,e,t,-i,r,s,5),this.setIndex(l),this.setAttribute("position",new Si(c,3)),this.setAttribute("normal",new Si(u,3)),this.setAttribute("uv",new Si(f,2));function m(v,_,g,x,b,w,S,A,T,F,U){const N=w/T,O=S/F,G=w/2,D=S/2,P=A/2,I=T+1,C=F+1;let B=0,Y=0;const j=new me;for(let re=0;re<C;re++){const ie=re*O-D;for(let ve=0;ve<I;ve++){const de=ve*N-G;j[v]=de*x,j[_]=ie*b,j[g]=P,c.push(j.x,j.y,j.z),j[v]=0,j[_]=0,j[g]=A>0?1:-1,u.push(j.x,j.y,j.z),f.push(ve/T),f.push(1-re/F),B+=1}}for(let re=0;re<F;re++)for(let ie=0;ie<T;ie++){const ve=h+ie+I*re,de=h+ie+I*(re+1),ye=h+(ie+1)+I*(re+1),te=h+(ie+1)+I*re;l.push(ve,de,te),l.push(de,ye,te),Y+=6}a.addGroup(d,Y,U),d+=Y,h+=B}}}function Jh(n){const e={};for(const t in n){e[t]={};for(const i in n[t]){const r=n[t][i];r&&(r.isColor||r.isMatrix3||r.isMatrix4||r.isVector2||r.isVector3||r.isVector4||r.isTexture||r.isQuaternion)?e[t][i]=r.clone():Array.isArray(r)?e[t][i]=r.slice():e[t][i]=r}}return e}function Ki(n){const e={};for(let t=0;t<n.length;t++){const i=Jh(n[t]);for(const r in i)e[r]=i[r]}return e}const K8e={clone:Jh,merge:Ki};var e6e=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,t6e=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class yl extends Ji{constructor(e){super();this.type="ShaderMaterial",this.defines={},this.uniforms={},this.vertexShader=e6e,this.fragmentShader=t6e,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.morphTargets=!1,this.morphNormals=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&(e.attributes!==void 0&&console.error("THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead."),this.setValues(e))}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=Jh(e.uniforms),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.lights=e.lights,this.clipping=e.clipping,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const t=super.toJSON(e);t.glslVersion=this.glslVersion,t.uniforms={};for(const r in this.uniforms){const o=this.uniforms[r].value;o&&o.isTexture?t.uniforms[r]={type:"t",value:o.toJSON(e).uuid}:o&&o.isColor?t.uniforms[r]={type:"c",value:o.getHex()}:o&&o.isVector2?t.uniforms[r]={type:"v2",value:o.toArray()}:o&&o.isVector3?t.uniforms[r]={type:"v3",value:o.toArray()}:o&&o.isVector4?t.uniforms[r]={type:"v4",value:o.toArray()}:o&&o.isMatrix3?t.uniforms[r]={type:"m3",value:o.toArray()}:o&&o.isMatrix4?t.uniforms[r]={type:"m4",value:o.toArray()}:t.uniforms[r]={value:o}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader;const i={};for(const r in this.extensions)this.extensions[r]===!0&&(i[r]=!0);return Object.keys(i).length>0&&(t.extensions=i),t}}yl.prototype.isShaderMaterial=!0;class fw extends rn{constructor(){super();this.type="Camera",this.matrixWorldInverse=new pt,this.projectionMatrix=new pt,this.projectionMatrixInverse=new pt}copy(e,t){return super.copy(e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this}getWorldDirection(e){e===void 0&&(console.warn("THREE.Camera: .getWorldDirection() target is now required"),e=new me),this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(-t[8],-t[9],-t[10]).normalize()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}fw.prototype.isCamera=!0;class ls extends fw{constructor(e=50,t=1,i=.1,r=2e3){super();this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=i,this.far=r,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const t=.5*this.getFilmHeight()/e;this.fov=Ub*2*Math.atan(t),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(Bb*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return Ub*2*Math.atan(Math.tan(Bb*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}setViewOffset(e,t,i,r,s,o){this.aspect=e/t,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=i,this.view.offsetY=r,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let t=e*Math.tan(Bb*.5*this.fov)/this.zoom,i=2*t,r=this.aspect*i,s=-.5*r;const o=this.view;if(this.view!==null&&this.view.enabled){const l=o.fullWidth,c=o.fullHeight;s+=o.offsetX*r/l,t-=o.offsetY*i/c,r*=o.width/l,i*=o.height/c}const a=this.filmOffset;a!==0&&(s+=e*a/this.getFilmWidth()),this.projectionMatrix.makePerspective(s,s+r,t,t-i,e,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,this.view!==null&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}ls.prototype.isPerspectiveCamera=!0;const Kh=90,ed=1;class hw extends rn{constructor(e,t,i){super();if(this.type="CubeCamera",i.isWebGLCubeRenderTarget!==!0){console.error("THREE.CubeCamera: The constructor now expects an instance of WebGLCubeRenderTarget as third parameter.");return}this.renderTarget=i;const r=new ls(Kh,ed,e,t);r.layers=this.layers,r.up.set(0,-1,0),r.lookAt(new me(1,0,0)),this.add(r);const s=new ls(Kh,ed,e,t);s.layers=this.layers,s.up.set(0,-1,0),s.lookAt(new me(-1,0,0)),this.add(s);const o=new ls(Kh,ed,e,t);o.layers=this.layers,o.up.set(0,0,1),o.lookAt(new me(0,1,0)),this.add(o);const a=new ls(Kh,ed,e,t);a.layers=this.layers,a.up.set(0,0,-1),a.lookAt(new me(0,-1,0)),this.add(a);const l=new ls(Kh,ed,e,t);l.layers=this.layers,l.up.set(0,-1,0),l.lookAt(new me(0,0,1)),this.add(l);const c=new ls(Kh,ed,e,t);c.layers=this.layers,c.up.set(0,-1,0),c.lookAt(new me(0,0,-1)),this.add(c)}update(e,t){this.parent===null&&this.updateMatrixWorld();const i=this.renderTarget,[r,s,o,a,l,c]=this.children,u=e.xr.enabled,f=e.getRenderTarget();e.xr.enabled=!1;const h=i.texture.generateMipmaps;i.texture.generateMipmaps=!1,e.setRenderTarget(i,0),e.render(t,r),e.setRenderTarget(i,1),e.render(t,s),e.setRenderTarget(i,2),e.render(t,o),e.setRenderTarget(i,3),e.render(t,a),e.setRenderTarget(i,4),e.render(t,l),i.texture.generateMipmaps=h,e.setRenderTarget(i,5),e.render(t,c),e.setRenderTarget(f),e.xr.enabled=u}}class og extends Ui{constructor(e,t,i,r,s,o,a,l,c,u){e=e!==void 0?e:[],t=t!==void 0?t:Eb,a=a!==void 0?a:fu;super(e,t,i,r,s,o,a,l,c,u);this._needsFlipEnvMap=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}og.prototype.isCubeTexture=!0;class Ck extends Zo{constructor(e,t,i){Number.isInteger(t)&&(console.warn("THREE.WebGLCubeRenderTarget: constructor signature is now WebGLCubeRenderTarget( size, options )"),t=i);super(e,e,t);t=t||{},this.texture=new og(void 0,t.mapping,t.wrapS,t.wrapT,t.magFilter,t.minFilter,t.format,t.type,t.anisotropy,t.encoding),this.texture.generateMipmaps=t.generateMipmaps!==void 0?t.generateMipmaps:!1,this.texture.minFilter=t.minFilter!==void 0?t.minFilter:Hs,this.texture._needsFlipEnvMap=!1}fromEquirectangularTexture(e,t){this.texture.type=t.type,this.texture.format=eo,this.texture.encoding=t.encoding,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;const i={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},r=new uw(5,5,5),s=new yl({name:"CubemapFromEquirect",uniforms:Jh(i.uniforms),vertexShader:i.vertexShader,fragmentShader:i.fragmentShader,side:Mi,blending:c2});s.uniforms.tEquirect.value=t;const o=new x0(r,s),a=t.minFilter;return t.minFilter===O5&&(t.minFilter=Hs),new hw(1,10,this).update(e,o),t.minFilter=a,o.geometry.dispose(),o.material.dispose(),this}clear(e,t,i,r){const s=e.getRenderTarget();for(let o=0;o<6;o++)e.setRenderTarget(this,o),e.clear(t,i,r);e.setRenderTarget(s)}}Ck.prototype.isWebGLCubeRenderTarget=!0;const td=new mu,ag=new me;class lg{constructor(e=new no,t=new no,i=new no,r=new no,s=new no,o=new no){this.planes=[e,t,i,r,s,o]}set(e,t,i,r,s,o){const a=this.planes;return a[0].copy(e),a[1].copy(t),a[2].copy(i),a[3].copy(r),a[4].copy(s),a[5].copy(o),this}copy(e){const t=this.planes;for(let i=0;i<6;i++)t[i].copy(e.planes[i]);return this}setFromProjectionMatrix(e){const t=this.planes,i=e.elements,r=i[0],s=i[1],o=i[2],a=i[3],l=i[4],c=i[5],u=i[6],f=i[7],h=i[8],d=i[9],m=i[10],v=i[11],_=i[12],g=i[13],x=i[14],b=i[15];return t[0].setComponents(a-r,f-l,v-h,b-_).normalize(),t[1].setComponents(a+r,f+l,v+h,b+_).normalize(),t[2].setComponents(a+s,f+c,v+d,b+g).normalize(),t[3].setComponents(a-s,f-c,v-d,b-g).normalize(),t[4].setComponents(a-o,f-u,v-m,b-x).normalize(),t[5].setComponents(a+o,f+u,v+m,b+x).normalize(),this}intersectsObject(e){const t=e.geometry;return t.boundingSphere===null&&t.computeBoundingSphere(),td.copy(t.boundingSphere).applyMatrix4(e.matrixWorld),this.intersectsSphere(td)}intersectsSprite(e){return td.center.set(0,0,0),td.radius=.7071067811865476,td.applyMatrix4(e.matrixWorld),this.intersectsSphere(td)}intersectsSphere(e){const t=this.planes,i=e.center,r=-e.radius;for(let s=0;s<6;s++)if(t[s].distanceToPoint(i)<r)return!1;return!0}intersectsBox(e){const t=this.planes;for(let i=0;i<6;i++){const r=t[i];if(ag.x=r.normal.x>0?e.max.x:e.min.x,ag.y=r.normal.y>0?e.max.y:e.min.y,ag.z=r.normal.z>0?e.max.z:e.min.z,r.distanceToPoint(ag)<0)return!1}return!0}containsPoint(e){const t=this.planes;for(let i=0;i<6;i++)if(t[i].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function Pk(){let n=null,e=!1,t=null,i=null;function r(s,o){t(s,o),i=n.requestAnimationFrame(r)}return{start:function(){e!==!0&&t!==null&&(i=n.requestAnimationFrame(r),e=!0)},stop:function(){n.cancelAnimationFrame(i),e=!1},setAnimationLoop:function(s){t=s},setContext:function(s){n=s}}}function n6e(n,e){const t=e.isWebGL2,i=new WeakMap;function r(c,u){const f=c.array,h=c.usage,d=n.createBuffer();n.bindBuffer(u,d),n.bufferData(u,f,h),c.onUploadCallback();let m=5126;return f instanceof Float32Array?m=5126:f instanceof Float64Array?console.warn("THREE.WebGLAttributes: Unsupported data buffer format: Float64Array."):f instanceof Uint16Array?c.isFloat16BufferAttribute?t?m=5131:console.warn("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2."):m=5123:f instanceof Int16Array?m=5122:f instanceof Uint32Array?m=5125:f instanceof Int32Array?m=5124:f instanceof Int8Array?m=5120:(f instanceof Uint8Array||f instanceof Uint8ClampedArray)&&(m=5121),{buffer:d,type:m,bytesPerElement:f.BYTES_PER_ELEMENT,version:c.version}}function s(c,u,f){const h=u.array,d=u.updateRange;n.bindBuffer(f,c),d.count===-1?n.bufferSubData(f,0,h):(t?n.bufferSubData(f,d.offset*h.BYTES_PER_ELEMENT,h,d.offset,d.count):n.bufferSubData(f,d.offset*h.BYTES_PER_ELEMENT,h.subarray(d.offset,d.offset+d.count)),d.count=-1)}function o(c){return c.isInterleavedBufferAttribute&&(c=c.data),i.get(c)}function a(c){c.isInterleavedBufferAttribute&&(c=c.data);const u=i.get(c);u&&(n.deleteBuffer(u.buffer),i.delete(c))}function l(c,u){if(c.isGLBufferAttribute){const h=i.get(c);(!h||h.version<c.version)&&i.set(c,{buffer:c.buffer,type:c.type,bytesPerElement:c.elementSize,version:c.version});return}c.isInterleavedBufferAttribute&&(c=c.data);const f=i.get(c);f===void 0?i.set(c,r(c,u)):f.version<c.version&&(s(f.buffer,c,u),f.version=c.version)}return{get:o,remove:a,update:l}}class i6e extends Mn{constructor(e=1,t=1,i=1,r=1){super();this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:i,heightSegments:r};const s=e/2,o=t/2,a=Math.floor(i),l=Math.floor(r),c=a+1,u=l+1,f=e/a,h=t/l,d=[],m=[],v=[],_=[];for(let g=0;g<u;g++){const x=g*h-o;for(let b=0;b<c;b++){const w=b*f-s;m.push(w,-x,0),v.push(0,0,1),_.push(b/a),_.push(1-g/l)}}for(let g=0;g<l;g++)for(let x=0;x<a;x++){const b=x+c*g,w=x+c*(g+1),S=x+1+c*(g+1),A=x+1+c*g;d.push(b,w,A),d.push(w,S,A)}this.setIndex(d),this.setAttribute("position",new Si(m,3)),this.setAttribute("normal",new Si(v,3)),this.setAttribute("uv",new Si(_,2))}}var r6e=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vUv ).g;
#endif`,s6e=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,o6e=`#ifdef ALPHATEST
	if ( diffuseColor.a < ALPHATEST ) discard;
#endif`,a6e=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.specularRoughness );
	#endif
#endif`,l6e=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,c6e="vec3 transformed = vec3( position );",u6e=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,f6e=`vec2 integrateSpecularBRDF( const in float dotNV, const in float roughness ) {
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	return vec2( -1.04, 1.04 ) * a004 + r.zw;
}
float punctualLightIntensityToIrradianceFactor( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
#if defined ( PHYSICALLY_CORRECT_LIGHTS )
	float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
	if( cutoffDistance > 0.0 ) {
		distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
	}
	return distanceFalloff;
#else
	if( cutoffDistance > 0.0 && decayExponent > 0.0 ) {
		return pow( saturate( -lightDistance / cutoffDistance + 1.0 ), decayExponent );
	}
	return 1.0;
#endif
}
vec3 BRDF_Diffuse_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 specularColor, const in float dotLH ) {
	float fresnel = exp2( ( -5.55473 * dotLH - 6.98316 ) * dotLH );
	return ( 1.0 - specularColor ) * fresnel + specularColor;
}
vec3 F_Schlick_RoughnessDependent( const in vec3 F0, const in float dotNV, const in float roughness ) {
	float fresnel = exp2( ( -5.55473 * dotNV - 6.98316 ) * dotNV );
	vec3 Fr = max( vec3( 1.0 - roughness ), F0 ) - F0;
	return Fr * fresnel + F0;
}
float G_GGX_Smith( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gl = dotNL + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	float gv = dotNV + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	return 1.0 / ( gl * gv );
}
float G_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
vec3 BRDF_Specular_GGX( const in IncidentLight incidentLight, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float roughness ) {
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( incidentLight.direction + viewDir );
	float dotNL = saturate( dot( normal, incidentLight.direction ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotLH = saturate( dot( incidentLight.direction, halfDir ) );
	vec3 F = F_Schlick( specularColor, dotLH );
	float G = G_GGX_SmithCorrelated( alpha, dotNL, dotNV );
	float D = D_GGX( alpha, dotNH );
	return F * ( G * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
vec3 BRDF_Specular_GGX_Environment( const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	vec2 brdf = integrateSpecularBRDF( dotNV, roughness );
	return specularColor * brdf.x + brdf.y;
}
void BRDF_Specular_Multiscattering_Environment( const in GeometricContext geometry, const in vec3 specularColor, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
	float dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );
	vec3 F = F_Schlick_RoughnessDependent( specularColor, dotNV, roughness );
	vec2 brdf = integrateSpecularBRDF( dotNV, roughness );
	vec3 FssEss = F * brdf.x + brdf.y;
	float Ess = brdf.x + brdf.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = specularColor + ( 1.0 - specularColor ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_Specular_BlinnPhong( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );
	float dotNH = saturate( dot( geometry.normal, halfDir ) );
	float dotLH = saturate( dot( incidentLight.direction, halfDir ) );
	vec3 F = F_Schlick( specularColor, dotLH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
}
float GGXRoughnessToBlinnExponent( const in float ggxRoughness ) {
	return ( 2.0 / pow2( ggxRoughness + 0.0001 ) - 2.0 );
}
float BlinnExponentToGGXRoughness( const in float blinnExponent ) {
	return sqrt( 2.0 / ( blinnExponent + 2.0 ) );
}
#if defined( USE_SHEEN )
float D_Charlie(float roughness, float NoH) {
	float invAlpha = 1.0 / roughness;
	float cos2h = NoH * NoH;
	float sin2h = max(1.0 - cos2h, 0.0078125);	return (2.0 + invAlpha) * pow(sin2h, invAlpha * 0.5) / (2.0 * PI);
}
float V_Neubelt(float NoV, float NoL) {
	return saturate(1.0 / (4.0 * (NoL + NoV - NoL * NoV)));
}
vec3 BRDF_Specular_Sheen( const in float roughness, const in vec3 L, const in GeometricContext geometry, vec3 specularColor ) {
	vec3 N = geometry.normal;
	vec3 V = geometry.viewDir;
	vec3 H = normalize( V + L );
	float dotNH = saturate( dot( N, H ) );
	return specularColor * D_Charlie( roughness, dotNH ) * V_Neubelt( dot(N, V), dot(N, L) );
}
#endif`,h6e=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vUv );
		vec2 dSTdy = dFdy( vUv );
		float Hll = bumpScale * texture2D( bumpMap, vUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = vec3( dFdx( surf_pos.x ), dFdx( surf_pos.y ), dFdx( surf_pos.z ) );
		vec3 vSigmaY = vec3( dFdy( surf_pos.x ), dFdy( surf_pos.y ), dFdy( surf_pos.z ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,d6e=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#pragma unroll_loop_start
	for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
		plane = clippingPlanes[ i ];
		if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
	}
	#pragma unroll_loop_end
	#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
		bool clipped = true;
		#pragma unroll_loop_start
		for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
		}
		#pragma unroll_loop_end
		if ( clipped ) discard;
	#endif
#endif`,p6e=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,m6e=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,g6e=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,v6e=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,x6e=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,y6e=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	varying vec3 vColor;
#endif`,_6e=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif`,b6e=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate(a) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement(a) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract(sin(sn) * c);
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float max3( vec3 v ) { return max( max( v.x, v.y ), v.z ); }
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
struct GeometricContext {
	vec3 position;
	vec3 normal;
	vec3 viewDir;
#ifdef CLEARCOAT
	vec3 clearcoatNormal;
#endif
};
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
vec3 projectOnPlane(in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {
	float distance = dot( planeNormal, point - pointOnPlane );
	return - distance * planeNormal + point;
}
float sideOfPlane( in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {
	return sign( dot( point - pointOnPlane, planeNormal ) );
}
vec3 linePlaneIntersect( in vec3 pointOnLine, in vec3 lineDirection, in vec3 pointOnPlane, in vec3 planeNormal ) {
	return lineDirection * ( dot( planeNormal, pointOnPlane - pointOnLine ) / dot( planeNormal, lineDirection ) ) + pointOnLine;
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
float linearToRelativeLuminance( const in vec3 color ) {
	vec3 weights = vec3( 0.2126, 0.7152, 0.0722 );
	return dot( weights, color.rgb );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}`,w6e=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_maxMipLevel 8.0
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_maxTileSize 256.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		float texelSize = 1.0 / ( 3.0 * cubeUV_maxTileSize );
		vec2 uv = getUV( direction, face ) * ( faceSize - 1.0 );
		vec2 f = fract( uv );
		uv += 0.5 - f;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		if ( mipInt < cubeUV_maxMipLevel ) {
			uv.y += 2.0 * cubeUV_maxTileSize;
		}
		uv.y += filterInt * 2.0 * cubeUV_minTileSize;
		uv.x += 3.0 * max( 0.0, cubeUV_maxTileSize - 2.0 * faceSize );
		uv *= texelSize;
		vec3 tl = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;
		uv.x += texelSize;
		vec3 tr = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;
		uv.y += texelSize;
		vec3 br = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;
		uv.x -= texelSize;
		vec3 bl = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;
		vec3 tm = mix( tl, tr, f.x );
		vec3 bm = mix( bl, br, f.x );
		return mix( tm, bm, f.y );
	}
	#define r0 1.0
	#define v0 0.339
	#define m0 - 2.0
	#define r1 0.8
	#define v1 0.276
	#define m1 - 1.0
	#define r4 0.4
	#define v4 0.046
	#define m4 2.0
	#define r5 0.305
	#define v5 0.016
	#define m5 3.0
	#define r6 0.21
	#define v6 0.0038
	#define m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= r1 ) {
			mip = ( r0 - roughness ) * ( m1 - m0 ) / ( r0 - r1 ) + m0;
		} else if ( roughness >= r4 ) {
			mip = ( r1 - roughness ) * ( m4 - m1 ) / ( r1 - r4 ) + m1;
		} else if ( roughness >= r5 ) {
			mip = ( r4 - roughness ) * ( m5 - m4 ) / ( r4 - r5 ) + m4;
		} else if ( roughness >= r6 ) {
			mip = ( r5 - roughness ) * ( m6 - m5 ) / ( r5 - r6 ) + m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), m0, cubeUV_maxMipLevel );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,M6e=`vec3 transformedNormal = objectNormal;
#ifdef USE_INSTANCING
	mat3 m = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );
	transformedNormal = m * transformedNormal;
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	vec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,S6e=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,A6e=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );
#endif`,T6e=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vUv );
	emissiveColor.rgb = emissiveMapTexelToLinear( emissiveColor ).rgb;
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,E6e=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,L6e="gl_FragColor = linearToOutputTexel( gl_FragColor );",C6e=`
vec4 LinearToLinear( in vec4 value ) {
	return value;
}
vec4 GammaToLinear( in vec4 value, in float gammaFactor ) {
	return vec4( pow( value.rgb, vec3( gammaFactor ) ), value.a );
}
vec4 LinearToGamma( in vec4 value, in float gammaFactor ) {
	return vec4( pow( value.rgb, vec3( 1.0 / gammaFactor ) ), value.a );
}
vec4 sRGBToLinear( in vec4 value ) {
	return vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );
}
vec4 LinearTosRGB( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}
vec4 RGBEToLinear( in vec4 value ) {
	return vec4( value.rgb * exp2( value.a * 255.0 - 128.0 ), 1.0 );
}
vec4 LinearToRGBE( in vec4 value ) {
	float maxComponent = max( max( value.r, value.g ), value.b );
	float fExp = clamp( ceil( log2( maxComponent ) ), -128.0, 127.0 );
	return vec4( value.rgb / exp2( fExp ), ( fExp + 128.0 ) / 255.0 );
}
vec4 RGBMToLinear( in vec4 value, in float maxRange ) {
	return vec4( value.rgb * value.a * maxRange, 1.0 );
}
vec4 LinearToRGBM( in vec4 value, in float maxRange ) {
	float maxRGB = max( value.r, max( value.g, value.b ) );
	float M = clamp( maxRGB / maxRange, 0.0, 1.0 );
	M = ceil( M * 255.0 ) / 255.0;
	return vec4( value.rgb / ( M * maxRange ), M );
}
vec4 RGBDToLinear( in vec4 value, in float maxRange ) {
	return vec4( value.rgb * ( ( maxRange / 255.0 ) / value.a ), 1.0 );
}
vec4 LinearToRGBD( in vec4 value, in float maxRange ) {
	float maxRGB = max( value.r, max( value.g, value.b ) );
	float D = max( maxRange / maxRGB, 1.0 );
	D = clamp( floor( D ) / 255.0, 0.0, 1.0 );
	return vec4( value.rgb * ( D * ( 255.0 / maxRange ) ), D );
}
const mat3 cLogLuvM = mat3( 0.2209, 0.3390, 0.4184, 0.1138, 0.6780, 0.7319, 0.0102, 0.1130, 0.2969 );
vec4 LinearToLogLuv( in vec4 value ) {
	vec3 Xp_Y_XYZp = cLogLuvM * value.rgb;
	Xp_Y_XYZp = max( Xp_Y_XYZp, vec3( 1e-6, 1e-6, 1e-6 ) );
	vec4 vResult;
	vResult.xy = Xp_Y_XYZp.xy / Xp_Y_XYZp.z;
	float Le = 2.0 * log2(Xp_Y_XYZp.y) + 127.0;
	vResult.w = fract( Le );
	vResult.z = ( Le - ( floor( vResult.w * 255.0 ) ) / 255.0 ) / 255.0;
	return vResult;
}
const mat3 cLogLuvInverseM = mat3( 6.0014, -2.7008, -1.7996, -1.3320, 3.1029, -5.7721, 0.3008, -1.0882, 5.6268 );
vec4 LogLuvToLinear( in vec4 value ) {
	float Le = value.z * 255.0 + value.w;
	vec3 Xp_Y_XYZp;
	Xp_Y_XYZp.y = exp2( ( Le - 127.0 ) / 2.0 );
	Xp_Y_XYZp.z = Xp_Y_XYZp.y / value.y;
	Xp_Y_XYZp.x = value.x * Xp_Y_XYZp.z;
	vec3 vRGB = cLogLuvInverseM * Xp_Y_XYZp.rgb;
	return vec4( max( vRGB, 0.0 ), 1.0 );
}`,P6e=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 envColor = textureCubeUV( envMap, reflectVec, 0.0 );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifndef ENVMAP_TYPE_CUBE_UV
		envColor = envMapTexelToLinear( envColor );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,R6e=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	uniform int maxMipLevel;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,F6e=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,I6e=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) ||defined( PHONG )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,D6e=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,N6e=`#ifdef USE_FOG
	fogDepth = - mvPosition.z;
#endif`,O6e=`#ifdef USE_FOG
	varying float fogDepth;
#endif`,B6e=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * fogDepth * fogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, fogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,U6e=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float fogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,z6e=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return texture2D( gradientMap, coord ).rgb;
	#else
		return ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );
	#endif
}`,k6e=`#ifdef USE_LIGHTMAP
	vec4 lightMapTexel= texture2D( lightMap, vUv2 );
	reflectedLight.indirectDiffuse += PI * lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;
#endif`,H6e=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,G6e=`vec3 diffuse = vec3( 1.0 );
GeometricContext geometry;
geometry.position = mvPosition.xyz;
geometry.normal = normalize( transformedNormal );
geometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( -mvPosition.xyz );
GeometricContext backGeometry;
backGeometry.position = geometry.position;
backGeometry.normal = -geometry.normal;
backGeometry.viewDir = geometry.viewDir;
vLightFront = vec3( 0.0 );
vIndirectFront = vec3( 0.0 );
#ifdef DOUBLE_SIDED
	vLightBack = vec3( 0.0 );
	vIndirectBack = vec3( 0.0 );
#endif
IncidentLight directLight;
float dotNL;
vec3 directLightColor_Diffuse;
vIndirectFront += getAmbientLightIrradiance( ambientLightColor );
vIndirectFront += getLightProbeIrradiance( lightProbe, geometry );
#ifdef DOUBLE_SIDED
	vIndirectBack += getAmbientLightIrradiance( ambientLightColor );
	vIndirectBack += getLightProbeIrradiance( lightProbe, backGeometry );
#endif
#if NUM_POINT_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		getPointDirectLightIrradiance( pointLights[ i ], geometry, directLight );
		dotNL = dot( geometry.normal, directLight.direction );
		directLightColor_Diffuse = PI * directLight.color;
		vLightFront += saturate( dotNL ) * directLightColor_Diffuse;
		#ifdef DOUBLE_SIDED
			vLightBack += saturate( -dotNL ) * directLightColor_Diffuse;
		#endif
	}
	#pragma unroll_loop_end
#endif
#if NUM_SPOT_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		getSpotDirectLightIrradiance( spotLights[ i ], geometry, directLight );
		dotNL = dot( geometry.normal, directLight.direction );
		directLightColor_Diffuse = PI * directLight.color;
		vLightFront += saturate( dotNL ) * directLightColor_Diffuse;
		#ifdef DOUBLE_SIDED
			vLightBack += saturate( -dotNL ) * directLightColor_Diffuse;
		#endif
	}
	#pragma unroll_loop_end
#endif
#if NUM_DIR_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		getDirectionalDirectLightIrradiance( directionalLights[ i ], geometry, directLight );
		dotNL = dot( geometry.normal, directLight.direction );
		directLightColor_Diffuse = PI * directLight.color;
		vLightFront += saturate( dotNL ) * directLightColor_Diffuse;
		#ifdef DOUBLE_SIDED
			vLightBack += saturate( -dotNL ) * directLightColor_Diffuse;
		#endif
	}
	#pragma unroll_loop_end
#endif
#if NUM_HEMI_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
		vIndirectFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );
		#ifdef DOUBLE_SIDED
			vIndirectBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry );
		#endif
	}
	#pragma unroll_loop_end
#endif`,V6e=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
uniform vec3 lightProbe[ 9 ];
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in GeometricContext geometry ) {
	vec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	#ifndef PHYSICALLY_CORRECT_LIGHTS
		irradiance *= PI;
	#endif
	return irradiance;
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalDirectLightIrradiance( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight directLight ) {
		directLight.color = directionalLight.color;
		directLight.direction = directionalLight.direction;
		directLight.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointDirectLightIrradiance( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight directLight ) {
		vec3 lVector = pointLight.position - geometry.position;
		directLight.direction = normalize( lVector );
		float lightDistance = length( lVector );
		directLight.color = pointLight.color;
		directLight.color *= punctualLightIntensityToIrradianceFactor( lightDistance, pointLight.distance, pointLight.decay );
		directLight.visible = ( directLight.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotDirectLightIrradiance( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight directLight ) {
		vec3 lVector = spotLight.position - geometry.position;
		directLight.direction = normalize( lVector );
		float lightDistance = length( lVector );
		float angleCos = dot( directLight.direction, spotLight.direction );
		if ( angleCos > spotLight.coneCos ) {
			float spotEffect = smoothstep( spotLight.coneCos, spotLight.penumbraCos, angleCos );
			directLight.color = spotLight.color;
			directLight.color *= spotEffect * punctualLightIntensityToIrradianceFactor( lightDistance, spotLight.distance, spotLight.decay );
			directLight.visible = true;
		} else {
			directLight.color = vec3( 0.0 );
			directLight.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in GeometricContext geometry ) {
		float dotNL = dot( geometry.normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		#ifndef PHYSICALLY_CORRECT_LIGHTS
			irradiance *= PI;
		#endif
		return irradiance;
	}
#endif`,W6e=`#if defined( USE_ENVMAP )
	#ifdef ENVMAP_MODE_REFRACTION
		uniform float refractionRatio;
	#endif
	vec3 getLightProbeIndirectIrradiance( const in GeometricContext geometry, const in int maxMIPLevel ) {
		vec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );
		#ifdef ENVMAP_TYPE_CUBE
			vec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );
			#ifdef TEXTURE_LOD_EXT
				vec4 envMapColor = textureCubeLodEXT( envMap, queryVec, float( maxMIPLevel ) );
			#else
				vec4 envMapColor = textureCube( envMap, queryVec, float( maxMIPLevel ) );
			#endif
			envMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;
		#elif defined( ENVMAP_TYPE_CUBE_UV )
			vec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );
		#else
			vec4 envMapColor = vec4( 0.0 );
		#endif
		return PI * envMapColor.rgb * envMapIntensity;
	}
	float getSpecularMIPLevel( const in float roughness, const in int maxMIPLevel ) {
		float maxMIPLevelScalar = float( maxMIPLevel );
		float sigma = PI * roughness * roughness / ( 1.0 + roughness );
		float desiredMIPLevel = maxMIPLevelScalar + log2( sigma );
		return clamp( desiredMIPLevel, 0.0, maxMIPLevelScalar );
	}
	vec3 getLightProbeIndirectRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in int maxMIPLevel ) {
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( -viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
		#else
			vec3 reflectVec = refract( -viewDir, normal, refractionRatio );
		#endif
		reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
		float specularMIPLevel = getSpecularMIPLevel( roughness, maxMIPLevel );
		#ifdef ENVMAP_TYPE_CUBE
			vec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );
			#ifdef TEXTURE_LOD_EXT
				vec4 envMapColor = textureCubeLodEXT( envMap, queryReflectVec, specularMIPLevel );
			#else
				vec4 envMapColor = textureCube( envMap, queryReflectVec, specularMIPLevel );
			#endif
			envMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;
		#elif defined( ENVMAP_TYPE_CUBE_UV )
			vec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );
		#endif
		return envMapColor.rgb * envMapIntensity;
	}
#endif`,X6e=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,Y6e=`varying vec3 vViewPosition;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;
	#ifndef PHYSICALLY_CORRECT_LIGHTS
		irradiance *= PI;
	#endif
	reflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon
#define Material_LightProbeLOD( material )	(0)`,$6e=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,q6e=`varying vec3 vViewPosition;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifndef PHYSICALLY_CORRECT_LIGHTS
		irradiance *= PI;
	#endif
	reflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_Specular_BlinnPhong( directLight, geometry, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong
#define Material_LightProbeLOD( material )	(0)`,j6e=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.specularRoughness = max( roughnessFactor, 0.0525 );material.specularRoughness += geometryRoughness;
material.specularRoughness = min( material.specularRoughness, 1.0 );
#ifdef REFLECTIVITY
	material.specularColor = mix( vec3( MAXIMUM_SPECULAR_COEFFICIENT * pow2( reflectivity ) ), rawDiffuseColor, metalnessFactor );
#else
	material.specularColor = mix( vec3( DEFAULT_SPECULAR_COEFFICIENT ), rawDiffuseColor, metalnessFactor );
#endif
#ifdef CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheen;
#endif`,Z6e=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float specularRoughness;
	vec3 specularColor;
#ifdef CLEARCOAT
	float clearcoat;
	float clearcoatRoughness;
#endif
#ifdef USE_SHEEN
	vec3 sheenColor;
#endif
};
#define MAXIMUM_SPECULAR_COEFFICIENT 0.16
#define DEFAULT_SPECULAR_COEFFICIENT 0.04
float clearcoatDHRApprox( const in float roughness, const in float dotNL ) {
	return DEFAULT_SPECULAR_COEFFICIENT + ( 1.0 - DEFAULT_SPECULAR_COEFFICIENT ) * ( pow( 1.0 - dotNL, 5.0 ) * pow( 1.0 - roughness, 2.0 ) );
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometry.normal;
		vec3 viewDir = geometry.viewDir;
		vec3 position = geometry.position;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.specularRoughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifndef PHYSICALLY_CORRECT_LIGHTS
		irradiance *= PI;
	#endif
	#ifdef CLEARCOAT
		float ccDotNL = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = ccDotNL * directLight.color;
		#ifndef PHYSICALLY_CORRECT_LIGHTS
			ccIrradiance *= PI;
		#endif
		float clearcoatDHR = material.clearcoat * clearcoatDHRApprox( material.clearcoatRoughness, ccDotNL );
		reflectedLight.directSpecular += ccIrradiance * material.clearcoat * BRDF_Specular_GGX( directLight, geometry.viewDir, geometry.clearcoatNormal, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearcoatRoughness );
	#else
		float clearcoatDHR = 0.0;
	#endif
	#ifdef USE_SHEEN
		reflectedLight.directSpecular += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Specular_Sheen(
			material.specularRoughness,
			directLight.direction,
			geometry,
			material.sheenColor
		);
	#else
		reflectedLight.directSpecular += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Specular_GGX( directLight, geometry.viewDir, geometry.normal, material.specularColor, material.specularRoughness);
	#endif
	reflectedLight.directDiffuse += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef CLEARCOAT
		float ccDotNV = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );
		reflectedLight.indirectSpecular += clearcoatRadiance * material.clearcoat * BRDF_Specular_GGX_Environment( geometry.viewDir, geometry.clearcoatNormal, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearcoatRoughness );
		float ccDotNL = ccDotNV;
		float clearcoatDHR = material.clearcoat * clearcoatDHRApprox( material.clearcoatRoughness, ccDotNL );
	#else
		float clearcoatDHR = 0.0;
	#endif
	float clearcoatInv = 1.0 - clearcoatDHR;
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	BRDF_Specular_Multiscattering_Environment( geometry, material.specularColor, material.specularRoughness, singleScattering, multiScattering );
	vec3 diffuse = material.diffuseColor * ( 1.0 - ( singleScattering + multiScattering ) );
	reflectedLight.indirectSpecular += clearcoatInv * radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,Q6e=`
GeometricContext geometry;
geometry.position = - vViewPosition;
geometry.normal = normal;
geometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
#ifdef CLEARCOAT
	geometry.clearcoatNormal = clearcoatNormal;
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointDirectLightIrradiance( pointLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotDirectLightIrradiance( spotLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalDirectLightIrradiance( directionalLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	irradiance += getLightProbeIrradiance( lightProbe, geometry );
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,J6e=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel= texture2D( lightMap, vUv2 );
		vec3 lightMapIrradiance = lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;
		#ifndef PHYSICALLY_CORRECT_LIGHTS
			lightMapIrradiance *= PI;
		#endif
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getLightProbeIndirectIrradiance( geometry, maxMipLevel );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	radiance += getLightProbeIndirectRadiance( geometry.viewDir, geometry.normal, material.specularRoughness, maxMipLevel );
	#ifdef CLEARCOAT
		clearcoatRadiance += getLightProbeIndirectRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness, maxMipLevel );
	#endif
#endif`,K6e=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );
#endif`,e7e=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	gl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,t7e=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,n7e=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		varying float vFragDepth;
		varying float vIsPerspective;
	#else
		uniform float logDepthBufFC;
	#endif
#endif`,i7e=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		vFragDepth = 1.0 + gl_Position.w;
		vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
	#else
		if ( isPerspectiveMatrix( projectionMatrix ) ) {
			gl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;
			gl_Position.z *= gl_Position.w;
		}
	#endif
#endif`,r7e=`#ifdef USE_MAP
	vec4 texelColor = texture2D( map, vUv );
	texelColor = mapTexelToLinear( texelColor );
	diffuseColor *= texelColor;
#endif`,s7e=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,o7e=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
#endif
#ifdef USE_MAP
	vec4 mapTexel = texture2D( map, uv );
	diffuseColor *= mapTexelToLinear( mapTexel );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,a7e=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	uniform mat3 uvTransform;
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,l7e=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vUv );
	metalnessFactor *= texelMetalness.b;
#endif`,c7e=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,u7e=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	objectNormal += morphNormal0 * morphTargetInfluences[ 0 ];
	objectNormal += morphNormal1 * morphTargetInfluences[ 1 ];
	objectNormal += morphNormal2 * morphTargetInfluences[ 2 ];
	objectNormal += morphNormal3 * morphTargetInfluences[ 3 ];
#endif`,f7e=`#ifdef USE_MORPHTARGETS
	uniform float morphTargetBaseInfluence;
	#ifndef USE_MORPHNORMALS
		uniform float morphTargetInfluences[ 8 ];
	#else
		uniform float morphTargetInfluences[ 4 ];
	#endif
#endif`,h7e=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	transformed += morphTarget0 * morphTargetInfluences[ 0 ];
	transformed += morphTarget1 * morphTargetInfluences[ 1 ];
	transformed += morphTarget2 * morphTargetInfluences[ 2 ];
	transformed += morphTarget3 * morphTargetInfluences[ 3 ];
	#ifndef USE_MORPHNORMALS
		transformed += morphTarget4 * morphTargetInfluences[ 4 ];
		transformed += morphTarget5 * morphTargetInfluences[ 5 ];
		transformed += morphTarget6 * morphTargetInfluences[ 6 ];
		transformed += morphTarget7 * morphTargetInfluences[ 7 ];
	#endif
#endif`,d7e=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );
	vec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	#ifdef USE_TANGENT
		vec3 tangent = normalize( vTangent );
		vec3 bitangent = normalize( vBitangent );
		#ifdef DOUBLE_SIDED
			tangent = tangent * faceDirection;
			bitangent = bitangent * faceDirection;
		#endif
		#if defined( TANGENTSPACE_NORMALMAP ) || defined( USE_CLEARCOAT_NORMALMAP )
			mat3 vTBN = mat3( tangent, bitangent, normal );
		#endif
	#endif
#endif
vec3 geometryNormal = normal;`,p7e=`#ifdef OBJECTSPACE_NORMALMAP
	normal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( TANGENTSPACE_NORMALMAP )
	vec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	#ifdef USE_TANGENT
		normal = normalize( vTBN * mapN );
	#else
		normal = perturbNormal2Arb( -vViewPosition, normal, mapN, faceDirection );
	#endif
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( -vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,m7e=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef OBJECTSPACE_NORMALMAP
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )
	vec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 mapN, float faceDirection ) {
		vec3 q0 = vec3( dFdx( eye_pos.x ), dFdx( eye_pos.y ), dFdx( eye_pos.z ) );
		vec3 q1 = vec3( dFdy( eye_pos.x ), dFdy( eye_pos.y ), dFdy( eye_pos.z ) );
		vec2 st0 = dFdx( vUv.st );
		vec2 st1 = dFdy( vUv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : faceDirection * inversesqrt( det );
		return normalize( T * ( mapN.x * scale ) + B * ( mapN.y * scale ) + N * mapN.z );
	}
#endif`,g7e=`#ifdef CLEARCOAT
	vec3 clearcoatNormal = geometryNormal;
#endif`,v7e=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	#ifdef USE_TANGENT
		clearcoatNormal = normalize( vTBN * clearcoatMapN );
	#else
		clearcoatNormal = perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatMapN, faceDirection );
	#endif
#endif`,x7e=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif`,y7e=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;
const vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );
const vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );
const float ShiftRight8 = 1. / 256.;
vec4 packDepthToRGBA( const in float v ) {
	vec4 r = vec4( fract( v * PackFactors ), v );
	r.yzw -= r.xyz * ShiftRight8;	return r * PackUpscale;
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors );
}
vec4 pack2HalfToRGBA( vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ));
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w);
}
vec2 unpackRGBATo2Half( vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {
	return linearClipZ * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return (( near + viewZ ) * far ) / (( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * invClipZ - far );
}`,_7e=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,b7e=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,w7e=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,M7e=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,S7e=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vUv );
	roughnessFactor *= texelRoughness.g;
#endif`,A7e=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,T7e=`#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		varying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );
		bool inFrustum = all( inFrustumVec );
		bvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );
		bool frustumTest = all( frustumTestVec );
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ), 
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ), 
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return shadow;
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
		vec3 lightToPosition = shadowCoord.xyz;
		float dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );		dp += shadowBias;
		vec3 bd3D = normalize( lightToPosition );
		#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
			vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
			return (
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
			) * ( 1.0 / 9.0 );
		#else
			return texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
		#endif
	}
#endif`,E7e=`#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHT_SHADOWS ];
		varying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,L7e=`#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0 || NUM_SPOT_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0
		vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		vec4 shadowWorldPosition;
	#endif
	#if NUM_DIR_LIGHT_SHADOWS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
		vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias, 0 );
		vSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
		vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
#endif`,C7e=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,P7e=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,R7e=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	#ifdef BONE_TEXTURE
		uniform highp sampler2D boneTexture;
		uniform int boneTextureSize;
		mat4 getBoneMatrix( const in float i ) {
			float j = i * 4.0;
			float x = mod( j, float( boneTextureSize ) );
			float y = floor( j / float( boneTextureSize ) );
			float dx = 1.0 / float( boneTextureSize );
			float dy = 1.0 / float( boneTextureSize );
			y = dy * ( y + 0.5 );
			vec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );
			vec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );
			vec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );
			vec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );
			mat4 bone = mat4( v1, v2, v3, v4 );
			return bone;
		}
	#else
		uniform mat4 boneMatrices[ MAX_BONES ];
		mat4 getBoneMatrix( const in float i ) {
			mat4 bone = boneMatrices[ int(i) ];
			return bone;
		}
	#endif
#endif`,F7e=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,I7e=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,D7e=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,N7e=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,O7e=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,B7e=`#ifndef saturate
#define saturate(a) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return toneMappingExposure * color;
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 OptimizedCineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,U7e=`#ifdef USE_TRANSMISSION
	#ifdef USE_TRANSMISSIONMAP
		totalTransmission *= texture2D( transmissionMap, vUv ).r;
	#endif
	#ifdef USE_THICKNESSNMAP
		thicknessFactor *= texture2D( thicknessMap, vUv ).g;
	#endif
	vec3 pos = vWorldPosition.xyz / vWorldPosition.w;
	vec3 v = normalize( cameraPosition - pos );
	vec3 viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
	float ior = ( 1.0 + 0.4 * reflectivity ) / ( 1.0 - 0.4 * reflectivity );
	vec3 f0 = vec3( pow( ior - 1.0, 2.0 ) / pow( ior + 1.0, 2.0 ) );
	vec3 f90 = vec3( 1.0 );
	vec3 f_transmission = totalTransmission * getIBLVolumeRefraction(
		normal, v, viewDir, roughnessFactor, diffuseColor.rgb, f0, f90,
		pos, modelMatrix, viewMatrix, projectionMatrix, ior, thicknessFactor,
		attenuationColor, attenuationDistance);
	diffuseColor.rgb = mix( diffuseColor.rgb, f_transmission, totalTransmission );
#endif`,z7e=`#ifdef USE_TRANSMISSION
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec4 vWorldPosition;
	vec3 getVolumeTransmissionRay(vec3 n, vec3 v, float thickness, float ior, mat4 modelMatrix) {
		vec3 refractionVector = refract(-v, normalize(n), 1.0 / ior);
		vec3 modelScale;
		modelScale.x = length(vec3(modelMatrix[0].xyz));
		modelScale.y = length(vec3(modelMatrix[1].xyz));
		modelScale.z = length(vec3(modelMatrix[2].xyz));
		return normalize(refractionVector) * thickness * modelScale;
	}
	float applyIorToRoughness(float roughness, float ior) {
		return roughness * clamp(ior * 2.0 - 2.0, 0.0, 1.0);
	}
	vec3 getTransmissionSample(vec2 fragCoord, float roughness, float ior) {
		float framebufferLod = log2(transmissionSamplerSize.x) * applyIorToRoughness(roughness, ior);
		return texture2DLodEXT(transmissionSamplerMap, fragCoord.xy, framebufferLod).rgb;
	}
	vec3 applyVolumeAttenuation(vec3 radiance, float transmissionDistance, vec3 attenuationColor, float attenuationDistance) {
		if (attenuationDistance == 0.0) {
			return radiance;
		} else {
			vec3 attenuationCoefficient = -log(attenuationColor) / attenuationDistance;
			vec3 transmittance = exp(-attenuationCoefficient * transmissionDistance);			return transmittance * radiance;
		}
	}
	vec3 getIBLVolumeRefraction(vec3 n, vec3 v, vec3 viewDir, float perceptualRoughness, vec3 baseColor, vec3 f0, vec3 f90,
		vec3 position, mat4 modelMatrix, mat4 viewMatrix, mat4 projMatrix, float ior, float thickness, vec3 attenuationColor, float attenuationDistance) {
		vec3 transmissionRay = getVolumeTransmissionRay(n, v, thickness, ior, modelMatrix);
		vec3 refractedRayExit = position + transmissionRay;
		vec4 ndcPos = projMatrix * viewMatrix * vec4(refractedRayExit, 1.0);
		vec2 refractionCoords = ndcPos.xy / ndcPos.w;
		refractionCoords += 1.0;
		refractionCoords /= 2.0;
		vec3 transmittedLight = getTransmissionSample(refractionCoords, perceptualRoughness, ior);
		vec3 attenuatedColor = applyVolumeAttenuation(transmittedLight, length(transmissionRay), attenuationColor, attenuationDistance);
		float NdotV = saturate(dot(n, viewDir));
		vec2 brdf = integrateSpecularBRDF(NdotV, perceptualRoughness);
		vec3 specularColor = f0 * brdf.x + f90 * brdf.y;
		return (1.0 - specularColor) * attenuatedColor * baseColor;
	}
#endif`,k7e=`#if ( defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ) )
	varying vec2 vUv;
#endif`,H7e=`#ifdef USE_UV
	#ifdef UVS_VERTEX_ONLY
		vec2 vUv;
	#else
		varying vec2 vUv;
	#endif
	uniform mat3 uvTransform;
#endif`,G7e=`#ifdef USE_UV
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
#endif`,V7e=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	varying vec2 vUv2;
#endif`,W7e=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	attribute vec2 uv2;
	varying vec2 vUv2;
	uniform mat3 uv2Transform;
#endif`,X7e=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	vUv2 = ( uv2Transform * vec3( uv2, 1 ) ).xy;
#endif`,Y7e=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION )
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`,$7e=`uniform sampler2D t2D;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	gl_FragColor = mapTexelToLinear( texColor );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,q7e=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,j7e=`#include <envmap_common_pars_fragment>
uniform float opacity;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	vec3 vReflect = vWorldDirection;
	#include <envmap_fragment>
	gl_FragColor = envColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,Z7e=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,Q7e=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#endif
}`,J7e=`#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,K7e=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,eve=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,tve=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	vec4 texColor = texture2D( tEquirect, sampleUV );
	gl_FragColor = mapTexelToLinear( texColor );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,nve=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,ive=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	gl_FragColor = vec4( outgoingLight, diffuseColor.a );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,rve=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <color_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,sve=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <cube_uv_reflection_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
	
		vec4 lightMapTexel= texture2D( lightMap, vUv2 );
		reflectedLight.indirectDiffuse += lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	gl_FragColor = vec4( outgoingLight, diffuseColor.a );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,ove=`#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <skinbase_vertex>
	#ifdef USE_ENVMAP
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,ave=`uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
varying vec3 vLightFront;
varying vec3 vIndirectFront;
#ifdef DOUBLE_SIDED
	varying vec3 vLightBack;
	varying vec3 vIndirectBack;
#endif
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <cube_uv_reflection_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <fog_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <emissivemap_fragment>
	#ifdef DOUBLE_SIDED
		reflectedLight.indirectDiffuse += ( gl_FrontFacing ) ? vIndirectFront : vIndirectBack;
	#else
		reflectedLight.indirectDiffuse += vIndirectFront;
	#endif
	#include <lightmap_fragment>
	reflectedLight.indirectDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb );
	#ifdef DOUBLE_SIDED
		reflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;
	#else
		reflectedLight.directDiffuse = vLightFront;
	#endif
	reflectedLight.directDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb ) * getShadowMask();
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	gl_FragColor = vec4( outgoingLight, diffuseColor.a );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,lve=`#define LAMBERT
varying vec3 vLightFront;
varying vec3 vIndirectFront;
#ifdef DOUBLE_SIDED
	varying vec3 vLightBack;
	varying vec3 vIndirectBack;
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <envmap_pars_vertex>
#include <bsdfs>
#include <lights_pars_begin>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <lights_lambert_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,cve=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <fog_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
		matcapColor = matcapTexelToLinear( matcapColor );
	#else
		vec4 matcapColor = vec4( 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	gl_FragColor = vec4( outgoingLight, diffuseColor.a );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,uve=`#define MATCAP
varying vec3 vViewPosition;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#ifndef FLAT_SHADED
		vNormal = normalize( transformedNormal );
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,fve=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	gl_FragColor = vec4( outgoingLight, diffuseColor.a );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,hve=`#define TOON
varying vec3 vViewPosition;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,dve=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <cube_uv_reflection_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	gl_FragColor = vec4( outgoingLight, diffuseColor.a );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,pve=`#define PHONG
varying vec3 vViewPosition;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,mve=`#define STANDARD
#ifdef PHYSICAL
	#define REFLECTIVITY
	#define CLEARCOAT
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform vec3 attenuationColor;
	uniform float attenuationDistance;
#endif
#ifdef REFLECTIVITY
	uniform float reflectivity;
#endif
#ifdef CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheen;
#endif
varying vec3 vViewPosition;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <bsdfs>
#include <transmission_pars_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <lights_physical_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#ifdef USE_TRANSMISSION
		float totalTransmission = transmission;
		float thicknessFactor = thickness;
	#endif
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	vec3 rawDiffuseColor = diffuseColor.rgb;
	#include <transmission_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	gl_FragColor = vec4( outgoingLight, diffuseColor.a );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,gve=`#define STANDARD
varying vec3 vViewPosition;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif
#ifdef USE_TRANSMISSION
	varying vec4 vWorldPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition;
#endif
}`,vve=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif
#include <packing>
#include <uv_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), opacity );
}`,xve=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	vViewPosition = - mvPosition.xyz;
#endif
}`,yve=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	gl_FragColor = vec4( outgoingLight, diffuseColor.a );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,_ve=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <color_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,bve=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,wve=`#include <common>
#include <fog_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <begin_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Mve=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	gl_FragColor = vec4( outgoingLight, diffuseColor.a );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,Sve=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
	vec2 scale;
	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`;const yt={alphamap_fragment:r6e,alphamap_pars_fragment:s6e,alphatest_fragment:o6e,aomap_fragment:a6e,aomap_pars_fragment:l6e,begin_vertex:c6e,beginnormal_vertex:u6e,bsdfs:f6e,bumpmap_pars_fragment:h6e,clipping_planes_fragment:d6e,clipping_planes_pars_fragment:p6e,clipping_planes_pars_vertex:m6e,clipping_planes_vertex:g6e,color_fragment:v6e,color_pars_fragment:x6e,color_pars_vertex:y6e,color_vertex:_6e,common:b6e,cube_uv_reflection_fragment:w6e,defaultnormal_vertex:M6e,displacementmap_pars_vertex:S6e,displacementmap_vertex:A6e,emissivemap_fragment:T6e,emissivemap_pars_fragment:E6e,encodings_fragment:L6e,encodings_pars_fragment:C6e,envmap_fragment:P6e,envmap_common_pars_fragment:R6e,envmap_pars_fragment:F6e,envmap_pars_vertex:I6e,envmap_physical_pars_fragment:W6e,envmap_vertex:D6e,fog_vertex:N6e,fog_pars_vertex:O6e,fog_fragment:B6e,fog_pars_fragment:U6e,gradientmap_pars_fragment:z6e,lightmap_fragment:k6e,lightmap_pars_fragment:H6e,lights_lambert_vertex:G6e,lights_pars_begin:V6e,lights_toon_fragment:X6e,lights_toon_pars_fragment:Y6e,lights_phong_fragment:$6e,lights_phong_pars_fragment:q6e,lights_physical_fragment:j6e,lights_physical_pars_fragment:Z6e,lights_fragment_begin:Q6e,lights_fragment_maps:J6e,lights_fragment_end:K6e,logdepthbuf_fragment:e7e,logdepthbuf_pars_fragment:t7e,logdepthbuf_pars_vertex:n7e,logdepthbuf_vertex:i7e,map_fragment:r7e,map_pars_fragment:s7e,map_particle_fragment:o7e,map_particle_pars_fragment:a7e,metalnessmap_fragment:l7e,metalnessmap_pars_fragment:c7e,morphnormal_vertex:u7e,morphtarget_pars_vertex:f7e,morphtarget_vertex:h7e,normal_fragment_begin:d7e,normal_fragment_maps:p7e,normalmap_pars_fragment:m7e,clearcoat_normal_fragment_begin:g7e,clearcoat_normal_fragment_maps:v7e,clearcoat_pars_fragment:x7e,packing:y7e,premultiplied_alpha_fragment:_7e,project_vertex:b7e,dithering_fragment:w7e,dithering_pars_fragment:M7e,roughnessmap_fragment:S7e,roughnessmap_pars_fragment:A7e,shadowmap_pars_fragment:T7e,shadowmap_pars_vertex:E7e,shadowmap_vertex:L7e,shadowmask_pars_fragment:C7e,skinbase_vertex:P7e,skinning_pars_vertex:R7e,skinning_vertex:F7e,skinnormal_vertex:I7e,specularmap_fragment:D7e,specularmap_pars_fragment:N7e,tonemapping_fragment:O7e,tonemapping_pars_fragment:B7e,transmission_fragment:U7e,transmission_pars_fragment:z7e,uv_pars_fragment:k7e,uv_pars_vertex:H7e,uv_vertex:G7e,uv2_pars_fragment:V7e,uv2_pars_vertex:W7e,uv2_vertex:X7e,worldpos_vertex:Y7e,background_frag:$7e,background_vert:q7e,cube_frag:j7e,cube_vert:Z7e,depth_frag:Q7e,depth_vert:J7e,distanceRGBA_frag:K7e,distanceRGBA_vert:eve,equirect_frag:tve,equirect_vert:nve,linedashed_frag:ive,linedashed_vert:rve,meshbasic_frag:sve,meshbasic_vert:ove,meshlambert_frag:ave,meshlambert_vert:lve,meshmatcap_frag:cve,meshmatcap_vert:uve,meshtoon_frag:fve,meshtoon_vert:hve,meshphong_frag:dve,meshphong_vert:pve,meshphysical_frag:mve,meshphysical_vert:gve,normal_frag:vve,normal_vert:xve,points_frag:yve,points_vert:_ve,shadow_frag:bve,shadow_vert:wve,sprite_frag:Mve,sprite_vert:Sve},Je={common:{diffuse:{value:new ht(16777215)},opacity:{value:1},map:{value:null},uvTransform:{value:new Bi},uv2Transform:{value:new Bi},alphaMap:{value:null}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},refractionRatio:{value:.98},maxMipLevel:{value:0}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new qe(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new ht(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotShadowMap:{value:[]},spotShadowMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new ht(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},uvTransform:{value:new Bi}},sprite:{diffuse:{value:new ht(16777215)},opacity:{value:1},center:{value:new qe(.5,.5)},rotation:{value:0},map:{value:null},alphaMap:{value:null},uvTransform:{value:new Bi}}},io={basic:{uniforms:Ki([Je.common,Je.specularmap,Je.envmap,Je.aomap,Je.lightmap,Je.fog]),vertexShader:yt.meshbasic_vert,fragmentShader:yt.meshbasic_frag},lambert:{uniforms:Ki([Je.common,Je.specularmap,Je.envmap,Je.aomap,Je.lightmap,Je.emissivemap,Je.fog,Je.lights,{emissive:{value:new ht(0)}}]),vertexShader:yt.meshlambert_vert,fragmentShader:yt.meshlambert_frag},phong:{uniforms:Ki([Je.common,Je.specularmap,Je.envmap,Je.aomap,Je.lightmap,Je.emissivemap,Je.bumpmap,Je.normalmap,Je.displacementmap,Je.fog,Je.lights,{emissive:{value:new ht(0)},specular:{value:new ht(1118481)},shininess:{value:30}}]),vertexShader:yt.meshphong_vert,fragmentShader:yt.meshphong_frag},standard:{uniforms:Ki([Je.common,Je.envmap,Je.aomap,Je.lightmap,Je.emissivemap,Je.bumpmap,Je.normalmap,Je.displacementmap,Je.roughnessmap,Je.metalnessmap,Je.fog,Je.lights,{emissive:{value:new ht(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:yt.meshphysical_vert,fragmentShader:yt.meshphysical_frag},toon:{uniforms:Ki([Je.common,Je.aomap,Je.lightmap,Je.emissivemap,Je.bumpmap,Je.normalmap,Je.displacementmap,Je.gradientmap,Je.fog,Je.lights,{emissive:{value:new ht(0)}}]),vertexShader:yt.meshtoon_vert,fragmentShader:yt.meshtoon_frag},matcap:{uniforms:Ki([Je.common,Je.bumpmap,Je.normalmap,Je.displacementmap,Je.fog,{matcap:{value:null}}]),vertexShader:yt.meshmatcap_vert,fragmentShader:yt.meshmatcap_frag},points:{uniforms:Ki([Je.points,Je.fog]),vertexShader:yt.points_vert,fragmentShader:yt.points_frag},dashed:{uniforms:Ki([Je.common,Je.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:yt.linedashed_vert,fragmentShader:yt.linedashed_frag},depth:{uniforms:Ki([Je.common,Je.displacementmap]),vertexShader:yt.depth_vert,fragmentShader:yt.depth_frag},normal:{uniforms:Ki([Je.common,Je.bumpmap,Je.normalmap,Je.displacementmap,{opacity:{value:1}}]),vertexShader:yt.normal_vert,fragmentShader:yt.normal_frag},sprite:{uniforms:Ki([Je.sprite,Je.fog]),vertexShader:yt.sprite_vert,fragmentShader:yt.sprite_frag},background:{uniforms:{uvTransform:{value:new Bi},t2D:{value:null}},vertexShader:yt.background_vert,fragmentShader:yt.background_frag},cube:{uniforms:Ki([Je.envmap,{opacity:{value:1}}]),vertexShader:yt.cube_vert,fragmentShader:yt.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:yt.equirect_vert,fragmentShader:yt.equirect_frag},distanceRGBA:{uniforms:Ki([Je.common,Je.displacementmap,{referencePosition:{value:new me},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:yt.distanceRGBA_vert,fragmentShader:yt.distanceRGBA_frag},shadow:{uniforms:Ki([Je.lights,Je.fog,{color:{value:new ht(0)},opacity:{value:1}}]),vertexShader:yt.shadow_vert,fragmentShader:yt.shadow_frag}};io.physical={uniforms:Ki([io.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatNormalScale:{value:new qe(1,1)},clearcoatNormalMap:{value:null},sheen:{value:new ht(0)},transmission:{value:0},transmissionMap:{value:null},transmissionSamplerSize:{value:new qe},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},attenuationDistance:{value:0},attenuationColor:{value:new ht(0)}}]),vertexShader:yt.meshphysical_vert,fragmentShader:yt.meshphysical_frag};function Ave(n,e,t,i,r){const s=new ht(0);let o=0,a,l,c=null,u=0,f=null;function h(m,v){let _=!1,g=v.isScene===!0?v.background:null;g&&g.isTexture&&(g=e.get(g));const x=n.xr,b=x.getSession&&x.getSession();b&&b.environmentBlendMode==="additive"&&(g=null),g===null?d(s,o):g&&g.isColor&&(d(g,1),_=!0),(n.autoClear||_)&&n.clear(n.autoClearColor,n.autoClearDepth,n.autoClearStencil),g&&(g.isCubeTexture||g.mapping===Cb)?(l===void 0&&(l=new x0(new uw(1,1,1),new yl({name:"BackgroundCubeMaterial",uniforms:Jh(io.cube.uniforms),vertexShader:io.cube.vertexShader,fragmentShader:io.cube.fragmentShader,side:Mi,depthTest:!1,depthWrite:!1,fog:!1})),l.geometry.deleteAttribute("normal"),l.geometry.deleteAttribute("uv"),l.onBeforeRender=function(w,S,A){this.matrixWorld.copyPosition(A.matrixWorld)},Object.defineProperty(l.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),i.update(l)),l.material.uniforms.envMap.value=g,l.material.uniforms.flipEnvMap.value=g.isCubeTexture&&g._needsFlipEnvMap?-1:1,(c!==g||u!==g.version||f!==n.toneMapping)&&(l.material.needsUpdate=!0,c=g,u=g.version,f=n.toneMapping),m.unshift(l,l.geometry,l.material,0,0,null)):g&&g.isTexture&&(a===void 0&&(a=new x0(new i6e(2,2),new yl({name:"BackgroundMaterial",uniforms:Jh(io.background.uniforms),vertexShader:io.background.vertexShader,fragmentShader:io.background.fragmentShader,side:I5,depthTest:!1,depthWrite:!1,fog:!1})),a.geometry.deleteAttribute("normal"),Object.defineProperty(a.material,"map",{get:function(){return this.uniforms.t2D.value}}),i.update(a)),a.material.uniforms.t2D.value=g,g.matrixAutoUpdate===!0&&g.updateMatrix(),a.material.uniforms.uvTransform.value.copy(g.matrix),(c!==g||u!==g.version||f!==n.toneMapping)&&(a.material.needsUpdate=!0,c=g,u=g.version,f=n.toneMapping),m.unshift(a,a.geometry,a.material,0,0,null))}function d(m,v){t.buffers.color.setClear(m.r,m.g,m.b,v,r)}return{getClearColor:function(){return s},setClearColor:function(m,v=1){s.set(m),o=v,d(s,o)},getClearAlpha:function(){return o},setClearAlpha:function(m){o=m,d(s,o)},render:h}}function Tve(n,e,t,i){const r=n.getParameter(34921),s=i.isWebGL2?null:e.get("OES_vertex_array_object"),o=i.isWebGL2||s!==null,a={},l=v(null);let c=l;function u(D,P,I,C,B){let Y=!1;if(o){const j=m(C,I,P);c!==j&&(c=j,h(c.object)),Y=_(C,B),Y&&g(C,B)}else{const j=P.wireframe===!0;(c.geometry!==C.id||c.program!==I.id||c.wireframe!==j)&&(c.geometry=C.id,c.program=I.id,c.wireframe=j,Y=!0)}D.isInstancedMesh===!0&&(Y=!0),B!==null&&t.update(B,34963),Y&&(T(D,P,I,C),B!==null&&n.bindBuffer(34963,t.get(B).buffer))}function f(){return i.isWebGL2?n.createVertexArray():s.createVertexArrayOES()}function h(D){return i.isWebGL2?n.bindVertexArray(D):s.bindVertexArrayOES(D)}function d(D){return i.isWebGL2?n.deleteVertexArray(D):s.deleteVertexArrayOES(D)}function m(D,P,I){const C=I.wireframe===!0;let B=a[D.id];B===void 0&&(B={},a[D.id]=B);let Y=B[P.id];Y===void 0&&(Y={},B[P.id]=Y);let j=Y[C];return j===void 0&&(j=v(f()),Y[C]=j),j}function v(D){const P=[],I=[],C=[];for(let B=0;B<r;B++)P[B]=0,I[B]=0,C[B]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:P,enabledAttributes:I,attributeDivisors:C,object:D,attributes:{},index:null}}function _(D,P){const I=c.attributes,C=D.attributes;let B=0;for(const Y in C){const j=I[Y],re=C[Y];if(j===void 0||j.attribute!==re||j.data!==re.data)return!0;B++}return c.attributesNum!==B||c.index!==P}function g(D,P){const I={},C=D.attributes;let B=0;for(const Y in C){const j=C[Y],re={};re.attribute=j,j.data&&(re.data=j.data),I[Y]=re,B++}c.attributes=I,c.attributesNum=B,c.index=P}function x(){const D=c.newAttributes;for(let P=0,I=D.length;P<I;P++)D[P]=0}function b(D){w(D,0)}function w(D,P){const I=c.newAttributes,C=c.enabledAttributes,B=c.attributeDivisors;I[D]=1,C[D]===0&&(n.enableVertexAttribArray(D),C[D]=1),B[D]!==P&&((i.isWebGL2?n:e.get("ANGLE_instanced_arrays"))[i.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](D,P),B[D]=P)}function S(){const D=c.newAttributes,P=c.enabledAttributes;for(let I=0,C=P.length;I<C;I++)P[I]!==D[I]&&(n.disableVertexAttribArray(I),P[I]=0)}function A(D,P,I,C,B,Y){i.isWebGL2===!0&&(I===5124||I===5125)?n.vertexAttribIPointer(D,P,I,B,Y):n.vertexAttribPointer(D,P,I,C,B,Y)}function T(D,P,I,C){if(i.isWebGL2===!1&&(D.isInstancedMesh||C.isInstancedBufferGeometry)&&e.get("ANGLE_instanced_arrays")===null)return;x();const B=C.attributes,Y=I.getAttributes(),j=P.defaultAttributeValues;for(const re in Y){const ie=Y[re];if(ie>=0){const ve=B[re];if(ve!==void 0){const de=ve.normalized,ye=ve.itemSize,te=t.get(ve);if(te===void 0)continue;const $=te.buffer,ge=te.type,be=te.bytesPerElement;if(ve.isInterleavedBufferAttribute){const ue=ve.data,_e=ue.stride,Te=ve.offset;ue&&ue.isInstancedInterleavedBuffer?(w(ie,ue.meshPerAttribute),C._maxInstanceCount===void 0&&(C._maxInstanceCount=ue.meshPerAttribute*ue.count)):b(ie),n.bindBuffer(34962,$),A(ie,ye,ge,de,_e*be,Te*be)}else ve.isInstancedBufferAttribute?(w(ie,ve.meshPerAttribute),C._maxInstanceCount===void 0&&(C._maxInstanceCount=ve.meshPerAttribute*ve.count)):b(ie),n.bindBuffer(34962,$),A(ie,ye,ge,de,0,0)}else if(re==="instanceMatrix"){const de=t.get(D.instanceMatrix);if(de===void 0)continue;const ye=de.buffer,te=de.type;w(ie+0,1),w(ie+1,1),w(ie+2,1),w(ie+3,1),n.bindBuffer(34962,ye),n.vertexAttribPointer(ie+0,4,te,!1,64,0),n.vertexAttribPointer(ie+1,4,te,!1,64,16),n.vertexAttribPointer(ie+2,4,te,!1,64,32),n.vertexAttribPointer(ie+3,4,te,!1,64,48)}else if(re==="instanceColor"){const de=t.get(D.instanceColor);if(de===void 0)continue;const ye=de.buffer,te=de.type;w(ie,1),n.bindBuffer(34962,ye),n.vertexAttribPointer(ie,3,te,!1,12,0)}else if(j!==void 0){const de=j[re];if(de!==void 0)switch(de.length){case 2:n.vertexAttrib2fv(ie,de);break;case 3:n.vertexAttrib3fv(ie,de);break;case 4:n.vertexAttrib4fv(ie,de);break;default:n.vertexAttrib1fv(ie,de)}}}}S()}function F(){O();for(const D in a){const P=a[D];for(const I in P){const C=P[I];for(const B in C)d(C[B].object),delete C[B];delete P[I]}delete a[D]}}function U(D){if(a[D.id]===void 0)return;const P=a[D.id];for(const I in P){const C=P[I];for(const B in C)d(C[B].object),delete C[B];delete P[I]}delete a[D.id]}function N(D){for(const P in a){const I=a[P];if(I[D.id]===void 0)continue;const C=I[D.id];for(const B in C)d(C[B].object),delete C[B];delete I[D.id]}}function O(){G(),c!==l&&(c=l,h(c.object))}function G(){l.geometry=null,l.program=null,l.wireframe=!1}return{setup:u,reset:O,resetDefaultState:G,dispose:F,releaseStatesOfGeometry:U,releaseStatesOfProgram:N,initAttributes:x,enableAttribute:b,disableUnusedAttributes:S}}function Eve(n,e,t,i){const r=i.isWebGL2;let s;function o(c){s=c}function a(c,u){n.drawArrays(s,c,u),t.update(u,s,1)}function l(c,u,f){if(f===0)return;let h,d;if(r)h=n,d="drawArraysInstanced";else if(h=e.get("ANGLE_instanced_arrays"),d="drawArraysInstancedANGLE",h===null){console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}h[d](s,c,u,f),t.update(u,s,f)}this.setMode=o,this.render=a,this.renderInstances=l}function Lve(n,e,t){let i;function r(){if(i!==void 0)return i;if(e.has("EXT_texture_filter_anisotropic")===!0){const T=e.get("EXT_texture_filter_anisotropic");i=n.getParameter(T.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else i=0;return i}function s(T){if(T==="highp"){if(n.getShaderPrecisionFormat(35633,36338).precision>0&&n.getShaderPrecisionFormat(35632,36338).precision>0)return"highp";T="mediump"}return T==="mediump"&&n.getShaderPrecisionFormat(35633,36337).precision>0&&n.getShaderPrecisionFormat(35632,36337).precision>0?"mediump":"lowp"}const o=typeof WebGL2RenderingContext!="undefined"&&n instanceof WebGL2RenderingContext||typeof WebGL2ComputeRenderingContext!="undefined"&&n instanceof WebGL2ComputeRenderingContext;let a=t.precision!==void 0?t.precision:"highp";const l=s(a);l!==a&&(console.warn("THREE.WebGLRenderer:",a,"not supported, using",l,"instead."),a=l);const c=o||e.has("WEBGL_draw_buffers"),u=t.logarithmicDepthBuffer===!0,f=n.getParameter(34930),h=n.getParameter(35660),d=n.getParameter(3379),m=n.getParameter(34076),v=n.getParameter(34921),_=n.getParameter(36347),g=n.getParameter(36348),x=n.getParameter(36349),b=h>0,w=o||e.has("OES_texture_float"),S=b&&w,A=o?n.getParameter(36183):0;return{isWebGL2:o,drawBuffers:c,getMaxAnisotropy:r,getMaxPrecision:s,precision:a,logarithmicDepthBuffer:u,maxTextures:f,maxVertexTextures:h,maxTextureSize:d,maxCubemapSize:m,maxAttributes:v,maxVertexUniforms:_,maxVaryings:g,maxFragmentUniforms:x,vertexTextures:b,floatFragmentTextures:w,floatVertexTextures:S,maxSamples:A}}function Cve(n){const e=this;let t=null,i=0,r=!1,s=!1;const o=new no,a=new Bi,l={value:null,needsUpdate:!1};this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(f,h,d){const m=f.length!==0||h||i!==0||r;return r=h,t=u(f,d,0),i=f.length,m},this.beginShadows=function(){s=!0,u(null)},this.endShadows=function(){s=!1,c()},this.setState=function(f,h,d){const m=f.clippingPlanes,v=f.clipIntersection,_=f.clipShadows,g=n.get(f);if(!r||m===null||m.length===0||s&&!_)s?u(null):c();else{const x=s?0:i,b=x*4;let w=g.clippingState||null;l.value=w,w=u(m,h,b,d);for(let S=0;S!==b;++S)w[S]=t[S];g.clippingState=w,this.numIntersection=v?this.numPlanes:0,this.numPlanes+=x}};function c(){l.value!==t&&(l.value=t,l.needsUpdate=i>0),e.numPlanes=i,e.numIntersection=0}function u(f,h,d,m){const v=f!==null?f.length:0;let _=null;if(v!==0){if(_=l.value,m!==!0||_===null){const g=d+v*4,x=h.matrixWorldInverse;a.getNormalMatrix(x),(_===null||_.length<g)&&(_=new Float32Array(g));for(let b=0,w=d;b!==v;++b,w+=4)o.copy(f[b]).applyMatrix4(x,a),o.normal.toArray(_,w),_[w+3]=o.constant}l.value=_,l.needsUpdate=!0}return e.numPlanes=v,e.numIntersection=0,_}}function Pve(n){let e=new WeakMap;function t(o,a){return a===Zz?o.mapping=Eb:a===Qz&&(o.mapping=Lb),o}function i(o){if(o&&o.isTexture){const a=o.mapping;if(a===Zz||a===Qz)if(e.has(o)){const l=e.get(o).texture;return t(l,o.mapping)}else{const l=o.image;if(l&&l.height>0){const c=n.getRenderTarget(),u=new Ck(l.height/2);return u.fromEquirectangularTexture(n,o),e.set(o,u),n.setRenderTarget(c),o.addEventListener("dispose",r),t(u.texture,o.mapping)}else return null}}return o}function r(o){const a=o.target;a.removeEventListener("dispose",r);const l=e.get(a);l!==void 0&&(e.delete(a),l.dispose())}function s(){e=new WeakMap}return{get:i,dispose:s}}function Rve(n){const e={};function t(i){if(e[i]!==void 0)return e[i];let r;switch(i){case"WEBGL_depth_texture":r=n.getExtension("WEBGL_depth_texture")||n.getExtension("MOZ_WEBGL_depth_texture")||n.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":r=n.getExtension("EXT_texture_filter_anisotropic")||n.getExtension("MOZ_EXT_texture_filter_anisotropic")||n.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":r=n.getExtension("WEBGL_compressed_texture_s3tc")||n.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":r=n.getExtension("WEBGL_compressed_texture_pvrtc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:r=n.getExtension(i)}return e[i]=r,r}return{has:function(i){return t(i)!==null},init:function(i){i.isWebGL2?t("EXT_color_buffer_float"):(t("WEBGL_depth_texture"),t("OES_texture_float"),t("OES_texture_half_float"),t("OES_texture_half_float_linear"),t("OES_standard_derivatives"),t("OES_element_index_uint"),t("OES_vertex_array_object"),t("ANGLE_instanced_arrays")),t("OES_texture_float_linear"),t("EXT_color_buffer_half_float")},get:function(i){const r=t(i);return r===null&&console.warn("THREE.WebGLRenderer: "+i+" extension not supported."),r}}}function Fve(n,e,t,i){const r={},s=new WeakMap;function o(f){const h=f.target;h.index!==null&&e.remove(h.index);for(const m in h.attributes)e.remove(h.attributes[m]);h.removeEventListener("dispose",o),delete r[h.id];const d=s.get(h);d&&(e.remove(d),s.delete(h)),i.releaseStatesOfGeometry(h),h.isInstancedBufferGeometry===!0&&delete h._maxInstanceCount,t.memory.geometries--}function a(f,h){return r[h.id]===!0||(h.addEventListener("dispose",o),r[h.id]=!0,t.memory.geometries++),h}function l(f){const h=f.attributes;for(const m in h)e.update(h[m],34962);const d=f.morphAttributes;for(const m in d){const v=d[m];for(let _=0,g=v.length;_<g;_++)e.update(v[_],34962)}}function c(f){const h=[],d=f.index,m=f.attributes.position;let v=0;if(d!==null){const x=d.array;v=d.version;for(let b=0,w=x.length;b<w;b+=3){const S=x[b+0],A=x[b+1],T=x[b+2];h.push(S,A,A,T,T,S)}}else{const x=m.array;v=m.version;for(let b=0,w=x.length/3-1;b<w;b+=3){const S=b+0,A=b+1,T=b+2;h.push(S,A,A,T,T,S)}}const _=new(Ek(h)>65535?Tk:Ak)(h,1);_.version=v;const g=s.get(f);g&&e.remove(g),s.set(f,_)}function u(f){const h=s.get(f);if(h){const d=f.index;d!==null&&h.version<d.version&&c(f)}else c(f);return s.get(f)}return{get:a,update:l,getWireframeAttribute:u}}function Ive(n,e,t,i){const r=i.isWebGL2;let s;function o(h){s=h}let a,l;function c(h){a=h.type,l=h.bytesPerElement}function u(h,d){n.drawElements(s,d,a,h*l),t.update(d,s,1)}function f(h,d,m){if(m===0)return;let v,_;if(r)v=n,_="drawElementsInstanced";else if(v=e.get("ANGLE_instanced_arrays"),_="drawElementsInstancedANGLE",v===null){console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}v[_](s,d,a,h*l,m),t.update(d,s,m)}this.setMode=o,this.setIndex=c,this.render=u,this.renderInstances=f}function Dve(n){const e={geometries:0,textures:0},t={frame:0,calls:0,triangles:0,points:0,lines:0};function i(s,o,a){switch(t.calls++,o){case 4:t.triangles+=a*(s/3);break;case 1:t.lines+=a*(s/2);break;case 3:t.lines+=a*(s-1);break;case 2:t.lines+=a*s;break;case 0:t.points+=a*s;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",o);break}}function r(){t.frame++,t.calls=0,t.triangles=0,t.points=0,t.lines=0}return{memory:e,render:t,programs:null,autoReset:!0,reset:r,update:i}}function Nve(n,e){return n[0]-e[0]}function Ove(n,e){return Math.abs(e[1])-Math.abs(n[1])}function Bve(n){const e={},t=new Float32Array(8),i=[];for(let s=0;s<8;s++)i[s]=[s,0];function r(s,o,a,l){const c=s.morphTargetInfluences,u=c===void 0?0:c.length;let f=e[o.id];if(f===void 0){f=[];for(let _=0;_<u;_++)f[_]=[_,0];e[o.id]=f}for(let _=0;_<u;_++){const g=f[_];g[0]=_,g[1]=c[_]}f.sort(Ove);for(let _=0;_<8;_++)_<u&&f[_][1]?(i[_][0]=f[_][0],i[_][1]=f[_][1]):(i[_][0]=Number.MAX_SAFE_INTEGER,i[_][1]=0);i.sort(Nve);const h=a.morphTargets&&o.morphAttributes.position,d=a.morphNormals&&o.morphAttributes.normal;let m=0;for(let _=0;_<8;_++){const g=i[_],x=g[0],b=g[1];x!==Number.MAX_SAFE_INTEGER&&b?(h&&o.getAttribute("morphTarget"+_)!==h[x]&&o.setAttribute("morphTarget"+_,h[x]),d&&o.getAttribute("morphNormal"+_)!==d[x]&&o.setAttribute("morphNormal"+_,d[x]),t[_]=b,m+=b):(h&&o.hasAttribute("morphTarget"+_)===!0&&o.deleteAttribute("morphTarget"+_),d&&o.hasAttribute("morphNormal"+_)===!0&&o.deleteAttribute("morphNormal"+_),t[_]=0)}const v=o.morphTargetsRelative?1:1-m;l.getUniforms().setValue(n,"morphTargetBaseInfluence",v),l.getUniforms().setValue(n,"morphTargetInfluences",t)}return{update:r}}function Uve(n,e,t,i){let r=new WeakMap;function s(l){const c=i.render.frame,u=l.geometry,f=e.get(l,u);return r.get(f)!==c&&(e.update(f),r.set(f,c)),l.isInstancedMesh&&(l.hasEventListener("dispose",a)===!1&&l.addEventListener("dispose",a),t.update(l.instanceMatrix,34962),l.instanceColor!==null&&t.update(l.instanceColor,34962)),f}function o(){r=new WeakMap}function a(l){const c=l.target;c.removeEventListener("dispose",a),t.remove(c.instanceMatrix),c.instanceColor!==null&&t.remove(c.instanceColor)}return{update:s,dispose:o}}class Rk extends Ui{constructor(e=null,t=1,i=1,r=1){super(null);this.image={data:e,width:t,height:i,depth:r},this.magFilter=Qi,this.minFilter=Qi,this.wrapR=rs,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.needsUpdate=!0}}Rk.prototype.isDataTexture2DArray=!0;class Fk extends Ui{constructor(e=null,t=1,i=1,r=1){super(null);this.image={data:e,width:t,height:i,depth:r},this.magFilter=Qi,this.minFilter=Qi,this.wrapR=rs,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.needsUpdate=!0}}Fk.prototype.isDataTexture3D=!0;const Ik=new Ui,zve=new Rk,kve=new Fk,Dk=new og,Nk=[],Ok=[],Bk=new Float32Array(16),Uk=new Float32Array(9),zk=new Float32Array(4);function nd(n,e,t){const i=n[0];if(i<=0||i>0)return n;const r=e*t;let s=Nk[r];if(s===void 0&&(s=new Float32Array(r),Nk[r]=s),e!==0){i.toArray(s,0);for(let o=1,a=0;o!==e;++o)a+=t,n[o].toArray(s,a)}return s}function Lr(n,e){if(n.length!==e.length)return!1;for(let t=0,i=n.length;t<i;t++)if(n[t]!==e[t])return!1;return!0}function er(n,e){for(let t=0,i=e.length;t<i;t++)n[t]=e[t]}function kk(n,e){let t=Ok[e];t===void 0&&(t=new Int32Array(e),Ok[e]=t);for(let i=0;i!==e;++i)t[i]=n.allocateTextureUnit();return t}function Hve(n,e){const t=this.cache;t[0]!==e&&(n.uniform1f(this.addr,e),t[0]=e)}function Gve(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2f(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(Lr(t,e))return;n.uniform2fv(this.addr,e),er(t,e)}}function Vve(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3f(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else if(e.r!==void 0)(t[0]!==e.r||t[1]!==e.g||t[2]!==e.b)&&(n.uniform3f(this.addr,e.r,e.g,e.b),t[0]=e.r,t[1]=e.g,t[2]=e.b);else{if(Lr(t,e))return;n.uniform3fv(this.addr,e),er(t,e)}}function Wve(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4f(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(Lr(t,e))return;n.uniform4fv(this.addr,e),er(t,e)}}function Xve(n,e){const t=this.cache,i=e.elements;if(i===void 0){if(Lr(t,e))return;n.uniformMatrix2fv(this.addr,!1,e),er(t,e)}else{if(Lr(t,i))return;zk.set(i),n.uniformMatrix2fv(this.addr,!1,zk),er(t,i)}}function Yve(n,e){const t=this.cache,i=e.elements;if(i===void 0){if(Lr(t,e))return;n.uniformMatrix3fv(this.addr,!1,e),er(t,e)}else{if(Lr(t,i))return;Uk.set(i),n.uniformMatrix3fv(this.addr,!1,Uk),er(t,i)}}function $ve(n,e){const t=this.cache,i=e.elements;if(i===void 0){if(Lr(t,e))return;n.uniformMatrix4fv(this.addr,!1,e),er(t,e)}else{if(Lr(t,i))return;Bk.set(i),n.uniformMatrix4fv(this.addr,!1,Bk),er(t,i)}}function qve(n,e){const t=this.cache;t[0]!==e&&(n.uniform1i(this.addr,e),t[0]=e)}function jve(n,e){const t=this.cache;Lr(t,e)||(n.uniform2iv(this.addr,e),er(t,e))}function Zve(n,e){const t=this.cache;Lr(t,e)||(n.uniform3iv(this.addr,e),er(t,e))}function Qve(n,e){const t=this.cache;Lr(t,e)||(n.uniform4iv(this.addr,e),er(t,e))}function Jve(n,e){const t=this.cache;t[0]!==e&&(n.uniform1ui(this.addr,e),t[0]=e)}function Kve(n,e){const t=this.cache;Lr(t,e)||(n.uniform2uiv(this.addr,e),er(t,e))}function exe(n,e){const t=this.cache;Lr(t,e)||(n.uniform3uiv(this.addr,e),er(t,e))}function txe(n,e){const t=this.cache;Lr(t,e)||(n.uniform4uiv(this.addr,e),er(t,e))}function nxe(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),t.safeSetTexture2D(e||Ik,r)}function ixe(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),t.setTexture3D(e||kve,r)}function rxe(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),t.safeSetTextureCube(e||Dk,r)}function sxe(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),t.setTexture2DArray(e||zve,r)}function oxe(n){switch(n){case 5126:return Hve;case 35664:return Gve;case 35665:return Vve;case 35666:return Wve;case 35674:return Xve;case 35675:return Yve;case 35676:return $ve;case 5124:case 35670:return qve;case 35667:case 35671:return jve;case 35668:case 35672:return Zve;case 35669:case 35673:return Qve;case 5125:return Jve;case 36294:return Kve;case 36295:return exe;case 36296:return txe;case 35678:case 36198:case 36298:case 36306:case 35682:return nxe;case 35679:case 36299:case 36307:return ixe;case 35680:case 36300:case 36308:case 36293:return rxe;case 36289:case 36303:case 36311:case 36292:return sxe}}function axe(n,e){n.uniform1fv(this.addr,e)}function lxe(n,e){const t=nd(e,this.size,2);n.uniform2fv(this.addr,t)}function cxe(n,e){const t=nd(e,this.size,3);n.uniform3fv(this.addr,t)}function uxe(n,e){const t=nd(e,this.size,4);n.uniform4fv(this.addr,t)}function fxe(n,e){const t=nd(e,this.size,4);n.uniformMatrix2fv(this.addr,!1,t)}function hxe(n,e){const t=nd(e,this.size,9);n.uniformMatrix3fv(this.addr,!1,t)}function dxe(n,e){const t=nd(e,this.size,16);n.uniformMatrix4fv(this.addr,!1,t)}function pxe(n,e){n.uniform1iv(this.addr,e)}function mxe(n,e){n.uniform2iv(this.addr,e)}function gxe(n,e){n.uniform3iv(this.addr,e)}function vxe(n,e){n.uniform4iv(this.addr,e)}function xxe(n,e){n.uniform1uiv(this.addr,e)}function yxe(n,e){n.uniform2uiv(this.addr,e)}function _xe(n,e){n.uniform3uiv(this.addr,e)}function bxe(n,e){n.uniform4uiv(this.addr,e)}function wxe(n,e,t){const i=e.length,r=kk(t,i);n.uniform1iv(this.addr,r);for(let s=0;s!==i;++s)t.safeSetTexture2D(e[s]||Ik,r[s])}function Mxe(n,e,t){const i=e.length,r=kk(t,i);n.uniform1iv(this.addr,r);for(let s=0;s!==i;++s)t.safeSetTextureCube(e[s]||Dk,r[s])}function Sxe(n){switch(n){case 5126:return axe;case 35664:return lxe;case 35665:return cxe;case 35666:return uxe;case 35674:return fxe;case 35675:return hxe;case 35676:return dxe;case 5124:case 35670:return pxe;case 35667:case 35671:return mxe;case 35668:case 35672:return gxe;case 35669:case 35673:return vxe;case 5125:return xxe;case 36294:return yxe;case 36295:return _xe;case 36296:return bxe;case 35678:case 36198:case 36298:case 36306:case 35682:return wxe;case 35680:case 36300:case 36308:case 36293:return Mxe}}function Axe(n,e,t){this.id=n,this.addr=t,this.cache=[],this.setValue=oxe(e.type)}function Hk(n,e,t){this.id=n,this.addr=t,this.cache=[],this.size=e.size,this.setValue=Sxe(e.type)}Hk.prototype.updateCache=function(n){const e=this.cache;n instanceof Float32Array&&e.length!==n.length&&(this.cache=new Float32Array(n.length)),er(e,n)};function Gk(n){this.id=n,this.seq=[],this.map={}}Gk.prototype.setValue=function(n,e,t){const i=this.seq;for(let r=0,s=i.length;r!==s;++r){const o=i[r];o.setValue(n,e[o.id],t)}};const dw=/(\w+)(\])?(\[|\.)?/g;function Vk(n,e){n.seq.push(e),n.map[e.id]=e}function Txe(n,e,t){const i=n.name,r=i.length;for(dw.lastIndex=0;;){const s=dw.exec(i),o=dw.lastIndex;let a=s[1];const l=s[2]==="]",c=s[3];if(l&&(a=a|0),c===void 0||c==="["&&o+2===r){Vk(t,c===void 0?new Axe(a,n,e):new Hk(a,n,e));break}else{let f=t.map[a];f===void 0&&(f=new Gk(a),Vk(t,f)),t=f}}}function _l(n,e){this.seq=[],this.map={};const t=n.getProgramParameter(e,35718);for(let i=0;i<t;++i){const r=n.getActiveUniform(e,i),s=n.getUniformLocation(e,r.name);Txe(r,s,this)}}_l.prototype.setValue=function(n,e,t,i){const r=this.map[e];r!==void 0&&r.setValue(n,t,i)};_l.prototype.setOptional=function(n,e,t){const i=e[t];i!==void 0&&this.setValue(n,t,i)};_l.upload=function(n,e,t,i){for(let r=0,s=e.length;r!==s;++r){const o=e[r],a=t[o.id];a.needsUpdate!==!1&&o.setValue(n,a.value,i)}};_l.seqWithValue=function(n,e){const t=[];for(let i=0,r=n.length;i!==r;++i){const s=n[i];s.id in e&&t.push(s)}return t};function Wk(n,e,t){const i=n.createShader(e);return n.shaderSource(i,t),n.compileShader(i),i}let Exe=0;function Lxe(n){const e=n.split(`
`);for(let t=0;t<e.length;t++)e[t]=t+1+": "+e[t];return e.join(`
`)}function Xk(n){switch(n){case p2:return["Linear","( value )"];case fk:return["sRGB","( value )"];case A8e:return["RGBE","( value )"];case E8e:return["RGBM","( value, 7.0 )"];case L8e:return["RGBM","( value, 16.0 )"];case C8e:return["RGBD","( value, 256.0 )"];case S8e:return["Gamma","( value, float( GAMMA_FACTOR ) )"];case T8e:return["LogLuv","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported encoding:",n),["Linear","( value )"]}}function Yk(n,e,t){const i=n.getShaderParameter(e,35713),r=n.getShaderInfoLog(e).trim();if(i&&r==="")return"";const s=n.getShaderSource(e);return"THREE.WebGLShader: gl.getShaderInfoLog() "+t+`
`+r+Lxe(s)}function _2(n,e){const t=Xk(e);return"vec4 "+n+"( vec4 value ) { return "+t[0]+"ToLinear"+t[1]+"; }"}function Cxe(n,e){const t=Xk(e);return"vec4 "+n+"( vec4 value ) { return LinearTo"+t[0]+t[1]+"; }"}function Pxe(n,e){let t;switch(e){case Mge:t="Linear";break;case Sge:t="Reinhard";break;case Age:t="OptimizedCineon";break;case Tge:t="ACESFilmic";break;case Ege:t="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),t="Linear"}return"vec3 "+n+"( vec3 color ) { return "+t+"ToneMapping( color ); }"}function Rxe(n){return[n.extensionDerivatives||n.envMapCubeUV||n.bumpMap||n.tangentSpaceNormalMap||n.clearcoatNormalMap||n.flatShading||n.shaderID==="physical"?"#extension GL_OES_standard_derivatives : enable":"",(n.extensionFragDepth||n.logarithmicDepthBuffer)&&n.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",n.extensionDrawBuffers&&n.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(n.extensionShaderTextureLOD||n.envMap||n.transmission>0)&&n.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(b2).join(`
`)}function Fxe(n){const e=[];for(const t in n){const i=n[t];i!==!1&&e.push("#define "+t+" "+i)}return e.join(`
`)}function Ixe(n,e){const t={},i=n.getProgramParameter(e,35721);for(let r=0;r<i;r++){const o=n.getActiveAttrib(e,r).name;t[o]=n.getAttribLocation(e,o)}return t}function b2(n){return n!==""}function $k(n,e){return n.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function qk(n,e){return n.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const Dxe=/^[ \t]*#include +<([\w\d./]+)>/gm;function pw(n){return n.replace(Dxe,Nxe)}function Nxe(n,e){const t=yt[e];if(t===void 0)throw new Error("Can not resolve #include <"+e+">");return pw(t)}const Oxe=/#pragma unroll_loop[\s]+?for \( int i \= (\d+)\; i < (\d+)\; i \+\+ \) \{([\s\S]+?)(?=\})\}/g,Bxe=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function jk(n){return n.replace(Bxe,Zk).replace(Oxe,Uxe)}function Uxe(n,e,t,i){return console.warn("WebGLProgram: #pragma unroll_loop shader syntax is deprecated. Please use #pragma unroll_loop_start syntax instead."),Zk(n,e,t,i)}function Zk(n,e,t,i){let r="";for(let s=parseInt(e);s<parseInt(t);s++)r+=i.replace(/\[\s*i\s*\]/g,"[ "+s+" ]").replace(/UNROLLED_LOOP_INDEX/g,s);return r}function Qk(n){let e="precision "+n.precision+` float;
precision `+n.precision+" int;";return n.precision==="highp"?e+=`
#define HIGH_PRECISION`:n.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:n.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function zxe(n){let e="SHADOWMAP_TYPE_BASIC";return n.shadowMapType===kz?e="SHADOWMAP_TYPE_PCF":n.shadowMapType===tge?e="SHADOWMAP_TYPE_PCF_SOFT":n.shadowMapType===l2&&(e="SHADOWMAP_TYPE_VSM"),e}function kxe(n){let e="ENVMAP_TYPE_CUBE";if(n.envMap)switch(n.envMapMode){case Eb:case Lb:e="ENVMAP_TYPE_CUBE";break;case Cb:case Pb:e="ENVMAP_TYPE_CUBE_UV";break}return e}function Hxe(n){let e="ENVMAP_MODE_REFLECTION";if(n.envMap)switch(n.envMapMode){case Lb:case Pb:e="ENVMAP_MODE_REFRACTION";break}return e}function Gxe(n){let e="ENVMAP_BLENDING_NONE";if(n.envMap)switch(n.combine){case N5:e="ENVMAP_BLENDING_MULTIPLY";break;case bge:e="ENVMAP_BLENDING_MIX";break;case wge:e="ENVMAP_BLENDING_ADD";break}return e}function Vxe(n,e,t,i){const r=n.getContext(),s=t.defines;let o=t.vertexShader,a=t.fragmentShader;const l=zxe(t),c=kxe(t),u=Hxe(t),f=Gxe(t),h=n.gammaFactor>0?n.gammaFactor:1,d=t.isWebGL2?"":Rxe(t),m=Fxe(s),v=r.createProgram();let _,g,x=t.glslVersion?"#version "+t.glslVersion+`
`:"";t.isRawShaderMaterial?(_=[m].filter(b2).join(`
`),_.length>0&&(_+=`
`),g=[d,m].filter(b2).join(`
`),g.length>0&&(g+=`
`)):(_=[Qk(t),"#define SHADER_NAME "+t.shaderName,m,t.instancing?"#define USE_INSTANCING":"",t.instancingColor?"#define USE_INSTANCING_COLOR":"",t.supportsVertexTextures?"#define VERTEX_TEXTURES":"","#define GAMMA_FACTOR "+h,"#define MAX_BONES "+t.maxBones,t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+u:"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMap&&t.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",t.normalMap&&t.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.displacementMap&&t.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.vertexTangents?"#define USE_TANGENT":"",t.vertexColors?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUvs?"#define USE_UV":"",t.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",t.flatShading?"#define FLAT_SHADED":"",t.skinning?"#define USE_SKINNING":"",t.useVertexTexture?"#define BONE_TEXTURE":"",t.morphTargets?"#define USE_MORPHTARGETS":"",t.morphNormals&&t.flatShading===!1?"#define USE_MORPHNORMALS":"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+l:"",t.sizeAttenuation?"#define USE_SIZEATTENUATION":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.logarithmicDepthBuffer&&t.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#ifdef USE_MORPHTARGETS","	attribute vec3 morphTarget0;","	attribute vec3 morphTarget1;","	attribute vec3 morphTarget2;","	attribute vec3 morphTarget3;","	#ifdef USE_MORPHNORMALS","		attribute vec3 morphNormal0;","		attribute vec3 morphNormal1;","		attribute vec3 morphNormal2;","		attribute vec3 morphNormal3;","	#else","		attribute vec3 morphTarget4;","		attribute vec3 morphTarget5;","		attribute vec3 morphTarget6;","		attribute vec3 morphTarget7;","	#endif","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(b2).join(`
`),g=[d,Qk(t),"#define SHADER_NAME "+t.shaderName,m,t.alphaTest?"#define ALPHATEST "+t.alphaTest+(t.alphaTest%1?"":".0"):"","#define GAMMA_FACTOR "+h,t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.matcap?"#define USE_MATCAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+c:"",t.envMap?"#define "+u:"",t.envMap?"#define "+f:"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMap&&t.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",t.normalMap&&t.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.sheen?"#define USE_SHEEN":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.vertexTangents?"#define USE_TANGENT":"",t.vertexColors||t.instancingColor?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUvs?"#define USE_UV":"",t.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",t.gradientMap?"#define USE_GRADIENTMAP":"",t.flatShading?"#define FLAT_SHADED":"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+l:"",t.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",t.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.logarithmicDepthBuffer&&t.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"",(t.extensionShaderTextureLOD||t.envMap)&&t.rendererExtensionShaderTextureLod?"#define TEXTURE_LOD_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",t.toneMapping!==f2?"#define TONE_MAPPING":"",t.toneMapping!==f2?yt.tonemapping_pars_fragment:"",t.toneMapping!==f2?Pxe("toneMapping",t.toneMapping):"",t.dithering?"#define DITHERING":"",yt.encodings_pars_fragment,t.map?_2("mapTexelToLinear",t.mapEncoding):"",t.matcap?_2("matcapTexelToLinear",t.matcapEncoding):"",t.envMap?_2("envMapTexelToLinear",t.envMapEncoding):"",t.emissiveMap?_2("emissiveMapTexelToLinear",t.emissiveMapEncoding):"",t.lightMap?_2("lightMapTexelToLinear",t.lightMapEncoding):"",Cxe("linearToOutputTexel",t.outputEncoding),t.depthPacking?"#define DEPTH_PACKING "+t.depthPacking:"",`
`].filter(b2).join(`
`)),o=pw(o),o=$k(o,t),o=qk(o,t),a=pw(a),a=$k(a,t),a=qk(a,t),o=jk(o),a=jk(a),t.isWebGL2&&t.isRawShaderMaterial!==!0&&(x=`#version 300 es
`,_=["#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+_,g=["#define varying in",t.glslVersion===hk?"":"out highp vec4 pc_fragColor;",t.glslVersion===hk?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+g);const b=x+_+o,w=x+g+a,S=Wk(r,35633,b),A=Wk(r,35632,w);if(r.attachShader(v,S),r.attachShader(v,A),t.index0AttributeName!==void 0?r.bindAttribLocation(v,0,t.index0AttributeName):t.morphTargets===!0&&r.bindAttribLocation(v,0,"position"),r.linkProgram(v),n.debug.checkShaderErrors){const U=r.getProgramInfoLog(v).trim(),N=r.getShaderInfoLog(S).trim(),O=r.getShaderInfoLog(A).trim();let G=!0,D=!0;if(r.getProgramParameter(v,35714)===!1){G=!1;const P=Yk(r,S,"vertex"),I=Yk(r,A,"fragment");console.error("THREE.WebGLProgram: shader error: ",r.getError(),"35715",r.getProgramParameter(v,35715),"gl.getProgramInfoLog",U,P,I)}else U!==""?console.warn("THREE.WebGLProgram: gl.getProgramInfoLog()",U):(N===""||O==="")&&(D=!1);D&&(this.diagnostics={runnable:G,programLog:U,vertexShader:{log:N,prefix:_},fragmentShader:{log:O,prefix:g}})}r.deleteShader(S),r.deleteShader(A);let T;this.getUniforms=function(){return T===void 0&&(T=new _l(r,v)),T};let F;return this.getAttributes=function(){return F===void 0&&(F=Ixe(r,v)),F},this.destroy=function(){i.releaseStatesOfProgram(this),r.deleteProgram(v),this.program=void 0},this.name=t.shaderName,this.id=Exe++,this.cacheKey=e,this.usedTimes=1,this.program=v,this.vertexShader=S,this.fragmentShader=A,this}function Wxe(n,e,t,i,r,s){const o=[],a=i.isWebGL2,l=i.logarithmicDepthBuffer,c=i.floatVertexTextures,u=i.maxVertexUniforms,f=i.vertexTextures;let h=i.precision;const d={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"},m=["precision","isWebGL2","supportsVertexTextures","outputEncoding","instancing","instancingColor","map","mapEncoding","matcap","matcapEncoding","envMap","envMapMode","envMapEncoding","envMapCubeUV","lightMap","lightMapEncoding","aoMap","emissiveMap","emissiveMapEncoding","bumpMap","normalMap","objectSpaceNormalMap","tangentSpaceNormalMap","clearcoatMap","clearcoatRoughnessMap","clearcoatNormalMap","displacementMap","specularMap","roughnessMap","metalnessMap","gradientMap","alphaMap","combine","vertexColors","vertexAlphas","vertexTangents","vertexUvs","uvsVertexOnly","fog","useFog","fogExp2","flatShading","sizeAttenuation","logarithmicDepthBuffer","skinning","maxBones","useVertexTexture","morphTargets","morphNormals","premultipliedAlpha","numDirLights","numPointLights","numSpotLights","numHemiLights","numRectAreaLights","numDirLightShadows","numPointLightShadows","numSpotLightShadows","shadowMapEnabled","shadowMapType","toneMapping","physicallyCorrectLights","alphaTest","doubleSided","flipSided","numClippingPlanes","numClipIntersection","depthPacking","dithering","sheen","transmission","transmissionMap","thicknessMap"];function v(A){const F=A.skeleton.bones;if(c)return 1024;{const N=Math.floor((u-20)/4),O=Math.min(N,F.length);return O<F.length?(console.warn("THREE.WebGLRenderer: Skeleton has "+F.length+" bones. This GPU supports "+O+"."),0):O}}function _(A){let T;return A&&A.isTexture?T=A.encoding:A&&A.isWebGLRenderTarget?(console.warn("THREE.WebGLPrograms.getTextureEncodingFromMap: don't use render targets as textures. Use their .texture property instead."),T=A.texture.encoding):T=p2,T}function g(A,T,F,U,N){const O=U.fog,G=A.isMeshStandardMaterial?U.environment:null,D=e.get(A.envMap||G),P=d[A.type],I=N.isSkinnedMesh?v(N):0;A.precision!==null&&(h=i.getMaxPrecision(A.precision),h!==A.precision&&console.warn("THREE.WebGLProgram.getParameters:",A.precision,"not supported, using",h,"instead."));let C,B;if(P){const re=io[P];C=re.vertexShader,B=re.fragmentShader}else C=A.vertexShader,B=A.fragmentShader;const Y=n.getRenderTarget();return{isWebGL2:a,shaderID:P,shaderName:A.type,vertexShader:C,fragmentShader:B,defines:A.defines,isRawShaderMaterial:A.isRawShaderMaterial===!0,glslVersion:A.glslVersion,precision:h,instancing:N.isInstancedMesh===!0,instancingColor:N.isInstancedMesh===!0&&N.instanceColor!==null,supportsVertexTextures:f,outputEncoding:Y!==null?_(Y.texture):n.outputEncoding,map:!!A.map,mapEncoding:_(A.map),matcap:!!A.matcap,matcapEncoding:_(A.matcap),envMap:!!D,envMapMode:D&&D.mapping,envMapEncoding:_(D),envMapCubeUV:!!D&&(D.mapping===Cb||D.mapping===Pb),lightMap:!!A.lightMap,lightMapEncoding:_(A.lightMap),aoMap:!!A.aoMap,emissiveMap:!!A.emissiveMap,emissiveMapEncoding:_(A.emissiveMap),bumpMap:!!A.bumpMap,normalMap:!!A.normalMap,objectSpaceNormalMap:A.normalMapType===F8e,tangentSpaceNormalMap:A.normalMapType===zh,clearcoatMap:!!A.clearcoatMap,clearcoatRoughnessMap:!!A.clearcoatRoughnessMap,clearcoatNormalMap:!!A.clearcoatNormalMap,displacementMap:!!A.displacementMap,roughnessMap:!!A.roughnessMap,metalnessMap:!!A.metalnessMap,specularMap:!!A.specularMap,alphaMap:!!A.alphaMap,gradientMap:!!A.gradientMap,sheen:!!A.sheen,transmission:!!A.transmission,transmissionMap:!!A.transmissionMap,thicknessMap:!!A.thicknessMap,combine:A.combine,vertexTangents:A.normalMap&&A.vertexTangents,vertexColors:A.vertexColors,vertexAlphas:A.vertexColors===!0&&N.geometry&&N.geometry.attributes.color&&N.geometry.attributes.color.itemSize===4,vertexUvs:!!A.map||!!A.bumpMap||!!A.normalMap||!!A.specularMap||!!A.alphaMap||!!A.emissiveMap||!!A.roughnessMap||!!A.metalnessMap||!!A.clearcoatMap||!!A.clearcoatRoughnessMap||!!A.clearcoatNormalMap||!!A.displacementMap||!!A.transmission||!!A.transmissionMap||!!A.thicknessMap,uvsVertexOnly:!(!!A.map||!!A.bumpMap||!!A.normalMap||!!A.specularMap||!!A.alphaMap||!!A.emissiveMap||!!A.roughnessMap||!!A.metalnessMap||!!A.clearcoatNormalMap||!!A.transmission||!!A.transmissionMap||!!A.thicknessMap)&&!!A.displacementMap,fog:!!O,useFog:A.fog,fogExp2:O&&O.isFogExp2,flatShading:!!A.flatShading,sizeAttenuation:A.sizeAttenuation,logarithmicDepthBuffer:l,skinning:N.isSkinnedMesh===!0&&I>0,maxBones:I,useVertexTexture:c,morphTargets:A.morphTargets,morphNormals:A.morphNormals,numDirLights:T.directional.length,numPointLights:T.point.length,numSpotLights:T.spot.length,numRectAreaLights:T.rectArea.length,numHemiLights:T.hemi.length,numDirLightShadows:T.directionalShadowMap.length,numPointLightShadows:T.pointShadowMap.length,numSpotLightShadows:T.spotShadowMap.length,numClippingPlanes:s.numPlanes,numClipIntersection:s.numIntersection,dithering:A.dithering,shadowMapEnabled:n.shadowMap.enabled&&F.length>0,shadowMapType:n.shadowMap.type,toneMapping:A.toneMapped?n.toneMapping:f2,physicallyCorrectLights:n.physicallyCorrectLights,premultipliedAlpha:A.premultipliedAlpha,alphaTest:A.alphaTest,doubleSided:A.side===D5,flipSided:A.side===Mi,depthPacking:A.depthPacking!==void 0?A.depthPacking:!1,index0AttributeName:A.index0AttributeName,extensionDerivatives:A.extensions&&A.extensions.derivatives,extensionFragDepth:A.extensions&&A.extensions.fragDepth,extensionDrawBuffers:A.extensions&&A.extensions.drawBuffers,extensionShaderTextureLOD:A.extensions&&A.extensions.shaderTextureLOD,rendererExtensionFragDepth:a||t.has("EXT_frag_depth"),rendererExtensionDrawBuffers:a||t.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:a||t.has("EXT_shader_texture_lod"),customProgramCacheKey:A.customProgramCacheKey()}}function x(A){const T=[];if(A.shaderID?T.push(A.shaderID):(T.push(A.fragmentShader),T.push(A.vertexShader)),A.defines!==void 0)for(const F in A.defines)T.push(F),T.push(A.defines[F]);if(A.isRawShaderMaterial===!1){for(let F=0;F<m.length;F++)T.push(A[m[F]]);T.push(n.outputEncoding),T.push(n.gammaFactor)}return T.push(A.customProgramCacheKey),T.join()}function b(A){const T=d[A.type];let F;if(T){const U=io[T];F=K8e.clone(U.uniforms)}else F=A.uniforms;return F}function w(A,T){let F;for(let U=0,N=o.length;U<N;U++){const O=o[U];if(O.cacheKey===T){F=O,++F.usedTimes;break}}return F===void 0&&(F=new Vxe(n,T,A,r),o.push(F)),F}function S(A){if(--A.usedTimes==0){const T=o.indexOf(A);o[T]=o[o.length-1],o.pop(),A.destroy()}}return{getParameters:g,getProgramCacheKey:x,getUniforms:b,acquireProgram:w,releaseProgram:S,programs:o}}function Xxe(){let n=new WeakMap;function e(s){let o=n.get(s);return o===void 0&&(o={},n.set(s,o)),o}function t(s){n.delete(s)}function i(s,o,a){n.get(s)[o]=a}function r(){n=new WeakMap}return{get:e,remove:t,update:i,dispose:r}}function Yxe(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.program!==e.program?n.program.id-e.program.id:n.material.id!==e.material.id?n.material.id-e.material.id:n.z!==e.z?n.z-e.z:n.id-e.id}function Jk(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.z!==e.z?e.z-n.z:n.id-e.id}function Kk(n){const e=[];let t=0;const i=[],r=[],s=[],o={id:-1};function a(){t=0,i.length=0,r.length=0,s.length=0}function l(d,m,v,_,g,x){let b=e[t];const w=n.get(v);return b===void 0?(b={id:d.id,object:d,geometry:m,material:v,program:w.program||o,groupOrder:_,renderOrder:d.renderOrder,z:g,group:x},e[t]=b):(b.id=d.id,b.object=d,b.geometry=m,b.material=v,b.program=w.program||o,b.groupOrder=_,b.renderOrder=d.renderOrder,b.z=g,b.group=x),t++,b}function c(d,m,v,_,g,x){const b=l(d,m,v,_,g,x);v.transmission>0?r.push(b):v.transparent===!0?s.push(b):i.push(b)}function u(d,m,v,_,g,x){const b=l(d,m,v,_,g,x);v.transmission>0?r.unshift(b):v.transparent===!0?s.unshift(b):i.unshift(b)}function f(d,m){i.length>1&&i.sort(d||Yxe),r.length>1&&r.sort(m||Jk),s.length>1&&s.sort(m||Jk)}function h(){for(let d=t,m=e.length;d<m;d++){const v=e[d];if(v.id===null)break;v.id=null,v.object=null,v.geometry=null,v.material=null,v.program=null,v.group=null}}return{opaque:i,transmissive:r,transparent:s,init:a,push:c,unshift:u,finish:h,sort:f}}function $xe(n){let e=new WeakMap;function t(r,s){let o;return e.has(r)===!1?(o=new Kk(n),e.set(r,[o])):s>=e.get(r).length?(o=new Kk(n),e.get(r).push(o)):o=e.get(r)[s],o}function i(){e=new WeakMap}return{get:t,dispose:i}}function qxe(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={direction:new me,color:new ht};break;case"SpotLight":t={position:new me,direction:new me,color:new ht,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":t={position:new me,color:new ht,distance:0,decay:0};break;case"HemisphereLight":t={direction:new me,skyColor:new ht,groundColor:new ht};break;case"RectAreaLight":t={color:new ht,position:new me,halfWidth:new me,halfHeight:new me};break}return n[e.id]=t,t}}}function jxe(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new qe};break;case"SpotLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new qe};break;case"PointLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new qe,shadowCameraNear:1,shadowCameraFar:1e3};break}return n[e.id]=t,t}}}let Zxe=0;function Qxe(n,e){return(e.castShadow?1:0)-(n.castShadow?1:0)}function Jxe(n,e){const t=new qxe,i=jxe(),r={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotShadow:[],spotShadowMap:[],spotShadowMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[]};for(let u=0;u<9;u++)r.probe.push(new me);const s=new me,o=new pt,a=new pt;function l(u){let f=0,h=0,d=0;for(let T=0;T<9;T++)r.probe[T].set(0,0,0);let m=0,v=0,_=0,g=0,x=0,b=0,w=0,S=0;u.sort(Qxe);for(let T=0,F=u.length;T<F;T++){const U=u[T],N=U.color,O=U.intensity,G=U.distance,D=U.shadow&&U.shadow.map?U.shadow.map.texture:null;if(U.isAmbientLight)f+=N.r*O,h+=N.g*O,d+=N.b*O;else if(U.isLightProbe)for(let P=0;P<9;P++)r.probe[P].addScaledVector(U.sh.coefficients[P],O);else if(U.isDirectionalLight){const P=t.get(U);if(P.color.copy(U.color).multiplyScalar(U.intensity),U.castShadow){const I=U.shadow,C=i.get(U);C.shadowBias=I.bias,C.shadowNormalBias=I.normalBias,C.shadowRadius=I.radius,C.shadowMapSize=I.mapSize,r.directionalShadow[m]=C,r.directionalShadowMap[m]=D,r.directionalShadowMatrix[m]=U.shadow.matrix,b++}r.directional[m]=P,m++}else if(U.isSpotLight){const P=t.get(U);if(P.position.setFromMatrixPosition(U.matrixWorld),P.color.copy(N).multiplyScalar(O),P.distance=G,P.coneCos=Math.cos(U.angle),P.penumbraCos=Math.cos(U.angle*(1-U.penumbra)),P.decay=U.decay,U.castShadow){const I=U.shadow,C=i.get(U);C.shadowBias=I.bias,C.shadowNormalBias=I.normalBias,C.shadowRadius=I.radius,C.shadowMapSize=I.mapSize,r.spotShadow[_]=C,r.spotShadowMap[_]=D,r.spotShadowMatrix[_]=U.shadow.matrix,S++}r.spot[_]=P,_++}else if(U.isRectAreaLight){const P=t.get(U);P.color.copy(N).multiplyScalar(O),P.halfWidth.set(U.width*.5,0,0),P.halfHeight.set(0,U.height*.5,0),r.rectArea[g]=P,g++}else if(U.isPointLight){const P=t.get(U);if(P.color.copy(U.color).multiplyScalar(U.intensity),P.distance=U.distance,P.decay=U.decay,U.castShadow){const I=U.shadow,C=i.get(U);C.shadowBias=I.bias,C.shadowNormalBias=I.normalBias,C.shadowRadius=I.radius,C.shadowMapSize=I.mapSize,C.shadowCameraNear=I.camera.near,C.shadowCameraFar=I.camera.far,r.pointShadow[v]=C,r.pointShadowMap[v]=D,r.pointShadowMatrix[v]=U.shadow.matrix,w++}r.point[v]=P,v++}else if(U.isHemisphereLight){const P=t.get(U);P.skyColor.copy(U.color).multiplyScalar(O),P.groundColor.copy(U.groundColor).multiplyScalar(O),r.hemi[x]=P,x++}}g>0&&(e.isWebGL2||n.has("OES_texture_float_linear")===!0?(r.rectAreaLTC1=Je.LTC_FLOAT_1,r.rectAreaLTC2=Je.LTC_FLOAT_2):n.has("OES_texture_half_float_linear")===!0?(r.rectAreaLTC1=Je.LTC_HALF_1,r.rectAreaLTC2=Je.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),r.ambient[0]=f,r.ambient[1]=h,r.ambient[2]=d;const A=r.hash;(A.directionalLength!==m||A.pointLength!==v||A.spotLength!==_||A.rectAreaLength!==g||A.hemiLength!==x||A.numDirectionalShadows!==b||A.numPointShadows!==w||A.numSpotShadows!==S)&&(r.directional.length=m,r.spot.length=_,r.rectArea.length=g,r.point.length=v,r.hemi.length=x,r.directionalShadow.length=b,r.directionalShadowMap.length=b,r.pointShadow.length=w,r.pointShadowMap.length=w,r.spotShadow.length=S,r.spotShadowMap.length=S,r.directionalShadowMatrix.length=b,r.pointShadowMatrix.length=w,r.spotShadowMatrix.length=S,A.directionalLength=m,A.pointLength=v,A.spotLength=_,A.rectAreaLength=g,A.hemiLength=x,A.numDirectionalShadows=b,A.numPointShadows=w,A.numSpotShadows=S,r.version=Zxe++)}function c(u,f){let h=0,d=0,m=0,v=0,_=0;const g=f.matrixWorldInverse;for(let x=0,b=u.length;x<b;x++){const w=u[x];if(w.isDirectionalLight){const S=r.directional[h];S.direction.setFromMatrixPosition(w.matrixWorld),s.setFromMatrixPosition(w.target.matrixWorld),S.direction.sub(s),S.direction.transformDirection(g),h++}else if(w.isSpotLight){const S=r.spot[m];S.position.setFromMatrixPosition(w.matrixWorld),S.position.applyMatrix4(g),S.direction.setFromMatrixPosition(w.matrixWorld),s.setFromMatrixPosition(w.target.matrixWorld),S.direction.sub(s),S.direction.transformDirection(g),m++}else if(w.isRectAreaLight){const S=r.rectArea[v];S.position.setFromMatrixPosition(w.matrixWorld),S.position.applyMatrix4(g),a.identity(),o.copy(w.matrixWorld),o.premultiply(g),a.extractRotation(o),S.halfWidth.set(w.width*.5,0,0),S.halfHeight.set(0,w.height*.5,0),S.halfWidth.applyMatrix4(a),S.halfHeight.applyMatrix4(a),v++}else if(w.isPointLight){const S=r.point[d];S.position.setFromMatrixPosition(w.matrixWorld),S.position.applyMatrix4(g),d++}else if(w.isHemisphereLight){const S=r.hemi[_];S.direction.setFromMatrixPosition(w.matrixWorld),S.direction.transformDirection(g),S.direction.normalize(),_++}}}return{setup:l,setupView:c,state:r}}function eH(n,e){const t=new Jxe(n,e),i=[],r=[];function s(){i.length=0,r.length=0}function o(f){i.push(f)}function a(f){r.push(f)}function l(){t.setup(i)}function c(f){t.setupView(i,f)}return{init:s,state:{lightsArray:i,shadowsArray:r,lights:t},setupLights:l,setupLightsView:c,pushLight:o,pushShadow:a}}function Kxe(n,e){let t=new WeakMap;function i(s,o=0){let a;return t.has(s)===!1?(a=new eH(n,e),t.set(s,[a])):o>=t.get(s).length?(a=new eH(n,e),t.get(s).push(a)):a=t.get(s)[o],a}function r(){t=new WeakMap}return{get:i,dispose:r}}class tH extends Ji{constructor(e){super();this.type="MeshDepthMaterial",this.depthPacking=P8e,this.morphTargets=!1,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.morphTargets=e.morphTargets,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}tH.prototype.isMeshDepthMaterial=!0;class nH extends Ji{constructor(e){super();this.type="MeshDistanceMaterial",this.referencePosition=new me,this.nearDistance=1,this.farDistance=1e3,this.morphTargets=!1,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.fog=!1,this.setValues(e)}copy(e){return super.copy(e),this.referencePosition.copy(e.referencePosition),this.nearDistance=e.nearDistance,this.farDistance=e.farDistance,this.morphTargets=e.morphTargets,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}nH.prototype.isMeshDistanceMaterial=!0;var eye=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	float mean = 0.0;
	float squared_mean = 0.0;
	float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy ) / resolution ) );
	for ( float i = -1.0; i < 1.0 ; i += SAMPLE_RATE) {
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( i, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, i ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean * HALF_SAMPLE_RATE;
	squared_mean = squared_mean * HALF_SAMPLE_RATE;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`,tye=`void main() {
	gl_Position = vec4( position, 1.0 );
}`;function iH(n,e,t){let i=new lg;const r=new qe,s=new qe,o=new un,a=[],l=[],c={},u=t.maxTextureSize,f={0:Mi,1:I5,2:D5},h=new yl({defines:{SAMPLE_RATE:2/8,HALF_SAMPLE_RATE:1/8},uniforms:{shadow_pass:{value:null},resolution:{value:new qe},radius:{value:4}},vertexShader:tye,fragmentShader:eye}),d=h.clone();d.defines.HORIZONTAL_PASS=1;const m=new Mn;m.setAttribute("position",new wn(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const v=new x0(m,h),_=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=kz,this.render=function(A,T,F){if(_.enabled===!1||_.autoUpdate===!1&&_.needsUpdate===!1||A.length===0)return;const U=n.getRenderTarget(),N=n.getActiveCubeFace(),O=n.getActiveMipmapLevel(),G=n.state;G.setBlending(c2),G.buffers.color.setClear(1,1,1,1),G.buffers.depth.setTest(!0),G.setScissorTest(!1);for(let D=0,P=A.length;D<P;D++){const I=A[D],C=I.shadow;if(C===void 0){console.warn("THREE.WebGLShadowMap:",I,"has no shadow.");continue}if(C.autoUpdate===!1&&C.needsUpdate===!1)continue;r.copy(C.mapSize);const B=C.getFrameExtents();if(r.multiply(B),s.copy(C.mapSize),(r.x>u||r.y>u)&&(r.x>u&&(s.x=Math.floor(u/B.x),r.x=s.x*B.x,C.mapSize.x=s.x),r.y>u&&(s.y=Math.floor(u/B.y),r.y=s.y*B.y,C.mapSize.y=s.y)),C.map===null&&!C.isPointLightShadow&&this.type===l2){const j={minFilter:Hs,magFilter:Hs,format:eo};C.map=new Zo(r.x,r.y,j),C.map.texture.name=I.name+".shadowMap",C.mapPass=new Zo(r.x,r.y,j),C.camera.updateProjectionMatrix()}if(C.map===null){const j={minFilter:Qi,magFilter:Qi,format:eo};C.map=new Zo(r.x,r.y,j),C.map.texture.name=I.name+".shadowMap",C.camera.updateProjectionMatrix()}n.setRenderTarget(C.map),n.clear();const Y=C.getViewportCount();for(let j=0;j<Y;j++){const re=C.getViewport(j);o.set(s.x*re.x,s.y*re.y,s.x*re.z,s.y*re.w),G.viewport(o),C.updateMatrices(I,j),i=C.getFrustum(),S(T,F,C.camera,I,this.type)}!C.isPointLightShadow&&this.type===l2&&g(C,F),C.needsUpdate=!1}_.needsUpdate=!1,n.setRenderTarget(U,N,O)};function g(A,T){const F=e.update(v);h.uniforms.shadow_pass.value=A.map.texture,h.uniforms.resolution.value=A.mapSize,h.uniforms.radius.value=A.radius,n.setRenderTarget(A.mapPass),n.clear(),n.renderBufferDirect(T,null,F,h,v,null),d.uniforms.shadow_pass.value=A.mapPass.texture,d.uniforms.resolution.value=A.mapSize,d.uniforms.radius.value=A.radius,n.setRenderTarget(A.map),n.clear(),n.renderBufferDirect(T,null,F,d,v,null)}function x(A){const T=A<<0;let F=a[T];return F===void 0&&(F=new tH({depthPacking:R8e,morphTargets:A}),a[T]=F),F}function b(A){const T=A<<0;let F=l[T];return F===void 0&&(F=new nH({morphTargets:A}),l[T]=F),F}function w(A,T,F,U,N,O,G){let D=null,P=x,I=A.customDepthMaterial;if(U.isPointLight===!0&&(P=b,I=A.customDistanceMaterial),I===void 0){let C=!1;F.morphTargets===!0&&(C=T.morphAttributes&&T.morphAttributes.position&&T.morphAttributes.position.length>0),D=P(C)}else D=I;if(n.localClippingEnabled&&F.clipShadows===!0&&F.clippingPlanes.length!==0){const C=D.uuid,B=F.uuid;let Y=c[C];Y===void 0&&(Y={},c[C]=Y);let j=Y[B];j===void 0&&(j=D.clone(),Y[B]=j),D=j}return D.visible=F.visible,D.wireframe=F.wireframe,G===l2?D.side=F.shadowSide!==null?F.shadowSide:F.side:D.side=F.shadowSide!==null?F.shadowSide:f[F.side],D.clipShadows=F.clipShadows,D.clippingPlanes=F.clippingPlanes,D.clipIntersection=F.clipIntersection,D.wireframeLinewidth=F.wireframeLinewidth,D.linewidth=F.linewidth,U.isPointLight===!0&&D.isMeshDistanceMaterial===!0&&(D.referencePosition.setFromMatrixPosition(U.matrixWorld),D.nearDistance=N,D.farDistance=O),D}function S(A,T,F,U,N){if(A.visible===!1)return;if(A.layers.test(T.layers)&&(A.isMesh||A.isLine||A.isPoints)&&(A.castShadow||A.receiveShadow&&N===l2)&&(!A.frustumCulled||i.intersectsObject(A))){A.modelViewMatrix.multiplyMatrices(F.matrixWorldInverse,A.matrixWorld);const D=e.update(A),P=A.material;if(Array.isArray(P)){const I=D.groups;for(let C=0,B=I.length;C<B;C++){const Y=I[C],j=P[Y.materialIndex];if(j&&j.visible){const re=w(A,D,j,U,F.near,F.far,N);n.renderBufferDirect(F,null,D,re,A,Y)}}}else if(P.visible){const I=w(A,D,P,U,F.near,F.far,N);n.renderBufferDirect(F,null,D,I,A,null)}}const G=A.children;for(let D=0,P=G.length;D<P;D++)S(G[D],T,F,U,N)}}function nye(n,e,t){const i=t.isWebGL2;function r(){let V=!1;const we=new un;let le=null;const Pe=new un(0,0,0,0);return{setMask:function(ee){le!==ee&&!V&&(n.colorMask(ee,ee,ee,ee),le=ee)},setLocked:function(ee){V=ee},setClear:function(ee,Ue,lt,at,Ot){Ot===!0&&(ee*=at,Ue*=at,lt*=at),we.set(ee,Ue,lt,at),Pe.equals(we)===!1&&(n.clearColor(ee,Ue,lt,at),Pe.copy(we))},reset:function(){V=!1,le=null,Pe.set(-1,0,0,0)}}}function s(){let V=!1,we=null,le=null,Pe=null;return{setTest:function(ee){ee?ye(2929):te(2929)},setMask:function(ee){we!==ee&&!V&&(n.depthMask(ee),we=ee)},setFunc:function(ee){if(le!==ee){if(ee)switch(ee){case pge:n.depthFunc(512);break;case mge:n.depthFunc(519);break;case gge:n.depthFunc(513);break;case Tb:n.depthFunc(515);break;case vge:n.depthFunc(514);break;case xge:n.depthFunc(518);break;case yge:n.depthFunc(516);break;case _ge:n.depthFunc(517);break;default:n.depthFunc(515)}else n.depthFunc(515);le=ee}},setLocked:function(ee){V=ee},setClear:function(ee){Pe!==ee&&(n.clearDepth(ee),Pe=ee)},reset:function(){V=!1,we=null,le=null,Pe=null}}}function o(){let V=!1,we=null,le=null,Pe=null,ee=null,Ue=null,lt=null,at=null,Ot=null;return{setTest:function(tt){V||(tt?ye(2960):te(2960))},setMask:function(tt){we!==tt&&!V&&(n.stencilMask(tt),we=tt)},setFunc:function(tt,_t,Vt){(le!==tt||Pe!==_t||ee!==Vt)&&(n.stencilFunc(tt,_t,Vt),le=tt,Pe=_t,ee=Vt)},setOp:function(tt,_t,Vt){(Ue!==tt||lt!==_t||at!==Vt)&&(n.stencilOp(tt,_t,Vt),Ue=tt,lt=_t,at=Vt)},setLocked:function(tt){V=tt},setClear:function(tt){Ot!==tt&&(n.clearStencil(tt),Ot=tt)},reset:function(){V=!1,we=null,le=null,Pe=null,ee=null,Ue=null,lt=null,at=null,Ot=null}}}const a=new r,l=new s,c=new o;let u={},f=null,h={},d=null,m=!1,v=null,_=null,g=null,x=null,b=null,w=null,S=null,A=!1,T=null,F=null,U=null,N=null,O=null;const G=n.getParameter(35661);let D=!1,P=0;const I=n.getParameter(7938);I.indexOf("WebGL")!==-1?(P=parseFloat(/^WebGL (\d)/.exec(I)[1]),D=P>=1):I.indexOf("OpenGL ES")!==-1&&(P=parseFloat(/^OpenGL ES (\d)/.exec(I)[1]),D=P>=2);let C=null,B={};const Y=n.getParameter(3088),j=n.getParameter(2978),re=new un().fromArray(Y),ie=new un().fromArray(j);function ve(V,we,le){const Pe=new Uint8Array(4),ee=n.createTexture();n.bindTexture(V,ee),n.texParameteri(V,10241,9728),n.texParameteri(V,10240,9728);for(let Ue=0;Ue<le;Ue++)n.texImage2D(we+Ue,0,6408,1,1,0,6408,5121,Pe);return ee}const de={};de[3553]=ve(3553,3553,1),de[34067]=ve(34067,34069,6),a.setClear(0,0,0,1),l.setClear(1),c.setClear(0),ye(2929),l.setFunc(Tb),z(!1),W(zz),ye(2884),Te(c2);function ye(V){u[V]!==!0&&(n.enable(V),u[V]=!0)}function te(V){u[V]!==!1&&(n.disable(V),u[V]=!1)}function $(V){V!==f&&(n.bindFramebuffer(36160,V),f=V)}function ge(V,we){return we===null&&f!==null&&(we=f),h[V]!==we?(n.bindFramebuffer(V,we),h[V]=we,i&&(V===36009&&(h[36160]=we),V===36160&&(h[36009]=we)),!0):!1}function be(V){return d!==V?(n.useProgram(V),d=V,!0):!1}const ue={[Nh]:32774,[ige]:32778,[rge]:32779};if(i)ue[Xz]=32775,ue[Yz]=32776;else{const V=e.get("EXT_blend_minmax");V!==null&&(ue[Xz]=V.MIN_EXT,ue[Yz]=V.MAX_EXT)}const _e={[sge]:0,[oge]:1,[age]:768,[$z]:770,[dge]:776,[fge]:774,[cge]:772,[lge]:769,[qz]:771,[hge]:775,[uge]:773};function Te(V,we,le,Pe,ee,Ue,lt,at){if(V===c2){m===!0&&(te(3042),m=!1);return}if(m===!1&&(ye(3042),m=!0),V!==nge){if(V!==v||at!==A){if((_!==Nh||b!==Nh)&&(n.blendEquation(32774),_=Nh,b=Nh),at)switch(V){case u2:n.blendFuncSeparate(1,771,1,771);break;case Gz:n.blendFunc(1,1);break;case Vz:n.blendFuncSeparate(0,0,769,771);break;case Wz:n.blendFuncSeparate(0,768,0,770);break;default:console.error("THREE.WebGLState: Invalid blending: ",V);break}else switch(V){case u2:n.blendFuncSeparate(770,771,1,771);break;case Gz:n.blendFunc(770,1);break;case Vz:n.blendFunc(0,769);break;case Wz:n.blendFunc(0,768);break;default:console.error("THREE.WebGLState: Invalid blending: ",V);break}g=null,x=null,w=null,S=null,v=V,A=at}return}ee=ee||we,Ue=Ue||le,lt=lt||Pe,(we!==_||ee!==b)&&(n.blendEquationSeparate(ue[we],ue[ee]),_=we,b=ee),(le!==g||Pe!==x||Ue!==w||lt!==S)&&(n.blendFuncSeparate(_e[le],_e[Pe],_e[Ue],_e[lt]),g=le,x=Pe,w=Ue,S=lt),v=V,A=null}function X(V,we){V.side===D5?te(2884):ye(2884);let le=V.side===Mi;we&&(le=!le),z(le),V.blending===u2&&V.transparent===!1?Te(c2):Te(V.blending,V.blendEquation,V.blendSrc,V.blendDst,V.blendEquationAlpha,V.blendSrcAlpha,V.blendDstAlpha,V.premultipliedAlpha),l.setFunc(V.depthFunc),l.setTest(V.depthTest),l.setMask(V.depthWrite),a.setMask(V.colorWrite);const Pe=V.stencilWrite;c.setTest(Pe),Pe&&(c.setMask(V.stencilWriteMask),c.setFunc(V.stencilFunc,V.stencilRef,V.stencilFuncMask),c.setOp(V.stencilFail,V.stencilZFail,V.stencilZPass)),ae(V.polygonOffset,V.polygonOffsetFactor,V.polygonOffsetUnits),V.alphaToCoverage===!0?ye(32926):te(32926)}function z(V){T!==V&&(V?n.frontFace(2304):n.frontFace(2305),T=V)}function W(V){V!==K5e?(ye(2884),V!==F&&(V===zz?n.cullFace(1029):V===ege?n.cullFace(1028):n.cullFace(1032))):te(2884),F=V}function se(V){V!==U&&(D&&n.lineWidth(V),U=V)}function ae(V,we,le){V?(ye(32823),(N!==we||O!==le)&&(n.polygonOffset(we,le),N=we,O=le)):te(32823)}function L(V){V?ye(3089):te(3089)}function E(V){V===void 0&&(V=33984+G-1),C!==V&&(n.activeTexture(V),C=V)}function J(V,we){C===null&&E();let le=B[C];le===void 0&&(le={type:void 0,texture:void 0},B[C]=le),(le.type!==V||le.texture!==we)&&(n.bindTexture(V,we||de[V]),le.type=V,le.texture=we)}function K(){const V=B[C];V!==void 0&&V.type!==void 0&&(n.bindTexture(V.type,null),V.type=void 0,V.texture=void 0)}function ce(){try{n.compressedTexImage2D.apply(n,arguments)}catch(V){console.error("THREE.WebGLState:",V)}}function pe(){try{n.texImage2D.apply(n,arguments)}catch(V){console.error("THREE.WebGLState:",V)}}function Ce(){try{n.texImage3D.apply(n,arguments)}catch(V){console.error("THREE.WebGLState:",V)}}function Ae(V){re.equals(V)===!1&&(n.scissor(V.x,V.y,V.z,V.w),re.copy(V))}function Re(V){ie.equals(V)===!1&&(n.viewport(V.x,V.y,V.z,V.w),ie.copy(V))}function Ee(){n.disable(3042),n.disable(2884),n.disable(2929),n.disable(32823),n.disable(3089),n.disable(2960),n.disable(32926),n.blendEquation(32774),n.blendFunc(1,0),n.blendFuncSeparate(1,0,1,0),n.colorMask(!0,!0,!0,!0),n.clearColor(0,0,0,0),n.depthMask(!0),n.depthFunc(513),n.clearDepth(1),n.stencilMask(4294967295),n.stencilFunc(519,0,4294967295),n.stencilOp(7680,7680,7680),n.clearStencil(0),n.cullFace(1029),n.frontFace(2305),n.polygonOffset(0,0),n.activeTexture(33984),n.bindFramebuffer(36160,null),i===!0&&(n.bindFramebuffer(36009,null),n.bindFramebuffer(36008,null)),n.useProgram(null),n.lineWidth(1),n.scissor(0,0,n.canvas.width,n.canvas.height),n.viewport(0,0,n.canvas.width,n.canvas.height),u={},C=null,B={},f=null,h={},d=null,m=!1,v=null,_=null,g=null,x=null,b=null,w=null,S=null,A=!1,T=null,F=null,U=null,N=null,O=null,re.set(0,0,n.canvas.width,n.canvas.height),ie.set(0,0,n.canvas.width,n.canvas.height),a.reset(),l.reset(),c.reset()}return{buffers:{color:a,depth:l,stencil:c},enable:ye,disable:te,bindFramebuffer:ge,bindXRFramebuffer:$,useProgram:be,setBlending:Te,setMaterial:X,setFlipSided:z,setCullFace:W,setLineWidth:se,setPolygonOffset:ae,setScissorTest:L,activeTexture:E,bindTexture:J,unbindTexture:K,compressedTexImage2D:ce,texImage2D:pe,texImage3D:Ce,scissor:Ae,viewport:Re,reset:Ee}}function iye(n,e,t,i,r,s,o){const a=r.isWebGL2,l=r.maxTextures,c=r.maxCubemapSize,u=r.maxTextureSize,f=r.maxSamples,h=new WeakMap;let d,m=!1;try{m=typeof OffscreenCanvas!="undefined"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function v(L,E){return m?new OffscreenCanvas(L,E):document.createElementNS("http://www.w3.org/1999/xhtml","canvas")}function _(L,E,J,K){let ce=1;if((L.width>K||L.height>K)&&(ce=K/Math.max(L.width,L.height)),ce<1||E===!0)if(typeof HTMLImageElement!="undefined"&&L instanceof HTMLImageElement||typeof HTMLCanvasElement!="undefined"&&L instanceof HTMLCanvasElement||typeof ImageBitmap!="undefined"&&L instanceof ImageBitmap){const pe=E?N8e:Math.floor,Ce=pe(ce*L.width),Ae=pe(ce*L.height);d===void 0&&(d=v(Ce,Ae));const Re=J?v(Ce,Ae):d;return Re.width=Ce,Re.height=Ae,Re.getContext("2d").drawImage(L,0,0,Ce,Ae),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+L.width+"x"+L.height+") to ("+Ce+"x"+Ae+")."),Re}else return"data"in L&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+L.width+"x"+L.height+")."),L;return L}function g(L){return dk(L.width)&&dk(L.height)}function x(L){return a?!1:L.wrapS!==rs||L.wrapT!==rs||L.minFilter!==Qi&&L.minFilter!==Hs}function b(L,E){return L.generateMipmaps&&E&&L.minFilter!==Qi&&L.minFilter!==Hs}function w(L,E,J,K){n.generateMipmap(L);const ce=i.get(E);ce.__maxMipLevel=Math.log2(Math.max(J,K))}function S(L,E,J){if(a===!1)return E;if(L!==null){if(n[L]!==void 0)return n[L];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+L+"'")}let K=E;return E===6403&&(J===5126&&(K=33326),J===5131&&(K=33325),J===5121&&(K=33321)),E===6407&&(J===5126&&(K=34837),J===5131&&(K=34843),J===5121&&(K=32849)),E===6408&&(J===5126&&(K=34836),J===5131&&(K=34842),J===5121&&(K=32856)),(K===33325||K===33326||K===34842||K===34836)&&e.get("EXT_color_buffer_float"),K}function A(L){return L===Qi||L===Jz||L===Kz?9728:9729}function T(L){const E=L.target;E.removeEventListener("dispose",T),U(E),E.isVideoTexture&&h.delete(E),o.memory.textures--}function F(L){const E=L.target;E.removeEventListener("dispose",F),N(E)}function U(L){const E=i.get(L);E.__webglInit!==void 0&&(n.deleteTexture(E.__webglTexture),i.remove(L))}function N(L){const E=L.texture,J=i.get(L),K=i.get(E);if(!!L){if(K.__webglTexture!==void 0&&(n.deleteTexture(K.__webglTexture),o.memory.textures--),L.depthTexture&&L.depthTexture.dispose(),L.isWebGLCubeRenderTarget)for(let ce=0;ce<6;ce++)n.deleteFramebuffer(J.__webglFramebuffer[ce]),J.__webglDepthbuffer&&n.deleteRenderbuffer(J.__webglDepthbuffer[ce]);else n.deleteFramebuffer(J.__webglFramebuffer),J.__webglDepthbuffer&&n.deleteRenderbuffer(J.__webglDepthbuffer),J.__webglMultisampledFramebuffer&&n.deleteFramebuffer(J.__webglMultisampledFramebuffer),J.__webglColorRenderbuffer&&n.deleteRenderbuffer(J.__webglColorRenderbuffer),J.__webglDepthRenderbuffer&&n.deleteRenderbuffer(J.__webglDepthRenderbuffer);if(L.isWebGLMultipleRenderTargets)for(let ce=0,pe=E.length;ce<pe;ce++){const Ce=i.get(E[ce]);Ce.__webglTexture&&(n.deleteTexture(Ce.__webglTexture),o.memory.textures--),i.remove(E[ce])}i.remove(E),i.remove(L)}}let O=0;function G(){O=0}function D(){const L=O;return L>=l&&console.warn("THREE.WebGLTextures: Trying to use "+L+" texture units while this GPU supports only "+l),O+=1,L}function P(L,E){const J=i.get(L);if(L.isVideoTexture&&X(L),L.version>0&&J.__version!==L.version){const K=L.image;if(K===void 0)console.warn("THREE.WebGLRenderer: Texture marked for update but image is undefined");else if(K.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{ve(J,L,E);return}}t.activeTexture(33984+E),t.bindTexture(3553,J.__webglTexture)}function I(L,E){const J=i.get(L);if(L.version>0&&J.__version!==L.version){ve(J,L,E);return}t.activeTexture(33984+E),t.bindTexture(35866,J.__webglTexture)}function C(L,E){const J=i.get(L);if(L.version>0&&J.__version!==L.version){ve(J,L,E);return}t.activeTexture(33984+E),t.bindTexture(32879,J.__webglTexture)}function B(L,E){const J=i.get(L);if(L.version>0&&J.__version!==L.version){de(J,L,E);return}t.activeTexture(33984+E),t.bindTexture(34067,J.__webglTexture)}const Y={[Rb]:10497,[rs]:33071,[Fb]:33648},j={[Qi]:9728,[Jz]:9984,[Kz]:9986,[Hs]:9729,[Lge]:9985,[O5]:9987};function re(L,E,J){if(J?(n.texParameteri(L,10242,Y[E.wrapS]),n.texParameteri(L,10243,Y[E.wrapT]),(L===32879||L===35866)&&n.texParameteri(L,32882,Y[E.wrapR]),n.texParameteri(L,10240,j[E.magFilter]),n.texParameteri(L,10241,j[E.minFilter])):(n.texParameteri(L,10242,33071),n.texParameteri(L,10243,33071),(L===32879||L===35866)&&n.texParameteri(L,32882,33071),(E.wrapS!==rs||E.wrapT!==rs)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),n.texParameteri(L,10240,A(E.magFilter)),n.texParameteri(L,10241,A(E.minFilter)),E.minFilter!==Qi&&E.minFilter!==Hs&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),e.has("EXT_texture_filter_anisotropic")===!0){const K=e.get("EXT_texture_filter_anisotropic");if(E.type===uu&&e.has("OES_texture_float_linear")===!1||a===!1&&E.type===z5&&e.has("OES_texture_half_float_linear")===!1)return;(E.anisotropy>1||i.get(E).__currentAnisotropy)&&(n.texParameterf(L,K.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(E.anisotropy,r.getMaxAnisotropy())),i.get(E).__currentAnisotropy=E.anisotropy)}}function ie(L,E){L.__webglInit===void 0&&(L.__webglInit=!0,E.addEventListener("dispose",T),L.__webglTexture=n.createTexture(),o.memory.textures++)}function ve(L,E,J){let K=3553;E.isDataTexture2DArray&&(K=35866),E.isDataTexture3D&&(K=32879),ie(L,E),t.activeTexture(33984+J),t.bindTexture(K,L.__webglTexture),n.pixelStorei(37440,E.flipY),n.pixelStorei(37441,E.premultiplyAlpha),n.pixelStorei(3317,E.unpackAlignment),n.pixelStorei(37443,0);const ce=x(E)&&g(E.image)===!1,pe=_(E.image,ce,!1,u),Ce=g(pe)||a,Ae=s.convert(E.format);let Re=s.convert(E.type),Ee=S(E.internalFormat,Ae,Re);re(K,E,Ce);let V;const we=E.mipmaps;if(E.isDepthTexture)Ee=6402,a?E.type===uu?Ee=36012:E.type===U5?Ee=33190:E.type===h2?Ee=35056:Ee=33189:E.type===uu&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),E.format===Oh&&Ee===6402&&E.type!==B5&&E.type!==U5&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),E.type=B5,Re=s.convert(E.type)),E.format===d2&&Ee===6402&&(Ee=34041,E.type!==h2&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),E.type=h2,Re=s.convert(E.type))),t.texImage2D(3553,0,Ee,pe.width,pe.height,0,Ae,Re,null);else if(E.isDataTexture)if(we.length>0&&Ce){for(let le=0,Pe=we.length;le<Pe;le++)V=we[le],t.texImage2D(3553,le,Ee,V.width,V.height,0,Ae,Re,V.data);E.generateMipmaps=!1,L.__maxMipLevel=we.length-1}else t.texImage2D(3553,0,Ee,pe.width,pe.height,0,Ae,Re,pe.data),L.__maxMipLevel=0;else if(E.isCompressedTexture){for(let le=0,Pe=we.length;le<Pe;le++)V=we[le],E.format!==eo&&E.format!==fu?Ae!==null?t.compressedTexImage2D(3553,le,Ee,V.width,V.height,0,V.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):t.texImage2D(3553,le,Ee,V.width,V.height,0,Ae,Re,V.data);L.__maxMipLevel=we.length-1}else if(E.isDataTexture2DArray)t.texImage3D(35866,0,Ee,pe.width,pe.height,pe.depth,0,Ae,Re,pe.data),L.__maxMipLevel=0;else if(E.isDataTexture3D)t.texImage3D(32879,0,Ee,pe.width,pe.height,pe.depth,0,Ae,Re,pe.data),L.__maxMipLevel=0;else if(we.length>0&&Ce){for(let le=0,Pe=we.length;le<Pe;le++)V=we[le],t.texImage2D(3553,le,Ee,Ae,Re,V);E.generateMipmaps=!1,L.__maxMipLevel=we.length-1}else t.texImage2D(3553,0,Ee,Ae,Re,pe),L.__maxMipLevel=0;b(E,Ce)&&w(K,E,pe.width,pe.height),L.__version=E.version,E.onUpdate&&E.onUpdate(E)}function de(L,E,J){if(E.image.length!==6)return;ie(L,E),t.activeTexture(33984+J),t.bindTexture(34067,L.__webglTexture),n.pixelStorei(37440,E.flipY),n.pixelStorei(37441,E.premultiplyAlpha),n.pixelStorei(3317,E.unpackAlignment),n.pixelStorei(37443,0);const K=E&&(E.isCompressedTexture||E.image[0].isCompressedTexture),ce=E.image[0]&&E.image[0].isDataTexture,pe=[];for(let le=0;le<6;le++)!K&&!ce?pe[le]=_(E.image[le],!1,!0,c):pe[le]=ce?E.image[le].image:E.image[le];const Ce=pe[0],Ae=g(Ce)||a,Re=s.convert(E.format),Ee=s.convert(E.type),V=S(E.internalFormat,Re,Ee);re(34067,E,Ae);let we;if(K){for(let le=0;le<6;le++){we=pe[le].mipmaps;for(let Pe=0;Pe<we.length;Pe++){const ee=we[Pe];E.format!==eo&&E.format!==fu?Re!==null?t.compressedTexImage2D(34069+le,Pe,V,ee.width,ee.height,0,ee.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):t.texImage2D(34069+le,Pe,V,ee.width,ee.height,0,Re,Ee,ee.data)}}L.__maxMipLevel=we.length-1}else{we=E.mipmaps;for(let le=0;le<6;le++)if(ce){t.texImage2D(34069+le,0,V,pe[le].width,pe[le].height,0,Re,Ee,pe[le].data);for(let Pe=0;Pe<we.length;Pe++){const Ue=we[Pe].image[le].image;t.texImage2D(34069+le,Pe+1,V,Ue.width,Ue.height,0,Re,Ee,Ue.data)}}else{t.texImage2D(34069+le,0,V,Re,Ee,pe[le]);for(let Pe=0;Pe<we.length;Pe++){const ee=we[Pe];t.texImage2D(34069+le,Pe+1,V,Re,Ee,ee.image[le])}}L.__maxMipLevel=we.length}b(E,Ae)&&w(34067,E,Ce.width,Ce.height),L.__version=E.version,E.onUpdate&&E.onUpdate(E)}function ye(L,E,J,K,ce){const pe=s.convert(J.format),Ce=s.convert(J.type),Ae=S(J.internalFormat,pe,Ce);ce===32879||ce===35866?t.texImage3D(ce,0,Ae,E.width,E.height,E.depth,0,pe,Ce,null):t.texImage2D(ce,0,Ae,E.width,E.height,0,pe,Ce,null),t.bindFramebuffer(36160,L),n.framebufferTexture2D(36160,K,ce,i.get(J).__webglTexture,0),t.bindFramebuffer(36160,null)}function te(L,E,J){if(n.bindRenderbuffer(36161,L),E.depthBuffer&&!E.stencilBuffer){let K=33189;if(J){const ce=E.depthTexture;ce&&ce.isDepthTexture&&(ce.type===uu?K=36012:ce.type===U5&&(K=33190));const pe=Te(E);n.renderbufferStorageMultisample(36161,pe,K,E.width,E.height)}else n.renderbufferStorage(36161,K,E.width,E.height);n.framebufferRenderbuffer(36160,36096,36161,L)}else if(E.depthBuffer&&E.stencilBuffer){if(J){const K=Te(E);n.renderbufferStorageMultisample(36161,K,35056,E.width,E.height)}else n.renderbufferStorage(36161,34041,E.width,E.height);n.framebufferRenderbuffer(36160,33306,36161,L)}else{const K=E.isWebGLMultipleRenderTargets===!0?E.texture[0]:E.texture,ce=s.convert(K.format),pe=s.convert(K.type),Ce=S(K.internalFormat,ce,pe);if(J){const Ae=Te(E);n.renderbufferStorageMultisample(36161,Ae,Ce,E.width,E.height)}else n.renderbufferStorage(36161,Ce,E.width,E.height)}n.bindRenderbuffer(36161,null)}function $(L,E){if(E&&E.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(t.bindFramebuffer(36160,L),!(E.depthTexture&&E.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!i.get(E.depthTexture).__webglTexture||E.depthTexture.image.width!==E.width||E.depthTexture.image.height!==E.height)&&(E.depthTexture.image.width=E.width,E.depthTexture.image.height=E.height,E.depthTexture.needsUpdate=!0),P(E.depthTexture,0);const K=i.get(E.depthTexture).__webglTexture;if(E.depthTexture.format===Oh)n.framebufferTexture2D(36160,36096,3553,K,0);else if(E.depthTexture.format===d2)n.framebufferTexture2D(36160,33306,3553,K,0);else throw new Error("Unknown depthTexture format")}function ge(L){const E=i.get(L),J=L.isWebGLCubeRenderTarget===!0;if(L.depthTexture){if(J)throw new Error("target.depthTexture not supported in Cube render targets");$(E.__webglFramebuffer,L)}else if(J){E.__webglDepthbuffer=[];for(let K=0;K<6;K++)t.bindFramebuffer(36160,E.__webglFramebuffer[K]),E.__webglDepthbuffer[K]=n.createRenderbuffer(),te(E.__webglDepthbuffer[K],L,!1)}else t.bindFramebuffer(36160,E.__webglFramebuffer),E.__webglDepthbuffer=n.createRenderbuffer(),te(E.__webglDepthbuffer,L,!1);t.bindFramebuffer(36160,null)}function be(L){const E=L.texture,J=i.get(L),K=i.get(E);L.addEventListener("dispose",F),L.isWebGLMultipleRenderTargets!==!0&&(K.__webglTexture=n.createTexture(),K.__version=E.version,o.memory.textures++);const ce=L.isWebGLCubeRenderTarget===!0,pe=L.isWebGLMultipleRenderTargets===!0,Ce=L.isWebGLMultisampleRenderTarget===!0,Ae=E.isDataTexture3D||E.isDataTexture2DArray,Re=g(L)||a;if(a&&E.format===fu&&(E.type===uu||E.type===z5)&&(E.format=eo,console.warn("THREE.WebGLRenderer: Rendering to textures with RGB format is not supported. Using RGBA format instead.")),ce){J.__webglFramebuffer=[];for(let Ee=0;Ee<6;Ee++)J.__webglFramebuffer[Ee]=n.createFramebuffer()}else if(J.__webglFramebuffer=n.createFramebuffer(),pe)if(r.drawBuffers){const Ee=L.texture;for(let V=0,we=Ee.length;V<we;V++){const le=i.get(Ee[V]);le.__webglTexture===void 0&&(le.__webglTexture=n.createTexture(),o.memory.textures++)}}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");else if(Ce)if(a){J.__webglMultisampledFramebuffer=n.createFramebuffer(),J.__webglColorRenderbuffer=n.createRenderbuffer(),n.bindRenderbuffer(36161,J.__webglColorRenderbuffer);const Ee=s.convert(E.format),V=s.convert(E.type),we=S(E.internalFormat,Ee,V),le=Te(L);n.renderbufferStorageMultisample(36161,le,we,L.width,L.height),t.bindFramebuffer(36160,J.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(36160,36064,36161,J.__webglColorRenderbuffer),n.bindRenderbuffer(36161,null),L.depthBuffer&&(J.__webglDepthRenderbuffer=n.createRenderbuffer(),te(J.__webglDepthRenderbuffer,L,!0)),t.bindFramebuffer(36160,null)}else console.warn("THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.");if(ce){t.bindTexture(34067,K.__webglTexture),re(34067,E,Re);for(let Ee=0;Ee<6;Ee++)ye(J.__webglFramebuffer[Ee],L,E,36064,34069+Ee);b(E,Re)&&w(34067,E,L.width,L.height),t.bindTexture(34067,null)}else if(pe){const Ee=L.texture;for(let V=0,we=Ee.length;V<we;V++){const le=Ee[V],Pe=i.get(le);t.bindTexture(3553,Pe.__webglTexture),re(3553,le,Re),ye(J.__webglFramebuffer,L,le,36064+V,3553),b(le,Re)&&w(3553,le,L.width,L.height)}t.bindTexture(3553,null)}else{let Ee=3553;Ae&&(a?Ee=E.isDataTexture3D?32879:35866:console.warn("THREE.DataTexture3D and THREE.DataTexture2DArray only supported with WebGL2.")),t.bindTexture(Ee,K.__webglTexture),re(Ee,E,Re),ye(J.__webglFramebuffer,L,E,36064,Ee),b(E,Re)&&w(3553,E,L.width,L.height),t.bindTexture(3553,null)}L.depthBuffer&&ge(L)}function ue(L){const E=g(L)||a,J=L.isWebGLMultipleRenderTargets===!0?L.texture:[L.texture];for(let K=0,ce=J.length;K<ce;K++){const pe=J[K];if(b(pe,E)){const Ce=L.isWebGLCubeRenderTarget?34067:3553,Ae=i.get(pe).__webglTexture;t.bindTexture(Ce,Ae),w(Ce,pe,L.width,L.height),t.bindTexture(Ce,null)}}}function _e(L){if(L.isWebGLMultisampleRenderTarget)if(a){const E=L.width,J=L.height;let K=16384;L.depthBuffer&&(K|=256),L.stencilBuffer&&(K|=1024);const ce=i.get(L);t.bindFramebuffer(36008,ce.__webglMultisampledFramebuffer),t.bindFramebuffer(36009,ce.__webglFramebuffer),n.blitFramebuffer(0,0,E,J,0,0,E,J,K,9728),t.bindFramebuffer(36008,null),t.bindFramebuffer(36009,ce.__webglMultisampledFramebuffer)}else console.warn("THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.")}function Te(L){return a&&L.isWebGLMultisampleRenderTarget?Math.min(f,L.samples):0}function X(L){const E=o.render.frame;h.get(L)!==E&&(h.set(L,E),L.update())}let z=!1,W=!1;function se(L,E){L&&L.isWebGLRenderTarget&&(z===!1&&(console.warn("THREE.WebGLTextures.safeSetTexture2D: don't use render targets as textures. Use their .texture property instead."),z=!0),L=L.texture),P(L,E)}function ae(L,E){L&&L.isWebGLCubeRenderTarget&&(W===!1&&(console.warn("THREE.WebGLTextures.safeSetTextureCube: don't use cube render targets as textures. Use their .texture property instead."),W=!0),L=L.texture),B(L,E)}this.allocateTextureUnit=D,this.resetTextureUnits=G,this.setTexture2D=P,this.setTexture2DArray=I,this.setTexture3D=C,this.setTextureCube=B,this.setupRenderTarget=be,this.updateRenderTargetMipmap=ue,this.updateMultisampleRenderTarget=_e,this.safeSetTexture2D=se,this.safeSetTextureCube=ae}function rye(n,e,t){const i=t.isWebGL2;function r(s){let o;if(s===Ib)return 5121;if(s===Fge)return 32819;if(s===Ige)return 32820;if(s===Dge)return 33635;if(s===Cge)return 5120;if(s===Pge)return 5122;if(s===B5)return 5123;if(s===Rge)return 5124;if(s===U5)return 5125;if(s===uu)return 5126;if(s===z5)return i?5131:(o=e.get("OES_texture_half_float"),o!==null?o.HALF_FLOAT_OES:null);if(s===Nge)return 6406;if(s===fu)return 6407;if(s===eo)return 6408;if(s===Oge)return 6409;if(s===Bge)return 6410;if(s===Oh)return 6402;if(s===d2)return 34041;if(s===Uge)return 6403;if(s===zge)return 36244;if(s===kge)return 33319;if(s===Hge)return 33320;if(s===Gge)return 36248;if(s===Vge)return 36249;if(s===ek||s===tk||s===nk||s===ik)if(o=e.get("WEBGL_compressed_texture_s3tc"),o!==null){if(s===ek)return o.COMPRESSED_RGB_S3TC_DXT1_EXT;if(s===tk)return o.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(s===nk)return o.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(s===ik)return o.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(s===rk||s===sk||s===ok||s===ak)if(o=e.get("WEBGL_compressed_texture_pvrtc"),o!==null){if(s===rk)return o.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(s===sk)return o.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(s===ok)return o.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(s===ak)return o.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(s===Wge)return o=e.get("WEBGL_compressed_texture_etc1"),o!==null?o.COMPRESSED_RGB_ETC1_WEBGL:null;if((s===lk||s===ck)&&(o=e.get("WEBGL_compressed_texture_etc"),o!==null)){if(s===lk)return o.COMPRESSED_RGB8_ETC2;if(s===ck)return o.COMPRESSED_RGBA8_ETC2_EAC}if(s===Xge||s===Yge||s===$ge||s===qge||s===jge||s===Zge||s===Qge||s===Jge||s===Kge||s===e8e||s===t8e||s===n8e||s===i8e||s===r8e||s===o8e||s===a8e||s===l8e||s===c8e||s===u8e||s===f8e||s===h8e||s===d8e||s===p8e||s===m8e||s===g8e||s===v8e||s===x8e||s===y8e)return o=e.get("WEBGL_compressed_texture_astc"),o!==null?s:null;if(s===s8e)return o=e.get("EXT_texture_compression_bptc"),o!==null?s:null;if(s===h2)return i?34042:(o=e.get("WEBGL_depth_texture"),o!==null?o.UNSIGNED_INT_24_8_WEBGL:null)}return{convert:r}}class rH extends ls{constructor(e=[]){super();this.cameras=e}}rH.prototype.isArrayCamera=!0;class w2 extends rn{constructor(){super();this.type="Group"}}w2.prototype.isGroup=!0;const sye={type:"move"};class mw{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new w2,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new w2,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new me,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new me),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new w2,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new me,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new me),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,t,i){let r=null,s=null,o=null;const a=this._targetRay,l=this._grip,c=this._hand;if(e&&t.session.visibilityState!=="visible-blurred")if(a!==null&&(r=t.getPose(e.targetRaySpace,i),r!==null&&(a.matrix.fromArray(r.transform.matrix),a.matrix.decompose(a.position,a.rotation,a.scale),r.linearVelocity?(a.hasLinearVelocity=!0,a.linearVelocity.copy(r.linearVelocity)):a.hasLinearVelocity=!1,r.angularVelocity?(a.hasAngularVelocity=!0,a.angularVelocity.copy(r.angularVelocity)):a.hasAngularVelocity=!1,this.dispatchEvent(sye))),c&&e.hand){o=!0;for(const v of e.hand.values()){const _=t.getJointPose(v,i);if(c.joints[v.jointName]===void 0){const x=new w2;x.matrixAutoUpdate=!1,x.visible=!1,c.joints[v.jointName]=x,c.add(x)}const g=c.joints[v.jointName];_!==null&&(g.matrix.fromArray(_.transform.matrix),g.matrix.decompose(g.position,g.rotation,g.scale),g.jointRadius=_.radius),g.visible=_!==null}const u=c.joints["index-finger-tip"],f=c.joints["thumb-tip"],h=u.position.distanceTo(f.position),d=.02,m=.005;c.inputState.pinching&&h>d+m?(c.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!c.inputState.pinching&&h<=d-m&&(c.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else l!==null&&e.gripSpace&&(s=t.getPose(e.gripSpace,i),s!==null&&(l.matrix.fromArray(s.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),s.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(s.linearVelocity)):l.hasLinearVelocity=!1,s.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(s.angularVelocity)):l.hasAngularVelocity=!1));return a!==null&&(a.visible=r!==null),l!==null&&(l.visible=s!==null),c!==null&&(c.visible=o!==null),this}}class oye extends hu{constructor(e,t){super();const i=this,r=e.state;let s=null,o=1,a=null,l="local-floor",c=null;const u=[],f=new Map,h=new ls;h.layers.enable(1),h.viewport=new un;const d=new ls;d.layers.enable(2),d.viewport=new un;const m=[h,d],v=new rH;v.layers.enable(1),v.layers.enable(2);let _=null,g=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(G){let D=u[G];return D===void 0&&(D=new mw,u[G]=D),D.getTargetRaySpace()},this.getControllerGrip=function(G){let D=u[G];return D===void 0&&(D=new mw,u[G]=D),D.getGripSpace()},this.getHand=function(G){let D=u[G];return D===void 0&&(D=new mw,u[G]=D),D.getHandSpace()};function x(G){const D=f.get(G.inputSource);D&&D.dispatchEvent({type:G.type,data:G.inputSource})}function b(){f.forEach(function(G,D){G.disconnect(D)}),f.clear(),_=null,g=null,r.bindXRFramebuffer(null),e.setRenderTarget(e.getRenderTarget()),O.stop(),i.isPresenting=!1,i.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(G){o=G,i.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(G){l=G,i.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return a},this.getSession=function(){return s},this.setSession=async function(G){if(s=G,s!==null){s.addEventListener("select",x),s.addEventListener("selectstart",x),s.addEventListener("selectend",x),s.addEventListener("squeeze",x),s.addEventListener("squeezestart",x),s.addEventListener("squeezeend",x),s.addEventListener("end",b),s.addEventListener("inputsourceschange",w);const D=t.getContextAttributes();D.xrCompatible!==!0&&await t.makeXRCompatible();const P={antialias:D.antialias,alpha:D.alpha,depth:D.depth,stencil:D.stencil,framebufferScaleFactor:o},I=new XRWebGLLayer(s,t,P);s.updateRenderState({baseLayer:I}),a=await s.requestReferenceSpace(l),O.setContext(s),O.start(),i.isPresenting=!0,i.dispatchEvent({type:"sessionstart"})}};function w(G){const D=s.inputSources;for(let P=0;P<u.length;P++)f.set(D[P],u[P]);for(let P=0;P<G.removed.length;P++){const I=G.removed[P],C=f.get(I);C&&(C.dispatchEvent({type:"disconnected",data:I}),f.delete(I))}for(let P=0;P<G.added.length;P++){const I=G.added[P],C=f.get(I);C&&C.dispatchEvent({type:"connected",data:I})}}const S=new me,A=new me;function T(G,D,P){S.setFromMatrixPosition(D.matrixWorld),A.setFromMatrixPosition(P.matrixWorld);const I=S.distanceTo(A),C=D.projectionMatrix.elements,B=P.projectionMatrix.elements,Y=C[14]/(C[10]-1),j=C[14]/(C[10]+1),re=(C[9]+1)/C[5],ie=(C[9]-1)/C[5],ve=(C[8]-1)/C[0],de=(B[8]+1)/B[0],ye=Y*ve,te=Y*de,$=I/(-ve+de),ge=$*-ve;D.matrixWorld.decompose(G.position,G.quaternion,G.scale),G.translateX(ge),G.translateZ($),G.matrixWorld.compose(G.position,G.quaternion,G.scale),G.matrixWorldInverse.copy(G.matrixWorld).invert();const be=Y+$,ue=j+$,_e=ye-ge,Te=te+(I-ge),X=re*j/ue*be,z=ie*j/ue*be;G.projectionMatrix.makePerspective(_e,Te,X,z,be,ue)}function F(G,D){D===null?G.matrixWorld.copy(G.matrix):G.matrixWorld.multiplyMatrices(D.matrixWorld,G.matrix),G.matrixWorldInverse.copy(G.matrixWorld).invert()}this.updateCamera=function(G){if(s===null)return;v.near=d.near=h.near=G.near,v.far=d.far=h.far=G.far,(_!==v.near||g!==v.far)&&(s.updateRenderState({depthNear:v.near,depthFar:v.far}),_=v.near,g=v.far);const D=G.parent,P=v.cameras;F(v,D);for(let C=0;C<P.length;C++)F(P[C],D);G.matrixWorld.copy(v.matrixWorld),G.matrix.copy(v.matrix),G.matrix.decompose(G.position,G.quaternion,G.scale);const I=G.children;for(let C=0,B=I.length;C<B;C++)I[C].updateMatrixWorld(!0);P.length===2?T(v,h,d):v.projectionMatrix.copy(h.projectionMatrix)},this.getCamera=function(){return v};let U=null;function N(G,D){if(c=D.getViewerPose(a),c!==null){const I=c.views,C=s.renderState.baseLayer;r.bindXRFramebuffer(C.framebuffer);let B=!1;I.length!==v.cameras.length&&(v.cameras.length=0,B=!0);for(let Y=0;Y<I.length;Y++){const j=I[Y],re=C.getViewport(j),ie=m[Y];ie.matrix.fromArray(j.transform.matrix),ie.projectionMatrix.fromArray(j.projectionMatrix),ie.viewport.set(re.x,re.y,re.width,re.height),Y===0&&v.matrix.copy(ie.matrix),B===!0&&v.cameras.push(ie)}}const P=s.inputSources;for(let I=0;I<u.length;I++){const C=u[I],B=P[I];C.update(B,D,a)}U&&U(G,D)}const O=new Pk;O.setAnimationLoop(N),this.setAnimationLoop=function(G){U=G},this.dispose=function(){}}}function aye(n){function e(g,x){g.fogColor.value.copy(x.color),x.isFog?(g.fogNear.value=x.near,g.fogFar.value=x.far):x.isFogExp2&&(g.fogDensity.value=x.density)}function t(g,x,b,w,S){x.isMeshBasicMaterial?i(g,x):x.isMeshLambertMaterial?(i(g,x),l(g,x)):x.isMeshToonMaterial?(i(g,x),u(g,x)):x.isMeshPhongMaterial?(i(g,x),c(g,x)):x.isMeshStandardMaterial?(i(g,x),x.isMeshPhysicalMaterial?h(g,x,S):f(g,x)):x.isMeshMatcapMaterial?(i(g,x),d(g,x)):x.isMeshDepthMaterial?(i(g,x),m(g,x)):x.isMeshDistanceMaterial?(i(g,x),v(g,x)):x.isMeshNormalMaterial?(i(g,x),_(g,x)):x.isLineBasicMaterial?(r(g,x),x.isLineDashedMaterial&&s(g,x)):x.isPointsMaterial?o(g,x,b,w):x.isSpriteMaterial?a(g,x):x.isShadowMaterial?(g.color.value.copy(x.color),g.opacity.value=x.opacity):x.isShaderMaterial&&(x.uniformsNeedUpdate=!1)}function i(g,x){g.opacity.value=x.opacity,x.color&&g.diffuse.value.copy(x.color),x.emissive&&g.emissive.value.copy(x.emissive).multiplyScalar(x.emissiveIntensity),x.map&&(g.map.value=x.map),x.alphaMap&&(g.alphaMap.value=x.alphaMap),x.specularMap&&(g.specularMap.value=x.specularMap);const b=n.get(x).envMap;if(b){g.envMap.value=b,g.flipEnvMap.value=b.isCubeTexture&&b._needsFlipEnvMap?-1:1,g.reflectivity.value=x.reflectivity,g.refractionRatio.value=x.refractionRatio;const A=n.get(b).__maxMipLevel;A!==void 0&&(g.maxMipLevel.value=A)}x.lightMap&&(g.lightMap.value=x.lightMap,g.lightMapIntensity.value=x.lightMapIntensity),x.aoMap&&(g.aoMap.value=x.aoMap,g.aoMapIntensity.value=x.aoMapIntensity);let w;x.map?w=x.map:x.specularMap?w=x.specularMap:x.displacementMap?w=x.displacementMap:x.normalMap?w=x.normalMap:x.bumpMap?w=x.bumpMap:x.roughnessMap?w=x.roughnessMap:x.metalnessMap?w=x.metalnessMap:x.alphaMap?w=x.alphaMap:x.emissiveMap?w=x.emissiveMap:x.clearcoatMap?w=x.clearcoatMap:x.clearcoatNormalMap?w=x.clearcoatNormalMap:x.clearcoatRoughnessMap&&(w=x.clearcoatRoughnessMap),w!==void 0&&(w.isWebGLRenderTarget&&(w=w.texture),w.matrixAutoUpdate===!0&&w.updateMatrix(),g.uvTransform.value.copy(w.matrix));let S;x.aoMap?S=x.aoMap:x.lightMap&&(S=x.lightMap),S!==void 0&&(S.isWebGLRenderTarget&&(S=S.texture),S.matrixAutoUpdate===!0&&S.updateMatrix(),g.uv2Transform.value.copy(S.matrix))}function r(g,x){g.diffuse.value.copy(x.color),g.opacity.value=x.opacity}function s(g,x){g.dashSize.value=x.dashSize,g.totalSize.value=x.dashSize+x.gapSize,g.scale.value=x.scale}function o(g,x,b,w){g.diffuse.value.copy(x.color),g.opacity.value=x.opacity,g.size.value=x.size*b,g.scale.value=w*.5,x.map&&(g.map.value=x.map),x.alphaMap&&(g.alphaMap.value=x.alphaMap);let S;x.map?S=x.map:x.alphaMap&&(S=x.alphaMap),S!==void 0&&(S.matrixAutoUpdate===!0&&S.updateMatrix(),g.uvTransform.value.copy(S.matrix))}function a(g,x){g.diffuse.value.copy(x.color),g.opacity.value=x.opacity,g.rotation.value=x.rotation,x.map&&(g.map.value=x.map),x.alphaMap&&(g.alphaMap.value=x.alphaMap);let b;x.map?b=x.map:x.alphaMap&&(b=x.alphaMap),b!==void 0&&(b.matrixAutoUpdate===!0&&b.updateMatrix(),g.uvTransform.value.copy(b.matrix))}function l(g,x){x.emissiveMap&&(g.emissiveMap.value=x.emissiveMap)}function c(g,x){g.specular.value.copy(x.specular),g.shininess.value=Math.max(x.shininess,1e-4),x.emissiveMap&&(g.emissiveMap.value=x.emissiveMap),x.bumpMap&&(g.bumpMap.value=x.bumpMap,g.bumpScale.value=x.bumpScale,x.side===Mi&&(g.bumpScale.value*=-1)),x.normalMap&&(g.normalMap.value=x.normalMap,g.normalScale.value.copy(x.normalScale),x.side===Mi&&g.normalScale.value.negate()),x.displacementMap&&(g.displacementMap.value=x.displacementMap,g.displacementScale.value=x.displacementScale,g.displacementBias.value=x.displacementBias)}function u(g,x){x.gradientMap&&(g.gradientMap.value=x.gradientMap),x.emissiveMap&&(g.emissiveMap.value=x.emissiveMap),x.bumpMap&&(g.bumpMap.value=x.bumpMap,g.bumpScale.value=x.bumpScale,x.side===Mi&&(g.bumpScale.value*=-1)),x.normalMap&&(g.normalMap.value=x.normalMap,g.normalScale.value.copy(x.normalScale),x.side===Mi&&g.normalScale.value.negate()),x.displacementMap&&(g.displacementMap.value=x.displacementMap,g.displacementScale.value=x.displacementScale,g.displacementBias.value=x.displacementBias)}function f(g,x){g.roughness.value=x.roughness,g.metalness.value=x.metalness,x.roughnessMap&&(g.roughnessMap.value=x.roughnessMap),x.metalnessMap&&(g.metalnessMap.value=x.metalnessMap),x.emissiveMap&&(g.emissiveMap.value=x.emissiveMap),x.bumpMap&&(g.bumpMap.value=x.bumpMap,g.bumpScale.value=x.bumpScale,x.side===Mi&&(g.bumpScale.value*=-1)),x.normalMap&&(g.normalMap.value=x.normalMap,g.normalScale.value.copy(x.normalScale),x.side===Mi&&g.normalScale.value.negate()),x.displacementMap&&(g.displacementMap.value=x.displacementMap,g.displacementScale.value=x.displacementScale,g.displacementBias.value=x.displacementBias),n.get(x).envMap&&(g.envMapIntensity.value=x.envMapIntensity)}function h(g,x,b){f(g,x),g.reflectivity.value=x.reflectivity,g.clearcoat.value=x.clearcoat,g.clearcoatRoughness.value=x.clearcoatRoughness,x.sheen&&g.sheen.value.copy(x.sheen),x.clearcoatMap&&(g.clearcoatMap.value=x.clearcoatMap),x.clearcoatRoughnessMap&&(g.clearcoatRoughnessMap.value=x.clearcoatRoughnessMap),x.clearcoatNormalMap&&(g.clearcoatNormalScale.value.copy(x.clearcoatNormalScale),g.clearcoatNormalMap.value=x.clearcoatNormalMap,x.side===Mi&&g.clearcoatNormalScale.value.negate()),g.transmission.value=x.transmission,x.transmissionMap&&(g.transmissionMap.value=x.transmissionMap),x.transmission>0&&(g.transmissionSamplerMap.value=b.texture,g.transmissionSamplerSize.value.set(b.width,b.height)),g.thickness.value=x.thickness,x.thicknessMap&&(g.thicknessMap.value=x.thicknessMap),g.attenuationDistance.value=x.attenuationDistance,g.attenuationColor.value.copy(x.attenuationColor)}function d(g,x){x.matcap&&(g.matcap.value=x.matcap),x.bumpMap&&(g.bumpMap.value=x.bumpMap,g.bumpScale.value=x.bumpScale,x.side===Mi&&(g.bumpScale.value*=-1)),x.normalMap&&(g.normalMap.value=x.normalMap,g.normalScale.value.copy(x.normalScale),x.side===Mi&&g.normalScale.value.negate()),x.displacementMap&&(g.displacementMap.value=x.displacementMap,g.displacementScale.value=x.displacementScale,g.displacementBias.value=x.displacementBias)}function m(g,x){x.displacementMap&&(g.displacementMap.value=x.displacementMap,g.displacementScale.value=x.displacementScale,g.displacementBias.value=x.displacementBias)}function v(g,x){x.displacementMap&&(g.displacementMap.value=x.displacementMap,g.displacementScale.value=x.displacementScale,g.displacementBias.value=x.displacementBias),g.referencePosition.value.copy(x.referencePosition),g.nearDistance.value=x.nearDistance,g.farDistance.value=x.farDistance}function _(g,x){x.bumpMap&&(g.bumpMap.value=x.bumpMap,g.bumpScale.value=x.bumpScale,x.side===Mi&&(g.bumpScale.value*=-1)),x.normalMap&&(g.normalMap.value=x.normalMap,g.normalScale.value.copy(x.normalScale),x.side===Mi&&g.normalScale.value.negate()),x.displacementMap&&(g.displacementMap.value=x.displacementMap,g.displacementScale.value=x.displacementScale,g.displacementBias.value=x.displacementBias)}return{refreshFogUniforms:e,refreshMaterialUniforms:t}}function lye(){const n=document.createElementNS("http://www.w3.org/1999/xhtml","canvas");return n.style.display="block",n}function mn(n){n=n||{};const e=n.canvas!==void 0?n.canvas:lye(),t=n.context!==void 0?n.context:null,i=n.alpha!==void 0?n.alpha:!1,r=n.depth!==void 0?n.depth:!0,s=n.stencil!==void 0?n.stencil:!0,o=n.antialias!==void 0?n.antialias:!1,a=n.premultipliedAlpha!==void 0?n.premultipliedAlpha:!0,l=n.preserveDrawingBuffer!==void 0?n.preserveDrawingBuffer:!1,c=n.powerPreference!==void 0?n.powerPreference:"default",u=n.failIfMajorPerformanceCaveat!==void 0?n.failIfMajorPerformanceCaveat:!1;let f=null,h=null;const d=[],m=[];this.domElement=e,this.debug={checkShaderErrors:!0},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.gammaFactor=2,this.outputEncoding=p2,this.physicallyCorrectLights=!1,this.toneMapping=f2,this.toneMappingExposure=1;const v=this;let _=!1,g=0,x=0,b=null,w=-1,S=null;const A=new un,T=new un;let F=null,U=e.width,N=e.height,O=1,G=null,D=null;const P=new un(0,0,U,N),I=new un(0,0,U,N);let C=!1;const B=[],Y=new lg;let j=!1,re=!1,ie=null;const ve=new pt,de=new me,ye={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function te(){return b===null?O:1}let $=t;function ge(ne,Ne){for(let k=0;k<ne.length;k++){const oe=ne[k],fe=e.getContext(oe,Ne);if(fe!==null)return fe}return null}try{const ne={alpha:i,depth:r,stencil:s,antialias:o,premultipliedAlpha:a,preserveDrawingBuffer:l,powerPreference:c,failIfMajorPerformanceCaveat:u};if(e.addEventListener("webglcontextlost",Ue,!1),e.addEventListener("webglcontextrestored",lt,!1),$===null){const Ne=["webgl2","webgl","experimental-webgl"];if(v.isWebGL1Renderer===!0&&Ne.shift(),$=ge(Ne,ne),$===null)throw ge(Ne)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}$.getShaderPrecisionFormat===void 0&&($.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(ne){throw console.error("THREE.WebGLRenderer: "+ne.message),ne}let be,ue,_e,Te,X,z,W,se,ae,L,E,J,K,ce,pe,Ce,Ae,Re,Ee,V,we,le;function Pe(){be=new Rve($),ue=new Lve($,be,n),be.init(ue),we=new rye($,be,ue),_e=new nye($,be,ue),B[0]=1029,Te=new Dve($),X=new Xxe,z=new iye($,be,_e,X,ue,we,Te),W=new Pve(v),se=new n6e($,ue),le=new Tve($,be,se,ue),ae=new Fve($,se,Te,le),L=new Uve($,ae,se,Te),Re=new Bve($),pe=new Cve(X),E=new Wxe(v,W,be,ue,le,pe),J=new aye(X),K=new $xe(X),ce=new Kxe(be,ue),Ae=new Ave(v,W,_e,L,a),Ce=new iH(v,L,ue),Ee=new Eve($,be,Te,ue),V=new Ive($,be,Te,ue),Te.programs=E.programs,v.capabilities=ue,v.extensions=be,v.properties=X,v.renderLists=K,v.shadowMap=Ce,v.state=_e,v.info=Te}Pe();const ee=new oye(v,$);this.xr=ee,this.getContext=function(){return $},this.getContextAttributes=function(){return $.getContextAttributes()},this.forceContextLoss=function(){const ne=be.get("WEBGL_lose_context");ne&&ne.loseContext()},this.forceContextRestore=function(){const ne=be.get("WEBGL_lose_context");ne&&ne.restoreContext()},this.getPixelRatio=function(){return O},this.setPixelRatio=function(ne){ne!==void 0&&(O=ne,this.setSize(U,N,!1))},this.getSize=function(ne){return ne===void 0&&(console.warn("WebGLRenderer: .getsize() now requires a Vector2 as an argument"),ne=new qe),ne.set(U,N)},this.setSize=function(ne,Ne,k){if(ee.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}U=ne,N=Ne,e.width=Math.floor(ne*O),e.height=Math.floor(Ne*O),k!==!1&&(e.style.width=ne+"px",e.style.height=Ne+"px"),this.setViewport(0,0,ne,Ne)},this.getDrawingBufferSize=function(ne){return ne===void 0&&(console.warn("WebGLRenderer: .getdrawingBufferSize() now requires a Vector2 as an argument"),ne=new qe),ne.set(U*O,N*O).floor()},this.setDrawingBufferSize=function(ne,Ne,k){U=ne,N=Ne,O=k,e.width=Math.floor(ne*k),e.height=Math.floor(Ne*k),this.setViewport(0,0,ne,Ne)},this.getCurrentViewport=function(ne){return ne===void 0&&(console.warn("WebGLRenderer: .getCurrentViewport() now requires a Vector4 as an argument"),ne=new un),ne.copy(A)},this.getViewport=function(ne){return ne.copy(P)},this.setViewport=function(ne,Ne,k,oe){ne.isVector4?P.set(ne.x,ne.y,ne.z,ne.w):P.set(ne,Ne,k,oe),_e.viewport(A.copy(P).multiplyScalar(O).floor())},this.getScissor=function(ne){return ne.copy(I)},this.setScissor=function(ne,Ne,k,oe){ne.isVector4?I.set(ne.x,ne.y,ne.z,ne.w):I.set(ne,Ne,k,oe),_e.scissor(T.copy(I).multiplyScalar(O).floor())},this.getScissorTest=function(){return C},this.setScissorTest=function(ne){_e.setScissorTest(C=ne)},this.setOpaqueSort=function(ne){G=ne},this.setTransparentSort=function(ne){D=ne},this.getClearColor=function(ne){return ne===void 0&&(console.warn("WebGLRenderer: .getClearColor() now requires a Color as an argument"),ne=new ht),ne.copy(Ae.getClearColor())},this.setClearColor=function(){Ae.setClearColor.apply(Ae,arguments)},this.getClearAlpha=function(){return Ae.getClearAlpha()},this.setClearAlpha=function(){Ae.setClearAlpha.apply(Ae,arguments)},this.clear=function(ne,Ne,k){let oe=0;(ne===void 0||ne)&&(oe|=16384),(Ne===void 0||Ne)&&(oe|=256),(k===void 0||k)&&(oe|=1024),$.clear(oe)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){e.removeEventListener("webglcontextlost",Ue,!1),e.removeEventListener("webglcontextrestored",lt,!1),K.dispose(),ce.dispose(),X.dispose(),W.dispose(),L.dispose(),le.dispose(),ee.dispose(),ee.removeEventListener("sessionstart",zn),ee.removeEventListener("sessionend",Cr),ie&&(ie.dispose(),ie=null),Gr.stop()};function Ue(ne){ne.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),_=!0}function lt(){console.log("THREE.WebGLRenderer: Context Restored."),_=!1;const ne=Te.autoReset,Ne=Ce.enabled,k=Ce.autoUpdate,oe=Ce.needsUpdate,fe=Ce.type;Pe(),Te.autoReset=ne,Ce.enabled=Ne,Ce.autoUpdate=k,Ce.needsUpdate=oe,Ce.type=fe}function at(ne){const Ne=ne.target;Ne.removeEventListener("dispose",at),Ot(Ne)}function Ot(ne){tt(ne),X.remove(ne)}function tt(ne){const Ne=X.get(ne).programs;Ne!==void 0&&Ne.forEach(function(k){E.releaseProgram(k)})}function _t(ne,Ne){ne.render(function(k){v.renderBufferImmediate(k,Ne)})}this.renderBufferImmediate=function(ne,Ne){le.initAttributes();const k=X.get(ne);ne.hasPositions&&!k.position&&(k.position=$.createBuffer()),ne.hasNormals&&!k.normal&&(k.normal=$.createBuffer()),ne.hasUvs&&!k.uv&&(k.uv=$.createBuffer()),ne.hasColors&&!k.color&&(k.color=$.createBuffer());const oe=Ne.getAttributes();ne.hasPositions&&($.bindBuffer(34962,k.position),$.bufferData(34962,ne.positionArray,35048),le.enableAttribute(oe.position),$.vertexAttribPointer(oe.position,3,5126,!1,0,0)),ne.hasNormals&&($.bindBuffer(34962,k.normal),$.bufferData(34962,ne.normalArray,35048),le.enableAttribute(oe.normal),$.vertexAttribPointer(oe.normal,3,5126,!1,0,0)),ne.hasUvs&&($.bindBuffer(34962,k.uv),$.bufferData(34962,ne.uvArray,35048),le.enableAttribute(oe.uv),$.vertexAttribPointer(oe.uv,2,5126,!1,0,0)),ne.hasColors&&($.bindBuffer(34962,k.color),$.bufferData(34962,ne.colorArray,35048),le.enableAttribute(oe.color),$.vertexAttribPointer(oe.color,3,5126,!1,0,0)),le.disableUnusedAttributes(),$.drawArrays(4,0,ne.count),ne.count=0},this.renderBufferDirect=function(ne,Ne,k,oe,fe,Le){Ne===null&&(Ne=ye);const Oe=fe.isMesh&&fe.matrixWorld.determinant()<0,Xe=na(ne,Ne,oe,fe);_e.setMaterial(oe,Oe);let Ye=k.index;const Ge=k.attributes.position;if(Ye===null){if(Ge===void 0||Ge.count===0)return}else if(Ye.count===0)return;let Ke=1;oe.wireframe===!0&&(Ye=ae.getWireframeAttribute(k),Ke=2),(oe.morphTargets||oe.morphNormals)&&Re.update(fe,k,oe,Xe),le.setup(fe,oe,Xe,k,Ye);let Qe,nt=Ee;Ye!==null&&(Qe=se.get(Ye),nt=V,nt.setIndex(Qe));const bt=Ye!==null?Ye.count:Ge.count,st=k.drawRange.start*Ke,Ei=k.drawRange.count*Ke,Lt=Le!==null?Le.start*Ke:0,Yn=Le!==null?Le.count*Ke:1/0,Jt=Math.max(st,Lt),Pr=Math.min(bt,st+Ei,Lt+Yn)-1,tr=Math.max(0,Pr-Jt+1);if(tr!==0){if(fe.isMesh)oe.wireframe===!0?(_e.setLineWidth(oe.wireframeLinewidth*te()),nt.setMode(1)):nt.setMode(4);else if(fe.isLine){let vn=oe.linewidth;vn===void 0&&(vn=1),_e.setLineWidth(vn*te()),fe.isLineSegments?nt.setMode(1):fe.isLineLoop?nt.setMode(2):nt.setMode(3)}else fe.isPoints?nt.setMode(0):fe.isSprite&&nt.setMode(4);if(fe.isInstancedMesh)nt.renderInstances(Jt,tr,fe.count);else if(k.isInstancedBufferGeometry){const vn=Math.min(k.instanceCount,k._maxInstanceCount);nt.renderInstances(Jt,tr,vn)}else nt.render(Jt,tr)}},this.compile=function(ne,Ne){h=ce.get(ne),h.init(),ne.traverseVisible(function(k){k.isLight&&k.layers.test(Ne.layers)&&(h.pushLight(k),k.castShadow&&h.pushShadow(k))}),h.setupLights(),ne.traverse(function(k){const oe=k.material;if(oe)if(Array.isArray(oe))for(let fe=0;fe<oe.length;fe++){const Le=oe[fe];Xs(Le,ne,k)}else Xs(oe,ne,k)})};let Vt=null;function In(ne){Vt&&Vt(ne)}function zn(){Gr.stop()}function Cr(){Gr.start()}const Gr=new Pk;Gr.setAnimationLoop(In),typeof window!="undefined"&&Gr.setContext(window),this.setAnimationLoop=function(ne){Vt=ne,ee.setAnimationLoop(ne),ne===null?Gr.stop():Gr.start()},ee.addEventListener("sessionstart",zn),ee.addEventListener("sessionend",Cr),this.render=function(ne,Ne){if(Ne!==void 0&&Ne.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(_===!0)return;ne.autoUpdate===!0&&ne.updateMatrixWorld(),Ne.parent===null&&Ne.updateMatrixWorld(),ee.enabled===!0&&ee.isPresenting===!0&&(ee.cameraAutoUpdate===!0&&ee.updateCamera(Ne),Ne=ee.getCamera()),ne.isScene===!0&&ne.onBeforeRender(v,ne,Ne,b),h=ce.get(ne,m.length),h.init(),m.push(h),ve.multiplyMatrices(Ne.projectionMatrix,Ne.matrixWorldInverse),Y.setFromProjectionMatrix(ve),re=this.localClippingEnabled,j=pe.init(this.clippingPlanes,re,Ne),f=K.get(ne,d.length),f.init(),d.push(f),cs(ne,Ne,0,v.sortObjects),f.finish(),v.sortObjects===!0&&f.sort(G,D),j===!0&&pe.beginShadows();const k=h.state.shadowsArray;Ce.render(k,ne,Ne),h.setupLights(),h.setupLightsView(Ne),j===!0&&pe.endShadows(),this.info.autoReset===!0&&this.info.reset(),Ae.render(f,ne);const oe=f.opaque,fe=f.transmissive,Le=f.transparent;oe.length>0&&ao(oe,ne,Ne),fe.length>0&&_u(oe,fe,ne,Ne),Le.length>0&&ao(Le,ne,Ne),b!==null&&(z.updateRenderTargetMipmap(b),z.updateMultisampleRenderTarget(b)),ne.isScene===!0&&ne.onAfterRender(v,ne,Ne),_e.buffers.depth.setTest(!0),_e.buffers.depth.setMask(!0),_e.buffers.color.setMask(!0),_e.setPolygonOffset(!1),le.resetDefaultState(),w=-1,S=null,m.pop(),m.length>0?h=m[m.length-1]:h=null,d.pop(),d.length>0?f=d[d.length-1]:f=null};function cs(ne,Ne,k,oe){if(ne.visible===!1)return;if(ne.layers.test(Ne.layers)){if(ne.isGroup)k=ne.renderOrder;else if(ne.isLOD)ne.autoUpdate===!0&&ne.update(Ne);else if(ne.isLight)h.pushLight(ne),ne.castShadow&&h.pushShadow(ne);else if(ne.isSprite){if(!ne.frustumCulled||Y.intersectsSprite(ne)){oe&&de.setFromMatrixPosition(ne.matrixWorld).applyMatrix4(ve);const Oe=L.update(ne),Xe=ne.material;Xe.visible&&f.push(ne,Oe,Xe,k,de.z,null)}}else if(ne.isImmediateRenderObject)oe&&de.setFromMatrixPosition(ne.matrixWorld).applyMatrix4(ve),f.push(ne,null,ne.material,k,de.z,null);else if((ne.isMesh||ne.isLine||ne.isPoints)&&(ne.isSkinnedMesh&&ne.skeleton.frame!==Te.render.frame&&(ne.skeleton.update(),ne.skeleton.frame=Te.render.frame),!ne.frustumCulled||Y.intersectsObject(ne))){oe&&de.setFromMatrixPosition(ne.matrixWorld).applyMatrix4(ve);const Oe=L.update(ne),Xe=ne.material;if(Array.isArray(Xe)){const Ye=Oe.groups;for(let Ge=0,Ke=Ye.length;Ge<Ke;Ge++){const Qe=Ye[Ge],nt=Xe[Qe.materialIndex];nt&&nt.visible&&f.push(ne,Oe,nt,k,de.z,Qe)}}else Xe.visible&&f.push(ne,Oe,Xe,k,de.z,null)}}const Le=ne.children;for(let Oe=0,Xe=Le.length;Oe<Xe;Oe++)cs(Le[Oe],Ne,k,oe)}function _u(ne,Ne,k,oe){ie===null&&(ie=new Zo(1024,1024,{generateMipmaps:!0,minFilter:O5,magFilter:Qi,wrapS:rs,wrapT:rs}));const fe=v.getRenderTarget();v.setRenderTarget(ie),v.clear(),ao(ne,k,oe),z.updateRenderTargetMipmap(ie),v.setRenderTarget(fe),ao(Ne,k,oe)}function ao(ne,Ne,k){const oe=Ne.isScene===!0?Ne.overrideMaterial:null;for(let fe=0,Le=ne.length;fe<Le;fe++){const Oe=ne[fe],Xe=Oe.object,Ye=Oe.geometry,Ge=oe===null?Oe.material:oe,Ke=Oe.group;if(k.isArrayCamera){const Qe=k.cameras;for(let nt=0,bt=Qe.length;nt<bt;nt++){const st=Qe[nt];Xe.layers.test(st.layers)&&(_e.viewport(A.copy(st.viewport)),h.setupLightsView(st),bu(Xe,Ne,st,Ye,Ge,Ke))}}else bu(Xe,Ne,k,Ye,Ge,Ke)}}function bu(ne,Ne,k,oe,fe,Le){if(ne.onBeforeRender(v,Ne,k,oe,fe,Le),ne.modelViewMatrix.multiplyMatrices(k.matrixWorldInverse,ne.matrixWorld),ne.normalMatrix.getNormalMatrix(ne.modelViewMatrix),ne.isImmediateRenderObject){const Oe=na(k,Ne,fe,ne);_e.setMaterial(fe),le.reset(),_t(ne,Oe)}else v.renderBufferDirect(k,Ne,oe,fe,ne,Le);ne.onAfterRender(v,Ne,k,oe,fe,Le)}function Xs(ne,Ne,k){Ne.isScene!==!0&&(Ne=ye);const oe=X.get(ne),fe=h.state.lights,Le=h.state.shadowsArray,Oe=fe.state.version,Xe=E.getParameters(ne,fe.state,Le,Ne,k),Ye=E.getProgramCacheKey(Xe);let Ge=oe.programs;oe.environment=ne.isMeshStandardMaterial?Ne.environment:null,oe.fog=Ne.fog,oe.envMap=W.get(ne.envMap||oe.environment),Ge===void 0&&(ne.addEventListener("dispose",at),Ge=new Map,oe.programs=Ge);let Ke=Ge.get(Ye);if(Ke!==void 0){if(oe.currentProgram===Ke&&oe.lightsStateVersion===Oe)return wu(ne,Xe),Ke}else Xe.uniforms=E.getUniforms(ne),ne.onBuild(Xe,v),ne.onBeforeCompile(Xe,v),Ke=E.acquireProgram(Xe,Ye),Ge.set(Ye,Ke),oe.uniforms=Xe.uniforms;const Qe=oe.uniforms;(!ne.isShaderMaterial&&!ne.isRawShaderMaterial||ne.clipping===!0)&&(Qe.clippingPlanes=pe.uniform),wu(ne,Xe),oe.needsLights=ia(ne),oe.lightsStateVersion=Oe,oe.needsLights&&(Qe.ambientLightColor.value=fe.state.ambient,Qe.lightProbe.value=fe.state.probe,Qe.directionalLights.value=fe.state.directional,Qe.directionalLightShadows.value=fe.state.directionalShadow,Qe.spotLights.value=fe.state.spot,Qe.spotLightShadows.value=fe.state.spotShadow,Qe.rectAreaLights.value=fe.state.rectArea,Qe.ltc_1.value=fe.state.rectAreaLTC1,Qe.ltc_2.value=fe.state.rectAreaLTC2,Qe.pointLights.value=fe.state.point,Qe.pointLightShadows.value=fe.state.pointShadow,Qe.hemisphereLights.value=fe.state.hemi,Qe.directionalShadowMap.value=fe.state.directionalShadowMap,Qe.directionalShadowMatrix.value=fe.state.directionalShadowMatrix,Qe.spotShadowMap.value=fe.state.spotShadowMap,Qe.spotShadowMatrix.value=fe.state.spotShadowMatrix,Qe.pointShadowMap.value=fe.state.pointShadowMap,Qe.pointShadowMatrix.value=fe.state.pointShadowMatrix);const nt=Ke.getUniforms(),bt=_l.seqWithValue(nt.seq,Qe);return oe.currentProgram=Ke,oe.uniformsList=bt,Ke}function wu(ne,Ne){const k=X.get(ne);k.outputEncoding=Ne.outputEncoding,k.instancing=Ne.instancing,k.skinning=Ne.skinning,k.numClippingPlanes=Ne.numClippingPlanes,k.numIntersection=Ne.numClipIntersection,k.vertexAlphas=Ne.vertexAlphas}function na(ne,Ne,k,oe){Ne.isScene!==!0&&(Ne=ye),z.resetTextureUnits();const fe=Ne.fog,Le=k.isMeshStandardMaterial?Ne.environment:null,Oe=b===null?v.outputEncoding:b.texture.encoding,Xe=W.get(k.envMap||Le),Ye=k.vertexColors===!0&&oe.geometry&&oe.geometry.attributes.color&&oe.geometry.attributes.color.itemSize===4,Ge=X.get(k),Ke=h.state.lights;if(j===!0&&(re===!0||ne!==S)){const Jt=ne===S&&k.id===w;pe.setState(k,ne,Jt)}let Qe=!1;k.version===Ge.__version?(Ge.needsLights&&Ge.lightsStateVersion!==Ke.state.version||Ge.outputEncoding!==Oe||oe.isInstancedMesh&&Ge.instancing===!1||!oe.isInstancedMesh&&Ge.instancing===!0||oe.isSkinnedMesh&&Ge.skinning===!1||!oe.isSkinnedMesh&&Ge.skinning===!0||Ge.envMap!==Xe||k.fog&&Ge.fog!==fe||Ge.numClippingPlanes!==void 0&&(Ge.numClippingPlanes!==pe.numPlanes||Ge.numIntersection!==pe.numIntersection)||Ge.vertexAlphas!==Ye)&&(Qe=!0):(Qe=!0,Ge.__version=k.version);let nt=Ge.currentProgram;Qe===!0&&(nt=Xs(k,Ne,oe));let bt=!1,st=!1,Ei=!1;const Lt=nt.getUniforms(),Yn=Ge.uniforms;if(_e.useProgram(nt.program)&&(bt=!0,st=!0,Ei=!0),k.id!==w&&(w=k.id,st=!0),bt||S!==ne){if(Lt.setValue($,"projectionMatrix",ne.projectionMatrix),ue.logarithmicDepthBuffer&&Lt.setValue($,"logDepthBufFC",2/(Math.log(ne.far+1)/Math.LN2)),S!==ne&&(S=ne,st=!0,Ei=!0),k.isShaderMaterial||k.isMeshPhongMaterial||k.isMeshToonMaterial||k.isMeshStandardMaterial||k.envMap){const Jt=Lt.map.cameraPosition;Jt!==void 0&&Jt.setValue($,de.setFromMatrixPosition(ne.matrixWorld))}(k.isMeshPhongMaterial||k.isMeshToonMaterial||k.isMeshLambertMaterial||k.isMeshBasicMaterial||k.isMeshStandardMaterial||k.isShaderMaterial)&&Lt.setValue($,"isOrthographic",ne.isOrthographicCamera===!0),(k.isMeshPhongMaterial||k.isMeshToonMaterial||k.isMeshLambertMaterial||k.isMeshBasicMaterial||k.isMeshStandardMaterial||k.isShaderMaterial||k.isShadowMaterial||oe.isSkinnedMesh)&&Lt.setValue($,"viewMatrix",ne.matrixWorldInverse)}if(oe.isSkinnedMesh){Lt.setOptional($,oe,"bindMatrix"),Lt.setOptional($,oe,"bindMatrixInverse");const Jt=oe.skeleton;Jt&&(ue.floatVertexTextures?(Jt.boneTexture===null&&Jt.computeBoneTexture(),Lt.setValue($,"boneTexture",Jt.boneTexture,z),Lt.setValue($,"boneTextureSize",Jt.boneTextureSize)):Lt.setOptional($,Jt,"boneMatrices"))}return(st||Ge.receiveShadow!==oe.receiveShadow)&&(Ge.receiveShadow=oe.receiveShadow,Lt.setValue($,"receiveShadow",oe.receiveShadow)),st&&(Lt.setValue($,"toneMappingExposure",v.toneMappingExposure),Ge.needsLights&&Mu(Yn,Ei),fe&&k.fog&&J.refreshFogUniforms(Yn,fe),J.refreshMaterialUniforms(Yn,k,O,N,ie),_l.upload($,Ge.uniformsList,Yn,z)),k.isShaderMaterial&&k.uniformsNeedUpdate===!0&&(_l.upload($,Ge.uniformsList,Yn,z),k.uniformsNeedUpdate=!1),k.isSpriteMaterial&&Lt.setValue($,"center",oe.center),Lt.setValue($,"modelViewMatrix",oe.modelViewMatrix),Lt.setValue($,"normalMatrix",oe.normalMatrix),Lt.setValue($,"modelMatrix",oe.matrixWorld),nt}function Mu(ne,Ne){ne.ambientLightColor.needsUpdate=Ne,ne.lightProbe.needsUpdate=Ne,ne.directionalLights.needsUpdate=Ne,ne.directionalLightShadows.needsUpdate=Ne,ne.pointLights.needsUpdate=Ne,ne.pointLightShadows.needsUpdate=Ne,ne.spotLights.needsUpdate=Ne,ne.spotLightShadows.needsUpdate=Ne,ne.rectAreaLights.needsUpdate=Ne,ne.hemisphereLights.needsUpdate=Ne}function ia(ne){return ne.isMeshLambertMaterial||ne.isMeshToonMaterial||ne.isMeshPhongMaterial||ne.isMeshStandardMaterial||ne.isShadowMaterial||ne.isShaderMaterial&&ne.lights===!0}this.getActiveCubeFace=function(){return g},this.getActiveMipmapLevel=function(){return x},this.getRenderTarget=function(){return b},this.setRenderTarget=function(ne,Ne=0,k=0){b=ne,g=Ne,x=k,ne&&X.get(ne).__webglFramebuffer===void 0&&z.setupRenderTarget(ne);let oe=null,fe=!1,Le=!1;if(ne){const Xe=ne.texture;(Xe.isDataTexture3D||Xe.isDataTexture2DArray)&&(Le=!0);const Ye=X.get(ne).__webglFramebuffer;ne.isWebGLCubeRenderTarget?(oe=Ye[Ne],fe=!0):ne.isWebGLMultisampleRenderTarget?oe=X.get(ne).__webglMultisampledFramebuffer:oe=Ye,A.copy(ne.viewport),T.copy(ne.scissor),F=ne.scissorTest}else A.copy(P).multiplyScalar(O).floor(),T.copy(I).multiplyScalar(O).floor(),F=C;if(_e.bindFramebuffer(36160,oe)&&ue.drawBuffers){let Xe=!1;if(ne)if(ne.isWebGLMultipleRenderTargets){const Ye=ne.texture;if(B.length!==Ye.length||B[0]!==36064){for(let Ge=0,Ke=Ye.length;Ge<Ke;Ge++)B[Ge]=36064+Ge;B.length=Ye.length,Xe=!0}}else(B.length!==1||B[0]!==36064)&&(B[0]=36064,B.length=1,Xe=!0);else(B.length!==1||B[0]!==1029)&&(B[0]=1029,B.length=1,Xe=!0);Xe&&(ue.isWebGL2?$.drawBuffers(B):be.get("WEBGL_draw_buffers").drawBuffersWEBGL(B))}if(_e.viewport(A),_e.scissor(T),_e.setScissorTest(F),fe){const Xe=X.get(ne.texture);$.framebufferTexture2D(36160,36064,34069+Ne,Xe.__webglTexture,k)}else if(Le){const Xe=X.get(ne.texture),Ye=Ne||0;$.framebufferTextureLayer(36160,36064,Xe.__webglTexture,k||0,Ye)}},this.readRenderTargetPixels=function(ne,Ne,k,oe,fe,Le,Oe){if(!(ne&&ne.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let Xe=X.get(ne).__webglFramebuffer;if(ne.isWebGLCubeRenderTarget&&Oe!==void 0&&(Xe=Xe[Oe]),Xe){_e.bindFramebuffer(36160,Xe);try{const Ye=ne.texture,Ge=Ye.format,Ke=Ye.type;if(Ge!==eo&&we.convert(Ge)!==$.getParameter(35739)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}const Qe=Ke===z5&&(be.has("EXT_color_buffer_half_float")||ue.isWebGL2&&be.has("EXT_color_buffer_float"));if(Ke!==Ib&&we.convert(Ke)!==$.getParameter(35738)&&!(Ke===uu&&(ue.isWebGL2||be.has("OES_texture_float")||be.has("WEBGL_color_buffer_float")))&&!Qe){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}$.checkFramebufferStatus(36160)===36053?Ne>=0&&Ne<=ne.width-oe&&k>=0&&k<=ne.height-fe&&$.readPixels(Ne,k,oe,fe,we.convert(Ge),we.convert(Ke),Le):console.error("THREE.WebGLRenderer.readRenderTargetPixels: readPixels from renderTarget failed. Framebuffer not complete.")}finally{const Ye=b!==null?X.get(b).__webglFramebuffer:null;_e.bindFramebuffer(36160,Ye)}}},this.copyFramebufferToTexture=function(ne,Ne,k=0){const oe=Math.pow(2,-k),fe=Math.floor(Ne.image.width*oe),Le=Math.floor(Ne.image.height*oe);let Oe=we.convert(Ne.format);ue.isWebGL2&&(Oe===6407&&(Oe=32849),Oe===6408&&(Oe=32856)),z.setTexture2D(Ne,0),$.copyTexImage2D(3553,k,Oe,ne.x,ne.y,fe,Le,0),_e.unbindTexture()},this.copyTextureToTexture=function(ne,Ne,k,oe=0){const fe=Ne.image.width,Le=Ne.image.height,Oe=we.convert(k.format),Xe=we.convert(k.type);z.setTexture2D(k,0),$.pixelStorei(37440,k.flipY),$.pixelStorei(37441,k.premultiplyAlpha),$.pixelStorei(3317,k.unpackAlignment),Ne.isDataTexture?$.texSubImage2D(3553,oe,ne.x,ne.y,fe,Le,Oe,Xe,Ne.image.data):Ne.isCompressedTexture?$.compressedTexSubImage2D(3553,oe,ne.x,ne.y,Ne.mipmaps[0].width,Ne.mipmaps[0].height,Oe,Ne.mipmaps[0].data):$.texSubImage2D(3553,oe,ne.x,ne.y,Oe,Xe,Ne.image),oe===0&&k.generateMipmaps&&$.generateMipmap(3553),_e.unbindTexture()},this.copyTextureToTexture3D=function(ne,Ne,k,oe,fe=0){if(v.isWebGL1Renderer){console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");return}const{width:Le,height:Oe,data:Xe}=k.image,Ye=we.convert(oe.format),Ge=we.convert(oe.type);let Ke;if(oe.isDataTexture3D)z.setTexture3D(oe,0),Ke=32879;else if(oe.isDataTexture2DArray)z.setTexture2DArray(oe,0),Ke=35866;else{console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");return}$.pixelStorei(37440,oe.flipY),$.pixelStorei(37441,oe.premultiplyAlpha),$.pixelStorei(3317,oe.unpackAlignment);const Qe=$.getParameter(3314),nt=$.getParameter(32878),bt=$.getParameter(3316),st=$.getParameter(3315),Ei=$.getParameter(32877);$.pixelStorei(3314,Le),$.pixelStorei(32878,Oe),$.pixelStorei(3316,ne.min.x),$.pixelStorei(3315,ne.min.y),$.pixelStorei(32877,ne.min.z),$.texSubImage3D(Ke,fe,Ne.x,Ne.y,Ne.z,ne.max.x-ne.min.x+1,ne.max.y-ne.min.y+1,ne.max.z-ne.min.z+1,Ye,Ge,Xe),$.pixelStorei(3314,Qe),$.pixelStorei(32878,nt),$.pixelStorei(3316,bt),$.pixelStorei(3315,st),$.pixelStorei(32877,Ei),fe===0&&oe.generateMipmaps&&$.generateMipmap(Ke),_e.unbindTexture()},this.initTexture=function(ne){z.setTexture2D(ne,0),_e.unbindTexture()},this.resetState=function(){g=0,x=0,b=null,_e.reset(),le.reset()},typeof __THREE_DEVTOOLS__!="undefined"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}class cye extends mn{}cye.prototype.isWebGL1Renderer=!0;class sH extends rn{constructor(){super();this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.overrideMaterial=null,this.autoUpdate=!0,typeof __THREE_DEVTOOLS__!="undefined"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,t){return super.copy(e,t),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.autoUpdate=e.autoUpdate,this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const t=super.toJSON(e);return this.background!==null&&(t.object.background=this.background.toJSON(e)),this.environment!==null&&(t.object.environment=this.environment.toJSON(e)),this.fog!==null&&(t.object.fog=this.fog.toJSON()),t}}sH.prototype.isScene=!0;class M2{constructor(e,t){this.array=e,this.stride=t,this.count=e!==void 0?e.length/t:0,this.usage=m2,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=to()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,t,i){e*=this.stride,i*=t.stride;for(let r=0,s=this.stride;r<s;r++)this.array[e+r]=t.array[i+r];return this}set(e,t=0){return this.array.set(e,t),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=to()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const t=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),i=new this.constructor(t,this.stride);return i.setUsage(this.usage),i}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=to()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.prototype.slice.call(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}M2.prototype.isInterleavedBuffer=!0;const ii=new me;class S2{constructor(e,t,i,r){this.name="",this.data=e,this.itemSize=t,this.offset=i,this.normalized=r===!0}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let t=0,i=this.data.count;t<i;t++)ii.x=this.getX(t),ii.y=this.getY(t),ii.z=this.getZ(t),ii.applyMatrix4(e),this.setXYZ(t,ii.x,ii.y,ii.z);return this}applyNormalMatrix(e){for(let t=0,i=this.count;t<i;t++)ii.x=this.getX(t),ii.y=this.getY(t),ii.z=this.getZ(t),ii.applyNormalMatrix(e),this.setXYZ(t,ii.x,ii.y,ii.z);return this}transformDirection(e){for(let t=0,i=this.count;t<i;t++)ii.x=this.getX(t),ii.y=this.getY(t),ii.z=this.getZ(t),ii.transformDirection(e),this.setXYZ(t,ii.x,ii.y,ii.z);return this}setX(e,t){return this.data.array[e*this.data.stride+this.offset]=t,this}setY(e,t){return this.data.array[e*this.data.stride+this.offset+1]=t,this}setZ(e,t){return this.data.array[e*this.data.stride+this.offset+2]=t,this}setW(e,t){return this.data.array[e*this.data.stride+this.offset+3]=t,this}getX(e){return this.data.array[e*this.data.stride+this.offset]}getY(e){return this.data.array[e*this.data.stride+this.offset+1]}getZ(e){return this.data.array[e*this.data.stride+this.offset+2]}getW(e){return this.data.array[e*this.data.stride+this.offset+3]}setXY(e,t,i){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=i,this}setXYZ(e,t,i,r){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=i,this.data.array[e+2]=r,this}setXYZW(e,t,i,r,s){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=i,this.data.array[e+2]=r,this.data.array[e+3]=s,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interlaved buffer attribute will deinterleave buffer data.");const t=[];for(let i=0;i<this.count;i++){const r=i*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)t.push(this.data.array[r+s])}return new wn(new this.array.constructor(t),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new S2(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interlaved buffer attribute will deinterleave buffer data.");const t=[];for(let i=0;i<this.count;i++){const r=i*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)t.push(this.data.array[r+s])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}S2.prototype.isInterleavedBufferAttribute=!0;class oH extends Ji{constructor(e){super();this.type="SpriteMaterial",this.color=new ht(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this}}oH.prototype.isSpriteMaterial=!0;let id;const A2=new me,rd=new me,sd=new me,od=new qe,T2=new qe,aH=new pt,cg=new me,E2=new me,ug=new me,lH=new qe,gw=new qe,cH=new qe;class uye extends rn{constructor(e){super();if(this.type="Sprite",id===void 0){id=new Mn;const t=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),i=new M2(t,5);id.setIndex([0,1,2,0,2,3]),id.setAttribute("position",new S2(i,3,0,!1)),id.setAttribute("uv",new S2(i,2,3,!1))}this.geometry=id,this.material=e!==void 0?e:new oH,this.center=new qe(.5,.5)}raycast(e,t){e.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),rd.setFromMatrixScale(this.matrixWorld),aH.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),sd.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&rd.multiplyScalar(-sd.z);const i=this.material.rotation;let r,s;i!==0&&(s=Math.cos(i),r=Math.sin(i));const o=this.center;fg(cg.set(-.5,-.5,0),sd,o,rd,r,s),fg(E2.set(.5,-.5,0),sd,o,rd,r,s),fg(ug.set(.5,.5,0),sd,o,rd,r,s),lH.set(0,0),gw.set(1,0),cH.set(1,1);let a=e.ray.intersectTriangle(cg,E2,ug,!1,A2);if(a===null&&(fg(E2.set(-.5,.5,0),sd,o,rd,r,s),gw.set(0,1),a=e.ray.intersectTriangle(cg,ug,E2,!1,A2),a===null))return;const l=e.ray.origin.distanceTo(A2);l<e.near||l>e.far||t.push({distance:l,point:A2.clone(),uv:ai.getUV(A2,cg,E2,ug,lH,gw,cH,new qe),face:null,object:this})}copy(e){return super.copy(e),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}uye.prototype.isSprite=!0;function fg(n,e,t,i,r,s){od.subVectors(n,t).addScalar(.5).multiply(i),r!==void 0?(T2.x=s*od.x-r*od.y,T2.y=r*od.x+s*od.y):T2.copy(od),n.copy(e),n.x+=T2.x,n.y+=T2.y,n.applyMatrix4(aH)}const uH=new me,fH=new un,hH=new un,fye=new me,dH=new pt;class pH extends x0{constructor(e,t){super(e,t);this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new pt,this.bindMatrixInverse=new pt}copy(e){return super.copy(e),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,this}bind(e,t){this.skeleton=e,t===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.copy(t).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new un,t=this.geometry.attributes.skinWeight;for(let i=0,r=t.count;i<r;i++){e.x=t.getX(i),e.y=t.getY(i),e.z=t.getZ(i),e.w=t.getW(i);const s=1/e.manhattanLength();s!==1/0?e.multiplyScalar(s):e.set(1,0,0,0),t.setXYZW(i,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode==="attached"?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode==="detached"?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}boneTransform(e,t){const i=this.skeleton,r=this.geometry;fH.fromBufferAttribute(r.attributes.skinIndex,e),hH.fromBufferAttribute(r.attributes.skinWeight,e),uH.fromBufferAttribute(r.attributes.position,e).applyMatrix4(this.bindMatrix),t.set(0,0,0);for(let s=0;s<4;s++){const o=hH.getComponent(s);if(o!==0){const a=fH.getComponent(s);dH.multiplyMatrices(i.bones[a].matrixWorld,i.boneInverses[a]),t.addScaledVector(fye.copy(uH).applyMatrix4(dH),o)}}return t.applyMatrix4(this.bindMatrixInverse)}}pH.prototype.isSkinnedMesh=!0;class hye extends rn{constructor(){super();this.type="Bone"}}hye.prototype.isBone=!0;class dye extends Ui{constructor(e,t,i,r,s,o,a,l,c,u,f,h){super(null,o,a,l,c,u,r,s,f,h);this.image={data:e||null,width:t||1,height:i||1},this.magFilter=c!==void 0?c:Qi,this.minFilter=u!==void 0?u:Qi,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.needsUpdate=!0}}dye.prototype.isDataTexture=!0;const mH=new pt,gH=new pt,hg=[],L2=new x0;class pye extends x0{constructor(e,t,i){super(e,t);this.instanceMatrix=new wn(new Float32Array(i*16),16),this.instanceColor=null,this.count=i,this.frustumCulled=!1}copy(e){return super.copy(e),this.instanceMatrix.copy(e.instanceMatrix),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,this}getColorAt(e,t){t.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,t){t.fromArray(this.instanceMatrix.array,e*16)}raycast(e,t){const i=this.matrixWorld,r=this.count;if(L2.geometry=this.geometry,L2.material=this.material,L2.material!==void 0)for(let s=0;s<r;s++){this.getMatrixAt(s,mH),gH.multiplyMatrices(i,mH),L2.matrixWorld=gH,L2.raycast(e,hg);for(let o=0,a=hg.length;o<a;o++){const l=hg[o];l.instanceId=s,l.object=this,t.push(l)}hg.length=0}}setColorAt(e,t){this.instanceColor===null&&(this.instanceColor=new wn(new Float32Array(this.count*3),3)),t.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,t){t.toArray(this.instanceMatrix.array,e*16)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"})}}pye.prototype.isInstancedMesh=!0;class C2 extends Ji{constructor(e){super();this.type="LineBasicMaterial",this.color=new ht(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.morphTargets=!1,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.morphTargets=e.morphTargets,this}}C2.prototype.isLineBasicMaterial=!0;const vH=new me,xH=new me,yH=new pt,vw=new gu,dg=new mu;class xw extends rn{constructor(e=new Mn,t=new C2){super();this.type="Line",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e){return super.copy(e),this.material=e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.isBufferGeometry)if(e.index===null){const t=e.attributes.position,i=[0];for(let r=1,s=t.count;r<s;r++)vH.fromBufferAttribute(t,r-1),xH.fromBufferAttribute(t,r),i[r]=i[r-1],i[r]+=vH.distanceTo(xH);e.setAttribute("lineDistance",new Si(i,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else e.isGeometry&&console.error("THREE.Line.computeLineDistances() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.");return this}raycast(e,t){const i=this.geometry,r=this.matrixWorld,s=e.params.Line.threshold,o=i.drawRange;if(i.boundingSphere===null&&i.computeBoundingSphere(),dg.copy(i.boundingSphere),dg.applyMatrix4(r),dg.radius+=s,e.ray.intersectsSphere(dg)===!1)return;yH.copy(r).invert(),vw.copy(e.ray).applyMatrix4(yH);const a=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a,c=new me,u=new me,f=new me,h=new me,d=this.isLineSegments?2:1;if(i.isBufferGeometry){const m=i.index,_=i.attributes.position;if(m!==null){const g=Math.max(0,o.start),x=Math.min(m.count,o.start+o.count);for(let b=g,w=x-1;b<w;b+=d){const S=m.getX(b),A=m.getX(b+1);if(c.fromBufferAttribute(_,S),u.fromBufferAttribute(_,A),vw.distanceSqToSegment(c,u,h,f)>l)continue;h.applyMatrix4(this.matrixWorld);const F=e.ray.origin.distanceTo(h);F<e.near||F>e.far||t.push({distance:F,point:f.clone().applyMatrix4(this.matrixWorld),index:b,face:null,faceIndex:null,object:this})}}else{const g=Math.max(0,o.start),x=Math.min(_.count,o.start+o.count);for(let b=g,w=x-1;b<w;b+=d){if(c.fromBufferAttribute(_,b),u.fromBufferAttribute(_,b+1),vw.distanceSqToSegment(c,u,h,f)>l)continue;h.applyMatrix4(this.matrixWorld);const A=e.ray.origin.distanceTo(h);A<e.near||A>e.far||t.push({distance:A,point:f.clone().applyMatrix4(this.matrixWorld),index:b,face:null,faceIndex:null,object:this})}}}else i.isGeometry&&console.error("THREE.Line.raycast() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}updateMorphTargets(){const e=this.geometry;if(e.isBufferGeometry){const t=e.morphAttributes,i=Object.keys(t);if(i.length>0){const r=t[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=r.length;s<o;s++){const a=r[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}else{const t=e.morphTargets;t!==void 0&&t.length>0&&console.error("THREE.Line.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.")}}}xw.prototype.isLine=!0;const _H=new me,bH=new me;class pg extends xw{constructor(e,t){super(e,t);this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.isBufferGeometry)if(e.index===null){const t=e.attributes.position,i=[];for(let r=0,s=t.count;r<s;r+=2)_H.fromBufferAttribute(t,r),bH.fromBufferAttribute(t,r+1),i[r]=r===0?0:i[r-1],i[r+1]=i[r]+_H.distanceTo(bH);e.setAttribute("lineDistance",new Si(i,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else e.isGeometry&&console.error("THREE.LineSegments.computeLineDistances() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.");return this}}pg.prototype.isLineSegments=!0;class mye extends xw{constructor(e,t){super(e,t);this.type="LineLoop"}}mye.prototype.isLineLoop=!0;class wH extends Ji{constructor(e){super();this.type="PointsMaterial",this.color=new ht(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.morphTargets=!1,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.morphTargets=e.morphTargets,this}}wH.prototype.isPointsMaterial=!0;const MH=new pt,yw=new gu,mg=new mu,gg=new me;class gye extends rn{constructor(e=new Mn,t=new wH){super();this.type="Points",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e){return super.copy(e),this.material=e.material,this.geometry=e.geometry,this}raycast(e,t){const i=this.geometry,r=this.matrixWorld,s=e.params.Points.threshold,o=i.drawRange;if(i.boundingSphere===null&&i.computeBoundingSphere(),mg.copy(i.boundingSphere),mg.applyMatrix4(r),mg.radius+=s,e.ray.intersectsSphere(mg)===!1)return;MH.copy(r).invert(),yw.copy(e.ray).applyMatrix4(MH);const a=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a;if(i.isBufferGeometry){const c=i.index,f=i.attributes.position;if(c!==null){const h=Math.max(0,o.start),d=Math.min(c.count,o.start+o.count);for(let m=h,v=d;m<v;m++){const _=c.getX(m);gg.fromBufferAttribute(f,_),SH(gg,_,l,r,e,t,this)}}else{const h=Math.max(0,o.start),d=Math.min(f.count,o.start+o.count);for(let m=h,v=d;m<v;m++)gg.fromBufferAttribute(f,m),SH(gg,m,l,r,e,t,this)}}else console.error("THREE.Points.raycast() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}updateMorphTargets(){const e=this.geometry;if(e.isBufferGeometry){const t=e.morphAttributes,i=Object.keys(t);if(i.length>0){const r=t[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=r.length;s<o;s++){const a=r[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}else{const t=e.morphTargets;t!==void 0&&t.length>0&&console.error("THREE.Points.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.")}}}gye.prototype.isPoints=!0;function SH(n,e,t,i,r,s,o){const a=yw.distanceSqToPoint(n);if(a<t){const l=new me;yw.closestPointToPoint(n,l),l.applyMatrix4(i);const c=r.ray.origin.distanceTo(l);if(c<r.near||c>r.far)return;s.push({distance:c,distanceToRay:Math.sqrt(a),point:l,index:e,face:null,object:o})}}class vye extends Ui{constructor(e,t,i,r,s,o,a,l,c){super(e,t,i,r,s,o,a,l,c);this.format=a!==void 0?a:fu,this.minFilter=o!==void 0?o:Hs,this.magFilter=s!==void 0?s:Hs,this.generateMipmaps=!1;const u=this;function f(){u.needsUpdate=!0,e.requestVideoFrameCallback(f)}"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback(f)}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}vye.prototype.isVideoTexture=!0;class xye extends Ui{constructor(e,t,i,r,s,o,a,l,c,u,f,h){super(null,o,a,l,c,u,r,s,f,h);this.image={width:t,height:i},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}xye.prototype.isCompressedTexture=!0;class yye extends Ui{constructor(e,t,i,r,s,o,a,l,c){super(e,t,i,r,s,o,a,l,c);this.needsUpdate=!0}}yye.prototype.isCanvasTexture=!0;class _ye extends Ui{constructor(e,t,i,r,s,o,a,l,c,u){if(u=u!==void 0?u:Oh,u!==Oh&&u!==d2)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");i===void 0&&u===Oh&&(i=B5),i===void 0&&u===d2&&(i=h2);super(null,r,s,o,a,l,u,i,c);this.image={width:e,height:t},this.magFilter=a!==void 0?a:Qi,this.minFilter=l!==void 0?l:Qi,this.flipY=!1,this.generateMipmaps=!1}}_ye.prototype.isDepthTexture=!0;new me;new me;new me;new ai;const bye={triangulate:function(n,e,t){t=t||2;const i=e&&e.length,r=i?e[0]*t:n.length;let s=AH(n,0,r,t,!0);const o=[];if(!s||s.next===s.prev)return o;let a,l,c,u,f,h,d;if(i&&(s=Tye(n,e,s,t)),n.length>80*t){a=c=n[0],l=u=n[1];for(let m=t;m<r;m+=t)f=n[m],h=n[m+1],f<a&&(a=f),h<l&&(l=h),f>c&&(c=f),h>u&&(u=h);d=Math.max(c-a,u-l),d=d!==0?1/d:0}return P2(s,o,t,a,l,d),o}};function AH(n,e,t,i,r){let s,o;if(r===Bye(n,e,t,i)>0)for(s=e;s<t;s+=i)o=LH(s,n[s],n[s+1],o);else for(s=t-i;s>=e;s-=i)o=LH(s,n[s],n[s+1],o);return o&&vg(o,o.next)&&(F2(o),o=o.next),o}function bl(n,e){if(!n)return n;e||(e=n);let t=n,i;do if(i=!1,!t.steiner&&(vg(t,t.next)||Un(t.prev,t,t.next)===0)){if(F2(t),t=e=t.prev,t===t.next)break;i=!0}else t=t.next;while(i||t!==e);return e}function P2(n,e,t,i,r,s,o){if(!n)return;!o&&s&&Rye(n,i,r,s);let a=n,l,c;for(;n.prev!==n.next;){if(l=n.prev,c=n.next,s?Mye(n,i,r,s):wye(n)){e.push(l.i/t),e.push(n.i/t),e.push(c.i/t),F2(n),n=c.next,a=c.next;continue}if(n=c,n===a){o?o===1?(n=Sye(bl(n),e,t),P2(n,e,t,i,r,s,2)):o===2&&Aye(n,e,t,i,r,s):P2(bl(n),e,t,i,r,s,1);break}}}function wye(n){const e=n.prev,t=n,i=n.next;if(Un(e,t,i)>=0)return!1;let r=n.next.next;for(;r!==n.prev;){if(ad(e.x,e.y,t.x,t.y,i.x,i.y,r.x,r.y)&&Un(r.prev,r,r.next)>=0)return!1;r=r.next}return!0}function Mye(n,e,t,i){const r=n.prev,s=n,o=n.next;if(Un(r,s,o)>=0)return!1;const a=r.x<s.x?r.x<o.x?r.x:o.x:s.x<o.x?s.x:o.x,l=r.y<s.y?r.y<o.y?r.y:o.y:s.y<o.y?s.y:o.y,c=r.x>s.x?r.x>o.x?r.x:o.x:s.x>o.x?s.x:o.x,u=r.y>s.y?r.y>o.y?r.y:o.y:s.y>o.y?s.y:o.y,f=_w(a,l,e,t,i),h=_w(c,u,e,t,i);let d=n.prevZ,m=n.nextZ;for(;d&&d.z>=f&&m&&m.z<=h;){if(d!==n.prev&&d!==n.next&&ad(r.x,r.y,s.x,s.y,o.x,o.y,d.x,d.y)&&Un(d.prev,d,d.next)>=0||(d=d.prevZ,m!==n.prev&&m!==n.next&&ad(r.x,r.y,s.x,s.y,o.x,o.y,m.x,m.y)&&Un(m.prev,m,m.next)>=0))return!1;m=m.nextZ}for(;d&&d.z>=f;){if(d!==n.prev&&d!==n.next&&ad(r.x,r.y,s.x,s.y,o.x,o.y,d.x,d.y)&&Un(d.prev,d,d.next)>=0)return!1;d=d.prevZ}for(;m&&m.z<=h;){if(m!==n.prev&&m!==n.next&&ad(r.x,r.y,s.x,s.y,o.x,o.y,m.x,m.y)&&Un(m.prev,m,m.next)>=0)return!1;m=m.nextZ}return!0}function Sye(n,e,t){let i=n;do{const r=i.prev,s=i.next.next;!vg(r,s)&&TH(r,i,i.next,s)&&R2(r,s)&&R2(s,r)&&(e.push(r.i/t),e.push(i.i/t),e.push(s.i/t),F2(i),F2(i.next),i=n=s),i=i.next}while(i!==n);return bl(i)}function Aye(n,e,t,i,r,s){let o=n;do{let a=o.next.next;for(;a!==o.prev;){if(o.i!==a.i&&Dye(o,a)){let l=EH(o,a);o=bl(o,o.next),l=bl(l,l.next),P2(o,e,t,i,r,s),P2(l,e,t,i,r,s);return}a=a.next}o=o.next}while(o!==n)}function Tye(n,e,t,i){const r=[];let s,o,a,l,c;for(s=0,o=e.length;s<o;s++)a=e[s]*i,l=s<o-1?e[s+1]*i:n.length,c=AH(n,a,l,i,!1),c===c.next&&(c.steiner=!0),r.push(Iye(c));for(r.sort(Eye),s=0;s<r.length;s++)Lye(r[s],t),t=bl(t,t.next);return t}function Eye(n,e){return n.x-e.x}function Lye(n,e){if(e=Cye(n,e),e){const t=EH(e,n);bl(e,e.next),bl(t,t.next)}}function Cye(n,e){let t=e;const i=n.x,r=n.y;let s=-1/0,o;do{if(r<=t.y&&r>=t.next.y&&t.next.y!==t.y){const h=t.x+(r-t.y)*(t.next.x-t.x)/(t.next.y-t.y);if(h<=i&&h>s){if(s=h,h===i){if(r===t.y)return t;if(r===t.next.y)return t.next}o=t.x<t.next.x?t:t.next}}t=t.next}while(t!==e);if(!o)return null;if(i===s)return o;const a=o,l=o.x,c=o.y;let u=1/0,f;t=o;do i>=t.x&&t.x>=l&&i!==t.x&&ad(r<c?i:s,r,l,c,r<c?s:i,r,t.x,t.y)&&(f=Math.abs(r-t.y)/(i-t.x),R2(t,n)&&(f<u||f===u&&(t.x>o.x||t.x===o.x&&Pye(o,t)))&&(o=t,u=f)),t=t.next;while(t!==a);return o}function Pye(n,e){return Un(n.prev,n,e.prev)<0&&Un(e.next,n,n.next)<0}function Rye(n,e,t,i){let r=n;do r.z===null&&(r.z=_w(r.x,r.y,e,t,i)),r.prevZ=r.prev,r.nextZ=r.next,r=r.next;while(r!==n);r.prevZ.nextZ=null,r.prevZ=null,Fye(r)}function Fye(n){let e,t,i,r,s,o,a,l,c=1;do{for(t=n,n=null,s=null,o=0;t;){for(o++,i=t,a=0,e=0;e<c&&(a++,i=i.nextZ,!!i);e++);for(l=c;a>0||l>0&&i;)a!==0&&(l===0||!i||t.z<=i.z)?(r=t,t=t.nextZ,a--):(r=i,i=i.nextZ,l--),s?s.nextZ=r:n=r,r.prevZ=s,s=r;t=i}s.nextZ=null,c*=2}while(o>1);return n}function _w(n,e,t,i,r){return n=32767*(n-t)*r,e=32767*(e-i)*r,n=(n|n<<8)&16711935,n=(n|n<<4)&252645135,n=(n|n<<2)&858993459,n=(n|n<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,n|e<<1}function Iye(n){let e=n,t=n;do(e.x<t.x||e.x===t.x&&e.y<t.y)&&(t=e),e=e.next;while(e!==n);return t}function ad(n,e,t,i,r,s,o,a){return(r-o)*(e-a)-(n-o)*(s-a)>=0&&(n-o)*(i-a)-(t-o)*(e-a)>=0&&(t-o)*(s-a)-(r-o)*(i-a)>=0}function Dye(n,e){return n.next.i!==e.i&&n.prev.i!==e.i&&!Nye(n,e)&&(R2(n,e)&&R2(e,n)&&Oye(n,e)&&(Un(n.prev,n,e.prev)||Un(n,e.prev,e))||vg(n,e)&&Un(n.prev,n,n.next)>0&&Un(e.prev,e,e.next)>0)}function Un(n,e,t){return(e.y-n.y)*(t.x-e.x)-(e.x-n.x)*(t.y-e.y)}function vg(n,e){return n.x===e.x&&n.y===e.y}function TH(n,e,t,i){const r=yg(Un(n,e,t)),s=yg(Un(n,e,i)),o=yg(Un(t,i,n)),a=yg(Un(t,i,e));return!!(r!==s&&o!==a||r===0&&xg(n,t,e)||s===0&&xg(n,i,e)||o===0&&xg(t,n,i)||a===0&&xg(t,e,i))}function xg(n,e,t){return e.x<=Math.max(n.x,t.x)&&e.x>=Math.min(n.x,t.x)&&e.y<=Math.max(n.y,t.y)&&e.y>=Math.min(n.y,t.y)}function yg(n){return n>0?1:n<0?-1:0}function Nye(n,e){let t=n;do{if(t.i!==n.i&&t.next.i!==n.i&&t.i!==e.i&&t.next.i!==e.i&&TH(t,t.next,n,e))return!0;t=t.next}while(t!==n);return!1}function R2(n,e){return Un(n.prev,n,n.next)<0?Un(n,e,n.next)>=0&&Un(n,n.prev,e)>=0:Un(n,e,n.prev)<0||Un(n,n.next,e)<0}function Oye(n,e){let t=n,i=!1;const r=(n.x+e.x)/2,s=(n.y+e.y)/2;do t.y>s!=t.next.y>s&&t.next.y!==t.y&&r<(t.next.x-t.x)*(s-t.y)/(t.next.y-t.y)+t.x&&(i=!i),t=t.next;while(t!==n);return i}function EH(n,e){const t=new bw(n.i,n.x,n.y),i=new bw(e.i,e.x,e.y),r=n.next,s=e.prev;return n.next=e,e.prev=n,t.next=r,r.prev=t,i.next=t,t.prev=i,s.next=i,i.prev=s,i}function LH(n,e,t,i){const r=new bw(n,e,t);return i?(r.next=i.next,r.prev=i,i.next.prev=r,i.next=r):(r.prev=r,r.next=r),r}function F2(n){n.next.prev=n.prev,n.prev.next=n.next,n.prevZ&&(n.prevZ.nextZ=n.nextZ),n.nextZ&&(n.nextZ.prevZ=n.prevZ)}function bw(n,e,t){this.i=n,this.x=e,this.y=t,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function Bye(n,e,t,i){let r=0;for(let s=e,o=t-i;s<t;s+=i)r+=(n[o]-n[s])*(n[s+1]+n[o+1]),o=s;return r}class wl{static area(e){const t=e.length;let i=0;for(let r=t-1,s=0;s<t;r=s++)i+=e[r].x*e[s].y-e[s].x*e[r].y;return i*.5}static isClockWise(e){return wl.area(e)<0}static triangulateShape(e,t){const i=[],r=[],s=[];CH(e),PH(i,e);let o=e.length;t.forEach(CH);for(let l=0;l<t.length;l++)r.push(o),o+=t[l].length,PH(i,t[l]);const a=bye.triangulate(i,r);for(let l=0;l<a.length;l+=3)s.push(a.slice(l,l+3));return s}}function CH(n){const e=n.length;e>2&&n[e-1].equals(n[0])&&n.pop()}function PH(n,e){for(let t=0;t<e.length;t++)n.push(e[t].x),n.push(e[t].y)}class _g extends Mn{constructor(e,t){super();this.type="ExtrudeGeometry",this.parameters={shapes:e,options:t},e=Array.isArray(e)?e:[e];const i=this,r=[],s=[];for(let a=0,l=e.length;a<l;a++){const c=e[a];o(c)}this.setAttribute("position",new Si(r,3)),this.setAttribute("uv",new Si(s,2)),this.computeVertexNormals();function o(a){const l=[],c=t.curveSegments!==void 0?t.curveSegments:12,u=t.steps!==void 0?t.steps:1;let f=t.depth!==void 0?t.depth:100,h=t.bevelEnabled!==void 0?t.bevelEnabled:!0,d=t.bevelThickness!==void 0?t.bevelThickness:6,m=t.bevelSize!==void 0?t.bevelSize:d-2,v=t.bevelOffset!==void 0?t.bevelOffset:0,_=t.bevelSegments!==void 0?t.bevelSegments:3;const g=t.extrudePath,x=t.UVGenerator!==void 0?t.UVGenerator:Uye;t.amount!==void 0&&(console.warn("THREE.ExtrudeBufferGeometry: amount has been renamed to depth."),f=t.amount);let b,w=!1,S,A,T,F;g&&(b=g.getSpacedPoints(u),w=!0,h=!1,S=g.computeFrenetFrames(u,!1),A=new me,T=new me,F=new me),h||(_=0,d=0,m=0,v=0);const U=a.extractPoints(c);let N=U.shape;const O=U.holes;if(!wl.isClockWise(N)){N=N.reverse();for(let X=0,z=O.length;X<z;X++){const W=O[X];wl.isClockWise(W)&&(O[X]=W.reverse())}}const D=wl.triangulateShape(N,O),P=N;for(let X=0,z=O.length;X<z;X++){const W=O[X];N=N.concat(W)}function I(X,z,W){return z||console.error("THREE.ExtrudeGeometry: vec does not exist"),z.clone().multiplyScalar(W).add(X)}const C=N.length,B=D.length;function Y(X,z,W){let se,ae,L;const E=X.x-z.x,J=X.y-z.y,K=W.x-X.x,ce=W.y-X.y,pe=E*E+J*J,Ce=E*ce-J*K;if(Math.abs(Ce)>Number.EPSILON){const Ae=Math.sqrt(pe),Re=Math.sqrt(K*K+ce*ce),Ee=z.x-J/Ae,V=z.y+E/Ae,we=W.x-ce/Re,le=W.y+K/Re,Pe=((we-Ee)*ce-(le-V)*K)/(E*ce-J*K);se=Ee+E*Pe-X.x,ae=V+J*Pe-X.y;const ee=se*se+ae*ae;if(ee<=2)return new qe(se,ae);L=Math.sqrt(ee/2)}else{let Ae=!1;E>Number.EPSILON?K>Number.EPSILON&&(Ae=!0):E<-Number.EPSILON?K<-Number.EPSILON&&(Ae=!0):Math.sign(J)===Math.sign(ce)&&(Ae=!0),Ae?(se=-J,ae=E,L=Math.sqrt(pe)):(se=E,ae=J,L=Math.sqrt(pe/2))}return new qe(se/L,ae/L)}const j=[];for(let X=0,z=P.length,W=z-1,se=X+1;X<z;X++,W++,se++)W===z&&(W=0),se===z&&(se=0),j[X]=Y(P[X],P[W],P[se]);const re=[];let ie,ve=j.concat();for(let X=0,z=O.length;X<z;X++){const W=O[X];ie=[];for(let se=0,ae=W.length,L=ae-1,E=se+1;se<ae;se++,L++,E++)L===ae&&(L=0),E===ae&&(E=0),ie[se]=Y(W[se],W[L],W[E]);re.push(ie),ve=ve.concat(ie)}for(let X=0;X<_;X++){const z=X/_,W=d*Math.cos(z*Math.PI/2),se=m*Math.sin(z*Math.PI/2)+v;for(let ae=0,L=P.length;ae<L;ae++){const E=I(P[ae],j[ae],se);ge(E.x,E.y,-W)}for(let ae=0,L=O.length;ae<L;ae++){const E=O[ae];ie=re[ae];for(let J=0,K=E.length;J<K;J++){const ce=I(E[J],ie[J],se);ge(ce.x,ce.y,-W)}}}const de=m+v;for(let X=0;X<C;X++){const z=h?I(N[X],ve[X],de):N[X];w?(T.copy(S.normals[0]).multiplyScalar(z.x),A.copy(S.binormals[0]).multiplyScalar(z.y),F.copy(b[0]).add(T).add(A),ge(F.x,F.y,F.z)):ge(z.x,z.y,0)}for(let X=1;X<=u;X++)for(let z=0;z<C;z++){const W=h?I(N[z],ve[z],de):N[z];w?(T.copy(S.normals[X]).multiplyScalar(W.x),A.copy(S.binormals[X]).multiplyScalar(W.y),F.copy(b[X]).add(T).add(A),ge(F.x,F.y,F.z)):ge(W.x,W.y,f/u*X)}for(let X=_-1;X>=0;X--){const z=X/_,W=d*Math.cos(z*Math.PI/2),se=m*Math.sin(z*Math.PI/2)+v;for(let ae=0,L=P.length;ae<L;ae++){const E=I(P[ae],j[ae],se);ge(E.x,E.y,f+W)}for(let ae=0,L=O.length;ae<L;ae++){const E=O[ae];ie=re[ae];for(let J=0,K=E.length;J<K;J++){const ce=I(E[J],ie[J],se);w?ge(ce.x,ce.y+b[u-1].y,b[u-1].x+W):ge(ce.x,ce.y,f+W)}}}ye(),te();function ye(){const X=r.length/3;if(h){let z=0,W=C*z;for(let se=0;se<B;se++){const ae=D[se];be(ae[2]+W,ae[1]+W,ae[0]+W)}z=u+_*2,W=C*z;for(let se=0;se<B;se++){const ae=D[se];be(ae[0]+W,ae[1]+W,ae[2]+W)}}else{for(let z=0;z<B;z++){const W=D[z];be(W[2],W[1],W[0])}for(let z=0;z<B;z++){const W=D[z];be(W[0]+C*u,W[1]+C*u,W[2]+C*u)}}i.addGroup(X,r.length/3-X,0)}function te(){const X=r.length/3;let z=0;$(P,z),z+=P.length;for(let W=0,se=O.length;W<se;W++){const ae=O[W];$(ae,z),z+=ae.length}i.addGroup(X,r.length/3-X,1)}function $(X,z){let W=X.length;for(;--W>=0;){const se=W;let ae=W-1;ae<0&&(ae=X.length-1);for(let L=0,E=u+_*2;L<E;L++){const J=C*L,K=C*(L+1),ce=z+se+J,pe=z+ae+J,Ce=z+ae+K,Ae=z+se+K;ue(ce,pe,Ce,Ae)}}}function ge(X,z,W){l.push(X),l.push(z),l.push(W)}function be(X,z,W){_e(X),_e(z),_e(W);const se=r.length/3,ae=x.generateTopUV(i,r,se-3,se-2,se-1);Te(ae[0]),Te(ae[1]),Te(ae[2])}function ue(X,z,W,se){_e(X),_e(z),_e(se),_e(z),_e(W),_e(se);const ae=r.length/3,L=x.generateSideWallUV(i,r,ae-6,ae-3,ae-2,ae-1);Te(L[0]),Te(L[1]),Te(L[3]),Te(L[1]),Te(L[2]),Te(L[3])}function _e(X){r.push(l[X*3+0]),r.push(l[X*3+1]),r.push(l[X*3+2])}function Te(X){s.push(X.x),s.push(X.y)}}}toJSON(){const e=super.toJSON(),t=this.parameters.shapes,i=this.parameters.options;return zye(t,i,e)}}const Uye={generateTopUV:function(n,e,t,i,r){const s=e[t*3],o=e[t*3+1],a=e[i*3],l=e[i*3+1],c=e[r*3],u=e[r*3+1];return[new qe(s,o),new qe(a,l),new qe(c,u)]},generateSideWallUV:function(n,e,t,i,r,s){const o=e[t*3],a=e[t*3+1],l=e[t*3+2],c=e[i*3],u=e[i*3+1],f=e[i*3+2],h=e[r*3],d=e[r*3+1],m=e[r*3+2],v=e[s*3],_=e[s*3+1],g=e[s*3+2];return Math.abs(a-u)<Math.abs(o-c)?[new qe(o,1-l),new qe(c,1-f),new qe(h,1-m),new qe(v,1-g)]:[new qe(a,1-l),new qe(u,1-f),new qe(d,1-m),new qe(_,1-g)]}};function zye(n,e,t){if(t.shapes=[],Array.isArray(n))for(let i=0,r=n.length;i<r;i++){const s=n[i];t.shapes.push(s.uuid)}else t.shapes.push(n.uuid);return e.extrudePath!==void 0&&(t.options.extrudePath=e.extrudePath.toJSON()),t}class kye extends Mn{constructor(e,t=12){super();this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:t};const i=[],r=[],s=[],o=[];let a=0,l=0;if(Array.isArray(e)===!1)c(e);else for(let u=0;u<e.length;u++)c(e[u]),this.addGroup(a,l,u),a+=l,l=0;this.setIndex(i),this.setAttribute("position",new Si(r,3)),this.setAttribute("normal",new Si(s,3)),this.setAttribute("uv",new Si(o,2));function c(u){const f=r.length/3,h=u.extractPoints(t);let d=h.shape;const m=h.holes;wl.isClockWise(d)===!1&&(d=d.reverse());for(let _=0,g=m.length;_<g;_++){const x=m[_];wl.isClockWise(x)===!0&&(m[_]=x.reverse())}const v=wl.triangulateShape(d,m);for(let _=0,g=m.length;_<g;_++){const x=m[_];d=d.concat(x)}for(let _=0,g=d.length;_<g;_++){const x=d[_];r.push(x.x,x.y,0),s.push(0,0,1),o.push(x.x,x.y)}for(let _=0,g=v.length;_<g;_++){const x=v[_],b=x[0]+f,w=x[1]+f,S=x[2]+f;i.push(b,w,S),l+=3}}}toJSON(){const e=super.toJSON(),t=this.parameters.shapes;return Hye(t,e)}}function Hye(n,e){if(e.shapes=[],Array.isArray(n))for(let t=0,i=n.length;t<i;t++){const r=n[t];e.shapes.push(r.uuid)}else e.shapes.push(n.uuid);return e}class Gye extends Ji{constructor(e){super();this.type="ShadowMaterial",this.color=new ht(0),this.transparent=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this}}Gye.prototype.isShadowMaterial=!0;class Vye extends yl{constructor(e){super(e);this.type="RawShaderMaterial"}}Vye.prototype.isRawShaderMaterial=!0;class RH extends Ji{constructor(e){super();this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new ht(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new ht(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=zh,this.normalScale=new qe(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.morphTargets=!1,this.morphNormals=!1,this.flatShading=!1,this.vertexTangents=!1,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this.flatShading=e.flatShading,this.vertexTangents=e.vertexTangents,this}}RH.prototype.isMeshStandardMaterial=!0;class Wye extends RH{constructor(e){super();this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.clearcoat=0,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new qe(1,1),this.clearcoatNormalMap=null,this.reflectivity=.5,Object.defineProperty(this,"ior",{get:function(){return(1+.4*this.reflectivity)/(1-.4*this.reflectivity)},set:function(t){this.reflectivity=ss(2.5*(t-1)/(t+1),0,1)}}),this.sheen=null,this.transmission=0,this.transmissionMap=null,this.thickness=.01,this.thicknessMap=null,this.attenuationDistance=0,this.attenuationColor=new ht(1,1,1),this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.reflectivity=e.reflectivity,e.sheen?this.sheen=(this.sheen||new ht).copy(e.sheen):this.sheen=null,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this}}Wye.prototype.isMeshPhysicalMaterial=!0;class Xye extends Ji{constructor(e){super();this.type="MeshPhongMaterial",this.color=new ht(16777215),this.specular=new ht(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new ht(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=zh,this.normalScale=new qe(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=N5,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.morphTargets=!1,this.morphNormals=!1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this.flatShading=e.flatShading,this}}Xye.prototype.isMeshPhongMaterial=!0;class Yye extends Ji{constructor(e){super();this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new ht(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new ht(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=zh,this.normalScale=new qe(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this}}Yye.prototype.isMeshToonMaterial=!0;class $ye extends Ji{constructor(e){super();this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=zh,this.normalScale=new qe(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.morphTargets=!1,this.morphNormals=!1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this.flatShading=e.flatShading,this}}$ye.prototype.isMeshNormalMaterial=!0;class qye extends Ji{constructor(e){super();this.type="MeshLambertMaterial",this.color=new ht(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new ht(0),this.emissiveIntensity=1,this.emissiveMap=null,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=N5,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this}}qye.prototype.isMeshLambertMaterial=!0;class jye extends Ji{constructor(e){super();this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new ht(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=zh,this.normalScale=new qe(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.morphTargets=!1,this.morphNormals=!1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this.flatShading=e.flatShading,this}}jye.prototype.isMeshMatcapMaterial=!0;class Zye extends C2{constructor(e){super();this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}Zye.prototype.isLineDashedMaterial=!0;const Fn={arraySlice:function(n,e,t){return Fn.isTypedArray(n)?new n.constructor(n.subarray(e,t!==void 0?t:n.length)):n.slice(e,t)},convertArray:function(n,e,t){return!n||!t&&n.constructor===e?n:typeof e.BYTES_PER_ELEMENT=="number"?new e(n):Array.prototype.slice.call(n)},isTypedArray:function(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)},getKeyframeOrder:function(n){function e(r,s){return n[r]-n[s]}const t=n.length,i=new Array(t);for(let r=0;r!==t;++r)i[r]=r;return i.sort(e),i},sortedArray:function(n,e,t){const i=n.length,r=new n.constructor(i);for(let s=0,o=0;o!==i;++s){const a=t[s]*e;for(let l=0;l!==e;++l)r[o++]=n[a+l]}return r},flattenJSON:function(n,e,t,i){let r=1,s=n[0];for(;s!==void 0&&s[i]===void 0;)s=n[r++];if(s===void 0)return;let o=s[i];if(o!==void 0)if(Array.isArray(o))do o=s[i],o!==void 0&&(e.push(s.time),t.push.apply(t,o)),s=n[r++];while(s!==void 0);else if(o.toArray!==void 0)do o=s[i],o!==void 0&&(e.push(s.time),o.toArray(t,t.length)),s=n[r++];while(s!==void 0);else do o=s[i],o!==void 0&&(e.push(s.time),t.push(o)),s=n[r++];while(s!==void 0)},subclip:function(n,e,t,i,r=30){const s=n.clone();s.name=e;const o=[];for(let l=0;l<s.tracks.length;++l){const c=s.tracks[l],u=c.getValueSize(),f=[],h=[];for(let d=0;d<c.times.length;++d){const m=c.times[d]*r;if(!(m<t||m>=i)){f.push(c.times[d]);for(let v=0;v<u;++v)h.push(c.values[d*u+v])}}f.length!==0&&(c.times=Fn.convertArray(f,c.times.constructor),c.values=Fn.convertArray(h,c.values.constructor),o.push(c))}s.tracks=o;let a=1/0;for(let l=0;l<s.tracks.length;++l)a>s.tracks[l].times[0]&&(a=s.tracks[l].times[0]);for(let l=0;l<s.tracks.length;++l)s.tracks[l].shift(-1*a);return s.resetDuration(),s},makeClipAdditive:function(n,e=0,t=n,i=30){i<=0&&(i=30);const r=t.tracks.length,s=e/i;for(let o=0;o<r;++o){const a=t.tracks[o],l=a.ValueTypeName;if(l==="bool"||l==="string")continue;const c=n.tracks.find(function(g){return g.name===a.name&&g.ValueTypeName===l});if(c===void 0)continue;let u=0;const f=a.getValueSize();a.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(u=f/3);let h=0;const d=c.getValueSize();c.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(h=d/3);const m=a.times.length-1;let v;if(s<=a.times[0]){const g=u,x=f-u;v=Fn.arraySlice(a.values,g,x)}else if(s>=a.times[m]){const g=m*f+u,x=g+f-u;v=Fn.arraySlice(a.values,g,x)}else{const g=a.createInterpolant(),x=u,b=f-u;g.evaluate(s),v=Fn.arraySlice(g.resultBuffer,x,b)}l==="quaternion"&&new Er().fromArray(v).normalize().conjugate().toArray(v);const _=c.times.length;for(let g=0;g<_;++g){const x=g*d+h;if(l==="quaternion")Er.multiplyQuaternionsFlat(c.values,x,v,0,c.values,x);else{const b=d-h*2;for(let w=0;w<b;++w)c.values[x+w]-=v[w]}}}return n.blendMode=uk,n}};class Ml{constructor(e,t,i,r){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=r!==void 0?r:new t.constructor(i),this.sampleValues=t,this.valueSize=i,this.settings=null,this.DefaultSettings_={}}evaluate(e){const t=this.parameterPositions;let i=this._cachedIndex,r=t[i],s=t[i-1];e:{t:{let o;n:{i:if(!(e<r)){for(let a=i+2;;){if(r===void 0){if(e<s)break i;return i=t.length,this._cachedIndex=i,this.afterEnd_(i-1,e,s)}if(i===a)break;if(s=r,r=t[++i],e<r)break t}o=t.length;break n}if(!(e>=s)){const a=t[1];e<a&&(i=2,s=a);for(let l=i-2;;){if(s===void 0)return this._cachedIndex=0,this.beforeStart_(0,e,r);if(i===l)break;if(r=s,s=t[--i-1],e>=s)break t}o=i,i=0;break n}break e}for(;i<o;){const a=i+o>>>1;e<t[a]?o=a:i=a+1}if(r=t[i],s=t[i-1],s===void 0)return this._cachedIndex=0,this.beforeStart_(0,e,r);if(r===void 0)return i=t.length,this._cachedIndex=i,this.afterEnd_(i-1,s,e)}this._cachedIndex=i,this.intervalChanged_(i,s,r)}return this.interpolate_(i,s,e,r)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const t=this.resultBuffer,i=this.sampleValues,r=this.valueSize,s=e*r;for(let o=0;o!==r;++o)t[o]=i[s+o];return t}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}Ml.prototype.beforeStart_=Ml.prototype.copySampleValue_;Ml.prototype.afterEnd_=Ml.prototype.copySampleValue_;class Qye extends Ml{constructor(e,t,i,r){super(e,t,i,r);this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:Bh,endingEnd:Bh}}intervalChanged_(e,t,i){const r=this.parameterPositions;let s=e-2,o=e+1,a=r[s],l=r[o];if(a===void 0)switch(this.getSettings_().endingStart){case Uh:s=e,a=2*t-i;break;case G5:s=r.length-2,a=t+r[s]-r[s+1];break;default:s=e,a=i}if(l===void 0)switch(this.getSettings_().endingEnd){case Uh:o=e,l=2*i-t;break;case G5:o=1,l=i+r[1]-r[0];break;default:o=e-1,l=t}const c=(i-t)*.5,u=this.valueSize;this._weightPrev=c/(t-a),this._weightNext=c/(l-i),this._offsetPrev=s*u,this._offsetNext=o*u}interpolate_(e,t,i,r){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=e*a,c=l-a,u=this._offsetPrev,f=this._offsetNext,h=this._weightPrev,d=this._weightNext,m=(i-t)/(r-t),v=m*m,_=v*m,g=-h*_+2*h*v-h*m,x=(1+h)*_+(-1.5-2*h)*v+(-.5+h)*m+1,b=(-1-d)*_+(1.5+d)*v+.5*m,w=d*_-d*v;for(let S=0;S!==a;++S)s[S]=g*o[u+S]+x*o[c+S]+b*o[l+S]+w*o[f+S];return s}}class FH extends Ml{constructor(e,t,i,r){super(e,t,i,r)}interpolate_(e,t,i,r){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=e*a,c=l-a,u=(i-t)/(r-t),f=1-u;for(let h=0;h!==a;++h)s[h]=o[c+h]*f+o[l+h]*u;return s}}class Jye extends Ml{constructor(e,t,i,r){super(e,t,i,r)}interpolate_(e){return this.copySampleValue_(e-1)}}class ro{constructor(e,t,i,r){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(t===void 0||t.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=Fn.convertArray(t,this.TimeBufferType),this.values=Fn.convertArray(i,this.ValueBufferType),this.setInterpolation(r||this.DefaultInterpolation)}static toJSON(e){const t=e.constructor;let i;if(t.toJSON!==this.toJSON)i=t.toJSON(e);else{i={name:e.name,times:Fn.convertArray(e.times,Array),values:Fn.convertArray(e.values,Array)};const r=e.getInterpolation();r!==e.DefaultInterpolation&&(i.interpolation=r)}return i.type=e.ValueTypeName,i}InterpolantFactoryMethodDiscrete(e){return new Jye(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new FH(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new Qye(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let t;switch(e){case k5:t=this.InterpolantFactoryMethodDiscrete;break;case H5:t=this.InterpolantFactoryMethodLinear;break;case Db:t=this.InterpolantFactoryMethodSmooth;break}if(t===void 0){const i="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(i);return console.warn("THREE.KeyframeTrack:",i),this}return this.createInterpolant=t,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return k5;case this.InterpolantFactoryMethodLinear:return H5;case this.InterpolantFactoryMethodSmooth:return Db}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const t=this.times;for(let i=0,r=t.length;i!==r;++i)t[i]+=e}return this}scale(e){if(e!==1){const t=this.times;for(let i=0,r=t.length;i!==r;++i)t[i]*=e}return this}trim(e,t){const i=this.times,r=i.length;let s=0,o=r-1;for(;s!==r&&i[s]<e;)++s;for(;o!==-1&&i[o]>t;)--o;if(++o,s!==0||o!==r){s>=o&&(o=Math.max(o,1),s=o-1);const a=this.getValueSize();this.times=Fn.arraySlice(i,s,o),this.values=Fn.arraySlice(this.values,s*a,o*a)}return this}validate(){let e=!0;const t=this.getValueSize();t-Math.floor(t)!=0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const i=this.times,r=this.values,s=i.length;s===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let o=null;for(let a=0;a!==s;a++){const l=i[a];if(typeof l=="number"&&isNaN(l)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,a,l),e=!1;break}if(o!==null&&o>l){console.error("THREE.KeyframeTrack: Out of order keys.",this,a,l,o),e=!1;break}o=l}if(r!==void 0&&Fn.isTypedArray(r))for(let a=0,l=r.length;a!==l;++a){const c=r[a];if(isNaN(c)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,a,c),e=!1;break}}return e}optimize(){const e=Fn.arraySlice(this.times),t=Fn.arraySlice(this.values),i=this.getValueSize(),r=this.getInterpolation()===Db,s=e.length-1;let o=1;for(let a=1;a<s;++a){let l=!1;const c=e[a],u=e[a+1];if(c!==u&&(a!==1||c!==e[0]))if(r)l=!0;else{const f=a*i,h=f-i,d=f+i;for(let m=0;m!==i;++m){const v=t[f+m];if(v!==t[h+m]||v!==t[d+m]){l=!0;break}}}if(l){if(a!==o){e[o]=e[a];const f=a*i,h=o*i;for(let d=0;d!==i;++d)t[h+d]=t[f+d]}++o}}if(s>0){e[o]=e[s];for(let a=s*i,l=o*i,c=0;c!==i;++c)t[l+c]=t[a+c];++o}return o!==e.length?(this.times=Fn.arraySlice(e,0,o),this.values=Fn.arraySlice(t,0,o*i)):(this.times=e,this.values=t),this}clone(){const e=Fn.arraySlice(this.times,0),t=Fn.arraySlice(this.values,0),i=this.constructor,r=new i(this.name,e,t);return r.createInterpolant=this.createInterpolant,r}}ro.prototype.TimeBufferType=Float32Array;ro.prototype.ValueBufferType=Float32Array;ro.prototype.DefaultInterpolation=H5;class ld extends ro{}ld.prototype.ValueTypeName="bool";ld.prototype.ValueBufferType=Array;ld.prototype.DefaultInterpolation=k5;ld.prototype.InterpolantFactoryMethodLinear=void 0;ld.prototype.InterpolantFactoryMethodSmooth=void 0;class IH extends ro{}IH.prototype.ValueTypeName="color";class bg extends ro{}bg.prototype.ValueTypeName="number";class Kye extends Ml{constructor(e,t,i,r){super(e,t,i,r)}interpolate_(e,t,i,r){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=(i-t)/(r-t);let c=e*a;for(let u=c+a;c!==u;c+=4)Er.slerpFlat(s,0,o,c-a,o,c,l);return s}}class I2 extends ro{InterpolantFactoryMethodLinear(e){return new Kye(this.times,this.values,this.getValueSize(),e)}}I2.prototype.ValueTypeName="quaternion";I2.prototype.DefaultInterpolation=H5;I2.prototype.InterpolantFactoryMethodSmooth=void 0;class cd extends ro{}cd.prototype.ValueTypeName="string";cd.prototype.ValueBufferType=Array;cd.prototype.DefaultInterpolation=k5;cd.prototype.InterpolantFactoryMethodLinear=void 0;cd.prototype.InterpolantFactoryMethodSmooth=void 0;class wg extends ro{}wg.prototype.ValueTypeName="vector";class DH{constructor(e,t=-1,i,r=Nb){this.name=e,this.tracks=i,this.duration=t,this.blendMode=r,this.uuid=to(),this.duration<0&&this.resetDuration()}static parse(e){const t=[],i=e.tracks,r=1/(e.fps||1);for(let o=0,a=i.length;o!==a;++o)t.push(t_e(i[o]).scale(r));const s=new this(e.name,e.duration,t,e.blendMode);return s.uuid=e.uuid,s}static toJSON(e){const t=[],i=e.tracks,r={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode};for(let s=0,o=i.length;s!==o;++s)t.push(ro.toJSON(i[s]));return r}static CreateFromMorphTargetSequence(e,t,i,r){const s=t.length,o=[];for(let a=0;a<s;a++){let l=[],c=[];l.push((a+s-1)%s,a,(a+1)%s),c.push(0,1,0);const u=Fn.getKeyframeOrder(l);l=Fn.sortedArray(l,1,u),c=Fn.sortedArray(c,1,u),!r&&l[0]===0&&(l.push(s),c.push(c[0])),o.push(new bg(".morphTargetInfluences["+t[a].name+"]",l,c).scale(1/i))}return new this(e,-1,o)}static findByName(e,t){let i=e;if(!Array.isArray(e)){const r=e;i=r.geometry&&r.geometry.animations||r.animations}for(let r=0;r<i.length;r++)if(i[r].name===t)return i[r];return null}static CreateClipsFromMorphTargetSequences(e,t,i){const r={},s=/^([\w-]*?)([\d]+)$/;for(let a=0,l=e.length;a<l;a++){const c=e[a],u=c.name.match(s);if(u&&u.length>1){const f=u[1];let h=r[f];h||(r[f]=h=[]),h.push(c)}}const o=[];for(const a in r)o.push(this.CreateFromMorphTargetSequence(a,r[a],t,i));return o}static parseAnimation(e,t){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const i=function(f,h,d,m,v){if(d.length!==0){const _=[],g=[];Fn.flattenJSON(d,_,g,m),_.length!==0&&v.push(new f(h,_,g))}},r=[],s=e.name||"default",o=e.fps||30,a=e.blendMode;let l=e.length||-1;const c=e.hierarchy||[];for(let f=0;f<c.length;f++){const h=c[f].keys;if(!(!h||h.length===0))if(h[0].morphTargets){const d={};let m;for(m=0;m<h.length;m++)if(h[m].morphTargets)for(let v=0;v<h[m].morphTargets.length;v++)d[h[m].morphTargets[v]]=-1;for(const v in d){const _=[],g=[];for(let x=0;x!==h[m].morphTargets.length;++x){const b=h[m];_.push(b.time),g.push(b.morphTarget===v?1:0)}r.push(new bg(".morphTargetInfluence["+v+"]",_,g))}l=d.length*(o||1)}else{const d=".bones["+t[f].name+"]";i(wg,d+".position",h,"pos",r),i(I2,d+".quaternion",h,"rot",r),i(wg,d+".scale",h,"scl",r)}}return r.length===0?null:new this(s,l,r,a)}resetDuration(){const e=this.tracks;let t=0;for(let i=0,r=e.length;i!==r;++i){const s=this.tracks[i];t=Math.max(t,s.times[s.times.length-1])}return this.duration=t,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let t=0;t<this.tracks.length;t++)e.push(this.tracks[t].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function e_e(n){switch(n.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return bg;case"vector":case"vector2":case"vector3":case"vector4":return wg;case"color":return IH;case"quaternion":return I2;case"bool":case"boolean":return ld;case"string":return cd}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+n)}function t_e(n){if(n.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=e_e(n.type);if(n.times===void 0){const t=[],i=[];Fn.flattenJSON(n.keys,t,i,"value"),n.times=t,n.values=i}return e.parse!==void 0?e.parse(n):new e(n.name,n.times,n.values,n.interpolation)}const ud={enabled:!1,files:{},add:function(n,e){this.enabled!==!1&&(this.files[n]=e)},get:function(n){if(this.enabled!==!1)return this.files[n]},remove:function(n){delete this.files[n]},clear:function(){this.files={}}};class n_e{constructor(e,t,i){const r=this;let s=!1,o=0,a=0,l;const c=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=i,this.itemStart=function(u){a++,s===!1&&r.onStart!==void 0&&r.onStart(u,o,a),s=!0},this.itemEnd=function(u){o++,r.onProgress!==void 0&&r.onProgress(u,o,a),o===a&&(s=!1,r.onLoad!==void 0&&r.onLoad())},this.itemError=function(u){r.onError!==void 0&&r.onError(u)},this.resolveURL=function(u){return l?l(u):u},this.setURLModifier=function(u){return l=u,this},this.addHandler=function(u,f){return c.push(u,f),this},this.removeHandler=function(u){const f=c.indexOf(u);return f!==-1&&c.splice(f,2),this},this.getHandler=function(u){for(let f=0,h=c.length;f<h;f+=2){const d=c[f],m=c[f+1];if(d.global&&(d.lastIndex=0),d.test(u))return m}return null}}}const i_e=new n_e;class Sl{constructor(e){this.manager=e!==void 0?e:i_e,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,t){const i=this;return new Promise(function(r,s){i.load(e,r,t,s)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}}const y0={};class r_e extends Sl{constructor(e){super(e)}load(e,t,i,r){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,o=ud.get(e);if(o!==void 0)return s.manager.itemStart(e),setTimeout(function(){t&&t(o),s.manager.itemEnd(e)},0),o;if(y0[e]!==void 0){y0[e].push({onLoad:t,onProgress:i,onError:r});return}const a=/^data:(.*?)(;base64)?,(.*)$/,l=e.match(a);let c;if(l){const u=l[1],f=!!l[2];let h=l[3];h=decodeURIComponent(h),f&&(h=atob(h));try{let d;const m=(this.responseType||"").toLowerCase();switch(m){case"arraybuffer":case"blob":const v=new Uint8Array(h.length);for(let g=0;g<h.length;g++)v[g]=h.charCodeAt(g);m==="blob"?d=new Blob([v.buffer],{type:u}):d=v.buffer;break;case"document":d=new DOMParser().parseFromString(h,u);break;case"json":d=JSON.parse(h);break;default:d=h;break}setTimeout(function(){t&&t(d),s.manager.itemEnd(e)},0)}catch(d){setTimeout(function(){r&&r(d),s.manager.itemError(e),s.manager.itemEnd(e)},0)}}else{y0[e]=[],y0[e].push({onLoad:t,onProgress:i,onError:r}),c=new XMLHttpRequest,c.open("GET",e,!0),c.addEventListener("load",function(u){const f=this.response,h=y0[e];if(delete y0[e],this.status===200||this.status===0){this.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),ud.add(e,f);for(let d=0,m=h.length;d<m;d++){const v=h[d];v.onLoad&&v.onLoad(f)}s.manager.itemEnd(e)}else{for(let d=0,m=h.length;d<m;d++){const v=h[d];v.onError&&v.onError(u)}s.manager.itemError(e),s.manager.itemEnd(e)}},!1),c.addEventListener("progress",function(u){const f=y0[e];for(let h=0,d=f.length;h<d;h++){const m=f[h];m.onProgress&&m.onProgress(u)}},!1),c.addEventListener("error",function(u){const f=y0[e];delete y0[e];for(let h=0,d=f.length;h<d;h++){const m=f[h];m.onError&&m.onError(u)}s.manager.itemError(e),s.manager.itemEnd(e)},!1),c.addEventListener("abort",function(u){const f=y0[e];delete y0[e];for(let h=0,d=f.length;h<d;h++){const m=f[h];m.onError&&m.onError(u)}s.manager.itemError(e),s.manager.itemEnd(e)},!1),this.responseType!==void 0&&(c.responseType=this.responseType),this.withCredentials!==void 0&&(c.withCredentials=this.withCredentials),c.overrideMimeType&&c.overrideMimeType(this.mimeType!==void 0?this.mimeType:"text/plain");for(const u in this.requestHeader)c.setRequestHeader(u,this.requestHeader[u]);c.send(null)}return s.manager.itemStart(e),c}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class NH extends Sl{constructor(e){super(e)}load(e,t,i,r){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,o=ud.get(e);if(o!==void 0)return s.manager.itemStart(e),setTimeout(function(){t&&t(o),s.manager.itemEnd(e)},0),o;const a=document.createElementNS("http://www.w3.org/1999/xhtml","img");function l(){a.removeEventListener("load",l,!1),a.removeEventListener("error",c,!1),ud.add(e,this),t&&t(this),s.manager.itemEnd(e)}function c(u){a.removeEventListener("load",l,!1),a.removeEventListener("error",c,!1),r&&r(u),s.manager.itemError(e),s.manager.itemEnd(e)}return a.addEventListener("load",l,!1),a.addEventListener("error",c,!1),e.substr(0,5)!=="data:"&&this.crossOrigin!==void 0&&(a.crossOrigin=this.crossOrigin),s.manager.itemStart(e),a.src=e,a}}class s_e extends Sl{constructor(e){super(e)}load(e,t,i,r){const s=new og,o=new NH(this.manager);o.setCrossOrigin(this.crossOrigin),o.setPath(this.path);let a=0;function l(c){o.load(e[c],function(u){s.images[c]=u,a++,a===6&&(s.needsUpdate=!0,t&&t(s))},void 0,r)}for(let c=0;c<e.length;++c)l(c);return s}}class o_e extends Sl{constructor(e){super(e)}load(e,t,i,r){const s=new Ui,o=new NH(this.manager);return o.setCrossOrigin(this.crossOrigin),o.setPath(this.path),o.load(e,function(a){s.image=a;const l=e.search(/\.jpe?g($|\?)/i)>0||e.search(/^data\:image\/jpeg/)===0;s.format=l?fu:eo,s.needsUpdate=!0,t!==void 0&&t(s)},i,r),s}}class Ws{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(e,t){const i=this.getUtoTmapping(e);return this.getPoint(i,t)}getPoints(e=5){const t=[];for(let i=0;i<=e;i++)t.push(this.getPoint(i/e));return t}getSpacedPoints(e=5){const t=[];for(let i=0;i<=e;i++)t.push(this.getPointAt(i/e));return t}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const t=[];let i,r=this.getPoint(0),s=0;t.push(0);for(let o=1;o<=e;o++)i=this.getPoint(o/e),s+=i.distanceTo(r),t.push(s),r=i;return this.cacheArcLengths=t,t}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,t){const i=this.getLengths();let r=0;const s=i.length;let o;t?o=t:o=e*i[s-1];let a=0,l=s-1,c;for(;a<=l;)if(r=Math.floor(a+(l-a)/2),c=i[r]-o,c<0)a=r+1;else if(c>0)l=r-1;else{l=r;break}if(r=l,i[r]===o)return r/(s-1);const u=i[r],h=i[r+1]-u,d=(o-u)/h;return(r+d)/(s-1)}getTangent(e,t){const i=1e-4;let r=e-i,s=e+i;r<0&&(r=0),s>1&&(s=1);const o=this.getPoint(r),a=this.getPoint(s),l=t||(o.isVector2?new qe:new me);return l.copy(a).sub(o).normalize(),l}getTangentAt(e,t){const i=this.getUtoTmapping(e);return this.getTangent(i,t)}computeFrenetFrames(e,t){const i=new me,r=[],s=[],o=[],a=new me,l=new pt;for(let d=0;d<=e;d++){const m=d/e;r[d]=this.getTangentAt(m,new me),r[d].normalize()}s[0]=new me,o[0]=new me;let c=Number.MAX_VALUE;const u=Math.abs(r[0].x),f=Math.abs(r[0].y),h=Math.abs(r[0].z);u<=c&&(c=u,i.set(1,0,0)),f<=c&&(c=f,i.set(0,1,0)),h<=c&&i.set(0,0,1),a.crossVectors(r[0],i).normalize(),s[0].crossVectors(r[0],a),o[0].crossVectors(r[0],s[0]);for(let d=1;d<=e;d++){if(s[d]=s[d-1].clone(),o[d]=o[d-1].clone(),a.crossVectors(r[d-1],r[d]),a.length()>Number.EPSILON){a.normalize();const m=Math.acos(ss(r[d-1].dot(r[d]),-1,1));s[d].applyMatrix4(l.makeRotationAxis(a,m))}o[d].crossVectors(r[d],s[d])}if(t===!0){let d=Math.acos(ss(s[0].dot(s[e]),-1,1));d/=e,r[0].dot(a.crossVectors(s[0],s[e]))>0&&(d=-d);for(let m=1;m<=e;m++)s[m].applyMatrix4(l.makeRotationAxis(r[m],d*m)),o[m].crossVectors(r[m],s[m])}return{tangents:r,normals:s,binormals:o}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class Mg extends Ws{constructor(e=0,t=0,i=1,r=1,s=0,o=Math.PI*2,a=!1,l=0){super();this.type="EllipseCurve",this.aX=e,this.aY=t,this.xRadius=i,this.yRadius=r,this.aStartAngle=s,this.aEndAngle=o,this.aClockwise=a,this.aRotation=l}getPoint(e,t){const i=t||new qe,r=Math.PI*2;let s=this.aEndAngle-this.aStartAngle;const o=Math.abs(s)<Number.EPSILON;for(;s<0;)s+=r;for(;s>r;)s-=r;s<Number.EPSILON&&(o?s=0:s=r),this.aClockwise===!0&&!o&&(s===r?s=-r:s=s-r);const a=this.aStartAngle+e*s;let l=this.aX+this.xRadius*Math.cos(a),c=this.aY+this.yRadius*Math.sin(a);if(this.aRotation!==0){const u=Math.cos(this.aRotation),f=Math.sin(this.aRotation),h=l-this.aX,d=c-this.aY;l=h*u-d*f+this.aX,c=h*f+d*u+this.aY}return i.set(l,c)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}Mg.prototype.isEllipseCurve=!0;class OH extends Mg{constructor(e,t,i,r,s,o){super(e,t,i,i,r,s,o);this.type="ArcCurve"}}OH.prototype.isArcCurve=!0;function ww(){let n=0,e=0,t=0,i=0;function r(s,o,a,l){n=s,e=a,t=-3*s+3*o-2*a-l,i=2*s-2*o+a+l}return{initCatmullRom:function(s,o,a,l,c){r(o,a,c*(a-s),c*(l-o))},initNonuniformCatmullRom:function(s,o,a,l,c,u,f){let h=(o-s)/c-(a-s)/(c+u)+(a-o)/u,d=(a-o)/u-(l-o)/(u+f)+(l-a)/f;h*=u,d*=u,r(o,a,h,d)},calc:function(s){const o=s*s,a=o*s;return n+e*s+t*o+i*a}}}const Sg=new me,Mw=new ww,Sw=new ww,Aw=new ww;class BH extends Ws{constructor(e=[],t=!1,i="centripetal",r=.5){super();this.type="CatmullRomCurve3",this.points=e,this.closed=t,this.curveType=i,this.tension=r}getPoint(e,t=new me){const i=t,r=this.points,s=r.length,o=(s-(this.closed?0:1))*e;let a=Math.floor(o),l=o-a;this.closed?a+=a>0?0:(Math.floor(Math.abs(a)/s)+1)*s:l===0&&a===s-1&&(a=s-2,l=1);let c,u;this.closed||a>0?c=r[(a-1)%s]:(Sg.subVectors(r[0],r[1]).add(r[0]),c=Sg);const f=r[a%s],h=r[(a+1)%s];if(this.closed||a+2<s?u=r[(a+2)%s]:(Sg.subVectors(r[s-1],r[s-2]).add(r[s-1]),u=Sg),this.curveType==="centripetal"||this.curveType==="chordal"){const d=this.curveType==="chordal"?.5:.25;let m=Math.pow(c.distanceToSquared(f),d),v=Math.pow(f.distanceToSquared(h),d),_=Math.pow(h.distanceToSquared(u),d);v<1e-4&&(v=1),m<1e-4&&(m=v),_<1e-4&&(_=v),Mw.initNonuniformCatmullRom(c.x,f.x,h.x,u.x,m,v,_),Sw.initNonuniformCatmullRom(c.y,f.y,h.y,u.y,m,v,_),Aw.initNonuniformCatmullRom(c.z,f.z,h.z,u.z,m,v,_)}else this.curveType==="catmullrom"&&(Mw.initCatmullRom(c.x,f.x,h.x,u.x,this.tension),Sw.initCatmullRom(c.y,f.y,h.y,u.y,this.tension),Aw.initCatmullRom(c.z,f.z,h.z,u.z,this.tension));return i.set(Mw.calc(l),Sw.calc(l),Aw.calc(l)),i}copy(e){super.copy(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const r=e.points[t];this.points.push(r.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,i=this.points.length;t<i;t++){const r=this.points[t];e.points.push(r.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const r=e.points[t];this.points.push(new me().fromArray(r))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}BH.prototype.isCatmullRomCurve3=!0;function UH(n,e,t,i,r){const s=(i-e)*.5,o=(r-t)*.5,a=n*n,l=n*a;return(2*t-2*i+s+o)*l+(-3*t+3*i-2*s-o)*a+s*n+t}function a_e(n,e){const t=1-n;return t*t*e}function l_e(n,e){return 2*(1-n)*n*e}function c_e(n,e){return n*n*e}function D2(n,e,t,i){return a_e(n,e)+l_e(n,t)+c_e(n,i)}function u_e(n,e){const t=1-n;return t*t*t*e}function f_e(n,e){const t=1-n;return 3*t*t*n*e}function h_e(n,e){return 3*(1-n)*n*n*e}function d_e(n,e){return n*n*n*e}function N2(n,e,t,i,r){return u_e(n,e)+f_e(n,t)+h_e(n,i)+d_e(n,r)}class Tw extends Ws{constructor(e=new qe,t=new qe,i=new qe,r=new qe){super();this.type="CubicBezierCurve",this.v0=e,this.v1=t,this.v2=i,this.v3=r}getPoint(e,t=new qe){const i=t,r=this.v0,s=this.v1,o=this.v2,a=this.v3;return i.set(N2(e,r.x,s.x,o.x,a.x),N2(e,r.y,s.y,o.y,a.y)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}Tw.prototype.isCubicBezierCurve=!0;class zH extends Ws{constructor(e=new me,t=new me,i=new me,r=new me){super();this.type="CubicBezierCurve3",this.v0=e,this.v1=t,this.v2=i,this.v3=r}getPoint(e,t=new me){const i=t,r=this.v0,s=this.v1,o=this.v2,a=this.v3;return i.set(N2(e,r.x,s.x,o.x,a.x),N2(e,r.y,s.y,o.y,a.y),N2(e,r.z,s.z,o.z,a.z)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}zH.prototype.isCubicBezierCurve3=!0;class Ag extends Ws{constructor(e=new qe,t=new qe){super();this.type="LineCurve",this.v1=e,this.v2=t}getPoint(e,t=new qe){const i=t;return e===1?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(e).add(this.v1)),i}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t){const i=t||new qe;return i.copy(this.v2).sub(this.v1).normalize(),i}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}Ag.prototype.isLineCurve=!0;class p_e extends Ws{constructor(e=new me,t=new me){super();this.type="LineCurve3",this.isLineCurve3=!0,this.v1=e,this.v2=t}getPoint(e,t=new me){const i=t;return e===1?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(e).add(this.v1)),i}getPointAt(e,t){return this.getPoint(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class Ew extends Ws{constructor(e=new qe,t=new qe,i=new qe){super();this.type="QuadraticBezierCurve",this.v0=e,this.v1=t,this.v2=i}getPoint(e,t=new qe){const i=t,r=this.v0,s=this.v1,o=this.v2;return i.set(D2(e,r.x,s.x,o.x),D2(e,r.y,s.y,o.y)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}Ew.prototype.isQuadraticBezierCurve=!0;class kH extends Ws{constructor(e=new me,t=new me,i=new me){super();this.type="QuadraticBezierCurve3",this.v0=e,this.v1=t,this.v2=i}getPoint(e,t=new me){const i=t,r=this.v0,s=this.v1,o=this.v2;return i.set(D2(e,r.x,s.x,o.x),D2(e,r.y,s.y,o.y),D2(e,r.z,s.z,o.z)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}kH.prototype.isQuadraticBezierCurve3=!0;class Lw extends Ws{constructor(e=[]){super();this.type="SplineCurve",this.points=e}getPoint(e,t=new qe){const i=t,r=this.points,s=(r.length-1)*e,o=Math.floor(s),a=s-o,l=r[o===0?o:o-1],c=r[o],u=r[o>r.length-2?r.length-1:o+1],f=r[o>r.length-3?r.length-1:o+2];return i.set(UH(a,l.x,c.x,u.x,f.x),UH(a,l.y,c.y,u.y,f.y)),i}copy(e){super.copy(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const r=e.points[t];this.points.push(r.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,i=this.points.length;t<i;t++){const r=this.points[t];e.points.push(r.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const r=e.points[t];this.points.push(new qe().fromArray(r))}return this}}Lw.prototype.isSplineCurve=!0;var m_e=Object.freeze({__proto__:null,ArcCurve:OH,CatmullRomCurve3:BH,CubicBezierCurve:Tw,CubicBezierCurve3:zH,EllipseCurve:Mg,LineCurve:Ag,LineCurve3:p_e,QuadraticBezierCurve:Ew,QuadraticBezierCurve3:kH,SplineCurve:Lw});class g_e extends Ws{constructor(){super();this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);e.equals(t)||this.curves.push(new Ag(t,e))}getPoint(e){const t=e*this.getLength(),i=this.getCurveLengths();let r=0;for(;r<i.length;){if(i[r]>=t){const s=i[r]-t,o=this.curves[r],a=o.getLength(),l=a===0?0:1-s/a;return o.getPointAt(l)}r++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let t=0;for(let i=0,r=this.curves.length;i<r;i++)t+=this.curves[i].getLength(),e.push(t);return this.cacheLengths=e,e}getSpacedPoints(e=40){const t=[];for(let i=0;i<=e;i++)t.push(this.getPoint(i/e));return this.autoClose&&t.push(t[0]),t}getPoints(e=12){const t=[];let i;for(let r=0,s=this.curves;r<s.length;r++){const o=s[r],a=o&&o.isEllipseCurve?e*2:o&&(o.isLineCurve||o.isLineCurve3)?1:o&&o.isSplineCurve?e*o.points.length:e,l=o.getPoints(a);for(let c=0;c<l.length;c++){const u=l[c];i&&i.equals(u)||(t.push(u),i=u)}}return this.autoClose&&t.length>1&&!t[t.length-1].equals(t[0])&&t.push(t[0]),t}copy(e){super.copy(e),this.curves=[];for(let t=0,i=e.curves.length;t<i;t++){const r=e.curves[t];this.curves.push(r.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let t=0,i=this.curves.length;t<i;t++){const r=this.curves[t];e.curves.push(r.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let t=0,i=e.curves.length;t<i;t++){const r=e.curves[t];this.curves.push(new m_e[r.type]().fromJSON(r))}return this}}class Cw extends g_e{constructor(e){super();this.type="Path",this.currentPoint=new qe,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let t=1,i=e.length;t<i;t++)this.lineTo(e[t].x,e[t].y);return this}moveTo(e,t){return this.currentPoint.set(e,t),this}lineTo(e,t){const i=new Ag(this.currentPoint.clone(),new qe(e,t));return this.curves.push(i),this.currentPoint.set(e,t),this}quadraticCurveTo(e,t,i,r){const s=new Ew(this.currentPoint.clone(),new qe(e,t),new qe(i,r));return this.curves.push(s),this.currentPoint.set(i,r),this}bezierCurveTo(e,t,i,r,s,o){const a=new Tw(this.currentPoint.clone(),new qe(e,t),new qe(i,r),new qe(s,o));return this.curves.push(a),this.currentPoint.set(s,o),this}splineThru(e){const t=[this.currentPoint.clone()].concat(e),i=new Lw(t);return this.curves.push(i),this.currentPoint.copy(e[e.length-1]),this}arc(e,t,i,r,s,o){const a=this.currentPoint.x,l=this.currentPoint.y;return this.absarc(e+a,t+l,i,r,s,o),this}absarc(e,t,i,r,s,o){return this.absellipse(e,t,i,i,r,s,o),this}ellipse(e,t,i,r,s,o,a,l){const c=this.currentPoint.x,u=this.currentPoint.y;return this.absellipse(e+c,t+u,i,r,s,o,a,l),this}absellipse(e,t,i,r,s,o,a,l){const c=new Mg(e,t,i,r,s,o,a,l);if(this.curves.length>0){const f=c.getPoint(0);f.equals(this.currentPoint)||this.lineTo(f.x,f.y)}this.curves.push(c);const u=c.getPoint(1);return this.currentPoint.copy(u),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}}class Pw extends Cw{constructor(e){super(e);this.uuid=to(),this.type="Shape",this.holes=[]}getPointsHoles(e){const t=[];for(let i=0,r=this.holes.length;i<r;i++)t[i]=this.holes[i].getPoints(e);return t}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let t=0,i=e.holes.length;t<i;t++){const r=e.holes[t];this.holes.push(r.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let t=0,i=this.holes.length;t<i;t++){const r=this.holes[t];e.holes.push(r.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let t=0,i=e.holes.length;t<i;t++){const r=e.holes[t];this.holes.push(new Cw().fromJSON(r))}return this}}class so extends rn{constructor(e,t=1){super();this.type="Light",this.color=new ht(e),this.intensity=t}dispose(){}copy(e){return super.copy(e),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const t=super.toJSON(e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,this.groundColor!==void 0&&(t.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(t.object.distance=this.distance),this.angle!==void 0&&(t.object.angle=this.angle),this.decay!==void 0&&(t.object.decay=this.decay),this.penumbra!==void 0&&(t.object.penumbra=this.penumbra),this.shadow!==void 0&&(t.object.shadow=this.shadow.toJSON()),t}}so.prototype.isLight=!0;class v_e extends so{constructor(e,t,i){super(e,i);this.type="HemisphereLight",this.position.copy(rn.DefaultUp),this.updateMatrix(),this.groundColor=new ht(t)}copy(e){return so.prototype.copy.call(this,e),this.groundColor.copy(e.groundColor),this}}v_e.prototype.isHemisphereLight=!0;const HH=new pt,GH=new me,VH=new me;class Rw{constructor(e){this.camera=e,this.bias=0,this.normalBias=0,this.radius=1,this.mapSize=new qe(512,512),this.map=null,this.mapPass=null,this.matrix=new pt,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new lg,this._frameExtents=new qe(1,1),this._viewportCount=1,this._viewports=[new un(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const t=this.camera,i=this.matrix;GH.setFromMatrixPosition(e.matrixWorld),t.position.copy(GH),VH.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(VH),t.updateMatrixWorld(),HH.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(HH),i.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),i.multiply(t.projectionMatrix),i.multiply(t.matrixWorldInverse)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class WH extends Rw{constructor(){super(new ls(50,1,.5,500));this.focus=1}updateMatrices(e){const t=this.camera,i=Ub*2*e.angle*this.focus,r=this.mapSize.width/this.mapSize.height,s=e.distance||t.far;(i!==t.fov||r!==t.aspect||s!==t.far)&&(t.fov=i,t.aspect=r,t.far=s,t.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}WH.prototype.isSpotLightShadow=!0;class x_e extends so{constructor(e,t,i=0,r=Math.PI/3,s=0,o=1){super(e,t);this.type="SpotLight",this.position.copy(rn.DefaultUp),this.updateMatrix(),this.target=new rn,this.distance=i,this.angle=r,this.penumbra=s,this.decay=o,this.shadow=new WH}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}x_e.prototype.isSpotLight=!0;const XH=new pt,O2=new me,Fw=new me;class YH extends Rw{constructor(){super(new ls(90,1,.5,500));this._frameExtents=new qe(4,2),this._viewportCount=6,this._viewports=[new un(2,1,1,1),new un(0,1,1,1),new un(3,1,1,1),new un(1,1,1,1),new un(3,0,1,1),new un(1,0,1,1)],this._cubeDirections=[new me(1,0,0),new me(-1,0,0),new me(0,0,1),new me(0,0,-1),new me(0,1,0),new me(0,-1,0)],this._cubeUps=[new me(0,1,0),new me(0,1,0),new me(0,1,0),new me(0,1,0),new me(0,0,1),new me(0,0,-1)]}updateMatrices(e,t=0){const i=this.camera,r=this.matrix,s=e.distance||i.far;s!==i.far&&(i.far=s,i.updateProjectionMatrix()),O2.setFromMatrixPosition(e.matrixWorld),i.position.copy(O2),Fw.copy(i.position),Fw.add(this._cubeDirections[t]),i.up.copy(this._cubeUps[t]),i.lookAt(Fw),i.updateMatrixWorld(),r.makeTranslation(-O2.x,-O2.y,-O2.z),XH.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),this._frustum.setFromProjectionMatrix(XH)}}YH.prototype.isPointLightShadow=!0;class y_e extends so{constructor(e,t,i=0,r=1){super(e,t);this.type="PointLight",this.distance=i,this.decay=r,this.shadow=new YH}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}y_e.prototype.isPointLight=!0;class $H extends fw{constructor(e=-1,t=1,i=1,r=-1,s=.1,o=2e3){super();this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=i,this.bottom=r,this.near=s,this.far=o,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,t,i,r,s,o){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=i,this.view.offsetY=r,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),i=(this.right+this.left)/2,r=(this.top+this.bottom)/2;let s=i-e,o=i+e,a=r+t,l=r-t;if(this.view!==null&&this.view.enabled){const c=(this.right-this.left)/this.view.fullWidth/this.zoom,u=(this.top-this.bottom)/this.view.fullHeight/this.zoom;s+=c*this.view.offsetX,o=s+c*this.view.width,a-=u*this.view.offsetY,l=a-u*this.view.height}this.projectionMatrix.makeOrthographic(s,o,a,l,this.near,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,this.view!==null&&(t.object.view=Object.assign({},this.view)),t}}$H.prototype.isOrthographicCamera=!0;class qH extends Rw{constructor(){super(new $H(-5,5,5,-5,.5,500))}}qH.prototype.isDirectionalLightShadow=!0;class __e extends so{constructor(e,t){super(e,t);this.type="DirectionalLight",this.position.copy(rn.DefaultUp),this.updateMatrix(),this.target=new rn,this.shadow=new qH}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}__e.prototype.isDirectionalLight=!0;class b_e extends so{constructor(e,t){super(e,t);this.type="AmbientLight"}}b_e.prototype.isAmbientLight=!0;class w_e extends so{constructor(e,t,i=10,r=10){super(e,t);this.type="RectAreaLight",this.width=i,this.height=r}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const t=super.toJSON(e);return t.object.width=this.width,t.object.height=this.height,t}}w_e.prototype.isRectAreaLight=!0;class jH{constructor(){this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new me)}set(e){for(let t=0;t<9;t++)this.coefficients[t].copy(e[t]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,t){const i=e.x,r=e.y,s=e.z,o=this.coefficients;return t.copy(o[0]).multiplyScalar(.282095),t.addScaledVector(o[1],.488603*r),t.addScaledVector(o[2],.488603*s),t.addScaledVector(o[3],.488603*i),t.addScaledVector(o[4],1.092548*(i*r)),t.addScaledVector(o[5],1.092548*(r*s)),t.addScaledVector(o[6],.315392*(3*s*s-1)),t.addScaledVector(o[7],1.092548*(i*s)),t.addScaledVector(o[8],.546274*(i*i-r*r)),t}getIrradianceAt(e,t){const i=e.x,r=e.y,s=e.z,o=this.coefficients;return t.copy(o[0]).multiplyScalar(.886227),t.addScaledVector(o[1],2*.511664*r),t.addScaledVector(o[2],2*.511664*s),t.addScaledVector(o[3],2*.511664*i),t.addScaledVector(o[4],2*.429043*i*r),t.addScaledVector(o[5],2*.429043*r*s),t.addScaledVector(o[6],.743125*s*s-.247708),t.addScaledVector(o[7],2*.429043*i*s),t.addScaledVector(o[8],.429043*(i*i-r*r)),t}add(e){for(let t=0;t<9;t++)this.coefficients[t].add(e.coefficients[t]);return this}addScaledSH(e,t){for(let i=0;i<9;i++)this.coefficients[i].addScaledVector(e.coefficients[i],t);return this}scale(e){for(let t=0;t<9;t++)this.coefficients[t].multiplyScalar(e);return this}lerp(e,t){for(let i=0;i<9;i++)this.coefficients[i].lerp(e.coefficients[i],t);return this}equals(e){for(let t=0;t<9;t++)if(!this.coefficients[t].equals(e.coefficients[t]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,t=0){const i=this.coefficients;for(let r=0;r<9;r++)i[r].fromArray(e,t+r*3);return this}toArray(e=[],t=0){const i=this.coefficients;for(let r=0;r<9;r++)i[r].toArray(e,t+r*3);return e}static getBasisAt(e,t){const i=e.x,r=e.y,s=e.z;t[0]=.282095,t[1]=.488603*r,t[2]=.488603*s,t[3]=.488603*i,t[4]=1.092548*i*r,t[5]=1.092548*r*s,t[6]=.315392*(3*s*s-1),t[7]=1.092548*i*s,t[8]=.546274*(i*i-r*r)}}jH.prototype.isSphericalHarmonics3=!0;class Iw extends so{constructor(e=new jH,t=1){super(void 0,t);this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const t=super.toJSON(e);return t.object.sh=this.sh.toArray(),t}}Iw.prototype.isLightProbe=!0;class M_e{static decodeText(e){if(typeof TextDecoder!="undefined")return new TextDecoder().decode(e);let t="";for(let i=0,r=e.length;i<r;i++)t+=String.fromCharCode(e[i]);try{return decodeURIComponent(escape(t))}catch{return t}}static extractUrlBase(e){const t=e.lastIndexOf("/");return t===-1?"./":e.substr(0,t+1)}}class S_e extends Mn{constructor(){super();this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}clone(){return new this.constructor().copy(this)}toJSON(){const e=super.toJSON(this);return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}S_e.prototype.isInstancedBufferGeometry=!0;class A_e extends wn{constructor(e,t,i,r){typeof i=="number"&&(r=i,i=!1,console.error("THREE.InstancedBufferAttribute: The constructor now expects normalized as the third argument."));super(e,t,i);this.meshPerAttribute=r||1}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}A_e.prototype.isInstancedBufferAttribute=!0;class T_e extends Sl{constructor(e){super(e);typeof createImageBitmap=="undefined"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch=="undefined"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,t,i,r){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,o=ud.get(e);if(o!==void 0)return s.manager.itemStart(e),setTimeout(function(){t&&t(o),s.manager.itemEnd(e)},0),o;const a={};a.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",a.headers=this.requestHeader,fetch(e,a).then(function(l){return l.blob()}).then(function(l){return createImageBitmap(l,Object.assign(s.options,{colorSpaceConversion:"none"}))}).then(function(l){ud.add(e,l),t&&t(l),s.manager.itemEnd(e)}).catch(function(l){r&&r(l),s.manager.itemError(e),s.manager.itemEnd(e)}),s.manager.itemStart(e)}}T_e.prototype.isImageBitmapLoader=!0;let Tg;const E_e={getContext:function(){return Tg===void 0&&(Tg=new(window.AudioContext||window.webkitAudioContext)),Tg},setContext:function(n){Tg=n}};class L_e extends Sl{constructor(e){super(e)}load(e,t,i,r){const s=this,o=new r_e(this.manager);o.setResponseType("arraybuffer"),o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(a){try{const l=a.slice(0);E_e.getContext().decodeAudioData(l,function(u){t(u)})}catch(l){r?r(l):console.error(l),s.manager.itemError(e)}},i,r)}}class C_e extends Iw{constructor(e,t,i=1){super(void 0,i);const r=new ht().set(e),s=new ht().set(t),o=new me(r.r,r.g,r.b),a=new me(s.r,s.g,s.b),l=Math.sqrt(Math.PI),c=l*Math.sqrt(.75);this.sh.coefficients[0].copy(o).add(a).multiplyScalar(l),this.sh.coefficients[1].copy(o).sub(a).multiplyScalar(c)}}C_e.prototype.isHemisphereLightProbe=!0;class P_e extends Iw{constructor(e,t=1){super(void 0,t);const i=new ht().set(e);this.sh.coefficients[0].set(i.r,i.g,i.b).multiplyScalar(2*Math.sqrt(Math.PI))}}P_e.prototype.isAmbientLightProbe=!0;class R_e extends rn{constructor(e){super();this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const t=this.context.createBufferSource();return t.buffer=this.buffer,t.loop=this.loop,t.loopStart=this.loopStart,t.loopEnd=this.loopEnd,t.onended=this.onEnded.bind(this),t.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=t,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source.stop(),this.source.onended=null,this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){if(this.detune=e,this.source.detune!==void 0)return this.isPlaying===!0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}}class F_e{constructor(e,t,i){this.binding=e,this.valueSize=i;let r,s,o;switch(t){case"quaternion":r=this._slerp,s=this._slerpAdditive,o=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(i*6),this._workIndex=5;break;case"string":case"bool":r=this._select,s=this._select,o=this._setAdditiveIdentityOther,this.buffer=new Array(i*5);break;default:r=this._lerp,s=this._lerpAdditive,o=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(i*5)}this._mixBufferRegion=r,this._mixBufferRegionAdditive=s,this._setIdentity=o,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,t){const i=this.buffer,r=this.valueSize,s=e*r+r;let o=this.cumulativeWeight;if(o===0){for(let a=0;a!==r;++a)i[s+a]=i[a];o=t}else{o+=t;const a=t/o;this._mixBufferRegion(i,s,0,a,r)}this.cumulativeWeight=o}accumulateAdditive(e){const t=this.buffer,i=this.valueSize,r=i*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(t,r,0,e,i),this.cumulativeWeightAdditive+=e}apply(e){const t=this.valueSize,i=this.buffer,r=e*t+t,s=this.cumulativeWeight,o=this.cumulativeWeightAdditive,a=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,s<1){const l=t*this._origIndex;this._mixBufferRegion(i,r,l,1-s,t)}o>0&&this._mixBufferRegionAdditive(i,r,this._addIndex*t,1,t);for(let l=t,c=t+t;l!==c;++l)if(i[l]!==i[l+t]){a.setValue(i,r);break}}saveOriginalState(){const e=this.binding,t=this.buffer,i=this.valueSize,r=i*this._origIndex;e.getValue(t,r);for(let s=i,o=r;s!==o;++s)t[s]=t[r+s%i];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,t=e+this.valueSize;for(let i=e;i<t;i++)this.buffer[i]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,t=this._addIndex*this.valueSize;for(let i=0;i<this.valueSize;i++)this.buffer[t+i]=this.buffer[e+i]}_select(e,t,i,r,s){if(r>=.5)for(let o=0;o!==s;++o)e[t+o]=e[i+o]}_slerp(e,t,i,r){Er.slerpFlat(e,t,e,t,e,i,r)}_slerpAdditive(e,t,i,r,s){const o=this._workIndex*s;Er.multiplyQuaternionsFlat(e,o,e,t,e,i),Er.slerpFlat(e,t,e,t,e,o,r)}_lerp(e,t,i,r,s){const o=1-r;for(let a=0;a!==s;++a){const l=t+a;e[l]=e[l]*o+e[i+a]*r}}_lerpAdditive(e,t,i,r,s){for(let o=0;o!==s;++o){const a=t+o;e[a]=e[a]+e[i+o]*r}}}const Dw="\\[\\]\\.:\\/",I_e=new RegExp("["+Dw+"]","g"),Nw="[^"+Dw+"]",D_e="[^"+Dw.replace("\\.","")+"]",N_e=/((?:WC+[\/:])*)/.source.replace("WC",Nw),O_e=/(WCOD+)?/.source.replace("WCOD",D_e),B_e=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",Nw),U_e=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",Nw),z_e=new RegExp("^"+N_e+O_e+B_e+U_e+"$"),k_e=["material","materials","bones"];class H_e{constructor(e,t,i){const r=i||an.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,r)}getValue(e,t){this.bind();const i=this._targetGroup.nCachedObjects_,r=this._bindings[i];r!==void 0&&r.getValue(e,t)}setValue(e,t){const i=this._bindings;for(let r=this._targetGroup.nCachedObjects_,s=i.length;r!==s;++r)i[r].setValue(e,t)}bind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,i=e.length;t!==i;++t)e[t].bind()}unbind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,i=e.length;t!==i;++t)e[t].unbind()}}class an{constructor(e,t,i){this.path=t,this.parsedPath=i||an.parseTrackName(t),this.node=an.findNode(e,this.parsedPath.nodeName)||e,this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,t,i){return e&&e.isAnimationObjectGroup?new an.Composite(e,t,i):new an(e,t,i)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(I_e,"")}static parseTrackName(e){const t=z_e.exec(e);if(!t)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const i={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},r=i.nodeName&&i.nodeName.lastIndexOf(".");if(r!==void 0&&r!==-1){const s=i.nodeName.substring(r+1);k_e.indexOf(s)!==-1&&(i.nodeName=i.nodeName.substring(0,r),i.objectName=s)}if(i.propertyName===null||i.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return i}static findNode(e,t){if(!t||t===""||t==="."||t===-1||t===e.name||t===e.uuid)return e;if(e.skeleton){const i=e.skeleton.getBoneByName(t);if(i!==void 0)return i}if(e.children){const i=function(s){for(let o=0;o<s.length;o++){const a=s[o];if(a.name===t||a.uuid===t)return a;const l=i(a.children);if(l)return l}return null},r=i(e.children);if(r)return r}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,t){e[t]=this.node[this.propertyName]}_getValue_array(e,t){const i=this.resolvedProperty;for(let r=0,s=i.length;r!==s;++r)e[t++]=i[r]}_getValue_arrayElement(e,t){e[t]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,t){this.resolvedProperty.toArray(e,t)}_setValue_direct(e,t){this.targetObject[this.propertyName]=e[t]}_setValue_direct_setNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,t){const i=this.resolvedProperty;for(let r=0,s=i.length;r!==s;++r)i[r]=e[t++]}_setValue_array_setNeedsUpdate(e,t){const i=this.resolvedProperty;for(let r=0,s=i.length;r!==s;++r)i[r]=e[t++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,t){const i=this.resolvedProperty;for(let r=0,s=i.length;r!==s;++r)i[r]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,t){this.resolvedProperty[this.propertyIndex]=e[t]}_setValue_arrayElement_setNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,t){this.resolvedProperty.fromArray(e,t)}_setValue_fromArray_setNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,t){this.bind(),this.getValue(e,t)}_setValue_unbound(e,t){this.bind(),this.setValue(e,t)}bind(){let e=this.node;const t=this.parsedPath,i=t.objectName,r=t.propertyName;let s=t.propertyIndex;if(e||(e=an.findNode(this.rootNode,t.nodeName)||this.rootNode,this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.");return}if(i){let c=t.objectIndex;switch(i){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let u=0;u<e.length;u++)if(e[u].name===c){c=u;break}break;default:if(e[i]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[i]}if(c!==void 0){if(e[c]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[c]}}const o=e[r];if(o===void 0){const c=t.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+c+"."+r+" but it wasn't found.",e);return}let a=this.Versioning.None;this.targetObject=e,e.needsUpdate!==void 0?a=this.Versioning.NeedsUpdate:e.matrixWorldNeedsUpdate!==void 0&&(a=this.Versioning.MatrixWorldNeedsUpdate);let l=this.BindingType.Direct;if(s!==void 0){if(r==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(e.geometry.isBufferGeometry){if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[s]!==void 0&&(s=e.morphTargetDictionary[s])}else{console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences on THREE.Geometry. Use THREE.BufferGeometry instead.",this);return}}l=this.BindingType.ArrayElement,this.resolvedProperty=o,this.propertyIndex=s}else o.fromArray!==void 0&&o.toArray!==void 0?(l=this.BindingType.HasFromToArray,this.resolvedProperty=o):Array.isArray(o)?(l=this.BindingType.EntireArray,this.resolvedProperty=o):this.propertyName=r;this.getValue=this.GetterByBindingType[l],this.setValue=this.SetterByBindingTypeAndVersioning[l][a]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}an.Composite=H_e;an.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};an.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};an.prototype.GetterByBindingType=[an.prototype._getValue_direct,an.prototype._getValue_array,an.prototype._getValue_arrayElement,an.prototype._getValue_toArray];an.prototype.SetterByBindingTypeAndVersioning=[[an.prototype._setValue_direct,an.prototype._setValue_direct_setNeedsUpdate,an.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[an.prototype._setValue_array,an.prototype._setValue_array_setNeedsUpdate,an.prototype._setValue_array_setMatrixWorldNeedsUpdate],[an.prototype._setValue_arrayElement,an.prototype._setValue_arrayElement_setNeedsUpdate,an.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[an.prototype._setValue_fromArray,an.prototype._setValue_fromArray_setNeedsUpdate,an.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class G_e{constructor(e,t,i=null,r=t.blendMode){this._mixer=e,this._clip=t,this._localRoot=i,this.blendMode=r;const s=t.tracks,o=s.length,a=new Array(o),l={endingStart:Bh,endingEnd:Bh};for(let c=0;c!==o;++c){const u=s[c].createInterpolant(null);a[c]=u,u.settings=l}this._interpolantSettings=l,this._interpolants=a,this._propertyBindings=new Array(o),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=b8e,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,t){return this.loop=e,this.repetitions=t,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,t,i){if(e.fadeOut(t),this.fadeIn(t),i){const r=this._clip.duration,s=e._clip.duration,o=s/r,a=r/s;e.warp(1,o,t),this.warp(a,1,t)}return this}crossFadeTo(e,t,i){return e.crossFadeFrom(this,t,i)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,t,i){const r=this._mixer,s=r.time,o=this.timeScale;let a=this._timeScaleInterpolant;a===null&&(a=r._lendControlInterpolant(),this._timeScaleInterpolant=a);const l=a.parameterPositions,c=a.sampleValues;return l[0]=s,l[1]=s+i,c[0]=e/o,c[1]=t/o,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,t,i,r){if(!this.enabled){this._updateWeight(e);return}const s=this._startTime;if(s!==null){const l=(e-s)*i;if(l<0||i===0)return;this._startTime=null,t=i*l}t*=this._updateTimeScale(e);const o=this._updateTime(t),a=this._updateWeight(e);if(a>0){const l=this._interpolants,c=this._propertyBindings;switch(this.blendMode){case uk:for(let u=0,f=l.length;u!==f;++u)l[u].evaluate(o),c[u].accumulateAdditive(a);break;case Nb:default:for(let u=0,f=l.length;u!==f;++u)l[u].evaluate(o),c[u].accumulate(r,a)}}}_updateWeight(e){let t=0;if(this.enabled){t=this.weight;const i=this._weightInterpolant;if(i!==null){const r=i.evaluate(e)[0];t*=r,e>i.parameterPositions[1]&&(this.stopFading(),r===0&&(this.enabled=!1))}}return this._effectiveWeight=t,t}_updateTimeScale(e){let t=0;if(!this.paused){t=this.timeScale;const i=this._timeScaleInterpolant;i!==null&&(t*=i.evaluate(e)[0],e>i.parameterPositions[1]&&(this.stopWarping(),t===0?this.paused=!0:this.timeScale=t))}return this._effectiveTimeScale=t,t}_updateTime(e){const t=this._clip.duration,i=this.loop;let r=this.time+e,s=this._loopCount;const o=i===w8e;if(e===0)return s===-1?r:o&&(s&1)==1?t-r:r;if(i===_8e){s===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(r>=t)r=t;else if(r<0)r=0;else{this.time=r;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(s===-1&&(e>=0?(s=0,this._setEndings(!0,this.repetitions===0,o)):this._setEndings(this.repetitions===0,!0,o)),r>=t||r<0){const a=Math.floor(r/t);r-=t*a,s+=Math.abs(a);const l=this.repetitions-s;if(l<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,r=e>0?t:0,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(l===1){const c=e<0;this._setEndings(c,!c,o)}else this._setEndings(!1,!1,o);this._loopCount=s,this.time=r,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:a})}}else this.time=r;if(o&&(s&1)==1)return t-r}return r}_setEndings(e,t,i){const r=this._interpolantSettings;i?(r.endingStart=Uh,r.endingEnd=Uh):(e?r.endingStart=this.zeroSlopeAtStart?Uh:Bh:r.endingStart=G5,t?r.endingEnd=this.zeroSlopeAtEnd?Uh:Bh:r.endingEnd=G5)}_scheduleFading(e,t,i){const r=this._mixer,s=r.time;let o=this._weightInterpolant;o===null&&(o=r._lendControlInterpolant(),this._weightInterpolant=o);const a=o.parameterPositions,l=o.sampleValues;return a[0]=s,l[0]=t,a[1]=s+e,l[1]=i,this}}class V_e extends hu{constructor(e){super();this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,t){const i=e._localRoot||this._root,r=e._clip.tracks,s=r.length,o=e._propertyBindings,a=e._interpolants,l=i.uuid,c=this._bindingsByRootAndName;let u=c[l];u===void 0&&(u={},c[l]=u);for(let f=0;f!==s;++f){const h=r[f],d=h.name;let m=u[d];if(m!==void 0)o[f]=m;else{if(m=o[f],m!==void 0){m._cacheIndex===null&&(++m.referenceCount,this._addInactiveBinding(m,l,d));continue}const v=t&&t._propertyBindings[f].binding.parsedPath;m=new F_e(an.create(i,d,v),h.ValueTypeName,h.getValueSize()),++m.referenceCount,this._addInactiveBinding(m,l,d),o[f]=m}a[f].resultBuffer=m.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const i=(e._localRoot||this._root).uuid,r=e._clip.uuid,s=this._actionsByClip[r];this._bindAction(e,s&&s.knownActions[0]),this._addInactiveAction(e,r,i)}const t=e._propertyBindings;for(let i=0,r=t.length;i!==r;++i){const s=t[i];s.useCount++==0&&(this._lendBinding(s),s.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const t=e._propertyBindings;for(let i=0,r=t.length;i!==r;++i){const s=t[i];--s.useCount==0&&(s.restoreOriginalState(),this._takeBackBinding(s))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const t=e._cacheIndex;return t!==null&&t<this._nActiveActions}_addInactiveAction(e,t,i){const r=this._actions,s=this._actionsByClip;let o=s[t];if(o===void 0)o={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,s[t]=o;else{const a=o.knownActions;e._byClipCacheIndex=a.length,a.push(e)}e._cacheIndex=r.length,r.push(e),o.actionByRoot[i]=e}_removeInactiveAction(e){const t=this._actions,i=t[t.length-1],r=e._cacheIndex;i._cacheIndex=r,t[r]=i,t.pop(),e._cacheIndex=null;const s=e._clip.uuid,o=this._actionsByClip,a=o[s],l=a.knownActions,c=l[l.length-1],u=e._byClipCacheIndex;c._byClipCacheIndex=u,l[u]=c,l.pop(),e._byClipCacheIndex=null;const f=a.actionByRoot,h=(e._localRoot||this._root).uuid;delete f[h],l.length===0&&delete o[s],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const t=e._propertyBindings;for(let i=0,r=t.length;i!==r;++i){const s=t[i];--s.referenceCount==0&&this._removeInactiveBinding(s)}}_lendAction(e){const t=this._actions,i=e._cacheIndex,r=this._nActiveActions++,s=t[r];e._cacheIndex=r,t[r]=e,s._cacheIndex=i,t[i]=s}_takeBackAction(e){const t=this._actions,i=e._cacheIndex,r=--this._nActiveActions,s=t[r];e._cacheIndex=r,t[r]=e,s._cacheIndex=i,t[i]=s}_addInactiveBinding(e,t,i){const r=this._bindingsByRootAndName,s=this._bindings;let o=r[t];o===void 0&&(o={},r[t]=o),o[i]=e,e._cacheIndex=s.length,s.push(e)}_removeInactiveBinding(e){const t=this._bindings,i=e.binding,r=i.rootNode.uuid,s=i.path,o=this._bindingsByRootAndName,a=o[r],l=t[t.length-1],c=e._cacheIndex;l._cacheIndex=c,t[c]=l,t.pop(),delete a[s],Object.keys(a).length===0&&delete o[r]}_lendBinding(e){const t=this._bindings,i=e._cacheIndex,r=this._nActiveBindings++,s=t[r];e._cacheIndex=r,t[r]=e,s._cacheIndex=i,t[i]=s}_takeBackBinding(e){const t=this._bindings,i=e._cacheIndex,r=--this._nActiveBindings,s=t[r];e._cacheIndex=r,t[r]=e,s._cacheIndex=i,t[i]=s}_lendControlInterpolant(){const e=this._controlInterpolants,t=this._nActiveControlInterpolants++;let i=e[t];return i===void 0&&(i=new FH(new Float32Array(2),new Float32Array(2),1,this._controlInterpolantsResultBuffer),i.__cacheIndex=t,e[t]=i),i}_takeBackControlInterpolant(e){const t=this._controlInterpolants,i=e.__cacheIndex,r=--this._nActiveControlInterpolants,s=t[r];e.__cacheIndex=r,t[r]=e,s.__cacheIndex=i,t[i]=s}clipAction(e,t,i){const r=t||this._root,s=r.uuid;let o=typeof e=="string"?DH.findByName(r,e):e;const a=o!==null?o.uuid:e,l=this._actionsByClip[a];let c=null;if(i===void 0&&(o!==null?i=o.blendMode:i=Nb),l!==void 0){const f=l.actionByRoot[s];if(f!==void 0&&f.blendMode===i)return f;c=l.knownActions[0],o===null&&(o=c._clip)}if(o===null)return null;const u=new G_e(this,o,t,i);return this._bindAction(u,c),this._addInactiveAction(u,a,s),u}existingAction(e,t){const i=t||this._root,r=i.uuid,s=typeof e=="string"?DH.findByName(i,e):e,o=s?s.uuid:e,a=this._actionsByClip[o];return a!==void 0&&a.actionByRoot[r]||null}stopAllAction(){const e=this._actions,t=this._nActiveActions;for(let i=t-1;i>=0;--i)e[i].stop();return this}update(e){e*=this.timeScale;const t=this._actions,i=this._nActiveActions,r=this.time+=e,s=Math.sign(e),o=this._accuIndex^=1;for(let c=0;c!==i;++c)t[c]._update(r,e,s,o);const a=this._bindings,l=this._nActiveBindings;for(let c=0;c!==l;++c)a[c].apply(o);return this}setTime(e){this.time=0;for(let t=0;t<this._actions.length;t++)this._actions[t].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const t=this._actions,i=e.uuid,r=this._actionsByClip,s=r[i];if(s!==void 0){const o=s.knownActions;for(let a=0,l=o.length;a!==l;++a){const c=o[a];this._deactivateAction(c);const u=c._cacheIndex,f=t[t.length-1];c._cacheIndex=null,c._byClipCacheIndex=null,f._cacheIndex=u,t[u]=f,t.pop(),this._removeInactiveBindingsForAction(c)}delete r[i]}}uncacheRoot(e){const t=e.uuid,i=this._actionsByClip;for(const o in i){const a=i[o].actionByRoot,l=a[t];l!==void 0&&(this._deactivateAction(l),this._removeInactiveAction(l))}const r=this._bindingsByRootAndName,s=r[t];if(s!==void 0)for(const o in s){const a=s[o];a.restoreOriginalState(),this._removeInactiveBinding(a)}}uncacheAction(e,t){const i=this.existingAction(e,t);i!==null&&(this._deactivateAction(i),this._removeInactiveAction(i))}}V_e.prototype._controlInterpolantsResultBuffer=new Float32Array(1);class W_e extends M2{constructor(e,t,i=1){super(e,t);this.meshPerAttribute=i||1}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const t=super.clone(e);return t.meshPerAttribute=this.meshPerAttribute,t}toJSON(e){const t=super.toJSON(e);return t.isInstancedInterleavedBuffer=!0,t.meshPerAttribute=this.meshPerAttribute,t}}W_e.prototype.isInstancedInterleavedBuffer=!0;class X_e extends rn{constructor(e){super();this.material=e,this.render=function(){},this.hasPositions=!1,this.hasNormals=!1,this.hasColors=!1,this.hasUvs=!1,this.positionArray=null,this.normalArray=null,this.colorArray=null,this.uvArray=null,this.count=0}}X_e.prototype.isImmediateRenderObject=!0;const Al=new me,Eg=new pt,Ow=new pt;class Y_e extends pg{constructor(e){const t=ZH(e),i=new Mn,r=[],s=[],o=new ht(0,0,1),a=new ht(0,1,0);for(let c=0;c<t.length;c++){const u=t[c];u.parent&&u.parent.isBone&&(r.push(0,0,0),r.push(0,0,0),s.push(o.r,o.g,o.b),s.push(a.r,a.g,a.b))}i.setAttribute("position",new Si(r,3)),i.setAttribute("color",new Si(s,3));const l=new C2({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(i,l);this.type="SkeletonHelper",this.isSkeletonHelper=!0,this.root=e,this.bones=t,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(e){const t=this.bones,i=this.geometry,r=i.getAttribute("position");Ow.copy(this.root.matrixWorld).invert();for(let s=0,o=0;s<t.length;s++){const a=t[s];a.parent&&a.parent.isBone&&(Eg.multiplyMatrices(Ow,a.matrixWorld),Al.setFromMatrixPosition(Eg),r.setXYZ(o,Al.x,Al.y,Al.z),Eg.multiplyMatrices(Ow,a.parent.matrixWorld),Al.setFromMatrixPosition(Eg),r.setXYZ(o+1,Al.x,Al.y,Al.z),o+=2)}i.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}}function ZH(n){const e=[];n&&n.isBone&&e.push(n);for(let t=0;t<n.children.length;t++)e.push.apply(e,ZH(n.children[t]));return e}class $_e extends pg{constructor(e=10,t=10,i=4473924,r=8947848){i=new ht(i),r=new ht(r);const s=t/2,o=e/t,a=e/2,l=[],c=[];for(let h=0,d=0,m=-a;h<=t;h++,m+=o){l.push(-a,0,m,a,0,m),l.push(m,0,-a,m,0,a);const v=h===s?i:r;v.toArray(c,d),d+=3,v.toArray(c,d),d+=3,v.toArray(c,d),d+=3,v.toArray(c,d),d+=3}const u=new Mn;u.setAttribute("position",new Si(l,3)),u.setAttribute("color",new Si(c,3));const f=new C2({vertexColors:!0,toneMapped:!1});super(u,f);this.type="GridHelper"}}const q_e=new Float32Array(1);new Int32Array(q_e.buffer);const j_e=new iw({side:Mi,depthWrite:!1,depthTest:!1});new x0(new uw,j_e);Ws.create=function(n,e){return console.log("THREE.Curve.create() has been deprecated"),n.prototype=Object.create(Ws.prototype),n.prototype.constructor=n,n.prototype.getPoint=e,n};Cw.prototype.fromPoints=function(n){return console.warn("THREE.Path: .fromPoints() has been renamed to .setFromPoints()."),this.setFromPoints(n)};$_e.prototype.setColors=function(){console.error("THREE.GridHelper: setColors() has been deprecated, pass them in the constructor instead.")};Y_e.prototype.update=function(){console.error("THREE.SkeletonHelper: update() no longer needs to be called.")};Sl.prototype.extractUrlBase=function(n){return console.warn("THREE.Loader: .extractUrlBase() has been deprecated. Use THREE.LoaderUtils.extractUrlBase() instead."),M_e.extractUrlBase(n)};Sl.Handlers={add:function(){console.error("THREE.Loader: Handlers.add() has been removed. Use LoadingManager.addHandler() instead.")},get:function(){console.error("THREE.Loader: Handlers.get() has been removed. Use LoadingManager.getHandler() instead.")}};Gs.prototype.center=function(n){return console.warn("THREE.Box3: .center() has been renamed to .getCenter()."),this.getCenter(n)};Gs.prototype.empty=function(){return console.warn("THREE.Box3: .empty() has been renamed to .isEmpty()."),this.isEmpty()};Gs.prototype.isIntersectionBox=function(n){return console.warn("THREE.Box3: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(n)};Gs.prototype.isIntersectionSphere=function(n){return console.warn("THREE.Box3: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(n)};Gs.prototype.size=function(n){return console.warn("THREE.Box3: .size() has been renamed to .getSize()."),this.getSize(n)};mu.prototype.empty=function(){return console.warn("THREE.Sphere: .empty() has been renamed to .isEmpty()."),this.isEmpty()};lg.prototype.setFromMatrix=function(n){return console.warn("THREE.Frustum: .setFromMatrix() has been renamed to .setFromProjectionMatrix()."),this.setFromProjectionMatrix(n)};Bi.prototype.flattenToArrayOffset=function(n,e){return console.warn("THREE.Matrix3: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(n,e)};Bi.prototype.multiplyVector3=function(n){return console.warn("THREE.Matrix3: .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead."),n.applyMatrix3(this)};Bi.prototype.multiplyVector3Array=function(){console.error("THREE.Matrix3: .multiplyVector3Array() has been removed.")};Bi.prototype.applyToBufferAttribute=function(n){return console.warn("THREE.Matrix3: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix3( matrix ) instead."),n.applyMatrix3(this)};Bi.prototype.applyToVector3Array=function(){console.error("THREE.Matrix3: .applyToVector3Array() has been removed.")};Bi.prototype.getInverse=function(n){return console.warn("THREE.Matrix3: .getInverse() has been removed. Use matrixInv.copy( matrix ).invert(); instead."),this.copy(n).invert()};pt.prototype.extractPosition=function(n){return console.warn("THREE.Matrix4: .extractPosition() has been renamed to .copyPosition()."),this.copyPosition(n)};pt.prototype.flattenToArrayOffset=function(n,e){return console.warn("THREE.Matrix4: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(n,e)};pt.prototype.getPosition=function(){return console.warn("THREE.Matrix4: .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead."),new me().setFromMatrixColumn(this,3)};pt.prototype.setRotationFromQuaternion=function(n){return console.warn("THREE.Matrix4: .setRotationFromQuaternion() has been renamed to .makeRotationFromQuaternion()."),this.makeRotationFromQuaternion(n)};pt.prototype.multiplyToArray=function(){console.warn("THREE.Matrix4: .multiplyToArray() has been removed.")};pt.prototype.multiplyVector3=function(n){return console.warn("THREE.Matrix4: .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) instead."),n.applyMatrix4(this)};pt.prototype.multiplyVector4=function(n){return console.warn("THREE.Matrix4: .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead."),n.applyMatrix4(this)};pt.prototype.multiplyVector3Array=function(){console.error("THREE.Matrix4: .multiplyVector3Array() has been removed.")};pt.prototype.rotateAxis=function(n){console.warn("THREE.Matrix4: .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead."),n.transformDirection(this)};pt.prototype.crossVector=function(n){return console.warn("THREE.Matrix4: .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead."),n.applyMatrix4(this)};pt.prototype.translate=function(){console.error("THREE.Matrix4: .translate() has been removed.")};pt.prototype.rotateX=function(){console.error("THREE.Matrix4: .rotateX() has been removed.")};pt.prototype.rotateY=function(){console.error("THREE.Matrix4: .rotateY() has been removed.")};pt.prototype.rotateZ=function(){console.error("THREE.Matrix4: .rotateZ() has been removed.")};pt.prototype.rotateByAxis=function(){console.error("THREE.Matrix4: .rotateByAxis() has been removed.")};pt.prototype.applyToBufferAttribute=function(n){return console.warn("THREE.Matrix4: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix4( matrix ) instead."),n.applyMatrix4(this)};pt.prototype.applyToVector3Array=function(){console.error("THREE.Matrix4: .applyToVector3Array() has been removed.")};pt.prototype.makeFrustum=function(n,e,t,i,r,s){return console.warn("THREE.Matrix4: .makeFrustum() has been removed. Use .makePerspective( left, right, top, bottom, near, far ) instead."),this.makePerspective(n,e,i,t,r,s)};pt.prototype.getInverse=function(n){return console.warn("THREE.Matrix4: .getInverse() has been removed. Use matrixInv.copy( matrix ).invert(); instead."),this.copy(n).invert()};no.prototype.isIntersectionLine=function(n){return console.warn("THREE.Plane: .isIntersectionLine() has been renamed to .intersectsLine()."),this.intersectsLine(n)};Er.prototype.multiplyVector3=function(n){return console.warn("THREE.Quaternion: .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead."),n.applyQuaternion(this)};Er.prototype.inverse=function(){return console.warn("THREE.Quaternion: .inverse() has been renamed to invert()."),this.invert()};gu.prototype.isIntersectionBox=function(n){return console.warn("THREE.Ray: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(n)};gu.prototype.isIntersectionPlane=function(n){return console.warn("THREE.Ray: .isIntersectionPlane() has been renamed to .intersectsPlane()."),this.intersectsPlane(n)};gu.prototype.isIntersectionSphere=function(n){return console.warn("THREE.Ray: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(n)};ai.prototype.area=function(){return console.warn("THREE.Triangle: .area() has been renamed to .getArea()."),this.getArea()};ai.prototype.barycoordFromPoint=function(n,e){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),this.getBarycoord(n,e)};ai.prototype.midpoint=function(n){return console.warn("THREE.Triangle: .midpoint() has been renamed to .getMidpoint()."),this.getMidpoint(n)};ai.prototypenormal=function(n){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),this.getNormal(n)};ai.prototype.plane=function(n){return console.warn("THREE.Triangle: .plane() has been renamed to .getPlane()."),this.getPlane(n)};ai.barycoordFromPoint=function(n,e,t,i,r){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),ai.getBarycoord(n,e,t,i,r)};ai.normal=function(n,e,t,i){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),ai.getNormal(n,e,t,i)};Pw.prototype.extractAllPoints=function(n){return console.warn("THREE.Shape: .extractAllPoints() has been removed. Use .extractPoints() instead."),this.extractPoints(n)};Pw.prototype.extrude=function(n){return console.warn("THREE.Shape: .extrude() has been removed. Use ExtrudeGeometry() instead."),new _g(this,n)};Pw.prototype.makeGeometry=function(n){return console.warn("THREE.Shape: .makeGeometry() has been removed. Use ShapeGeometry() instead."),new kye(this,n)};qe.prototype.fromAttribute=function(n,e,t){return console.warn("THREE.Vector2: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(n,e,t)};qe.prototype.distanceToManhattan=function(n){return console.warn("THREE.Vector2: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(n)};qe.prototype.lengthManhattan=function(){return console.warn("THREE.Vector2: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()};me.prototype.setEulerFromRotationMatrix=function(){console.error("THREE.Vector3: .setEulerFromRotationMatrix() has been removed. Use Euler.setFromRotationMatrix() instead.")};me.prototype.setEulerFromQuaternion=function(){console.error("THREE.Vector3: .setEulerFromQuaternion() has been removed. Use Euler.setFromQuaternion() instead.")};me.prototype.getPositionFromMatrix=function(n){return console.warn("THREE.Vector3: .getPositionFromMatrix() has been renamed to .setFromMatrixPosition()."),this.setFromMatrixPosition(n)};me.prototype.getScaleFromMatrix=function(n){return console.warn("THREE.Vector3: .getScaleFromMatrix() has been renamed to .setFromMatrixScale()."),this.setFromMatrixScale(n)};me.prototype.getColumnFromMatrix=function(n,e){return console.warn("THREE.Vector3: .getColumnFromMatrix() has been renamed to .setFromMatrixColumn()."),this.setFromMatrixColumn(e,n)};me.prototype.applyProjection=function(n){return console.warn("THREE.Vector3: .applyProjection() has been removed. Use .applyMatrix4( m ) instead."),this.applyMatrix4(n)};me.prototype.fromAttribute=function(n,e,t){return console.warn("THREE.Vector3: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(n,e,t)};me.prototype.distanceToManhattan=function(n){return console.warn("THREE.Vector3: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(n)};me.prototype.lengthManhattan=function(){return console.warn("THREE.Vector3: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()};un.prototype.fromAttribute=function(n,e,t){return console.warn("THREE.Vector4: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(n,e,t)};un.prototype.lengthManhattan=function(){return console.warn("THREE.Vector4: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()};rn.prototype.getChildByName=function(n){return console.warn("THREE.Object3D: .getChildByName() has been renamed to .getObjectByName()."),this.getObjectByName(n)};rn.prototype.renderDepth=function(){console.warn("THREE.Object3D: .renderDepth has been removed. Use .renderOrder, instead.")};rn.prototype.translate=function(n,e){return console.warn("THREE.Object3D: .translate() has been removed. Use .translateOnAxis( axis, distance ) instead."),this.translateOnAxis(e,n)};rn.prototype.getWorldRotation=function(){console.error("THREE.Object3D: .getWorldRotation() has been removed. Use THREE.Object3D.getWorldQuaternion( target ) instead.")};rn.prototype.applyMatrix=function(n){return console.warn("THREE.Object3D: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(n)};Object.defineProperties(rn.prototype,{eulerOrder:{get:function(){return console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order},set:function(n){console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order=n}},useQuaternion:{get:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")},set:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")}}});x0.prototype.setDrawMode=function(){console.error("THREE.Mesh: .setDrawMode() has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.")};Object.defineProperties(x0.prototype,{drawMode:{get:function(){return console.error("THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode."),M8e},set:function(){console.error("THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.")}}});pH.prototype.initBones=function(){console.error("THREE.SkinnedMesh: initBones() has been removed.")};ls.prototype.setLens=function(n,e){console.warn("THREE.PerspectiveCamera.setLens is deprecated. Use .setFocalLength and .filmGauge for a photographic setup."),e!==void 0&&(this.filmGauge=e),this.setFocalLength(n)};Object.defineProperties(so.prototype,{onlyShadow:{set:function(){console.warn("THREE.Light: .onlyShadow has been removed.")}},shadowCameraFov:{set:function(n){console.warn("THREE.Light: .shadowCameraFov is now .shadow.camera.fov."),this.shadow.camera.fov=n}},shadowCameraLeft:{set:function(n){console.warn("THREE.Light: .shadowCameraLeft is now .shadow.camera.left."),this.shadow.camera.left=n}},shadowCameraRight:{set:function(n){console.warn("THREE.Light: .shadowCameraRight is now .shadow.camera.right."),this.shadow.camera.right=n}},shadowCameraTop:{set:function(n){console.warn("THREE.Light: .shadowCameraTop is now .shadow.camera.top."),this.shadow.camera.top=n}},shadowCameraBottom:{set:function(n){console.warn("THREE.Light: .shadowCameraBottom is now .shadow.camera.bottom."),this.shadow.camera.bottom=n}},shadowCameraNear:{set:function(n){console.warn("THREE.Light: .shadowCameraNear is now .shadow.camera.near."),this.shadow.camera.near=n}},shadowCameraFar:{set:function(n){console.warn("THREE.Light: .shadowCameraFar is now .shadow.camera.far."),this.shadow.camera.far=n}},shadowCameraVisible:{set:function(){console.warn("THREE.Light: .shadowCameraVisible has been removed. Use new THREE.CameraHelper( light.shadow.camera ) instead.")}},shadowBias:{set:function(n){console.warn("THREE.Light: .shadowBias is now .shadow.bias."),this.shadow.bias=n}},shadowDarkness:{set:function(){console.warn("THREE.Light: .shadowDarkness has been removed.")}},shadowMapWidth:{set:function(n){console.warn("THREE.Light: .shadowMapWidth is now .shadow.mapSize.width."),this.shadow.mapSize.width=n}},shadowMapHeight:{set:function(n){console.warn("THREE.Light: .shadowMapHeight is now .shadow.mapSize.height."),this.shadow.mapSize.height=n}}});Object.defineProperties(wn.prototype,{length:{get:function(){return console.warn("THREE.BufferAttribute: .length has been deprecated. Use .count instead."),this.array.length}},dynamic:{get:function(){return console.warn("THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead."),this.usage===V5},set:function(){console.warn("THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead."),this.setUsage(V5)}}});wn.prototype.setDynamic=function(n){return console.warn("THREE.BufferAttribute: .setDynamic() has been deprecated. Use .setUsage() instead."),this.setUsage(n===!0?V5:m2),this};wn.prototype.copyIndicesArray=function(){console.error("THREE.BufferAttribute: .copyIndicesArray() has been removed.")},wn.prototype.setArray=function(){console.error("THREE.BufferAttribute: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers")};Mn.prototype.addIndex=function(n){console.warn("THREE.BufferGeometry: .addIndex() has been renamed to .setIndex()."),this.setIndex(n)};Mn.prototype.addAttribute=function(n,e){return console.warn("THREE.BufferGeometry: .addAttribute() has been renamed to .setAttribute()."),!(e&&e.isBufferAttribute)&&!(e&&e.isInterleavedBufferAttribute)?(console.warn("THREE.BufferGeometry: .addAttribute() now expects ( name, attribute )."),this.setAttribute(n,new wn(arguments[1],arguments[2]))):n==="index"?(console.warn("THREE.BufferGeometry.addAttribute: Use .setIndex() for index attribute."),this.setIndex(e),this):this.setAttribute(n,e)};Mn.prototype.addDrawCall=function(n,e,t){t!==void 0&&console.warn("THREE.BufferGeometry: .addDrawCall() no longer supports indexOffset."),console.warn("THREE.BufferGeometry: .addDrawCall() is now .addGroup()."),this.addGroup(n,e)};Mn.prototype.clearDrawCalls=function(){console.warn("THREE.BufferGeometry: .clearDrawCalls() is now .clearGroups()."),this.clearGroups()};Mn.prototype.computeOffsets=function(){console.warn("THREE.BufferGeometry: .computeOffsets() has been removed.")};Mn.prototype.removeAttribute=function(n){return console.warn("THREE.BufferGeometry: .removeAttribute() has been renamed to .deleteAttribute()."),this.deleteAttribute(n)};Mn.prototype.applyMatrix=function(n){return console.warn("THREE.BufferGeometry: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(n)};Object.defineProperties(Mn.prototype,{drawcalls:{get:function(){return console.error("THREE.BufferGeometry: .drawcalls has been renamed to .groups."),this.groups}},offsets:{get:function(){return console.warn("THREE.BufferGeometry: .offsets has been renamed to .groups."),this.groups}}});M2.prototype.setDynamic=function(n){return console.warn("THREE.InterleavedBuffer: .setDynamic() has been deprecated. Use .setUsage() instead."),this.setUsage(n===!0?V5:m2),this};M2.prototype.setArray=function(){console.error("THREE.InterleavedBuffer: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers")};_g.prototype.getArrays=function(){console.error("THREE.ExtrudeGeometry: .getArrays() has been removed.")};_g.prototype.addShapeList=function(){console.error("THREE.ExtrudeGeometry: .addShapeList() has been removed.")};_g.prototype.addShape=function(){console.error("THREE.ExtrudeGeometry: .addShape() has been removed.")};sH.prototype.dispose=function(){console.error("THREE.Scene: .dispose() has been removed.")};Object.defineProperties(Ji.prototype,{wrapAround:{get:function(){console.warn("THREE.Material: .wrapAround has been removed.")},set:function(){console.warn("THREE.Material: .wrapAround has been removed.")}},overdraw:{get:function(){console.warn("THREE.Material: .overdraw has been removed.")},set:function(){console.warn("THREE.Material: .overdraw has been removed.")}},wrapRGB:{get:function(){return console.warn("THREE.Material: .wrapRGB has been removed."),new ht}},shading:{get:function(){console.error("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead.")},set:function(n){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=n===Hz}},stencilMask:{get:function(){return console.warn("THREE."+this.type+": .stencilMask has been removed. Use .stencilFuncMask instead."),this.stencilFuncMask},set:function(n){console.warn("THREE."+this.type+": .stencilMask has been removed. Use .stencilFuncMask instead."),this.stencilFuncMask=n}}});Object.defineProperties(yl.prototype,{derivatives:{get:function(){return console.warn("THREE.ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives},set:function(n){console.warn("THREE. ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives=n}}});mn.prototype.clearTarget=function(n,e,t,i){console.warn("THREE.WebGLRenderer: .clearTarget() has been deprecated. Use .setRenderTarget() and .clear() instead."),this.setRenderTarget(n),this.clear(e,t,i)};mn.prototype.animate=function(n){console.warn("THREE.WebGLRenderer: .animate() is now .setAnimationLoop()."),this.setAnimationLoop(n)};mn.prototype.getCurrentRenderTarget=function(){return console.warn("THREE.WebGLRenderer: .getCurrentRenderTarget() is now .getRenderTarget()."),this.getRenderTarget()};mn.prototype.getMaxAnisotropy=function(){return console.warn("THREE.WebGLRenderer: .getMaxAnisotropy() is now .capabilities.getMaxAnisotropy()."),this.capabilities.getMaxAnisotropy()};mn.prototype.getPrecision=function(){return console.warn("THREE.WebGLRenderer: .getPrecision() is now .capabilities.precision."),this.capabilities.precision};mn.prototype.resetGLState=function(){return console.warn("THREE.WebGLRenderer: .resetGLState() is now .state.reset()."),this.state.reset()};mn.prototype.supportsFloatTextures=function(){return console.warn("THREE.WebGLRenderer: .supportsFloatTextures() is now .extensions.get( 'OES_texture_float' )."),this.extensions.get("OES_texture_float")};mn.prototype.supportsHalfFloatTextures=function(){return console.warn("THREE.WebGLRenderer: .supportsHalfFloatTextures() is now .extensions.get( 'OES_texture_half_float' )."),this.extensions.get("OES_texture_half_float")};mn.prototype.supportsStandardDerivatives=function(){return console.warn("THREE.WebGLRenderer: .supportsStandardDerivatives() is now .extensions.get( 'OES_standard_derivatives' )."),this.extensions.get("OES_standard_derivatives")};mn.prototype.supportsCompressedTextureS3TC=function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTextureS3TC() is now .extensions.get( 'WEBGL_compressed_texture_s3tc' )."),this.extensions.get("WEBGL_compressed_texture_s3tc")};mn.prototype.supportsCompressedTexturePVRTC=function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTexturePVRTC() is now .extensions.get( 'WEBGL_compressed_texture_pvrtc' )."),this.extensions.get("WEBGL_compressed_texture_pvrtc")};mn.prototype.supportsBlendMinMax=function(){return console.warn("THREE.WebGLRenderer: .supportsBlendMinMax() is now .extensions.get( 'EXT_blend_minmax' )."),this.extensions.get("EXT_blend_minmax")};mn.prototype.supportsVertexTextures=function(){return console.warn("THREE.WebGLRenderer: .supportsVertexTextures() is now .capabilities.vertexTextures."),this.capabilities.vertexTextures};mn.prototype.supportsInstancedArrays=function(){return console.warn("THREE.WebGLRenderer: .supportsInstancedArrays() is now .extensions.get( 'ANGLE_instanced_arrays' )."),this.extensions.get("ANGLE_instanced_arrays")};mn.prototype.enableScissorTest=function(n){console.warn("THREE.WebGLRenderer: .enableScissorTest() is now .setScissorTest()."),this.setScissorTest(n)};mn.prototype.initMaterial=function(){console.warn("THREE.WebGLRenderer: .initMaterial() has been removed.")};mn.prototype.addPrePlugin=function(){console.warn("THREE.WebGLRenderer: .addPrePlugin() has been removed.")};mn.prototype.addPostPlugin=function(){console.warn("THREE.WebGLRenderer: .addPostPlugin() has been removed.")};mn.prototype.updateShadowMap=function(){console.warn("THREE.WebGLRenderer: .updateShadowMap() has been removed.")};mn.prototype.setFaceCulling=function(){console.warn("THREE.WebGLRenderer: .setFaceCulling() has been removed.")};mn.prototype.allocTextureUnit=function(){console.warn("THREE.WebGLRenderer: .allocTextureUnit() has been removed.")};mn.prototype.setTexture=function(){console.warn("THREE.WebGLRenderer: .setTexture() has been removed.")};mn.prototype.setTexture2D=function(){console.warn("THREE.WebGLRenderer: .setTexture2D() has been removed.")};mn.prototype.setTextureCube=function(){console.warn("THREE.WebGLRenderer: .setTextureCube() has been removed.")};mn.prototype.getActiveMipMapLevel=function(){return console.warn("THREE.WebGLRenderer: .getActiveMipMapLevel() is now .getActiveMipmapLevel()."),this.getActiveMipmapLevel()};Object.defineProperties(mn.prototype,{shadowMapEnabled:{get:function(){return this.shadowMap.enabled},set:function(n){console.warn("THREE.WebGLRenderer: .shadowMapEnabled is now .shadowMap.enabled."),this.shadowMap.enabled=n}},shadowMapType:{get:function(){return this.shadowMap.type},set:function(n){console.warn("THREE.WebGLRenderer: .shadowMapType is now .shadowMap.type."),this.shadowMap.type=n}},shadowMapCullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")}},context:{get:function(){return console.warn("THREE.WebGLRenderer: .context has been removed. Use .getContext() instead."),this.getContext()}},vr:{get:function(){return console.warn("THREE.WebGLRenderer: .vr has been renamed to .xr"),this.xr}},gammaInput:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead."),!1},set:function(){console.warn("THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead.")}},gammaOutput:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead."),!1},set:function(n){console.warn("THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead."),this.outputEncoding=n===!0?fk:p2}},toneMappingWhitePoint:{get:function(){return console.warn("THREE.WebGLRenderer: .toneMappingWhitePoint has been removed."),1},set:function(){console.warn("THREE.WebGLRenderer: .toneMappingWhitePoint has been removed.")}}});Object.defineProperties(iH.prototype,{cullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")}},renderReverseSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")}},renderSingleSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")}}});Object.defineProperties(Zo.prototype,{wrapS:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS},set:function(n){console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS=n}},wrapT:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT},set:function(n){console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT=n}},magFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter},set:function(n){console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter=n}},minFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter},set:function(n){console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter=n}},anisotropy:{get:function(){return console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy},set:function(n){console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy=n}},offset:{get:function(){return console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset},set:function(n){console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset=n}},repeat:{get:function(){return console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat},set:function(n){console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat=n}},format:{get:function(){return console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format},set:function(n){console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format=n}},type:{get:function(){return console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type},set:function(n){console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type=n}},generateMipmaps:{get:function(){return console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps},set:function(n){console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps=n}}});R_e.prototype.load=function(n){console.warn("THREE.Audio: .load has been deprecated. Use THREE.AudioLoader instead.");const e=this;return new L_e().load(n,function(i){e.setBuffer(i)}),this};hw.prototype.updateCubeMap=function(n,e){return console.warn("THREE.CubeCamera: .updateCubeMap() is now .update()."),this.update(n,e)};hw.prototype.clear=function(n,e,t,i){return console.warn("THREE.CubeCamera: .clear() is now .renderTarget.clear()."),this.renderTarget.clear(n,e,t,i)};Hh.crossOrigin=void 0;Hh.loadTexture=function(n,e,t,i){console.warn("THREE.ImageUtils.loadTexture has been deprecated. Use THREE.TextureLoader() instead.");const r=new o_e;r.setCrossOrigin(this.crossOrigin);const s=r.load(n,t,void 0,i);return e&&(s.mapping=e),s};Hh.loadTextureCube=function(n,e,t,i){console.warn("THREE.ImageUtils.loadTextureCube has been deprecated. Use THREE.CubeTextureLoader() instead.");const r=new s_e;r.setCrossOrigin(this.crossOrigin);const s=r.load(n,t,void 0,i);return e&&(s.mapping=e),s};Hh.loadCompressedTexture=function(){console.error("THREE.ImageUtils.loadCompressedTexture has been removed. Use THREE.DDSLoader instead.")};Hh.loadCompressedTextureCube=function(){console.error("THREE.ImageUtils.loadCompressedTextureCube has been removed. Use THREE.DDSLoader instead.")};typeof __THREE_DEVTOOLS__!="undefined"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:Uz}}));typeof window!="undefined"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=Uz);function Z_e(n,e){const t=new pt,i=new gu,r=new mu,s=new me,o=this.geometry;if(r.copy(o.boundingSphere),r.applyMatrix4(this.matrixWorld),n.ray.intersectSphere(r,s)===!1)return;t.getInverse(this.matrixWorld),i.copy(n.ray).applyMatrix4(t);const a=new me,l=new me,c=new me,u=this instanceof pg?2:1,f=o.index,h=o.attributes;if(f!==null){const d=f.array,m=h.position.array,v=h.width.array;for(let _=0,g=d.length-1;_<g;_+=u){const x=d[_],b=d[_+1];a.fromArray(m,3*x),l.fromArray(m,3*b);const w=v[Math.floor(_/3)]!=null?v[Math.floor(_/3)]:1,S=n.params.Line.threshold+this.material.lineWidth*w/2,A=S*S;if(i.distanceSqToSegment(a,l,s,c)>A)continue;s.applyMatrix4(this.matrixWorld);const T=n.ray.origin.distanceTo(s);T<n.near||T>n.far||(e.push({distance:T,point:c.clone().applyMatrix4(this.matrixWorld),index:_,face:null,faceIndex:null,object:this}),_=g)}}}function Bw(n,e,t,i,r){let s;if(n=n.subarray||n.slice?n:n.buffer,t=t.subarray||t.slice?t:t.buffer,n=e?n.subarray?n.subarray(e,r&&e+r):n.slice(e,r&&e+r):n,t.set)t.set(n,i);else for(s=0;s<n.length;s++)t[s+i]=n[s];return t}class Nwe extends Mn{constructor(){super(),this.type="MeshLine",this.isMeshLine=!0,this.positions=[],this.raycast=Z_e,this.previous=[],this.next=[],this.side=[],this.width=[],this.indices_array=[],this.uvs=[],this.counters=[],this._points=[],this._geom=null,this.widthCallback=null,this.matrixWorld=new pt,Object.defineProperties(this,{geometry:{enumerable:!0,get(){return this}},geom:{enumerable:!0,get(){return this._geom},set(e){this.setGeometry(e,this.widthCallback)}},points:{enumerable:!0,get(){return this._points},set(e){this.setPoints(e,this.widthCallback)}}})}setMatrixWorld(e){this.matrixWorld=e}setGeometry(e,t){this._geometry=e,e instanceof Mn?this.setPoints(e.getAttribute("position").array,t):this.setPoints(e,t)}setPoints(e,t){if(e instanceof Float32Array||e instanceof Array){if(this._points=e,this.widthCallback=t,this.positions=[],this.counters=[],e.length&&e[0]instanceof me)for(var i=0;i<e.length;i++){const s=e[i];var r=i/e.length;this.positions.push(s.x,s.y,s.z),this.positions.push(s.x,s.y,s.z),this.counters.push(r),this.counters.push(r)}else for(i=0;i<e.length;i+=3)r=i/e.length,this.positions.push(e[i],e[i+1],e[i+2]),this.positions.push(e[i],e[i+1],e[i+2]),this.counters.push(r),this.counters.push(r);this.process()}else console.error("ERROR: The BufferArray of points is not instancied correctly.")}compareV3(e,t){const i=6*e,r=6*t;return this.positions[i]===this.positions[r]&&this.positions[i+1]===this.positions[r+1]&&this.positions[i+2]===this.positions[r+2]}copyV3(e){const t=6*e;return[this.positions[t],this.positions[t+1],this.positions[t+2]]}process(){const e=this.positions.length/6;let t,i;this.previous=[],this.next=[],this.side=[],this.width=[],this.indices_array=[],this.uvs=[],i=this.compareV3(0,e-1)?this.copyV3(e-2):this.copyV3(0),this.previous.push(i[0],i[1],i[2]),this.previous.push(i[0],i[1],i[2]);for(let r=0;r<e;r++){if(this.side.push(1),this.side.push(-1),t=this.widthCallback?this.widthCallback(r/(e-1)):1,this.width.push(t),this.width.push(t),this.uvs.push(r/(e-1),0),this.uvs.push(r/(e-1),1),r<e-1){i=this.copyV3(r),this.previous.push(i[0],i[1],i[2]),this.previous.push(i[0],i[1],i[2]);const s=2*r;this.indices_array.push(s,s+1,s+2),this.indices_array.push(s+2,s+1,s+3)}r>0&&(i=this.copyV3(r),this.next.push(i[0],i[1],i[2]),this.next.push(i[0],i[1],i[2]))}i=this.compareV3(e-1,0)?this.copyV3(1):this.copyV3(e-1),this.next.push(i[0],i[1],i[2]),this.next.push(i[0],i[1],i[2]),this._attributes&&this._attributes.position.count===this.positions.length?(this._attributes.position.copyArray(new Float32Array(this.positions)),this._attributes.position.needsUpdate=!0,this._attributes.previous.copyArray(new Float32Array(this.previous)),this._attributes.previous.needsUpdate=!0,this._attributes.next.copyArray(new Float32Array(this.next)),this._attributes.next.needsUpdate=!0,this._attributes.side.copyArray(new Float32Array(this.side)),this._attributes.side.needsUpdate=!0,this._attributes.width.copyArray(new Float32Array(this.width)),this._attributes.width.needsUpdate=!0,this._attributes.uv.copyArray(new Float32Array(this.uvs)),this._attributes.uv.needsUpdate=!0,this._attributes.index.copyArray(new Uint16Array(this.indices_array)),this._attributes.index.needsUpdate=!0):this._attributes={position:new wn(new Float32Array(this.positions),3),previous:new wn(new Float32Array(this.previous),3),next:new wn(new Float32Array(this.next),3),side:new wn(new Float32Array(this.side),1),width:new wn(new Float32Array(this.width),1),uv:new wn(new Float32Array(this.uvs),2),index:new wn(new Uint16Array(this.indices_array),1),counters:new wn(new Float32Array(this.counters),1)},this.setAttribute("position",this._attributes.position),this.setAttribute("previous",this._attributes.previous),this.setAttribute("next",this._attributes.next),this.setAttribute("side",this._attributes.side),this.setAttribute("width",this._attributes.width),this.setAttribute("uv",this._attributes.uv),this.setAttribute("counters",this._attributes.counters),this.setIndex(this._attributes.index),this.computeBoundingSphere(),this.computeBoundingBox()}advance({x:e,y:t,z:i}){const r=this._attributes.position.array,s=this._attributes.previous.array,o=this._attributes.next.array,a=r.length;Bw(r,0,s,0,a),Bw(r,6,r,0,a-6),r[a-6]=e,r[a-5]=t,r[a-4]=i,r[a-3]=e,r[a-2]=t,r[a-1]=i,Bw(r,6,o,0,a-6),o[a-6]=e,o[a-5]=t,o[a-4]=i,o[a-3]=e,o[a-2]=t,o[a-1]=i,this._attributes.position.needsUpdate=!0,this._attributes.previous.needsUpdate=!0,this._attributes.next.needsUpdate=!0}}yt.meshline_vert=["","#include <common>","",yt.logdepthbuf_pars_vertex,yt.fog_pars_vertex,"","attribute vec3 previous;","attribute vec3 next;","attribute float side;","attribute float width;","attribute float counters;","","uniform vec2 resolution;","uniform float lineWidth;","uniform vec3 color;","uniform float opacity;","uniform float sizeAttenuation;","","varying vec2 vUV;","varying vec4 vColor;","varying float vCounters;","","vec2 fix( vec4 i, float aspect ) {","","    vec2 res = i.xy / i.w;","    res.x *= aspect;","	 vCounters = counters;","    return res;","","}","","void main() {","","    float aspect = resolution.x / resolution.y;","","    vColor = vec4( color, opacity );","    vUV = uv;","","    mat4 m = projectionMatrix * modelViewMatrix;","    vec4 finalPosition = m * vec4( position, 1.0 );","    vec4 prevPos = m * vec4( previous, 1.0 );","    vec4 nextPos = m * vec4( next, 1.0 );","","    vec2 currentP = fix( finalPosition, aspect );","    vec2 prevP = fix( prevPos, aspect );","    vec2 nextP = fix( nextPos, aspect );","","    float w = lineWidth * width;","","    vec2 dir;","    if( nextP == currentP ) dir = normalize( currentP - prevP );","    else if( prevP == currentP ) dir = normalize( nextP - currentP );","    else {","        vec2 dir1 = normalize( currentP - prevP );","        vec2 dir2 = normalize( nextP - currentP );","        dir = normalize( dir1 + dir2 );","","        vec2 perp = vec2( -dir1.y, dir1.x );","        vec2 miter = vec2( -dir.y, dir.x );","        //w = clamp( w / dot( miter, perp ), 0., 4. * lineWidth * width );","","    }","","    //vec2 normal = ( cross( vec3( dir, 0. ), vec3( 0., 0., 1. ) ) ).xy;","    vec4 normal = vec4( -dir.y, dir.x, 0., 1. );","    normal.xy *= .5 * w;","    normal *= projectionMatrix;","    if( sizeAttenuation == 0. ) {","        normal.xy *= finalPosition.w;","        normal.xy /= ( vec4( resolution, 0., 1. ) * projectionMatrix ).xy;","    }","","    finalPosition.xy += normal.xy * side;","","    gl_Position = finalPosition;","",yt.logdepthbuf_vertex,yt.fog_vertex&&"    vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );",yt.fog_vertex,"}"].join(`
`),yt.meshline_frag=["",yt.fog_pars_fragment,yt.logdepthbuf_pars_fragment,"","uniform sampler2D map;","uniform sampler2D alphaMap;","uniform float useMap;","uniform float useAlphaMap;","uniform float useDash;","uniform float dashArray;","uniform float dashOffset;","uniform float dashRatio;","uniform float visibility;","uniform float alphaTest;","uniform vec2 repeat;","","varying vec2 vUV;","varying vec4 vColor;","varying float vCounters;","","void main() {","",yt.logdepthbuf_fragment,"","    vec4 c = vColor;","    if( useMap == 1. ) c *= texture2D( map, vUV * repeat );","    if( useAlphaMap == 1. ) c.a *= texture2D( alphaMap, vUV * repeat ).a;","    if( c.a < alphaTest ) discard;","    if( useDash == 1. ){","        c.a *= ceil(mod(vCounters + dashOffset, dashArray) - (dashArray * dashRatio));","    }","    gl_FragColor = c;","    gl_FragColor.a *= step(vCounters, visibility);","",yt.fog_fragment,"}"].join(`
`);class Owe extends yl{constructor(e){super({uniforms:Object.assign({},Je.fog,{lineWidth:{value:1},map:{value:null},useMap:{value:0},alphaMap:{value:null},useAlphaMap:{value:0},color:{value:new ht(16777215)},opacity:{value:1},resolution:{value:new qe(1,1)},sizeAttenuation:{value:1},dashArray:{value:0},dashOffset:{value:0},dashRatio:{value:.5},useDash:{value:0},visibility:{value:1},alphaTest:{value:0},repeat:{value:new qe(1,1)}}),vertexShader:yt.meshline_vert,fragmentShader:yt.meshline_frag}),this.type="MeshLineMaterial",Object.defineProperties(this,{lineWidth:{enumerable:!0,get(){return this.uniforms.lineWidth.value},set(t){this.uniforms.lineWidth.value=t}},map:{enumerable:!0,get(){return this.uniforms.map.value},set(t){this.uniforms.map.value=t}},useMap:{enumerable:!0,get(){return this.uniforms.useMap.value},set(t){this.uniforms.useMap.value=t}},alphaMap:{enumerable:!0,get(){return this.uniforms.alphaMap.value},set(t){this.uniforms.alphaMap.value=t}},useAlphaMap:{enumerable:!0,get(){return this.uniforms.useAlphaMap.value},set(t){this.uniforms.useAlphaMap.value=t}},color:{enumerable:!0,get(){return this.uniforms.color.value},set(t){this.uniforms.color.value=t}},opacity:{enumerable:!0,get(){return this.uniforms.opacity.value},set(t){this.uniforms.opacity.value=t}},resolution:{enumerable:!0,get(){return this.uniforms.resolution.value},set(t){this.uniforms.resolution.value.copy(t)}},sizeAttenuation:{enumerable:!0,get(){return this.uniforms.sizeAttenuation.value},set(t){this.uniforms.sizeAttenuation.value=t}},dashArray:{enumerable:!0,get(){return this.uniforms.dashArray.value},set(t){this.uniforms.dashArray.value=t,this.useDash=t!==0?1:0}},dashOffset:{enumerable:!0,get(){return this.uniforms.dashOffset.value},set(t){this.uniforms.dashOffset.value=t}},dashRatio:{enumerable:!0,get(){return this.uniforms.dashRatio.value},set(t){this.uniforms.dashRatio.value=t}},useDash:{enumerable:!0,get(){return this.uniforms.useDash.value},set(t){this.uniforms.useDash.value=t}},visibility:{enumerable:!0,get(){return this.uniforms.visibility.value},set(t){this.uniforms.visibility.value=t}},alphaTest:{enumerable:!0,get(){return this.uniforms.alphaTest.value},set(t){this.uniforms.alphaTest.value=t}},repeat:{enumerable:!0,get(){return this.uniforms.repeat.value},set(t){this.uniforms.repeat.value.copy(t)}}}),this.setValues(e)}copy(e){return super.copy(e),this.lineWidth=e.lineWidth,this.map=e.map,this.useMap=e.useMap,this.alphaMap=e.alphaMap,this.useAlphaMap=e.useAlphaMap,this.color.copy(e.color),this.opacity=e.opacity,this.resolution.copy(e.resolution),this.sizeAttenuation=e.sizeAttenuation,this.dashArray.copy(e.dashArray),this.dashOffset.copy(e.dashOffset),this.dashRatio.copy(e.dashRatio),this.useDash=e.useDash,this.visibility=e.visibility,this.alphaTest=e.alphaTest,this.repeat.copy(e.repeat),this}}function Q_e(n){if(!!n&&typeof window!="undefined"){var e=document.createElement("style");return e.setAttribute("type","text/css"),e.innerHTML=n,document.head.appendChild(e),n}}function fd(n,e){var t=n.__state.conversionName.toString(),i=Math.round(n.r),r=Math.round(n.g),s=Math.round(n.b),o=n.a,a=Math.round(n.h),l=n.s.toFixed(1),c=n.v.toFixed(1);if(e||t==="THREE_CHAR_HEX"||t==="SIX_CHAR_HEX"){for(var u=n.hex.toString(16);u.length<6;)u="0"+u;return"#"+u}else{if(t==="CSS_RGB")return"rgb("+i+","+r+","+s+")";if(t==="CSS_RGBA")return"rgba("+i+","+r+","+s+","+o+")";if(t==="HEX")return"0x"+n.hex.toString(16);if(t==="RGB_ARRAY")return"["+i+","+r+","+s+"]";if(t==="RGBA_ARRAY")return"["+i+","+r+","+s+","+o+"]";if(t==="RGB_OBJ")return"{r:"+i+",g:"+r+",b:"+s+"}";if(t==="RGBA_OBJ")return"{r:"+i+",g:"+r+",b:"+s+",a:"+o+"}";if(t==="HSV_OBJ")return"{h:"+a+",s:"+l+",v:"+c+"}";if(t==="HSVA_OBJ")return"{h:"+a+",s:"+l+",v:"+c+",a:"+o+"}"}return"unknown format"}var QH=Array.prototype.forEach,B2=Array.prototype.slice,He={BREAK:{},extend:function(e){return this.each(B2.call(arguments,1),function(t){var i=this.isObject(t)?Object.keys(t):[];i.forEach(function(r){this.isUndefined(t[r])||(e[r]=t[r])}.bind(this))},this),e},defaults:function(e){return this.each(B2.call(arguments,1),function(t){var i=this.isObject(t)?Object.keys(t):[];i.forEach(function(r){this.isUndefined(e[r])&&(e[r]=t[r])}.bind(this))},this),e},compose:function(){var e=B2.call(arguments);return function(){for(var t=B2.call(arguments),i=e.length-1;i>=0;i--)t=[e[i].apply(this,t)];return t[0]}},each:function(e,t,i){if(!!e){if(QH&&e.forEach&&e.forEach===QH)e.forEach(t,i);else if(e.length===e.length+0){var r=void 0,s=void 0;for(r=0,s=e.length;r<s;r++)if(r in e&&t.call(i,e[r],r)===this.BREAK)return}else for(var o in e)if(t.call(i,e[o],o)===this.BREAK)return}},defer:function(e){setTimeout(e,0)},debounce:function(e,t,i){var r=void 0;return function(){var s=this,o=arguments;function a(){r=null,i||e.apply(s,o)}var l=i||!r;clearTimeout(r),r=setTimeout(a,t),l&&e.apply(s,o)}},toArray:function(e){return e.toArray?e.toArray():B2.call(e)},isUndefined:function(e){return e===void 0},isNull:function(e){return e===null},isNaN:function(n){function e(t){return n.apply(this,arguments)}return e.toString=function(){return n.toString()},e}(function(n){return isNaN(n)}),isArray:Array.isArray||function(n){return n.constructor===Array},isObject:function(e){return e===Object(e)},isNumber:function(e){return e===e+0},isString:function(e){return e===e+""},isBoolean:function(e){return e===!1||e===!0},isFunction:function(e){return e instanceof Function}},J_e=[{litmus:He.isString,conversions:{THREE_CHAR_HEX:{read:function(e){var t=e.match(/^#([A-F0-9])([A-F0-9])([A-F0-9])$/i);return t===null?!1:{space:"HEX",hex:parseInt("0x"+t[1].toString()+t[1].toString()+t[2].toString()+t[2].toString()+t[3].toString()+t[3].toString(),0)}},write:fd},SIX_CHAR_HEX:{read:function(e){var t=e.match(/^#([A-F0-9]{6})$/i);return t===null?!1:{space:"HEX",hex:parseInt("0x"+t[1].toString(),0)}},write:fd},CSS_RGB:{read:function(e){var t=e.match(/^rgb\(\s*(.+)\s*,\s*(.+)\s*,\s*(.+)\s*\)/);return t===null?!1:{space:"RGB",r:parseFloat(t[1]),g:parseFloat(t[2]),b:parseFloat(t[3])}},write:fd},CSS_RGBA:{read:function(e){var t=e.match(/^rgba\(\s*(.+)\s*,\s*(.+)\s*,\s*(.+)\s*,\s*(.+)\s*\)/);return t===null?!1:{space:"RGB",r:parseFloat(t[1]),g:parseFloat(t[2]),b:parseFloat(t[3]),a:parseFloat(t[4])}},write:fd}}},{litmus:He.isNumber,conversions:{HEX:{read:function(e){return{space:"HEX",hex:e,conversionName:"HEX"}},write:function(e){return e.hex}}}},{litmus:He.isArray,conversions:{RGB_ARRAY:{read:function(e){return e.length!==3?!1:{space:"RGB",r:e[0],g:e[1],b:e[2]}},write:function(e){return[e.r,e.g,e.b]}},RGBA_ARRAY:{read:function(e){return e.length!==4?!1:{space:"RGB",r:e[0],g:e[1],b:e[2],a:e[3]}},write:function(e){return[e.r,e.g,e.b,e.a]}}}},{litmus:He.isObject,conversions:{RGBA_OBJ:{read:function(e){return He.isNumber(e.r)&&He.isNumber(e.g)&&He.isNumber(e.b)&&He.isNumber(e.a)?{space:"RGB",r:e.r,g:e.g,b:e.b,a:e.a}:!1},write:function(e){return{r:e.r,g:e.g,b:e.b,a:e.a}}},RGB_OBJ:{read:function(e){return He.isNumber(e.r)&&He.isNumber(e.g)&&He.isNumber(e.b)?{space:"RGB",r:e.r,g:e.g,b:e.b}:!1},write:function(e){return{r:e.r,g:e.g,b:e.b}}},HSVA_OBJ:{read:function(e){return He.isNumber(e.h)&&He.isNumber(e.s)&&He.isNumber(e.v)&&He.isNumber(e.a)?{space:"HSV",h:e.h,s:e.s,v:e.v,a:e.a}:!1},write:function(e){return{h:e.h,s:e.s,v:e.v,a:e.a}}},HSV_OBJ:{read:function(e){return He.isNumber(e.h)&&He.isNumber(e.s)&&He.isNumber(e.v)?{space:"HSV",h:e.h,s:e.s,v:e.v}:!1},write:function(e){return{h:e.h,s:e.s,v:e.v}}}}}],U2=void 0,Lg=void 0,Uw=function(){Lg=!1;var e=arguments.length>1?He.toArray(arguments):arguments[0];return He.each(J_e,function(t){if(t.litmus(e))return He.each(t.conversions,function(i,r){if(U2=i.read(e),Lg===!1&&U2!==!1)return Lg=U2,U2.conversionName=r,U2.conversion=i,He.BREAK}),He.BREAK}),Lg},JH=void 0,Cg={hsv_to_rgb:function(e,t,i){var r=Math.floor(e/60)%6,s=e/60-Math.floor(e/60),o=i*(1-t),a=i*(1-s*t),l=i*(1-(1-s)*t),c=[[i,l,o],[a,i,o],[o,i,l],[o,a,i],[l,o,i],[i,o,a]][r];return{r:c[0]*255,g:c[1]*255,b:c[2]*255}},rgb_to_hsv:function(e,t,i){var r=Math.min(e,t,i),s=Math.max(e,t,i),o=s-r,a=void 0,l=void 0;if(s!==0)l=o/s;else return{h:NaN,s:0,v:0};return e===s?a=(t-i)/o:t===s?a=2+(i-e)/o:a=4+(e-t)/o,a/=6,a<0&&(a+=1),{h:a*360,s:l,v:s/255}},rgb_to_hex:function(e,t,i){var r=this.hex_with_component(0,2,e);return r=this.hex_with_component(r,1,t),r=this.hex_with_component(r,0,i),r},component_from_hex:function(e,t){return e>>t*8&255},hex_with_component:function(e,t,i){return i<<(JH=t*8)|e&~(255<<JH)}},K_e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},_0=function(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")},b0=function(){function n(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,i){return t&&n(e.prototype,t),i&&n(e,i),e}}(),Tl=function n(e,t,i){e===null&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,t);if(r===void 0){var s=Object.getPrototypeOf(e);return s===null?void 0:n(s,t,i)}else{if("value"in r)return r.value;var o=r.get;return o===void 0?void 0:o.call(i)}},El=function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(n,e):n.__proto__=e)},Ll=function(n,e){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:n},Ti=function(){function n(){if(_0(this,n),this.__state=Uw.apply(this,arguments),this.__state===!1)throw new Error("Failed to interpret color arguments");this.__state.a=this.__state.a||1}return b0(n,[{key:"toString",value:function(){return fd(this)}},{key:"toHexString",value:function(){return fd(this,!0)}},{key:"toOriginal",value:function(){return this.__state.conversion.write(this)}}]),n}();function zw(n,e,t){Object.defineProperty(n,e,{get:function(){return this.__state.space==="RGB"?this.__state[e]:(Ti.recalculateRGB(this,e,t),this.__state[e])},set:function(r){this.__state.space!=="RGB"&&(Ti.recalculateRGB(this,e,t),this.__state.space="RGB"),this.__state[e]=r}})}function kw(n,e){Object.defineProperty(n,e,{get:function(){return this.__state.space==="HSV"?this.__state[e]:(Ti.recalculateHSV(this),this.__state[e])},set:function(i){this.__state.space!=="HSV"&&(Ti.recalculateHSV(this),this.__state.space="HSV"),this.__state[e]=i}})}Ti.recalculateRGB=function(n,e,t){if(n.__state.space==="HEX")n.__state[e]=Cg.component_from_hex(n.__state.hex,t);else if(n.__state.space==="HSV")He.extend(n.__state,Cg.hsv_to_rgb(n.__state.h,n.__state.s,n.__state.v));else throw new Error("Corrupted color state")};Ti.recalculateHSV=function(n){var e=Cg.rgb_to_hsv(n.r,n.g,n.b);He.extend(n.__state,{s:e.s,v:e.v}),He.isNaN(e.h)?He.isUndefined(n.__state.h)&&(n.__state.h=0):n.__state.h=e.h};Ti.COMPONENTS=["r","g","b","h","s","v","hex","a"];zw(Ti.prototype,"r",2);zw(Ti.prototype,"g",1);zw(Ti.prototype,"b",0);kw(Ti.prototype,"h");kw(Ti.prototype,"s");kw(Ti.prototype,"v");Object.defineProperty(Ti.prototype,"a",{get:function(){return this.__state.a},set:function(e){this.__state.a=e}});Object.defineProperty(Ti.prototype,"hex",{get:function(){return this.__state.space!=="HEX"&&(this.__state.hex=Cg.rgb_to_hex(this.r,this.g,this.b),this.__state.space="HEX"),this.__state.hex},set:function(e){this.__state.space="HEX",this.__state.hex=e}});var vu=function(){function n(e,t){_0(this,n),this.initialValue=e[t],this.domElement=document.createElement("div"),this.object=e,this.property=t,this.__onChange=void 0,this.__onFinishChange=void 0}return b0(n,[{key:"onChange",value:function(t){return this.__onChange=t,this}},{key:"onFinishChange",value:function(t){return this.__onFinishChange=t,this}},{key:"setValue",value:function(t){return this.object[this.property]=t,this.__onChange&&this.__onChange.call(this,t),this.updateDisplay(),this}},{key:"getValue",value:function(){return this.object[this.property]}},{key:"updateDisplay",value:function(){return this}},{key:"isModified",value:function(){return this.initialValue!==this.getValue()}}]),n}(),ebe={HTMLEvents:["change"],MouseEvents:["click","mousemove","mousedown","mouseup","mouseover"],KeyboardEvents:["keydown"]},KH={};He.each(ebe,function(n,e){He.each(n,function(t){KH[t]=e})});var tbe=/(\d+(\.\d+)?)px/;function oo(n){if(n==="0"||He.isUndefined(n))return 0;var e=n.match(tbe);return He.isNull(e)?0:parseFloat(e[1])}var Fe={makeSelectable:function(e,t){e===void 0||e.style===void 0||(e.onselectstart=t?function(){return!1}:function(){},e.style.MozUserSelect=t?"auto":"none",e.style.KhtmlUserSelect=t?"auto":"none",e.unselectable=t?"on":"off")},makeFullscreen:function(e,t,i){var r=i,s=t;He.isUndefined(s)&&(s=!0),He.isUndefined(r)&&(r=!0),e.style.position="absolute",s&&(e.style.left=0,e.style.right=0),r&&(e.style.top=0,e.style.bottom=0)},fakeEvent:function(e,t,i,r){var s=i||{},o=KH[t];if(!o)throw new Error("Event type "+t+" not supported.");var a=document.createEvent(o);switch(o){case"MouseEvents":{var l=s.x||s.clientX||0,c=s.y||s.clientY||0;a.initMouseEvent(t,s.bubbles||!1,s.cancelable||!0,window,s.clickCount||1,0,0,l,c,!1,!1,!1,!1,0,null);break}case"KeyboardEvents":{var u=a.initKeyboardEvent||a.initKeyEvent;He.defaults(s,{cancelable:!0,ctrlKey:!1,altKey:!1,shiftKey:!1,metaKey:!1,keyCode:void 0,charCode:void 0}),u(t,s.bubbles||!1,s.cancelable,window,s.ctrlKey,s.altKey,s.shiftKey,s.metaKey,s.keyCode,s.charCode);break}default:{a.initEvent(t,s.bubbles||!1,s.cancelable||!0);break}}He.defaults(a,r),e.dispatchEvent(a)},bind:function(e,t,i,r){var s=r||!1;return e.addEventListener?e.addEventListener(t,i,s):e.attachEvent&&e.attachEvent("on"+t,i),Fe},unbind:function(e,t,i,r){var s=r||!1;return e.removeEventListener?e.removeEventListener(t,i,s):e.detachEvent&&e.detachEvent("on"+t,i),Fe},addClass:function(e,t){if(e.className===void 0)e.className=t;else if(e.className!==t){var i=e.className.split(/ +/);i.indexOf(t)===-1&&(i.push(t),e.className=i.join(" ").replace(/^\s+/,"").replace(/\s+$/,""))}return Fe},removeClass:function(e,t){if(t)if(e.className===t)e.removeAttribute("class");else{var i=e.className.split(/ +/),r=i.indexOf(t);r!==-1&&(i.splice(r,1),e.className=i.join(" "))}else e.className=void 0;return Fe},hasClass:function(e,t){return new RegExp("(?:^|\\s+)"+t+"(?:\\s+|$)").test(e.className)||!1},getWidth:function(e){var t=getComputedStyle(e);return oo(t["border-left-width"])+oo(t["border-right-width"])+oo(t["padding-left"])+oo(t["padding-right"])+oo(t.width)},getHeight:function(e){var t=getComputedStyle(e);return oo(t["border-top-width"])+oo(t["border-bottom-width"])+oo(t["padding-top"])+oo(t["padding-bottom"])+oo(t.height)},getOffset:function(e){var t=e,i={left:0,top:0};if(t.offsetParent)do i.left+=t.offsetLeft,i.top+=t.offsetTop,t=t.offsetParent;while(t);return i},isActive:function(e){return e===document.activeElement&&(e.type||e.href)}},eG=function(n){El(e,n);function e(t,i){_0(this,e);var r=Ll(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,i)),s=r;r.__prev=r.getValue(),r.__checkbox=document.createElement("input"),r.__checkbox.setAttribute("type","checkbox");function o(){s.setValue(!s.__prev)}return Fe.bind(r.__checkbox,"change",o,!1),r.domElement.appendChild(r.__checkbox),r.updateDisplay(),r}return b0(e,[{key:"setValue",value:function(i){var r=Tl(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"setValue",this).call(this,i);return this.__onFinishChange&&this.__onFinishChange.call(this,this.getValue()),this.__prev=this.getValue(),r}},{key:"updateDisplay",value:function(){return this.getValue()===!0?(this.__checkbox.setAttribute("checked","checked"),this.__checkbox.checked=!0,this.__prev=!0):(this.__checkbox.checked=!1,this.__prev=!1),Tl(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"updateDisplay",this).call(this)}}]),e}(vu),nbe=function(n){El(e,n);function e(t,i,r){_0(this,e);var s=Ll(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,i)),o=r,a=s;if(s.__select=document.createElement("select"),He.isArray(o)){var l={};He.each(o,function(c){l[c]=c}),o=l}return He.each(o,function(c,u){var f=document.createElement("option");f.innerHTML=u,f.setAttribute("value",c),a.__select.appendChild(f)}),s.updateDisplay(),Fe.bind(s.__select,"change",function(){var c=this.options[this.selectedIndex].value;a.setValue(c)}),s.domElement.appendChild(s.__select),s}return b0(e,[{key:"setValue",value:function(i){var r=Tl(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"setValue",this).call(this,i);return this.__onFinishChange&&this.__onFinishChange.call(this,this.getValue()),r}},{key:"updateDisplay",value:function(){return Fe.isActive(this.__select)?this:(this.__select.value=this.getValue(),Tl(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"updateDisplay",this).call(this))}}]),e}(vu),ibe=function(n){El(e,n);function e(t,i){_0(this,e);var r=Ll(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,i)),s=r;function o(){s.setValue(s.__input.value)}function a(){s.__onFinishChange&&s.__onFinishChange.call(s,s.getValue())}return r.__input=document.createElement("input"),r.__input.setAttribute("type","text"),Fe.bind(r.__input,"keyup",o),Fe.bind(r.__input,"change",o),Fe.bind(r.__input,"blur",a),Fe.bind(r.__input,"keydown",function(l){l.keyCode===13&&this.blur()}),r.updateDisplay(),r.domElement.appendChild(r.__input),r}return b0(e,[{key:"updateDisplay",value:function(){return Fe.isActive(this.__input)||(this.__input.value=this.getValue()),Tl(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"updateDisplay",this).call(this)}}]),e}(vu);function tG(n){var e=n.toString();return e.indexOf(".")>-1?e.length-e.indexOf(".")-1:0}var nG=function(n){El(e,n);function e(t,i,r){_0(this,e);var s=Ll(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,i)),o=r||{};return s.__min=o.min,s.__max=o.max,s.__step=o.step,He.isUndefined(s.__step)?s.initialValue===0?s.__impliedStep=1:s.__impliedStep=Math.pow(10,Math.floor(Math.log(Math.abs(s.initialValue))/Math.LN10))/10:s.__impliedStep=s.__step,s.__precision=tG(s.__impliedStep),s}return b0(e,[{key:"setValue",value:function(i){var r=i;return this.__min!==void 0&&r<this.__min?r=this.__min:this.__max!==void 0&&r>this.__max&&(r=this.__max),this.__step!==void 0&&r%this.__step!=0&&(r=Math.round(r/this.__step)*this.__step),Tl(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"setValue",this).call(this,r)}},{key:"min",value:function(i){return this.__min=i,this}},{key:"max",value:function(i){return this.__max=i,this}},{key:"step",value:function(i){return this.__step=i,this.__impliedStep=i,this.__precision=tG(i),this}}]),e}(vu);function rbe(n,e){var t=Math.pow(10,e);return Math.round(n*t)/t}var Pg=function(n){El(e,n);function e(t,i,r){_0(this,e);var s=Ll(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,i,r));s.__truncationSuspended=!1;var o=s,a=void 0;function l(){var m=parseFloat(o.__input.value);He.isNaN(m)||o.setValue(m)}function c(){o.__onFinishChange&&o.__onFinishChange.call(o,o.getValue())}function u(){c()}function f(m){var v=a-m.clientY;o.setValue(o.getValue()+v*o.__impliedStep),a=m.clientY}function h(){Fe.unbind(window,"mousemove",f),Fe.unbind(window,"mouseup",h),c()}function d(m){Fe.bind(window,"mousemove",f),Fe.bind(window,"mouseup",h),a=m.clientY}return s.__input=document.createElement("input"),s.__input.setAttribute("type","text"),Fe.bind(s.__input,"change",l),Fe.bind(s.__input,"blur",u),Fe.bind(s.__input,"mousedown",d),Fe.bind(s.__input,"keydown",function(m){m.keyCode===13&&(o.__truncationSuspended=!0,this.blur(),o.__truncationSuspended=!1,c())}),s.updateDisplay(),s.domElement.appendChild(s.__input),s}return b0(e,[{key:"updateDisplay",value:function(){return this.__input.value=this.__truncationSuspended?this.getValue():rbe(this.getValue(),this.__precision),Tl(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"updateDisplay",this).call(this)}}]),e}(nG);function iG(n,e,t,i,r){return i+(r-i)*((n-e)/(t-e))}var Hw=function(n){El(e,n);function e(t,i,r,s,o){_0(this,e);var a=Ll(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,i,{min:r,max:s,step:o})),l=a;a.__background=document.createElement("div"),a.__foreground=document.createElement("div"),Fe.bind(a.__background,"mousedown",c),Fe.bind(a.__background,"touchstart",h),Fe.addClass(a.__background,"slider"),Fe.addClass(a.__foreground,"slider-fg");function c(v){document.activeElement.blur(),Fe.bind(window,"mousemove",u),Fe.bind(window,"mouseup",f),u(v)}function u(v){v.preventDefault();var _=l.__background.getBoundingClientRect();return l.setValue(iG(v.clientX,_.left,_.right,l.__min,l.__max)),!1}function f(){Fe.unbind(window,"mousemove",u),Fe.unbind(window,"mouseup",f),l.__onFinishChange&&l.__onFinishChange.call(l,l.getValue())}function h(v){v.touches.length===1&&(Fe.bind(window,"touchmove",d),Fe.bind(window,"touchend",m),d(v))}function d(v){var _=v.touches[0].clientX,g=l.__background.getBoundingClientRect();l.setValue(iG(_,g.left,g.right,l.__min,l.__max))}function m(){Fe.unbind(window,"touchmove",d),Fe.unbind(window,"touchend",m),l.__onFinishChange&&l.__onFinishChange.call(l,l.getValue())}return a.updateDisplay(),a.__background.appendChild(a.__foreground),a.domElement.appendChild(a.__background),a}return b0(e,[{key:"updateDisplay",value:function(){var i=(this.getValue()-this.__min)/(this.__max-this.__min);return this.__foreground.style.width=i*100+"%",Tl(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"updateDisplay",this).call(this)}}]),e}(nG),rG=function(n){El(e,n);function e(t,i,r){_0(this,e);var s=Ll(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,i)),o=s;return s.__button=document.createElement("div"),s.__button.innerHTML=r===void 0?"Fire":r,Fe.bind(s.__button,"click",function(a){return a.preventDefault(),o.fire(),!1}),Fe.addClass(s.__button,"button"),s.domElement.appendChild(s.__button),s}return b0(e,[{key:"fire",value:function(){this.__onChange&&this.__onChange.call(this),this.getValue().call(this.object),this.__onFinishChange&&this.__onFinishChange.call(this,this.getValue())}}]),e}(vu),Gw=function(n){El(e,n);function e(t,i){_0(this,e);var r=Ll(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,i));r.__color=new Ti(r.getValue()),r.__temp=new Ti(0);var s=r;r.domElement=document.createElement("div"),Fe.makeSelectable(r.domElement,!1),r.__selector=document.createElement("div"),r.__selector.className="selector",r.__saturation_field=document.createElement("div"),r.__saturation_field.className="saturation-field",r.__field_knob=document.createElement("div"),r.__field_knob.className="field-knob",r.__field_knob_border="2px solid ",r.__hue_knob=document.createElement("div"),r.__hue_knob.className="hue-knob",r.__hue_field=document.createElement("div"),r.__hue_field.className="hue-field",r.__input=document.createElement("input"),r.__input.type="text",r.__input_textShadow="0 1px 1px ",Fe.bind(r.__input,"keydown",function(v){v.keyCode===13&&f.call(this)}),Fe.bind(r.__input,"blur",f),Fe.bind(r.__selector,"mousedown",function(){Fe.addClass(this,"drag").bind(window,"mouseup",function(){Fe.removeClass(s.__selector,"drag")})}),Fe.bind(r.__selector,"touchstart",function(){Fe.addClass(this,"drag").bind(window,"touchend",function(){Fe.removeClass(s.__selector,"drag")})});var o=document.createElement("div");He.extend(r.__selector.style,{width:"122px",height:"102px",padding:"3px",backgroundColor:"#222",boxShadow:"0px 1px 3px rgba(0,0,0,0.3)"}),He.extend(r.__field_knob.style,{position:"absolute",width:"12px",height:"12px",border:r.__field_knob_border+(r.__color.v<.5?"#fff":"#000"),boxShadow:"0px 1px 3px rgba(0,0,0,0.5)",borderRadius:"12px",zIndex:1}),He.extend(r.__hue_knob.style,{position:"absolute",width:"15px",height:"2px",borderRight:"4px solid #fff",zIndex:1}),He.extend(r.__saturation_field.style,{width:"100px",height:"100px",border:"1px solid #555",marginRight:"3px",display:"inline-block",cursor:"pointer"}),He.extend(o.style,{width:"100%",height:"100%",background:"none"}),sG(o,"top","rgba(0,0,0,0)","#000"),He.extend(r.__hue_field.style,{width:"15px",height:"100px",border:"1px solid #555",cursor:"ns-resize",position:"absolute",top:"3px",right:"3px"}),obe(r.__hue_field),He.extend(r.__input.style,{outline:"none",textAlign:"center",color:"#fff",border:0,fontWeight:"bold",textShadow:r.__input_textShadow+"rgba(0,0,0,0.7)"}),Fe.bind(r.__saturation_field,"mousedown",a),Fe.bind(r.__saturation_field,"touchstart",a),Fe.bind(r.__field_knob,"mousedown",a),Fe.bind(r.__field_knob,"touchstart",a),Fe.bind(r.__hue_field,"mousedown",l),Fe.bind(r.__hue_field,"touchstart",l);function a(v){d(v),Fe.bind(window,"mousemove",d),Fe.bind(window,"touchmove",d),Fe.bind(window,"mouseup",c),Fe.bind(window,"touchend",c)}function l(v){m(v),Fe.bind(window,"mousemove",m),Fe.bind(window,"touchmove",m),Fe.bind(window,"mouseup",u),Fe.bind(window,"touchend",u)}function c(){Fe.unbind(window,"mousemove",d),Fe.unbind(window,"touchmove",d),Fe.unbind(window,"mouseup",c),Fe.unbind(window,"touchend",c),h()}function u(){Fe.unbind(window,"mousemove",m),Fe.unbind(window,"touchmove",m),Fe.unbind(window,"mouseup",u),Fe.unbind(window,"touchend",u),h()}function f(){var v=Uw(this.value);v!==!1?(s.__color.__state=v,s.setValue(s.__color.toOriginal())):this.value=s.__color.toString()}function h(){s.__onFinishChange&&s.__onFinishChange.call(s,s.__color.toOriginal())}r.__saturation_field.appendChild(o),r.__selector.appendChild(r.__field_knob),r.__selector.appendChild(r.__saturation_field),r.__selector.appendChild(r.__hue_field),r.__hue_field.appendChild(r.__hue_knob),r.domElement.appendChild(r.__input),r.domElement.appendChild(r.__selector),r.updateDisplay();function d(v){v.type.indexOf("touch")===-1&&v.preventDefault();var _=s.__saturation_field.getBoundingClientRect(),g=v.touches&&v.touches[0]||v,x=g.clientX,b=g.clientY,w=(x-_.left)/(_.right-_.left),S=1-(b-_.top)/(_.bottom-_.top);return S>1?S=1:S<0&&(S=0),w>1?w=1:w<0&&(w=0),s.__color.v=S,s.__color.s=w,s.setValue(s.__color.toOriginal()),!1}function m(v){v.type.indexOf("touch")===-1&&v.preventDefault();var _=s.__hue_field.getBoundingClientRect(),g=v.touches&&v.touches[0]||v,x=g.clientY,b=1-(x-_.top)/(_.bottom-_.top);return b>1?b=1:b<0&&(b=0),s.__color.h=b*360,s.setValue(s.__color.toOriginal()),!1}return r}return b0(e,[{key:"updateDisplay",value:function(){var i=Uw(this.getValue());if(i!==!1){var r=!1;He.each(Ti.COMPONENTS,function(a){if(!He.isUndefined(i[a])&&!He.isUndefined(this.__color.__state[a])&&i[a]!==this.__color.__state[a])return r=!0,{}},this),r&&He.extend(this.__color.__state,i)}He.extend(this.__temp.__state,this.__color.__state),this.__temp.a=1;var s=this.__color.v<.5||this.__color.s>.5?255:0,o=255-s;He.extend(this.__field_knob.style,{marginLeft:100*this.__color.s-7+"px",marginTop:100*(1-this.__color.v)-7+"px",backgroundColor:this.__temp.toHexString(),border:this.__field_knob_border+"rgb("+s+","+s+","+s+")"}),this.__hue_knob.style.marginTop=(1-this.__color.h/360)*100+"px",this.__temp.s=1,this.__temp.v=1,sG(this.__saturation_field,"left","#fff",this.__temp.toHexString()),this.__input.value=this.__color.toString(),He.extend(this.__input.style,{backgroundColor:this.__color.toHexString(),color:"rgb("+s+","+s+","+s+")",textShadow:this.__input_textShadow+"rgba("+o+","+o+","+o+",.7)"})}}]),e}(vu),sbe=["-moz-","-o-","-webkit-","-ms-",""];function sG(n,e,t,i){n.style.background="",He.each(sbe,function(r){n.style.cssText+="background: "+r+"linear-gradient("+e+", "+t+" 0%, "+i+" 100%); "})}function obe(n){n.style.background="",n.style.cssText+="background: -moz-linear-gradient(top,  #ff0000 0%, #ff00ff 17%, #0000ff 34%, #00ffff 50%, #00ff00 67%, #ffff00 84%, #ff0000 100%);",n.style.cssText+="background: -webkit-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);",n.style.cssText+="background: -o-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);",n.style.cssText+="background: -ms-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);",n.style.cssText+="background: linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);"}var abe={load:function(e,t){var i=t||document,r=i.createElement("link");r.type="text/css",r.rel="stylesheet",r.href=e,i.getElementsByTagName("head")[0].appendChild(r)},inject:function(e,t){var i=t||document,r=document.createElement("style");r.type="text/css",r.innerHTML=e;var s=i.getElementsByTagName("head")[0];try{s.appendChild(r)}catch{}}},lbe=`<div id="dg-save" class="dg dialogue">

  Here's the new load parameter for your <code>GUI</code>'s constructor:

  <textarea id="dg-new-constructor"></textarea>

  <div id="dg-save-locally">

    <input id="dg-local-storage" type="checkbox"/> Automatically save
    values to <code>localStorage</code> on exit.

    <div id="dg-local-explain">The values saved to <code>localStorage</code> will
      override those passed to <code>dat.GUI</code>'s constructor. This makes it
      easier to work incrementally, but <code>localStorage</code> is fragile,
      and your friends may not see the same values you do.

    </div>

  </div>

</div>`,cbe=function(e,t){var i=e[t];return He.isArray(arguments[2])||He.isObject(arguments[2])?new nbe(e,t,arguments[2]):He.isNumber(i)?He.isNumber(arguments[2])&&He.isNumber(arguments[3])?He.isNumber(arguments[4])?new Hw(e,t,arguments[2],arguments[3],arguments[4]):new Hw(e,t,arguments[2],arguments[3]):He.isNumber(arguments[4])?new Pg(e,t,{min:arguments[2],max:arguments[3],step:arguments[4]}):new Pg(e,t,{min:arguments[2],max:arguments[3]}):He.isString(i)?new ibe(e,t):He.isFunction(i)?new rG(e,t,""):He.isBoolean(i)?new eG(e,t):null};function ube(n){setTimeout(n,1e3/60)}var fbe=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||ube,hbe=function(){function n(){_0(this,n),this.backgroundElement=document.createElement("div"),He.extend(this.backgroundElement.style,{backgroundColor:"rgba(0,0,0,0.8)",top:0,left:0,display:"none",zIndex:"1000",opacity:0,WebkitTransition:"opacity 0.2s linear",transition:"opacity 0.2s linear"}),Fe.makeFullscreen(this.backgroundElement),this.backgroundElement.style.position="fixed",this.domElement=document.createElement("div"),He.extend(this.domElement.style,{position:"fixed",display:"none",zIndex:"1001",opacity:0,WebkitTransition:"-webkit-transform 0.2s ease-out, opacity 0.2s linear",transition:"transform 0.2s ease-out, opacity 0.2s linear"}),document.body.appendChild(this.backgroundElement),document.body.appendChild(this.domElement);var e=this;Fe.bind(this.backgroundElement,"click",function(){e.hide()})}return b0(n,[{key:"show",value:function(){var t=this;this.backgroundElement.style.display="block",this.domElement.style.display="block",this.domElement.style.opacity=0,this.domElement.style.webkitTransform="scale(1.1)",this.layout(),He.defer(function(){t.backgroundElement.style.opacity=1,t.domElement.style.opacity=1,t.domElement.style.webkitTransform="scale(1)"})}},{key:"hide",value:function(){var t=this,i=function r(){t.domElement.style.display="none",t.backgroundElement.style.display="none",Fe.unbind(t.domElement,"webkitTransitionEnd",r),Fe.unbind(t.domElement,"transitionend",r),Fe.unbind(t.domElement,"oTransitionEnd",r)};Fe.bind(this.domElement,"webkitTransitionEnd",i),Fe.bind(this.domElement,"transitionend",i),Fe.bind(this.domElement,"oTransitionEnd",i),this.backgroundElement.style.opacity=0,this.domElement.style.opacity=0,this.domElement.style.webkitTransform="scale(1.1)"}},{key:"layout",value:function(){this.domElement.style.left=window.innerWidth/2-Fe.getWidth(this.domElement)/2+"px",this.domElement.style.top=window.innerHeight/2-Fe.getHeight(this.domElement)/2+"px"}}]),n}(),dbe=Q_e(`.dg ul{list-style:none;margin:0;padding:0;width:100%;clear:both}.dg.ac{position:fixed;top:0;left:0;right:0;height:0;z-index:0}.dg:not(.ac) .main{overflow:hidden}.dg.main{-webkit-transition:opacity .1s linear;-o-transition:opacity .1s linear;-moz-transition:opacity .1s linear;transition:opacity .1s linear}.dg.main.taller-than-window{overflow-y:auto}.dg.main.taller-than-window .close-button{opacity:1;margin-top:-1px;border-top:1px solid #2c2c2c}.dg.main ul.closed .close-button{opacity:1 !important}.dg.main:hover .close-button,.dg.main .close-button.drag{opacity:1}.dg.main .close-button{-webkit-transition:opacity .1s linear;-o-transition:opacity .1s linear;-moz-transition:opacity .1s linear;transition:opacity .1s linear;border:0;line-height:19px;height:20px;cursor:pointer;text-align:center;background-color:#000}.dg.main .close-button.close-top{position:relative}.dg.main .close-button.close-bottom{position:absolute}.dg.main .close-button:hover{background-color:#111}.dg.a{float:right;margin-right:15px;overflow-y:visible}.dg.a.has-save>ul.close-top{margin-top:0}.dg.a.has-save>ul.close-bottom{margin-top:27px}.dg.a.has-save>ul.closed{margin-top:0}.dg.a .save-row{top:0;z-index:1002}.dg.a .save-row.close-top{position:relative}.dg.a .save-row.close-bottom{position:fixed}.dg li{-webkit-transition:height .1s ease-out;-o-transition:height .1s ease-out;-moz-transition:height .1s ease-out;transition:height .1s ease-out;-webkit-transition:overflow .1s linear;-o-transition:overflow .1s linear;-moz-transition:overflow .1s linear;transition:overflow .1s linear}.dg li:not(.folder){cursor:auto;height:27px;line-height:27px;padding:0 4px 0 5px}.dg li.folder{padding:0;border-left:4px solid rgba(0,0,0,0)}.dg li.title{cursor:pointer;margin-left:-4px}.dg .closed li:not(.title),.dg .closed ul li,.dg .closed ul li>*{height:0;overflow:hidden;border:0}.dg .cr{clear:both;padding-left:3px;height:27px;overflow:hidden}.dg .property-name{cursor:default;float:left;clear:left;width:40%;overflow:hidden;text-overflow:ellipsis}.dg .c{float:left;width:60%;position:relative}.dg .c input[type=text]{border:0;margin-top:4px;padding:3px;width:100%;float:right}.dg .has-slider input[type=text]{width:30%;margin-left:0}.dg .slider{float:left;width:66%;margin-left:-5px;margin-right:0;height:19px;margin-top:4px}.dg .slider-fg{height:100%}.dg .c input[type=checkbox]{margin-top:7px}.dg .c select{margin-top:5px}.dg .cr.function,.dg .cr.function .property-name,.dg .cr.function *,.dg .cr.boolean,.dg .cr.boolean *{cursor:pointer}.dg .cr.color{overflow:visible}.dg .selector{display:none;position:absolute;margin-left:-9px;margin-top:23px;z-index:10}.dg .c:hover .selector,.dg .selector.drag{display:block}.dg li.save-row{padding:0}.dg li.save-row .button{display:inline-block;padding:0px 6px}.dg.dialogue{background-color:#222;width:460px;padding:15px;font-size:13px;line-height:15px}#dg-new-constructor{padding:10px;color:#222;font-family:Monaco, monospace;font-size:10px;border:0;resize:none;box-shadow:inset 1px 1px 1px #888;word-wrap:break-word;margin:12px 0;display:block;width:440px;overflow-y:scroll;height:100px;position:relative}#dg-local-explain{display:none;font-size:11px;line-height:17px;border-radius:3px;background-color:#333;padding:8px;margin-top:10px}#dg-local-explain code{font-size:10px}#dat-gui-save-locally{display:none}.dg{color:#eee;font:11px 'Lucida Grande', sans-serif;text-shadow:0 -1px 0 #111}.dg.main::-webkit-scrollbar{width:5px;background:#1a1a1a}.dg.main::-webkit-scrollbar-corner{height:0;display:none}.dg.main::-webkit-scrollbar-thumb{border-radius:5px;background:#676767}.dg li:not(.folder){background:#1a1a1a;border-bottom:1px solid #2c2c2c}.dg li.save-row{line-height:25px;background:#dad5cb;border:0}.dg li.save-row select{margin-left:5px;width:108px}.dg li.save-row .button{margin-left:5px;margin-top:1px;border-radius:2px;font-size:9px;line-height:7px;padding:4px 4px 5px 4px;background:#c5bdad;color:#fff;text-shadow:0 1px 0 #b0a58f;box-shadow:0 -1px 0 #b0a58f;cursor:pointer}.dg li.save-row .button.gears{background:#c5bdad url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAANCAYAAAB/9ZQ7AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAQJJREFUeNpiYKAU/P//PwGIC/ApCABiBSAW+I8AClAcgKxQ4T9hoMAEUrxx2QSGN6+egDX+/vWT4e7N82AMYoPAx/evwWoYoSYbACX2s7KxCxzcsezDh3evFoDEBYTEEqycggWAzA9AuUSQQgeYPa9fPv6/YWm/Acx5IPb7ty/fw+QZblw67vDs8R0YHyQhgObx+yAJkBqmG5dPPDh1aPOGR/eugW0G4vlIoTIfyFcA+QekhhHJhPdQxbiAIguMBTQZrPD7108M6roWYDFQiIAAv6Aow/1bFwXgis+f2LUAynwoIaNcz8XNx3Dl7MEJUDGQpx9gtQ8YCueB+D26OECAAQDadt7e46D42QAAAABJRU5ErkJggg==) 2px 1px no-repeat;height:7px;width:8px}.dg li.save-row .button:hover{background-color:#bab19e;box-shadow:0 -1px 0 #b0a58f}.dg li.folder{border-bottom:0}.dg li.title{padding-left:16px;background:#000 url(data:image/gif;base64,R0lGODlhBQAFAJEAAP////Pz8////////yH5BAEAAAIALAAAAAAFAAUAAAIIlI+hKgFxoCgAOw==) 6px 10px no-repeat;cursor:pointer;border-bottom:1px solid rgba(255,255,255,0.2)}.dg .closed li.title{background-image:url(data:image/gif;base64,R0lGODlhBQAFAJEAAP////Pz8////////yH5BAEAAAIALAAAAAAFAAUAAAIIlGIWqMCbWAEAOw==)}.dg .cr.boolean{border-left:3px solid #806787}.dg .cr.color{border-left:3px solid}.dg .cr.function{border-left:3px solid #e61d5f}.dg .cr.number{border-left:3px solid #2FA1D6}.dg .cr.number input[type=text]{color:#2FA1D6}.dg .cr.string{border-left:3px solid #1ed36f}.dg .cr.string input[type=text]{color:#1ed36f}.dg .cr.function:hover,.dg .cr.boolean:hover{background:#111}.dg .c input[type=text]{background:#303030;outline:none}.dg .c input[type=text]:hover{background:#3c3c3c}.dg .c input[type=text]:focus{background:#494949;color:#fff}.dg .c .slider{background:#303030;cursor:ew-resize}.dg .c .slider-fg{background:#2FA1D6;max-width:100%}.dg .c .slider:hover{background:#3c3c3c}.dg .c .slider:hover .slider-fg{background:#44abda}
`);abe.inject(dbe);var oG="dg",aG=72,lG=20,z2="Default",k2=function(){try{return!!window.localStorage}catch{return!1}}(),H2=void 0,cG=!0,hd=void 0,Vw=!1,uG=[],Sn=function n(e){var t=this,i=e||{};this.domElement=document.createElement("div"),this.__ul=document.createElement("ul"),this.domElement.appendChild(this.__ul),Fe.addClass(this.domElement,oG),this.__folders={},this.__controllers=[],this.__rememberedObjects=[],this.__rememberedObjectIndecesToControllers=[],this.__listening=[],i=He.defaults(i,{closeOnTop:!1,autoPlace:!0,width:n.DEFAULT_WIDTH}),i=He.defaults(i,{resizable:i.autoPlace,hideable:i.autoPlace}),He.isUndefined(i.load)?i.load={preset:z2}:i.preset&&(i.load.preset=i.preset),He.isUndefined(i.parent)&&i.hideable&&uG.push(this),i.resizable=He.isUndefined(i.parent)&&i.resizable,i.autoPlace&&He.isUndefined(i.scrollable)&&(i.scrollable=!0);var r=k2&&localStorage.getItem(dd(this,"isLocal"))==="true",s=void 0,o=void 0;if(Object.defineProperties(this,{parent:{get:function(){return i.parent}},scrollable:{get:function(){return i.scrollable}},autoPlace:{get:function(){return i.autoPlace}},closeOnTop:{get:function(){return i.closeOnTop}},preset:{get:function(){return t.parent?t.getRoot().preset:i.load.preset},set:function(h){t.parent?t.getRoot().preset=h:i.load.preset=h,vbe(this),t.revert()}},width:{get:function(){return i.width},set:function(h){i.width=h,$w(t,h)}},name:{get:function(){return i.name},set:function(h){i.name=h,o&&(o.innerHTML=i.name)}},closed:{get:function(){return i.closed},set:function(h){i.closed=h,i.closed?Fe.addClass(t.__ul,n.CLASS_CLOSED):Fe.removeClass(t.__ul,n.CLASS_CLOSED),this.onResize(),t.__closeButton&&(t.__closeButton.innerHTML=h?n.TEXT_OPEN:n.TEXT_CLOSED)}},load:{get:function(){return i.load}},useLocalStorage:{get:function(){return r},set:function(h){k2&&(r=h,h?Fe.bind(window,"unload",s):Fe.unbind(window,"unload",s),localStorage.setItem(dd(t,"isLocal"),h))}}}),He.isUndefined(i.parent)){if(this.closed=i.closed||!1,Fe.addClass(this.domElement,n.CLASS_MAIN),Fe.makeSelectable(this.domElement,!1),k2&&r){t.useLocalStorage=!0;var a=localStorage.getItem(dd(this,"gui"));a&&(i.load=JSON.parse(a))}this.__closeButton=document.createElement("div"),this.__closeButton.innerHTML=n.TEXT_CLOSED,Fe.addClass(this.__closeButton,n.CLASS_CLOSE_BUTTON),i.closeOnTop?(Fe.addClass(this.__closeButton,n.CLASS_CLOSE_TOP),this.domElement.insertBefore(this.__closeButton,this.domElement.childNodes[0])):(Fe.addClass(this.__closeButton,n.CLASS_CLOSE_BOTTOM),this.domElement.appendChild(this.__closeButton)),Fe.bind(this.__closeButton,"click",function(){t.closed=!t.closed})}else{i.closed===void 0&&(i.closed=!0);var l=document.createTextNode(i.name);Fe.addClass(l,"controller-name"),o=Ww(t,l);var c=function(h){return h.preventDefault(),t.closed=!t.closed,!1};Fe.addClass(this.__ul,n.CLASS_CLOSED),Fe.addClass(o,"title"),Fe.bind(o,"click",c),i.closed||(this.closed=!1)}i.autoPlace&&(He.isUndefined(i.parent)&&(cG&&(hd=document.createElement("div"),Fe.addClass(hd,oG),Fe.addClass(hd,n.CLASS_AUTO_PLACE_CONTAINER),document.body.appendChild(hd),cG=!1),hd.appendChild(this.domElement),Fe.addClass(this.domElement,n.CLASS_AUTO_PLACE)),this.parent||$w(t,i.width)),this.__resizeHandler=function(){t.onResizeDebounced()},Fe.bind(window,"resize",this.__resizeHandler),Fe.bind(this.__ul,"webkitTransitionEnd",this.__resizeHandler),Fe.bind(this.__ul,"transitionend",this.__resizeHandler),Fe.bind(this.__ul,"oTransitionEnd",this.__resizeHandler),this.onResize(),i.resizable&&gbe(this),s=function(){k2&&localStorage.getItem(dd(t,"isLocal"))==="true"&&localStorage.setItem(dd(t,"gui"),JSON.stringify(t.getSaveObject()))},this.saveToLocalStorageIfPossible=s;function u(){var f=t.getRoot();f.width+=1,He.defer(function(){f.width-=1})}i.parent||u()};Sn.toggleHide=function(){Vw=!Vw,He.each(uG,function(n){n.domElement.style.display=Vw?"none":""})};Sn.CLASS_AUTO_PLACE="a";Sn.CLASS_AUTO_PLACE_CONTAINER="ac";Sn.CLASS_MAIN="main";Sn.CLASS_CONTROLLER_ROW="cr";Sn.CLASS_TOO_TALL="taller-than-window";Sn.CLASS_CLOSED="closed";Sn.CLASS_CLOSE_BUTTON="close-button";Sn.CLASS_CLOSE_TOP="close-top";Sn.CLASS_CLOSE_BOTTOM="close-bottom";Sn.CLASS_DRAG="drag";Sn.DEFAULT_WIDTH=245;Sn.TEXT_CLOSED="Close Controls";Sn.TEXT_OPEN="Open Controls";Sn._keydownHandler=function(n){document.activeElement.type!=="text"&&(n.which===aG||n.keyCode===aG)&&Sn.toggleHide()};Fe.bind(window,"keydown",Sn._keydownHandler,!1);He.extend(Sn.prototype,{add:function(e,t){return G2(this,e,t,{factoryArgs:Array.prototype.slice.call(arguments,2)})},addColor:function(e,t){return G2(this,e,t,{color:!0})},remove:function(e){this.__ul.removeChild(e.__li),this.__controllers.splice(this.__controllers.indexOf(e),1);var t=this;He.defer(function(){t.onResize()})},destroy:function(){if(this.parent)throw new Error("Only the root GUI should be removed with .destroy(). For subfolders, use gui.removeFolder(folder) instead.");this.autoPlace&&hd.removeChild(this.domElement);var e=this;He.each(this.__folders,function(t){e.removeFolder(t)}),Fe.unbind(window,"keydown",Sn._keydownHandler,!1),fG(this)},addFolder:function(e){if(this.__folders[e]!==void 0)throw new Error('You already have a folder in this GUI by the name "'+e+'"');var t={name:e,parent:this};t.autoPlace=this.autoPlace,this.load&&this.load.folders&&this.load.folders[e]&&(t.closed=this.load.folders[e].closed,t.load=this.load.folders[e]);var i=new Sn(t);this.__folders[e]=i;var r=Ww(this,i.domElement);return Fe.addClass(r,"folder"),i},removeFolder:function(e){this.__ul.removeChild(e.domElement.parentElement),delete this.__folders[e.name],this.load&&this.load.folders&&this.load.folders[e.name]&&delete this.load.folders[e.name],fG(e);var t=this;He.each(e.__folders,function(i){e.removeFolder(i)}),He.defer(function(){t.onResize()})},open:function(){this.closed=!1},close:function(){this.closed=!0},hide:function(){this.domElement.style.display="none"},show:function(){this.domElement.style.display=""},onResize:function(){var e=this.getRoot();if(e.scrollable){var t=Fe.getOffset(e.__ul).top,i=0;He.each(e.__ul.childNodes,function(r){e.autoPlace&&r===e.__save_row||(i+=Fe.getHeight(r))}),window.innerHeight-t-lG<i?(Fe.addClass(e.domElement,Sn.CLASS_TOO_TALL),e.__ul.style.height=window.innerHeight-t-lG+"px"):(Fe.removeClass(e.domElement,Sn.CLASS_TOO_TALL),e.__ul.style.height="auto")}e.__resize_handle&&He.defer(function(){e.__resize_handle.style.height=e.__ul.offsetHeight+"px"}),e.__closeButton&&(e.__closeButton.style.width=e.width+"px")},onResizeDebounced:He.debounce(function(){this.onResize()},50),remember:function(){if(He.isUndefined(H2)&&(H2=new hbe,H2.domElement.innerHTML=lbe),this.parent)throw new Error("You can only call remember on a top level GUI.");var e=this;He.each(Array.prototype.slice.call(arguments),function(t){e.__rememberedObjects.length===0&&mbe(e),e.__rememberedObjects.indexOf(t)===-1&&e.__rememberedObjects.push(t)}),this.autoPlace&&$w(this,this.width)},getRoot:function(){for(var e=this;e.parent;)e=e.parent;return e},getSaveObject:function(){var e=this.load;return e.closed=this.closed,this.__rememberedObjects.length>0&&(e.preset=this.preset,e.remembered||(e.remembered={}),e.remembered[this.preset]=Rg(this)),e.folders={},He.each(this.__folders,function(t,i){e.folders[i]=t.getSaveObject()}),e},save:function(){this.load.remembered||(this.load.remembered={}),this.load.remembered[this.preset]=Rg(this),Xw(this,!1),this.saveToLocalStorageIfPossible()},saveAs:function(e){this.load.remembered||(this.load.remembered={},this.load.remembered[z2]=Rg(this,!0)),this.load.remembered[e]=Rg(this),this.preset=e,Yw(this,e,!0),this.saveToLocalStorageIfPossible()},revert:function(e){He.each(this.__controllers,function(t){this.getRoot().load.remembered?hG(e||this.getRoot(),t):t.setValue(t.initialValue),t.__onFinishChange&&t.__onFinishChange.call(t,t.getValue())},this),He.each(this.__folders,function(t){t.revert(t)}),e||Xw(this.getRoot(),!1)},listen:function(e){var t=this.__listening.length===0;this.__listening.push(e),t&&pG(this.__listening)},updateDisplay:function(){He.each(this.__controllers,function(e){e.updateDisplay()}),He.each(this.__folders,function(e){e.updateDisplay()})}});function Ww(n,e,t){var i=document.createElement("li");return e&&i.appendChild(e),t?n.__ul.insertBefore(i,t):n.__ul.appendChild(i),n.onResize(),i}function fG(n){Fe.unbind(window,"resize",n.__resizeHandler),n.saveToLocalStorageIfPossible&&Fe.unbind(window,"unload",n.saveToLocalStorageIfPossible)}function Xw(n,e){var t=n.__preset_select[n.__preset_select.selectedIndex];e?t.innerHTML=t.value+"*":t.innerHTML=t.value}function pbe(n,e,t){if(t.__li=e,t.__gui=n,He.extend(t,{options:function(o){if(arguments.length>1){var a=t.__li.nextElementSibling;return t.remove(),G2(n,t.object,t.property,{before:a,factoryArgs:[He.toArray(arguments)]})}if(He.isArray(o)||He.isObject(o)){var l=t.__li.nextElementSibling;return t.remove(),G2(n,t.object,t.property,{before:l,factoryArgs:[o]})}},name:function(o){return t.__li.firstElementChild.firstElementChild.innerHTML=o,t},listen:function(){return t.__gui.listen(t),t},remove:function(){return t.__gui.remove(t),t}}),t instanceof Hw){var i=new Pg(t.object,t.property,{min:t.__min,max:t.__max,step:t.__step});He.each(["updateDisplay","onChange","onFinishChange","step","min","max"],function(s){var o=t[s],a=i[s];t[s]=i[s]=function(){var l=Array.prototype.slice.call(arguments);return a.apply(i,l),o.apply(t,l)}}),Fe.addClass(e,"has-slider"),t.domElement.insertBefore(i.domElement,t.domElement.firstElementChild)}else if(t instanceof Pg){var r=function(o){if(He.isNumber(t.__min)&&He.isNumber(t.__max)){var a=t.__li.firstElementChild.firstElementChild.innerHTML,l=t.__gui.__listening.indexOf(t)>-1;t.remove();var c=G2(n,t.object,t.property,{before:t.__li.nextElementSibling,factoryArgs:[t.__min,t.__max,t.__step]});return c.name(a),l&&c.listen(),c}return o};t.min=He.compose(r,t.min),t.max=He.compose(r,t.max)}else t instanceof eG?(Fe.bind(e,"click",function(){Fe.fakeEvent(t.__checkbox,"click")}),Fe.bind(t.__checkbox,"click",function(s){s.stopPropagation()})):t instanceof rG?(Fe.bind(e,"click",function(){Fe.fakeEvent(t.__button,"click")}),Fe.bind(e,"mouseover",function(){Fe.addClass(t.__button,"hover")}),Fe.bind(e,"mouseout",function(){Fe.removeClass(t.__button,"hover")})):t instanceof Gw&&(Fe.addClass(e,"color"),t.updateDisplay=He.compose(function(s){return e.style.borderLeftColor=t.__color.toString(),s},t.updateDisplay),t.updateDisplay());t.setValue=He.compose(function(s){return n.getRoot().__preset_select&&t.isModified()&&Xw(n.getRoot(),!0),s},t.setValue)}function hG(n,e){var t=n.getRoot(),i=t.__rememberedObjects.indexOf(e.object);if(i!==-1){var r=t.__rememberedObjectIndecesToControllers[i];if(r===void 0&&(r={},t.__rememberedObjectIndecesToControllers[i]=r),r[e.property]=e,t.load&&t.load.remembered){var s=t.load.remembered,o=void 0;if(s[n.preset])o=s[n.preset];else if(s[z2])o=s[z2];else return;if(o[i]&&o[i][e.property]!==void 0){var a=o[i][e.property];e.initialValue=a,e.setValue(a)}}}}function G2(n,e,t,i){if(e[t]===void 0)throw new Error('Object "'+e+'" has no property "'+t+'"');var r=void 0;if(i.color)r=new Gw(e,t);else{var s=[e,t].concat(i.factoryArgs);r=cbe.apply(n,s)}i.before instanceof vu&&(i.before=i.before.__li),hG(n,r),Fe.addClass(r.domElement,"c");var o=document.createElement("span");Fe.addClass(o,"property-name"),o.innerHTML=r.property;var a=document.createElement("div");a.appendChild(o),a.appendChild(r.domElement);var l=Ww(n,a,i.before);return Fe.addClass(l,Sn.CLASS_CONTROLLER_ROW),r instanceof Gw?Fe.addClass(l,"color"):Fe.addClass(l,K_e(r.getValue())),pbe(n,l,r),n.__controllers.push(r),r}function dd(n,e){return document.location.href+"."+e}function Yw(n,e,t){var i=document.createElement("option");i.innerHTML=e,i.value=e,n.__preset_select.appendChild(i),t&&(n.__preset_select.selectedIndex=n.__preset_select.length-1)}function dG(n,e){e.style.display=n.useLocalStorage?"block":"none"}function mbe(n){var e=n.__save_row=document.createElement("li");Fe.addClass(n.domElement,"has-save"),n.__ul.insertBefore(e,n.__ul.firstChild),Fe.addClass(e,"save-row");var t=document.createElement("span");t.innerHTML="&nbsp;",Fe.addClass(t,"button gears");var i=document.createElement("span");i.innerHTML="Save",Fe.addClass(i,"button"),Fe.addClass(i,"save");var r=document.createElement("span");r.innerHTML="New",Fe.addClass(r,"button"),Fe.addClass(r,"save-as");var s=document.createElement("span");s.innerHTML="Revert",Fe.addClass(s,"button"),Fe.addClass(s,"revert");var o=n.__preset_select=document.createElement("select");if(n.load&&n.load.remembered?He.each(n.load.remembered,function(f,h){Yw(n,h,h===n.preset)}):Yw(n,z2,!1),Fe.bind(o,"change",function(){for(var f=0;f<n.__preset_select.length;f++)n.__preset_select[f].innerHTML=n.__preset_select[f].value;n.preset=this.value}),e.appendChild(o),e.appendChild(t),e.appendChild(i),e.appendChild(r),e.appendChild(s),k2){var a=document.getElementById("dg-local-explain"),l=document.getElementById("dg-local-storage"),c=document.getElementById("dg-save-locally");c.style.display="block",localStorage.getItem(dd(n,"isLocal"))==="true"&&l.setAttribute("checked","checked"),dG(n,a),Fe.bind(l,"change",function(){n.useLocalStorage=!n.useLocalStorage,dG(n,a)})}var u=document.getElementById("dg-new-constructor");Fe.bind(u,"keydown",function(f){f.metaKey&&(f.which===67||f.keyCode===67)&&H2.hide()}),Fe.bind(t,"click",function(){u.innerHTML=JSON.stringify(n.getSaveObject(),void 0,2),H2.show(),u.focus(),u.select()}),Fe.bind(i,"click",function(){n.save()}),Fe.bind(r,"click",function(){var f=prompt("Enter a new preset name.");f&&n.saveAs(f)}),Fe.bind(s,"click",function(){n.revert()})}function gbe(n){var e=void 0;n.__resize_handle=document.createElement("div"),He.extend(n.__resize_handle.style,{width:"6px",marginLeft:"-3px",height:"200px",cursor:"ew-resize",position:"absolute"});function t(s){return s.preventDefault(),n.width+=e-s.clientX,n.onResize(),e=s.clientX,!1}function i(){Fe.removeClass(n.__closeButton,Sn.CLASS_DRAG),Fe.unbind(window,"mousemove",t),Fe.unbind(window,"mouseup",i)}function r(s){return s.preventDefault(),e=s.clientX,Fe.addClass(n.__closeButton,Sn.CLASS_DRAG),Fe.bind(window,"mousemove",t),Fe.bind(window,"mouseup",i),!1}Fe.bind(n.__resize_handle,"mousedown",r),Fe.bind(n.__closeButton,"mousedown",r),n.domElement.insertBefore(n.__resize_handle,n.domElement.firstElementChild)}function $w(n,e){n.domElement.style.width=e+"px",n.__save_row&&n.autoPlace&&(n.__save_row.style.width=e+"px"),n.__closeButton&&(n.__closeButton.style.width=e+"px")}function Rg(n,e){var t={};return He.each(n.__rememberedObjects,function(i,r){var s={},o=n.__rememberedObjectIndecesToControllers[r];He.each(o,function(a,l){s[l]=e?a.initialValue:a.getValue()}),t[r]=s}),t}function vbe(n){for(var e=0;e<n.__preset_select.length;e++)n.__preset_select[e].value===n.preset&&(n.__preset_select.selectedIndex=e)}function pG(n){n.length!==0&&fbe.call(window,function(){pG(n)}),He.each(n,function(e){e.updateDisplay()})}var Bwe=Sn;/*!
  * vue-router v4.0.12
  * (c) 2021 Eduardo San Martin Morote
  * @license MIT
  */const mG=typeof Symbol=="function"&&typeof Symbol.toStringTag=="symbol",pd=n=>mG?Symbol(n):"_vr_"+n,xbe=pd("rvlm"),gG=pd("rvd"),qw=pd("r"),vG=pd("rl"),jw=pd("rvl"),md=typeof window!="undefined";function ybe(n){return n.__esModule||mG&&n[Symbol.toStringTag]==="Module"}const gn=Object.assign;function Zw(n,e){const t={};for(const i in e){const r=e[i];t[i]=Array.isArray(r)?r.map(n):n(r)}return t}const V2=()=>{},_be=/\/$/,bbe=n=>n.replace(_be,"");function Qw(n,e,t="/"){let i,r={},s="",o="";const a=e.indexOf("?"),l=e.indexOf("#",a>-1?a:0);return a>-1&&(i=e.slice(0,a),s=e.slice(a+1,l>-1?l:e.length),r=n(s)),l>-1&&(i=i||e.slice(0,l),o=e.slice(l,e.length)),i=Abe(i!=null?i:e,t),{fullPath:i+(s&&"?")+s+o,path:i,query:r,hash:o}}function wbe(n,e){const t=e.query?n(e.query):"";return e.path+(t&&"?")+t+(e.hash||"")}function xG(n,e){return!e||!n.toLowerCase().startsWith(e.toLowerCase())?n:n.slice(e.length)||"/"}function Mbe(n,e,t){const i=e.matched.length-1,r=t.matched.length-1;return i>-1&&i===r&&gd(e.matched[i],t.matched[r])&&yG(e.params,t.params)&&n(e.query)===n(t.query)&&e.hash===t.hash}function gd(n,e){return(n.aliasOf||n)===(e.aliasOf||e)}function yG(n,e){if(Object.keys(n).length!==Object.keys(e).length)return!1;for(const t in n)if(!Sbe(n[t],e[t]))return!1;return!0}function Sbe(n,e){return Array.isArray(n)?_G(n,e):Array.isArray(e)?_G(e,n):n===e}function _G(n,e){return Array.isArray(e)?n.length===e.length&&n.every((t,i)=>t===e[i]):n.length===1&&n[0]===e}function Abe(n,e){if(n.startsWith("/"))return n;if(!n)return e;const t=e.split("/"),i=n.split("/");let r=t.length-1,s,o;for(s=0;s<i.length;s++)if(o=i[s],!(r===1||o==="."))if(o==="..")r--;else break;return t.slice(0,r).join("/")+"/"+i.slice(s-(s===i.length?1:0)).join("/")}var W2;(function(n){n.pop="pop",n.push="push"})(W2||(W2={}));var X2;(function(n){n.back="back",n.forward="forward",n.unknown=""})(X2||(X2={}));function Tbe(n){if(!n)if(md){const e=document.querySelector("base");n=e&&e.getAttribute("href")||"/",n=n.replace(/^\w+:\/\/[^\/]+/,"")}else n="/";return n[0]!=="/"&&n[0]!=="#"&&(n="/"+n),bbe(n)}const Ebe=/^[^#]+#/;function Lbe(n,e){return n.replace(Ebe,"#")+e}function Cbe(n,e){const t=document.documentElement.getBoundingClientRect(),i=n.getBoundingClientRect();return{behavior:e.behavior,left:i.left-t.left-(e.left||0),top:i.top-t.top-(e.top||0)}}const Fg=()=>({left:window.pageXOffset,top:window.pageYOffset});function Pbe(n){let e;if("el"in n){const t=n.el,i=typeof t=="string"&&t.startsWith("#"),r=typeof t=="string"?i?document.getElementById(t.slice(1)):document.querySelector(t):t;if(!r)return;e=Cbe(r,n)}else e=n;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.pageXOffset,e.top!=null?e.top:window.pageYOffset)}function bG(n,e){return(history.state?history.state.position-e:-1)+n}const Jw=new Map;function Rbe(n,e){Jw.set(n,e)}function Fbe(n){const e=Jw.get(n);return Jw.delete(n),e}let Ibe=()=>location.protocol+"//"+location.host;function wG(n,e){const{pathname:t,search:i,hash:r}=e,s=n.indexOf("#");if(s>-1){let a=r.includes(n.slice(s))?n.slice(s).length:1,l=r.slice(a);return l[0]!=="/"&&(l="/"+l),xG(l,"")}return xG(t,n)+i+r}function Dbe(n,e,t,i){let r=[],s=[],o=null;const a=({state:h})=>{const d=wG(n,location),m=t.value,v=e.value;let _=0;if(h){if(t.value=d,e.value=h,o&&o===m){o=null;return}_=v?h.position-v.position:0}else i(d);r.forEach(g=>{g(t.value,m,{delta:_,type:W2.pop,direction:_?_>0?X2.forward:X2.back:X2.unknown})})};function l(){o=t.value}function c(h){r.push(h);const d=()=>{const m=r.indexOf(h);m>-1&&r.splice(m,1)};return s.push(d),d}function u(){const{history:h}=window;!h.state||h.replaceState(gn({},h.state,{scroll:Fg()}),"")}function f(){for(const h of s)h();s=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",u)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",u),{pauseListeners:l,listen:c,destroy:f}}function MG(n,e,t,i=!1,r=!1){return{back:n,current:e,forward:t,replaced:i,position:window.history.length,scroll:r?Fg():null}}function Nbe(n){const{history:e,location:t}=window,i={value:wG(n,t)},r={value:e.state};r.value||s(i.value,{back:null,current:i.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function s(l,c,u){const f=n.indexOf("#"),h=f>-1?(t.host&&document.querySelector("base")?n:n.slice(f))+l:Ibe()+n+l;try{e[u?"replaceState":"pushState"](c,"",h),r.value=c}catch(d){console.error(d),t[u?"replace":"assign"](h)}}function o(l,c){const u=gn({},e.state,MG(r.value.back,l,r.value.forward,!0),c,{position:r.value.position});s(l,u,!0),i.value=l}function a(l,c){const u=gn({},r.value,e.state,{forward:l,scroll:Fg()});s(u.current,u,!0);const f=gn({},MG(i.value,l,null),{position:u.position+1},c);s(l,f,!1),i.value=l}return{location:i,state:r,push:a,replace:o}}function Obe(n){n=Tbe(n);const e=Nbe(n),t=Dbe(n,e.state,e.location,e.replace);function i(s,o=!0){o||t.pauseListeners(),history.go(s)}const r=gn({location:"",base:n,go:i,createHref:Lbe.bind(null,n)},e,t);return Object.defineProperty(r,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(r,"state",{enumerable:!0,get:()=>e.state.value}),r}function Uwe(n){return n=location.host?n||location.pathname+location.search:"",n.includes("#")||(n+="#"),Obe(n)}function Bbe(n){return typeof n=="string"||n&&typeof n=="object"}function SG(n){return typeof n=="string"||typeof n=="symbol"}const Cl={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},AG=pd("nf");var TG;(function(n){n[n.aborted=4]="aborted",n[n.cancelled=8]="cancelled",n[n.duplicated=16]="duplicated"})(TG||(TG={}));function vd(n,e){return gn(new Error,{type:n,[AG]:!0},e)}function xu(n,e){return n instanceof Error&&AG in n&&(e==null||!!(n.type&e))}const EG="[^/]+?",Ube={sensitive:!1,strict:!1,start:!0,end:!0},zbe=/[.+*?^${}()[\]/\\]/g;function kbe(n,e){const t=gn({},Ube,e),i=[];let r=t.start?"^":"";const s=[];for(const c of n){const u=c.length?[]:[90];t.strict&&!c.length&&(r+="/");for(let f=0;f<c.length;f++){const h=c[f];let d=40+(t.sensitive?.25:0);if(h.type===0)f||(r+="/"),r+=h.value.replace(zbe,"\\$&"),d+=40;else if(h.type===1){const{value:m,repeatable:v,optional:_,regexp:g}=h;s.push({name:m,repeatable:v,optional:_});const x=g||EG;if(x!==EG){d+=10;try{new RegExp(`(${x})`)}catch(w){throw new Error(`Invalid custom RegExp for param "${m}" (${x}): `+w.message)}}let b=v?`((?:${x})(?:/(?:${x}))*)`:`(${x})`;f||(b=_&&c.length<2?`(?:/${b})`:"/"+b),_&&(b+="?"),r+=b,d+=20,_&&(d+=-8),v&&(d+=-20),x===".*"&&(d+=-50)}u.push(d)}i.push(u)}if(t.strict&&t.end){const c=i.length-1;i[c][i[c].length-1]+=.7000000000000001}t.strict||(r+="/?"),t.end?r+="$":t.strict&&(r+="(?:/|$)");const o=new RegExp(r,t.sensitive?"":"i");function a(c){const u=c.match(o),f={};if(!u)return null;for(let h=1;h<u.length;h++){const d=u[h]||"",m=s[h-1];f[m.name]=d&&m.repeatable?d.split("/"):d}return f}function l(c){let u="",f=!1;for(const h of n){(!f||!u.endsWith("/"))&&(u+="/"),f=!1;for(const d of h)if(d.type===0)u+=d.value;else if(d.type===1){const{value:m,repeatable:v,optional:_}=d,g=m in c?c[m]:"";if(Array.isArray(g)&&!v)throw new Error(`Provided param "${m}" is an array but it is not repeatable (* or + modifiers)`);const x=Array.isArray(g)?g.join("/"):g;if(!x)if(_)h.length<2&&(u.endsWith("/")?u=u.slice(0,-1):f=!0);else throw new Error(`Missing required param "${m}"`);u+=x}}return u}return{re:o,score:i,keys:s,parse:a,stringify:l}}function Hbe(n,e){let t=0;for(;t<n.length&&t<e.length;){const i=e[t]-n[t];if(i)return i;t++}return n.length<e.length?n.length===1&&n[0]===40+40?-1:1:n.length>e.length?e.length===1&&e[0]===40+40?1:-1:0}function Gbe(n,e){let t=0;const i=n.score,r=e.score;for(;t<i.length&&t<r.length;){const s=Hbe(i[t],r[t]);if(s)return s;t++}return r.length-i.length}const Vbe={type:0,value:""},Wbe=/[a-zA-Z0-9_]/;function Xbe(n){if(!n)return[[]];if(n==="/")return[[Vbe]];if(!n.startsWith("/"))throw new Error(`Invalid path "${n}"`);function e(d){throw new Error(`ERR (${t})/"${c}": ${d}`)}let t=0,i=t;const r=[];let s;function o(){s&&r.push(s),s=[]}let a=0,l,c="",u="";function f(){!c||(t===0?s.push({type:0,value:c}):t===1||t===2||t===3?(s.length>1&&(l==="*"||l==="+")&&e(`A repeatable param (${c}) must be alone in its segment. eg: '/:ids+.`),s.push({type:1,value:c,regexp:u,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):e("Invalid state to consume buffer"),c="")}function h(){c+=l}for(;a<n.length;){if(l=n[a++],l==="\\"&&t!==2){i=t,t=4;continue}switch(t){case 0:l==="/"?(c&&f(),o()):l===":"?(f(),t=1):h();break;case 4:h(),t=i;break;case 1:l==="("?t=2:Wbe.test(l)?h():(f(),t=0,l!=="*"&&l!=="?"&&l!=="+"&&a--);break;case 2:l===")"?u[u.length-1]=="\\"?u=u.slice(0,-1)+l:t=3:u+=l;break;case 3:f(),t=0,l!=="*"&&l!=="?"&&l!=="+"&&a--,u="";break;default:e("Unknown state");break}}return t===2&&e(`Unfinished custom RegExp for param "${c}"`),f(),o(),r}function Ybe(n,e,t){const i=kbe(Xbe(n.path),t),r=gn(i,{record:n,parent:e,children:[],alias:[]});return e&&!r.record.aliasOf==!e.record.aliasOf&&e.children.push(r),r}function $be(n,e){const t=[],i=new Map;e=CG({strict:!1,end:!0,sensitive:!1},e);function r(u){return i.get(u)}function s(u,f,h){const d=!h,m=jbe(u);m.aliasOf=h&&h.record;const v=CG(e,u),_=[m];if("alias"in u){const b=typeof u.alias=="string"?[u.alias]:u.alias;for(const w of b)_.push(gn({},m,{components:h?h.record.components:m.components,path:w,aliasOf:h?h.record:m}))}let g,x;for(const b of _){const{path:w}=b;if(f&&w[0]!=="/"){const S=f.record.path,A=S[S.length-1]==="/"?"":"/";b.path=f.record.path+(w&&A+w)}if(g=Ybe(b,f,v),h?h.alias.push(g):(x=x||g,x!==g&&x.alias.push(g),d&&u.name&&!LG(g)&&o(u.name)),"children"in m){const S=m.children;for(let A=0;A<S.length;A++)s(S[A],g,h&&h.children[A])}h=h||g,l(g)}return x?()=>{o(x)}:V2}function o(u){if(SG(u)){const f=i.get(u);f&&(i.delete(u),t.splice(t.indexOf(f),1),f.children.forEach(o),f.alias.forEach(o))}else{const f=t.indexOf(u);f>-1&&(t.splice(f,1),u.record.name&&i.delete(u.record.name),u.children.forEach(o),u.alias.forEach(o))}}function a(){return t}function l(u){let f=0;for(;f<t.length&&Gbe(u,t[f])>=0;)f++;t.splice(f,0,u),u.record.name&&!LG(u)&&i.set(u.record.name,u)}function c(u,f){let h,d={},m,v;if("name"in u&&u.name){if(h=i.get(u.name),!h)throw vd(1,{location:u});v=h.record.name,d=gn(qbe(f.params,h.keys.filter(x=>!x.optional).map(x=>x.name)),u.params),m=h.stringify(d)}else if("path"in u)m=u.path,h=t.find(x=>x.re.test(m)),h&&(d=h.parse(m),v=h.record.name);else{if(h=f.name?i.get(f.name):t.find(x=>x.re.test(f.path)),!h)throw vd(1,{location:u,currentLocation:f});v=h.record.name,d=gn({},f.params,u.params),m=h.stringify(d)}const _=[];let g=h;for(;g;)_.unshift(g.record),g=g.parent;return{name:v,path:m,params:d,matched:_,meta:Qbe(_)}}return n.forEach(u=>s(u)),{addRoute:s,resolve:c,removeRoute:o,getRoutes:a,getRecordMatcher:r}}function qbe(n,e){const t={};for(const i of e)i in n&&(t[i]=n[i]);return t}function jbe(n){return{path:n.path,redirect:n.redirect,name:n.name,meta:n.meta||{},aliasOf:void 0,beforeEnter:n.beforeEnter,props:Zbe(n),children:n.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in n?n.components||{}:{default:n.component}}}function Zbe(n){const e={},t=n.props||!1;if("component"in n)e.default=t;else for(const i in n.components)e[i]=typeof t=="boolean"?t:t[i];return e}function LG(n){for(;n;){if(n.record.aliasOf)return!0;n=n.parent}return!1}function Qbe(n){return n.reduce((e,t)=>gn(e,t.meta),{})}function CG(n,e){const t={};for(const i in n)t[i]=i in e?e[i]:n[i];return t}const PG=/#/g,Jbe=/&/g,Kbe=/\//g,ewe=/=/g,twe=/\?/g,RG=/\+/g,nwe=/%5B/g,iwe=/%5D/g,FG=/%5E/g,rwe=/%60/g,IG=/%7B/g,swe=/%7C/g,DG=/%7D/g,owe=/%20/g;function Kw(n){return encodeURI(""+n).replace(swe,"|").replace(nwe,"[").replace(iwe,"]")}function awe(n){return Kw(n).replace(IG,"{").replace(DG,"}").replace(FG,"^")}function eM(n){return Kw(n).replace(RG,"%2B").replace(owe,"+").replace(PG,"%23").replace(Jbe,"%26").replace(rwe,"`").replace(IG,"{").replace(DG,"}").replace(FG,"^")}function lwe(n){return eM(n).replace(ewe,"%3D")}function cwe(n){return Kw(n).replace(PG,"%23").replace(twe,"%3F")}function uwe(n){return n==null?"":cwe(n).replace(Kbe,"%2F")}function Ig(n){try{return decodeURIComponent(""+n)}catch{}return""+n}function fwe(n){const e={};if(n===""||n==="?")return e;const i=(n[0]==="?"?n.slice(1):n).split("&");for(let r=0;r<i.length;++r){const s=i[r].replace(RG," "),o=s.indexOf("="),a=Ig(o<0?s:s.slice(0,o)),l=o<0?null:Ig(s.slice(o+1));if(a in e){let c=e[a];Array.isArray(c)||(c=e[a]=[c]),c.push(l)}else e[a]=l}return e}function NG(n){let e="";for(let t in n){const i=n[t];if(t=lwe(t),i==null){i!==void 0&&(e+=(e.length?"&":"")+t);continue}(Array.isArray(i)?i.map(s=>s&&eM(s)):[i&&eM(i)]).forEach(s=>{s!==void 0&&(e+=(e.length?"&":"")+t,s!=null&&(e+="="+s))})}return e}function hwe(n){const e={};for(const t in n){const i=n[t];i!==void 0&&(e[t]=Array.isArray(i)?i.map(r=>r==null?null:""+r):i==null?i:""+i)}return e}function Y2(){let n=[];function e(i){return n.push(i),()=>{const r=n.indexOf(i);r>-1&&n.splice(r,1)}}function t(){n=[]}return{add:e,list:()=>n,reset:t}}function Pl(n,e,t,i,r){const s=i&&(i.enterCallbacks[r]=i.enterCallbacks[r]||[]);return()=>new Promise((o,a)=>{const l=f=>{f===!1?a(vd(4,{from:t,to:e})):f instanceof Error?a(f):Bbe(f)?a(vd(2,{from:e,to:f})):(s&&i.enterCallbacks[r]===s&&typeof f=="function"&&s.push(f),o())},c=n.call(i&&i.instances[r],e,t,l);let u=Promise.resolve(c);n.length<3&&(u=u.then(l)),u.catch(f=>a(f))})}function tM(n,e,t,i){const r=[];for(const s of n)for(const o in s.components){let a=s.components[o];if(!(e!=="beforeRouteEnter"&&!s.instances[o]))if(dwe(a)){const c=(a.__vccOpts||a)[e];c&&r.push(Pl(c,t,i,s,o))}else{let l=a();r.push(()=>l.then(c=>{if(!c)return Promise.reject(new Error(`Couldn't resolve component "${o}" at "${s.path}"`));const u=ybe(c)?c.default:c;s.components[o]=u;const h=(u.__vccOpts||u)[e];return h&&Pl(h,t,i,s,o)()}))}}return r}function dwe(n){return typeof n=="object"||"displayName"in n||"props"in n||"__vccOpts"in n}function OG(n){const e=Nr(qw),t=Nr(vG),i=T0(()=>e.resolve(Hd(n.to))),r=T0(()=>{const{matched:l}=i.value,{length:c}=l,u=l[c-1],f=t.matched;if(!u||!f.length)return-1;const h=f.findIndex(gd.bind(null,u));if(h>-1)return h;const d=BG(l[c-2]);return c>1&&BG(u)===d&&f[f.length-1].path!==d?f.findIndex(gd.bind(null,l[c-2])):h}),s=T0(()=>r.value>-1&&vwe(t.params,i.value.params)),o=T0(()=>r.value>-1&&r.value===t.matched.length-1&&yG(t.params,i.value.params));function a(l={}){return gwe(l)?e[Hd(n.replace)?"replace":"push"](Hd(n.to)).catch(V2):Promise.resolve()}return{route:i,href:T0(()=>i.value.href),isActive:s,isExactActive:o,navigate:a}}const pwe=xt({name:"RouterLink",props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:OG,setup(n,{slots:e}){const t=zd(OG(n)),{options:i}=Nr(qw),r=T0(()=>({[UG(n.activeClass,i.linkActiveClass,"router-link-active")]:t.isActive,[UG(n.exactActiveClass,i.linkExactActiveClass,"router-link-exact-active")]:t.isExactActive}));return()=>{const s=e.default&&e.default(t);return n.custom?s:VT("a",{"aria-current":t.isExactActive?n.ariaCurrentValue:null,href:t.href,onClick:t.navigate,class:r.value},s)}}}),mwe=pwe;function gwe(n){if(!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)&&!n.defaultPrevented&&!(n.button!==void 0&&n.button!==0)){if(n.currentTarget&&n.currentTarget.getAttribute){const e=n.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return n.preventDefault&&n.preventDefault(),!0}}function vwe(n,e){for(const t in e){const i=e[t],r=n[t];if(typeof i=="string"){if(i!==r)return!1}else if(!Array.isArray(r)||r.length!==i.length||i.some((s,o)=>s!==r[o]))return!1}return!0}function BG(n){return n?n.aliasOf?n.aliasOf.path:n.path:""}const UG=(n,e,t)=>n!=null?n:e!=null?e:t,xwe=xt({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},setup(n,{attrs:e,slots:t}){const i=Nr(jw),r=T0(()=>n.route||i.value),s=Nr(gG,0),o=T0(()=>r.value.matched[s]);Gd(gG,s+1),Gd(xbe,o),Gd(jw,r);const a=HZ();return tn(()=>[a.value,o.value,n.name],([l,c,u],[f,h,d])=>{c&&(c.instances[u]=l,h&&h!==c&&l&&l===f&&(c.leaveGuards.size||(c.leaveGuards=h.leaveGuards),c.updateGuards.size||(c.updateGuards=h.updateGuards))),l&&c&&(!h||!gd(c,h)||!f)&&(c.enterCallbacks[u]||[]).forEach(m=>m(l))},{flush:"post"}),()=>{const l=r.value,c=o.value,u=c&&c.components[n.name],f=n.name;if(!u)return zG(t.default,{Component:u,route:l});const h=c.props[n.name],d=h?h===!0?l.params:typeof h=="function"?h(l):h:null,v=VT(u,gn({},d,e,{onVnodeUnmounted:_=>{_.component.isUnmounted&&(c.instances[f]=null)},ref:a}));return zG(t.default,{Component:v,route:l})||v}}});function zG(n,e){if(!n)return null;const t=n(e);return t.length===1?t[0]:t}const ywe=xwe;function zwe(n){const e=$be(n.routes,n),t=n.parseQuery||fwe,i=n.stringifyQuery||NG,r=n.history,s=Y2(),o=Y2(),a=Y2(),l=GZ(Cl);let c=Cl;md&&n.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const u=Zw.bind(null,te=>""+te),f=Zw.bind(null,uwe),h=Zw.bind(null,Ig);function d(te,$){let ge,be;return SG(te)?(ge=e.getRecordMatcher(te),be=$):be=te,e.addRoute(be,ge)}function m(te){const $=e.getRecordMatcher(te);$&&e.removeRoute($)}function v(){return e.getRoutes().map(te=>te.record)}function _(te){return!!e.getRecordMatcher(te)}function g(te,$){if($=gn({},$||l.value),typeof te=="string"){const X=Qw(t,te,$.path),z=e.resolve({path:X.path},$),W=r.createHref(X.fullPath);return gn(X,z,{params:h(z.params),hash:Ig(X.hash),redirectedFrom:void 0,href:W})}let ge;if("path"in te)ge=gn({},te,{path:Qw(t,te.path,$.path).path});else{const X=gn({},te.params);for(const z in X)X[z]==null&&delete X[z];ge=gn({},te,{params:f(te.params)}),$.params=f($.params)}const be=e.resolve(ge,$),ue=te.hash||"";be.params=u(h(be.params));const _e=wbe(i,gn({},te,{hash:awe(ue),path:be.path})),Te=r.createHref(_e);return gn({fullPath:_e,hash:ue,query:i===NG?hwe(te.query):te.query||{}},be,{redirectedFrom:void 0,href:Te})}function x(te){return typeof te=="string"?Qw(t,te,l.value.path):gn({},te)}function b(te,$){if(c!==te)return vd(8,{from:$,to:te})}function w(te){return T(te)}function S(te){return w(gn(x(te),{replace:!0}))}function A(te){const $=te.matched[te.matched.length-1];if($&&$.redirect){const{redirect:ge}=$;let be=typeof ge=="function"?ge(te):ge;return typeof be=="string"&&(be=be.includes("?")||be.includes("#")?be=x(be):{path:be},be.params={}),gn({query:te.query,hash:te.hash,params:te.params},be)}}function T(te,$){const ge=c=g(te),be=l.value,ue=te.state,_e=te.force,Te=te.replace===!0,X=A(ge);if(X)return T(gn(x(X),{state:ue,force:_e,replace:Te}),$||ge);const z=ge;z.redirectedFrom=$;let W;return!_e&&Mbe(i,be,ge)&&(W=vd(16,{to:z,from:be}),re(be,be,!0,!1)),(W?Promise.resolve(W):U(z,be)).catch(se=>xu(se)?se:B(se,z,be)).then(se=>{if(se){if(xu(se,2))return T(gn(x(se.to),{state:ue,force:_e,replace:Te}),$||z)}else se=O(z,be,!0,Te,ue);return N(z,be,se),se})}function F(te,$){const ge=b(te,$);return ge?Promise.reject(ge):Promise.resolve()}function U(te,$){let ge;const[be,ue,_e]=_we(te,$);ge=tM(be.reverse(),"beforeRouteLeave",te,$);for(const X of be)X.leaveGuards.forEach(z=>{ge.push(Pl(z,te,$))});const Te=F.bind(null,te,$);return ge.push(Te),xd(ge).then(()=>{ge=[];for(const X of s.list())ge.push(Pl(X,te,$));return ge.push(Te),xd(ge)}).then(()=>{ge=tM(ue,"beforeRouteUpdate",te,$);for(const X of ue)X.updateGuards.forEach(z=>{ge.push(Pl(z,te,$))});return ge.push(Te),xd(ge)}).then(()=>{ge=[];for(const X of te.matched)if(X.beforeEnter&&!$.matched.includes(X))if(Array.isArray(X.beforeEnter))for(const z of X.beforeEnter)ge.push(Pl(z,te,$));else ge.push(Pl(X.beforeEnter,te,$));return ge.push(Te),xd(ge)}).then(()=>(te.matched.forEach(X=>X.enterCallbacks={}),ge=tM(_e,"beforeRouteEnter",te,$),ge.push(Te),xd(ge))).then(()=>{ge=[];for(const X of o.list())ge.push(Pl(X,te,$));return ge.push(Te),xd(ge)}).catch(X=>xu(X,8)?X:Promise.reject(X))}function N(te,$,ge){for(const be of a.list())be(te,$,ge)}function O(te,$,ge,be,ue){const _e=b(te,$);if(_e)return _e;const Te=$===Cl,X=md?history.state:{};ge&&(be||Te?r.replace(te.fullPath,gn({scroll:Te&&X&&X.scroll},ue)):r.push(te.fullPath,ue)),l.value=te,re(te,$,ge,Te),j()}let G;function D(){G=r.listen((te,$,ge)=>{const be=g(te),ue=A(be);if(ue){T(gn(ue,{replace:!0}),be).catch(V2);return}c=be;const _e=l.value;md&&Rbe(bG(_e.fullPath,ge.delta),Fg()),U(be,_e).catch(Te=>xu(Te,4|8)?Te:xu(Te,2)?(T(Te.to,be).then(X=>{xu(X,4|16)&&!ge.delta&&ge.type===W2.pop&&r.go(-1,!1)}).catch(V2),Promise.reject()):(ge.delta&&r.go(-ge.delta,!1),B(Te,be,_e))).then(Te=>{Te=Te||O(be,_e,!1),Te&&(ge.delta?r.go(-ge.delta,!1):ge.type===W2.pop&&xu(Te,4|16)&&r.go(-1,!1)),N(be,_e,Te)}).catch(V2)})}let P=Y2(),I=Y2(),C;function B(te,$,ge){j(te);const be=I.list();return be.length?be.forEach(ue=>ue(te,$,ge)):console.error(te),Promise.reject(te)}function Y(){return C&&l.value!==Cl?Promise.resolve():new Promise((te,$)=>{P.add([te,$])})}function j(te){C||(C=!0,D(),P.list().forEach(([$,ge])=>te?ge(te):$()),P.reset())}function re(te,$,ge,be){const{scrollBehavior:ue}=n;if(!md||!ue)return Promise.resolve();const _e=!ge&&Fbe(bG(te.fullPath,0))||(be||!ge)&&history.state&&history.state.scroll||null;return NT().then(()=>ue(te,$,_e)).then(Te=>Te&&Pbe(Te)).catch(Te=>B(Te,te,$))}const ie=te=>r.go(te);let ve;const de=new Set;return{currentRoute:l,addRoute:d,removeRoute:m,hasRoute:_,getRoutes:v,resolve:g,options:n,push:w,replace:S,go:ie,back:()=>ie(-1),forward:()=>ie(1),beforeEach:s.add,beforeResolve:o.add,afterEach:a.add,onError:I.add,isReady:Y,install(te){const $=this;te.component("RouterLink",mwe),te.component("RouterView",ywe),te.config.globalProperties.$router=$,Object.defineProperty(te.config.globalProperties,"$route",{enumerable:!0,get:()=>Hd(l)}),md&&!ve&&l.value===Cl&&(ve=!0,w(r.location).catch(ue=>{}));const ge={};for(const ue in Cl)ge[ue]=T0(()=>l.value[ue]);te.provide(qw,$),te.provide(vG,zd(ge)),te.provide(jw,l);const be=te.unmount;de.add(te),te.unmount=function(){de.delete(te),de.size<1&&(c=Cl,G&&G(),l.value=Cl,ve=!1,C=!1),be()}}}}function xd(n){return n.reduce((e,t)=>e.then(()=>t()),Promise.resolve())}function _we(n,e){const t=[],i=[],r=[],s=Math.max(e.matched.length,n.matched.length);for(let o=0;o<s;o++){const a=e.matched[o];a&&(n.matched.find(c=>gd(c,a))?i.push(a):t.push(a));const l=n.matched[o];l&&(e.matched.find(c=>gd(c,l))||r.push(l))}return[t,i,r]}var yu=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{},nM={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */(function(n,e){(function(){var t,i="4.17.21",r=200,s="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",o="Expected a function",a="Invalid `variable` option passed into `_.template`",l="__lodash_hash_undefined__",c=500,u="__lodash_placeholder__",f=1,h=2,d=4,m=1,v=2,_=1,g=2,x=4,b=8,w=16,S=32,A=64,T=128,F=256,U=512,N=30,O="...",G=800,D=16,P=1,I=2,C=3,B=1/0,Y=9007199254740991,j=17976931348623157e292,re=0/0,ie=4294967295,ve=ie-1,de=ie>>>1,ye=[["ary",T],["bind",_],["bindKey",g],["curry",b],["curryRight",w],["flip",U],["partial",S],["partialRight",A],["rearg",F]],te="[object Arguments]",$="[object Array]",ge="[object AsyncFunction]",be="[object Boolean]",ue="[object Date]",_e="[object DOMException]",Te="[object Error]",X="[object Function]",z="[object GeneratorFunction]",W="[object Map]",se="[object Number]",ae="[object Null]",L="[object Object]",E="[object Promise]",J="[object Proxy]",K="[object RegExp]",ce="[object Set]",pe="[object String]",Ce="[object Symbol]",Ae="[object Undefined]",Re="[object WeakMap]",Ee="[object WeakSet]",V="[object ArrayBuffer]",we="[object DataView]",le="[object Float32Array]",Pe="[object Float64Array]",ee="[object Int8Array]",Ue="[object Int16Array]",lt="[object Int32Array]",at="[object Uint8Array]",Ot="[object Uint8ClampedArray]",tt="[object Uint16Array]",_t="[object Uint32Array]",Vt=/\b__p \+= '';/g,In=/\b(__p \+=) '' \+/g,zn=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Cr=/&(?:amp|lt|gt|quot|#39);/g,Gr=/[&<>"']/g,cs=RegExp(Cr.source),_u=RegExp(Gr.source),ao=/<%-([\s\S]+?)%>/g,bu=/<%([\s\S]+?)%>/g,Xs=/<%=([\s\S]+?)%>/g,wu=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,na=/^\w*$/,Mu=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ia=/[\\^$.*+?()[\]{}|]/g,ne=RegExp(ia.source),Ne=/^\s+/,k=/\s/,oe=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,fe=/\{\n\/\* \[wrapped with (.+)\] \*/,Le=/,? & /,Oe=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Xe=/[()=,{}\[\]\/\s]/,Ye=/\\(\\)?/g,Ge=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Ke=/\w*$/,Qe=/^[-+]0x[0-9a-f]+$/i,nt=/^0b[01]+$/i,bt=/^\[object .+?Constructor\]$/,st=/^0o[0-7]+$/i,Ei=/^(?:0|[1-9]\d*)$/,Lt=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Yn=/($^)/,Jt=/['\n\r\u2028\u2029\\]/g,Pr="\\ud800-\\udfff",tr="\\u0300-\\u036f",vn="\\ufe20-\\ufe2f",us="\\u20d0-\\u20ff",ri=tr+vn+us,iM="\\u2700-\\u27bf",rM="a-z\\xdf-\\xf6\\xf8-\\xff",GG="\\xac\\xb1\\xd7\\xf7",VG="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",WG="\\u2000-\\u206f",XG=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",sM="A-Z\\xc0-\\xd6\\xd8-\\xde",oM="\\ufe0e\\ufe0f",aM=GG+VG+WG+XG,Dg="['\u2019]",YG="["+Pr+"]",lM="["+aM+"]",$2="["+ri+"]",cM="\\d+",$G="["+iM+"]",uM="["+rM+"]",fM="[^"+Pr+aM+cM+iM+rM+sM+"]",Ng="\\ud83c[\\udffb-\\udfff]",qG="(?:"+$2+"|"+Ng+")",hM="[^"+Pr+"]",Og="(?:\\ud83c[\\udde6-\\uddff]){2}",Bg="[\\ud800-\\udbff][\\udc00-\\udfff]",Su="["+sM+"]",dM="\\u200d",pM="(?:"+uM+"|"+fM+")",jG="(?:"+Su+"|"+fM+")",mM="(?:"+Dg+"(?:d|ll|m|re|s|t|ve))?",gM="(?:"+Dg+"(?:D|LL|M|RE|S|T|VE))?",vM=qG+"?",xM="["+oM+"]?",ZG="(?:"+dM+"(?:"+[hM,Og,Bg].join("|")+")"+xM+vM+")*",QG="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",JG="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",yM=xM+vM+ZG,KG="(?:"+[$G,Og,Bg].join("|")+")"+yM,eV="(?:"+[hM+$2+"?",$2,Og,Bg,YG].join("|")+")",tV=RegExp(Dg,"g"),nV=RegExp($2,"g"),Ug=RegExp(Ng+"(?="+Ng+")|"+eV+yM,"g"),iV=RegExp([Su+"?"+uM+"+"+mM+"(?="+[lM,Su,"$"].join("|")+")",jG+"+"+gM+"(?="+[lM,Su+pM,"$"].join("|")+")",Su+"?"+pM+"+"+mM,Su+"+"+gM,JG,QG,cM,KG].join("|"),"g"),rV=RegExp("["+dM+Pr+ri+oM+"]"),sV=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,oV=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],aV=-1,An={};An[le]=An[Pe]=An[ee]=An[Ue]=An[lt]=An[at]=An[Ot]=An[tt]=An[_t]=!0,An[te]=An[$]=An[V]=An[be]=An[we]=An[ue]=An[Te]=An[X]=An[W]=An[se]=An[L]=An[K]=An[ce]=An[pe]=An[Re]=!1;var xn={};xn[te]=xn[$]=xn[V]=xn[we]=xn[be]=xn[ue]=xn[le]=xn[Pe]=xn[ee]=xn[Ue]=xn[lt]=xn[W]=xn[se]=xn[L]=xn[K]=xn[ce]=xn[pe]=xn[Ce]=xn[at]=xn[Ot]=xn[tt]=xn[_t]=!0,xn[Te]=xn[X]=xn[Re]=!1;var lV={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"},cV={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},uV={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},fV={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},hV=parseFloat,dV=parseInt,_M=typeof yu=="object"&&yu&&yu.Object===Object&&yu,pV=typeof self=="object"&&self&&self.Object===Object&&self,Li=_M||pV||Function("return this")(),zg=e&&!e.nodeType&&e,Rl=zg&&!0&&n&&!n.nodeType&&n,bM=Rl&&Rl.exports===zg,kg=bM&&_M.process,fs=function(){try{var Me=Rl&&Rl.require&&Rl.require("util").types;return Me||kg&&kg.binding&&kg.binding("util")}catch{}}(),wM=fs&&fs.isArrayBuffer,MM=fs&&fs.isDate,SM=fs&&fs.isMap,AM=fs&&fs.isRegExp,TM=fs&&fs.isSet,EM=fs&&fs.isTypedArray;function Vr(Me,Be,De){switch(De.length){case 0:return Me.call(Be);case 1:return Me.call(Be,De[0]);case 2:return Me.call(Be,De[0],De[1]);case 3:return Me.call(Be,De[0],De[1],De[2])}return Me.apply(Be,De)}function mV(Me,Be,De,it){for(var wt=-1,Zt=Me==null?0:Me.length;++wt<Zt;){var li=Me[wt];Be(it,li,De(li),Me)}return it}function hs(Me,Be){for(var De=-1,it=Me==null?0:Me.length;++De<it&&Be(Me[De],De,Me)!==!1;);return Me}function gV(Me,Be){for(var De=Me==null?0:Me.length;De--&&Be(Me[De],De,Me)!==!1;);return Me}function LM(Me,Be){for(var De=-1,it=Me==null?0:Me.length;++De<it;)if(!Be(Me[De],De,Me))return!1;return!0}function ra(Me,Be){for(var De=-1,it=Me==null?0:Me.length,wt=0,Zt=[];++De<it;){var li=Me[De];Be(li,De,Me)&&(Zt[wt++]=li)}return Zt}function q2(Me,Be){var De=Me==null?0:Me.length;return!!De&&Au(Me,Be,0)>-1}function Hg(Me,Be,De){for(var it=-1,wt=Me==null?0:Me.length;++it<wt;)if(De(Be,Me[it]))return!0;return!1}function Pn(Me,Be){for(var De=-1,it=Me==null?0:Me.length,wt=Array(it);++De<it;)wt[De]=Be(Me[De],De,Me);return wt}function sa(Me,Be){for(var De=-1,it=Be.length,wt=Me.length;++De<it;)Me[wt+De]=Be[De];return Me}function Gg(Me,Be,De,it){var wt=-1,Zt=Me==null?0:Me.length;for(it&&Zt&&(De=Me[++wt]);++wt<Zt;)De=Be(De,Me[wt],wt,Me);return De}function vV(Me,Be,De,it){var wt=Me==null?0:Me.length;for(it&&wt&&(De=Me[--wt]);wt--;)De=Be(De,Me[wt],wt,Me);return De}function Vg(Me,Be){for(var De=-1,it=Me==null?0:Me.length;++De<it;)if(Be(Me[De],De,Me))return!0;return!1}var xV=Wg("length");function yV(Me){return Me.split("")}function _V(Me){return Me.match(Oe)||[]}function CM(Me,Be,De){var it;return De(Me,function(wt,Zt,li){if(Be(wt,Zt,li))return it=Zt,!1}),it}function j2(Me,Be,De,it){for(var wt=Me.length,Zt=De+(it?1:-1);it?Zt--:++Zt<wt;)if(Be(Me[Zt],Zt,Me))return Zt;return-1}function Au(Me,Be,De){return Be===Be?FV(Me,Be,De):j2(Me,PM,De)}function bV(Me,Be,De,it){for(var wt=De-1,Zt=Me.length;++wt<Zt;)if(it(Me[wt],Be))return wt;return-1}function PM(Me){return Me!==Me}function RM(Me,Be){var De=Me==null?0:Me.length;return De?Yg(Me,Be)/De:re}function Wg(Me){return function(Be){return Be==null?t:Be[Me]}}function Xg(Me){return function(Be){return Me==null?t:Me[Be]}}function FM(Me,Be,De,it,wt){return wt(Me,function(Zt,li,fn){De=it?(it=!1,Zt):Be(De,Zt,li,fn)}),De}function wV(Me,Be){var De=Me.length;for(Me.sort(Be);De--;)Me[De]=Me[De].value;return Me}function Yg(Me,Be){for(var De,it=-1,wt=Me.length;++it<wt;){var Zt=Be(Me[it]);Zt!==t&&(De=De===t?Zt:De+Zt)}return De}function $g(Me,Be){for(var De=-1,it=Array(Me);++De<Me;)it[De]=Be(De);return it}function MV(Me,Be){return Pn(Be,function(De){return[De,Me[De]]})}function IM(Me){return Me&&Me.slice(0,BM(Me)+1).replace(Ne,"")}function Wr(Me){return function(Be){return Me(Be)}}function qg(Me,Be){return Pn(Be,function(De){return Me[De]})}function yd(Me,Be){return Me.has(Be)}function DM(Me,Be){for(var De=-1,it=Me.length;++De<it&&Au(Be,Me[De],0)>-1;);return De}function NM(Me,Be){for(var De=Me.length;De--&&Au(Be,Me[De],0)>-1;);return De}function SV(Me,Be){for(var De=Me.length,it=0;De--;)Me[De]===Be&&++it;return it}var AV=Xg(lV),TV=Xg(cV);function EV(Me){return"\\"+fV[Me]}function LV(Me,Be){return Me==null?t:Me[Be]}function Tu(Me){return rV.test(Me)}function CV(Me){return sV.test(Me)}function PV(Me){for(var Be,De=[];!(Be=Me.next()).done;)De.push(Be.value);return De}function jg(Me){var Be=-1,De=Array(Me.size);return Me.forEach(function(it,wt){De[++Be]=[wt,it]}),De}function OM(Me,Be){return function(De){return Me(Be(De))}}function oa(Me,Be){for(var De=-1,it=Me.length,wt=0,Zt=[];++De<it;){var li=Me[De];(li===Be||li===u)&&(Me[De]=u,Zt[wt++]=De)}return Zt}function Z2(Me){var Be=-1,De=Array(Me.size);return Me.forEach(function(it){De[++Be]=it}),De}function RV(Me){var Be=-1,De=Array(Me.size);return Me.forEach(function(it){De[++Be]=[it,it]}),De}function FV(Me,Be,De){for(var it=De-1,wt=Me.length;++it<wt;)if(Me[it]===Be)return it;return-1}function IV(Me,Be,De){for(var it=De+1;it--;)if(Me[it]===Be)return it;return it}function Eu(Me){return Tu(Me)?NV(Me):xV(Me)}function Ys(Me){return Tu(Me)?OV(Me):yV(Me)}function BM(Me){for(var Be=Me.length;Be--&&k.test(Me.charAt(Be)););return Be}var DV=Xg(uV);function NV(Me){for(var Be=Ug.lastIndex=0;Ug.test(Me);)++Be;return Be}function OV(Me){return Me.match(Ug)||[]}function BV(Me){return Me.match(iV)||[]}var UV=function Me(Be){Be=Be==null?Li:Lu.defaults(Li.Object(),Be,Lu.pick(Li,oV));var De=Be.Array,it=Be.Date,wt=Be.Error,Zt=Be.Function,li=Be.Math,fn=Be.Object,Zg=Be.RegExp,zV=Be.String,ds=Be.TypeError,Q2=De.prototype,kV=Zt.prototype,Cu=fn.prototype,J2=Be["__core-js_shared__"],K2=kV.toString,sn=Cu.hasOwnProperty,HV=0,UM=function(){var p=/[^.]+$/.exec(J2&&J2.keys&&J2.keys.IE_PROTO||"");return p?"Symbol(src)_1."+p:""}(),em=Cu.toString,GV=K2.call(fn),VV=Li._,WV=Zg("^"+K2.call(sn).replace(ia,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),tm=bM?Be.Buffer:t,aa=Be.Symbol,nm=Be.Uint8Array,zM=tm?tm.allocUnsafe:t,im=OM(fn.getPrototypeOf,fn),kM=fn.create,HM=Cu.propertyIsEnumerable,rm=Q2.splice,GM=aa?aa.isConcatSpreadable:t,_d=aa?aa.iterator:t,Fl=aa?aa.toStringTag:t,sm=function(){try{var p=Bl(fn,"defineProperty");return p({},"",{}),p}catch{}}(),XV=Be.clearTimeout!==Li.clearTimeout&&Be.clearTimeout,YV=it&&it.now!==Li.Date.now&&it.now,$V=Be.setTimeout!==Li.setTimeout&&Be.setTimeout,om=li.ceil,am=li.floor,Qg=fn.getOwnPropertySymbols,qV=tm?tm.isBuffer:t,VM=Be.isFinite,jV=Q2.join,ZV=OM(fn.keys,fn),ci=li.max,zi=li.min,QV=it.now,JV=Be.parseInt,WM=li.random,KV=Q2.reverse,Jg=Bl(Be,"DataView"),bd=Bl(Be,"Map"),Kg=Bl(Be,"Promise"),Pu=Bl(Be,"Set"),wd=Bl(Be,"WeakMap"),Md=Bl(fn,"create"),lm=wd&&new wd,Ru={},eW=Ul(Jg),tW=Ul(bd),nW=Ul(Kg),iW=Ul(Pu),rW=Ul(wd),cm=aa?aa.prototype:t,Sd=cm?cm.valueOf:t,XM=cm?cm.toString:t;function q(p){if(kn(p)&&!St(p)&&!(p instanceof kt)){if(p instanceof ps)return p;if(sn.call(p,"__wrapped__"))return YS(p)}return new ps(p)}var Fu=function(){function p(){}return function(y){if(!Dn(y))return{};if(kM)return kM(y);p.prototype=y;var M=new p;return p.prototype=t,M}}();function um(){}function ps(p,y){this.__wrapped__=p,this.__actions__=[],this.__chain__=!!y,this.__index__=0,this.__values__=t}q.templateSettings={escape:ao,evaluate:bu,interpolate:Xs,variable:"",imports:{_:q}},q.prototype=um.prototype,q.prototype.constructor=q,ps.prototype=Fu(um.prototype),ps.prototype.constructor=ps;function kt(p){this.__wrapped__=p,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=ie,this.__views__=[]}function sW(){var p=new kt(this.__wrapped__);return p.__actions__=Rr(this.__actions__),p.__dir__=this.__dir__,p.__filtered__=this.__filtered__,p.__iteratees__=Rr(this.__iteratees__),p.__takeCount__=this.__takeCount__,p.__views__=Rr(this.__views__),p}function oW(){if(this.__filtered__){var p=new kt(this);p.__dir__=-1,p.__filtered__=!0}else p=this.clone(),p.__dir__*=-1;return p}function aW(){var p=this.__wrapped__.value(),y=this.__dir__,M=St(p),R=y<0,H=M?p.length:0,Q=yX(0,H,this.__views__),he=Q.start,xe=Q.end,Se=xe-he,ze=R?xe:he-1,ke=this.__iteratees__,Ve=ke.length,et=0,ct=zi(Se,this.__takeCount__);if(!M||!R&&H==Se&&ct==Se)return mS(p,this.__actions__);var gt=[];e:for(;Se--&&et<ct;){ze+=y;for(var Rt=-1,vt=p[ze];++Rt<Ve;){var Bt=ke[Rt],Wt=Bt.iteratee,$r=Bt.type,rr=Wt(vt);if($r==I)vt=rr;else if(!rr){if($r==P)continue e;break e}}gt[et++]=vt}return gt}kt.prototype=Fu(um.prototype),kt.prototype.constructor=kt;function Il(p){var y=-1,M=p==null?0:p.length;for(this.clear();++y<M;){var R=p[y];this.set(R[0],R[1])}}function lW(){this.__data__=Md?Md(null):{},this.size=0}function cW(p){var y=this.has(p)&&delete this.__data__[p];return this.size-=y?1:0,y}function uW(p){var y=this.__data__;if(Md){var M=y[p];return M===l?t:M}return sn.call(y,p)?y[p]:t}function fW(p){var y=this.__data__;return Md?y[p]!==t:sn.call(y,p)}function hW(p,y){var M=this.__data__;return this.size+=this.has(p)?0:1,M[p]=Md&&y===t?l:y,this}Il.prototype.clear=lW,Il.prototype.delete=cW,Il.prototype.get=uW,Il.prototype.has=fW,Il.prototype.set=hW;function lo(p){var y=-1,M=p==null?0:p.length;for(this.clear();++y<M;){var R=p[y];this.set(R[0],R[1])}}function dW(){this.__data__=[],this.size=0}function pW(p){var y=this.__data__,M=fm(y,p);if(M<0)return!1;var R=y.length-1;return M==R?y.pop():rm.call(y,M,1),--this.size,!0}function mW(p){var y=this.__data__,M=fm(y,p);return M<0?t:y[M][1]}function gW(p){return fm(this.__data__,p)>-1}function vW(p,y){var M=this.__data__,R=fm(M,p);return R<0?(++this.size,M.push([p,y])):M[R][1]=y,this}lo.prototype.clear=dW,lo.prototype.delete=pW,lo.prototype.get=mW,lo.prototype.has=gW,lo.prototype.set=vW;function co(p){var y=-1,M=p==null?0:p.length;for(this.clear();++y<M;){var R=p[y];this.set(R[0],R[1])}}function xW(){this.size=0,this.__data__={hash:new Il,map:new(bd||lo),string:new Il}}function yW(p){var y=Mm(this,p).delete(p);return this.size-=y?1:0,y}function _W(p){return Mm(this,p).get(p)}function bW(p){return Mm(this,p).has(p)}function wW(p,y){var M=Mm(this,p),R=M.size;return M.set(p,y),this.size+=M.size==R?0:1,this}co.prototype.clear=xW,co.prototype.delete=yW,co.prototype.get=_W,co.prototype.has=bW,co.prototype.set=wW;function Dl(p){var y=-1,M=p==null?0:p.length;for(this.__data__=new co;++y<M;)this.add(p[y])}function MW(p){return this.__data__.set(p,l),this}function SW(p){return this.__data__.has(p)}Dl.prototype.add=Dl.prototype.push=MW,Dl.prototype.has=SW;function $s(p){var y=this.__data__=new lo(p);this.size=y.size}function AW(){this.__data__=new lo,this.size=0}function TW(p){var y=this.__data__,M=y.delete(p);return this.size=y.size,M}function EW(p){return this.__data__.get(p)}function LW(p){return this.__data__.has(p)}function CW(p,y){var M=this.__data__;if(M instanceof lo){var R=M.__data__;if(!bd||R.length<r-1)return R.push([p,y]),this.size=++M.size,this;M=this.__data__=new co(R)}return M.set(p,y),this.size=M.size,this}$s.prototype.clear=AW,$s.prototype.delete=TW,$s.prototype.get=EW,$s.prototype.has=LW,$s.prototype.set=CW;function YM(p,y){var M=St(p),R=!M&&zl(p),H=!M&&!R&&ha(p),Q=!M&&!R&&!H&&Ou(p),he=M||R||H||Q,xe=he?$g(p.length,zV):[],Se=xe.length;for(var ze in p)(y||sn.call(p,ze))&&!(he&&(ze=="length"||H&&(ze=="offset"||ze=="parent")||Q&&(ze=="buffer"||ze=="byteLength"||ze=="byteOffset")||po(ze,Se)))&&xe.push(ze);return xe}function $M(p){var y=p.length;return y?p[u8(0,y-1)]:t}function PW(p,y){return Sm(Rr(p),Nl(y,0,p.length))}function RW(p){return Sm(Rr(p))}function e8(p,y,M){(M!==t&&!qs(p[y],M)||M===t&&!(y in p))&&uo(p,y,M)}function Ad(p,y,M){var R=p[y];(!(sn.call(p,y)&&qs(R,M))||M===t&&!(y in p))&&uo(p,y,M)}function fm(p,y){for(var M=p.length;M--;)if(qs(p[M][0],y))return M;return-1}function FW(p,y,M,R){return la(p,function(H,Q,he){y(R,H,M(H),he)}),R}function qM(p,y){return p&&M0(y,di(y),p)}function IW(p,y){return p&&M0(y,Ir(y),p)}function uo(p,y,M){y=="__proto__"&&sm?sm(p,y,{configurable:!0,enumerable:!0,value:M,writable:!0}):p[y]=M}function t8(p,y){for(var M=-1,R=y.length,H=De(R),Q=p==null;++M<R;)H[M]=Q?t:N8(p,y[M]);return H}function Nl(p,y,M){return p===p&&(M!==t&&(p=p<=M?p:M),y!==t&&(p=p>=y?p:y)),p}function ms(p,y,M,R,H,Q){var he,xe=y&f,Se=y&h,ze=y&d;if(M&&(he=H?M(p,R,H,Q):M(p)),he!==t)return he;if(!Dn(p))return p;var ke=St(p);if(ke){if(he=bX(p),!xe)return Rr(p,he)}else{var Ve=ki(p),et=Ve==X||Ve==z;if(ha(p))return xS(p,xe);if(Ve==L||Ve==te||et&&!H){if(he=Se||et?{}:BS(p),!xe)return Se?uX(p,IW(he,p)):cX(p,qM(he,p))}else{if(!xn[Ve])return H?p:{};he=wX(p,Ve,xe)}}Q||(Q=new $s);var ct=Q.get(p);if(ct)return ct;Q.set(p,he),hA(p)?p.forEach(function(vt){he.add(ms(vt,y,M,vt,p,Q))}):uA(p)&&p.forEach(function(vt,Bt){he.set(Bt,ms(vt,y,M,Bt,p,Q))});var gt=ze?Se?b8:_8:Se?Ir:di,Rt=ke?t:gt(p);return hs(Rt||p,function(vt,Bt){Rt&&(Bt=vt,vt=p[Bt]),Ad(he,Bt,ms(vt,y,M,Bt,p,Q))}),he}function DW(p){var y=di(p);return function(M){return jM(M,p,y)}}function jM(p,y,M){var R=M.length;if(p==null)return!R;for(p=fn(p);R--;){var H=M[R],Q=y[H],he=p[H];if(he===t&&!(H in p)||!Q(he))return!1}return!0}function ZM(p,y,M){if(typeof p!="function")throw new ds(o);return Fd(function(){p.apply(t,M)},y)}function Td(p,y,M,R){var H=-1,Q=q2,he=!0,xe=p.length,Se=[],ze=y.length;if(!xe)return Se;M&&(y=Pn(y,Wr(M))),R?(Q=Hg,he=!1):y.length>=r&&(Q=yd,he=!1,y=new Dl(y));e:for(;++H<xe;){var ke=p[H],Ve=M==null?ke:M(ke);if(ke=R||ke!==0?ke:0,he&&Ve===Ve){for(var et=ze;et--;)if(y[et]===Ve)continue e;Se.push(ke)}else Q(y,Ve,R)||Se.push(ke)}return Se}var la=MS(w0),QM=MS(i8,!0);function NW(p,y){var M=!0;return la(p,function(R,H,Q){return M=!!y(R,H,Q),M}),M}function hm(p,y,M){for(var R=-1,H=p.length;++R<H;){var Q=p[R],he=y(Q);if(he!=null&&(xe===t?he===he&&!Yr(he):M(he,xe)))var xe=he,Se=Q}return Se}function OW(p,y,M,R){var H=p.length;for(M=Ct(M),M<0&&(M=-M>H?0:H+M),R=R===t||R>H?H:Ct(R),R<0&&(R+=H),R=M>R?0:pA(R);M<R;)p[M++]=y;return p}function JM(p,y){var M=[];return la(p,function(R,H,Q){y(R,H,Q)&&M.push(R)}),M}function Ci(p,y,M,R,H){var Q=-1,he=p.length;for(M||(M=SX),H||(H=[]);++Q<he;){var xe=p[Q];y>0&&M(xe)?y>1?Ci(xe,y-1,M,R,H):sa(H,xe):R||(H[H.length]=xe)}return H}var n8=SS(),KM=SS(!0);function w0(p,y){return p&&n8(p,y,di)}function i8(p,y){return p&&KM(p,y,di)}function dm(p,y){return ra(y,function(M){return mo(p[M])})}function Ol(p,y){y=ua(y,p);for(var M=0,R=y.length;p!=null&&M<R;)p=p[S0(y[M++])];return M&&M==R?p:t}function eS(p,y,M){var R=y(p);return St(p)?R:sa(R,M(p))}function nr(p){return p==null?p===t?Ae:ae:Fl&&Fl in fn(p)?xX(p):RX(p)}function r8(p,y){return p>y}function BW(p,y){return p!=null&&sn.call(p,y)}function UW(p,y){return p!=null&&y in fn(p)}function zW(p,y,M){return p>=zi(y,M)&&p<ci(y,M)}function s8(p,y,M){for(var R=M?Hg:q2,H=p[0].length,Q=p.length,he=Q,xe=De(Q),Se=1/0,ze=[];he--;){var ke=p[he];he&&y&&(ke=Pn(ke,Wr(y))),Se=zi(ke.length,Se),xe[he]=!M&&(y||H>=120&&ke.length>=120)?new Dl(he&&ke):t}ke=p[0];var Ve=-1,et=xe[0];e:for(;++Ve<H&&ze.length<Se;){var ct=ke[Ve],gt=y?y(ct):ct;if(ct=M||ct!==0?ct:0,!(et?yd(et,gt):R(ze,gt,M))){for(he=Q;--he;){var Rt=xe[he];if(!(Rt?yd(Rt,gt):R(p[he],gt,M)))continue e}et&&et.push(gt),ze.push(ct)}}return ze}function kW(p,y,M,R){return w0(p,function(H,Q,he){y(R,M(H),Q,he)}),R}function Ed(p,y,M){y=ua(y,p),p=HS(p,y);var R=p==null?p:p[S0(vs(y))];return R==null?t:Vr(R,p,M)}function tS(p){return kn(p)&&nr(p)==te}function HW(p){return kn(p)&&nr(p)==V}function GW(p){return kn(p)&&nr(p)==ue}function Ld(p,y,M,R,H){return p===y?!0:p==null||y==null||!kn(p)&&!kn(y)?p!==p&&y!==y:VW(p,y,M,R,Ld,H)}function VW(p,y,M,R,H,Q){var he=St(p),xe=St(y),Se=he?$:ki(p),ze=xe?$:ki(y);Se=Se==te?L:Se,ze=ze==te?L:ze;var ke=Se==L,Ve=ze==L,et=Se==ze;if(et&&ha(p)){if(!ha(y))return!1;he=!0,ke=!1}if(et&&!ke)return Q||(Q=new $s),he||Ou(p)?DS(p,y,M,R,H,Q):gX(p,y,Se,M,R,H,Q);if(!(M&m)){var ct=ke&&sn.call(p,"__wrapped__"),gt=Ve&&sn.call(y,"__wrapped__");if(ct||gt){var Rt=ct?p.value():p,vt=gt?y.value():y;return Q||(Q=new $s),H(Rt,vt,M,R,Q)}}return et?(Q||(Q=new $s),vX(p,y,M,R,H,Q)):!1}function WW(p){return kn(p)&&ki(p)==W}function o8(p,y,M,R){var H=M.length,Q=H,he=!R;if(p==null)return!Q;for(p=fn(p);H--;){var xe=M[H];if(he&&xe[2]?xe[1]!==p[xe[0]]:!(xe[0]in p))return!1}for(;++H<Q;){xe=M[H];var Se=xe[0],ze=p[Se],ke=xe[1];if(he&&xe[2]){if(ze===t&&!(Se in p))return!1}else{var Ve=new $s;if(R)var et=R(ze,ke,Se,p,y,Ve);if(!(et===t?Ld(ke,ze,m|v,R,Ve):et))return!1}}return!0}function nS(p){if(!Dn(p)||TX(p))return!1;var y=mo(p)?WV:bt;return y.test(Ul(p))}function XW(p){return kn(p)&&nr(p)==K}function YW(p){return kn(p)&&ki(p)==ce}function $W(p){return kn(p)&&Pm(p.length)&&!!An[nr(p)]}function iS(p){return typeof p=="function"?p:p==null?Dr:typeof p=="object"?St(p)?oS(p[0],p[1]):sS(p):AA(p)}function a8(p){if(!Rd(p))return ZV(p);var y=[];for(var M in fn(p))sn.call(p,M)&&M!="constructor"&&y.push(M);return y}function qW(p){if(!Dn(p))return PX(p);var y=Rd(p),M=[];for(var R in p)R=="constructor"&&(y||!sn.call(p,R))||M.push(R);return M}function l8(p,y){return p<y}function rS(p,y){var M=-1,R=Fr(p)?De(p.length):[];return la(p,function(H,Q,he){R[++M]=y(H,Q,he)}),R}function sS(p){var y=M8(p);return y.length==1&&y[0][2]?zS(y[0][0],y[0][1]):function(M){return M===p||o8(M,p,y)}}function oS(p,y){return A8(p)&&US(y)?zS(S0(p),y):function(M){var R=N8(M,p);return R===t&&R===y?O8(M,p):Ld(y,R,m|v)}}function pm(p,y,M,R,H){p!==y&&n8(y,function(Q,he){if(H||(H=new $s),Dn(Q))jW(p,y,he,M,pm,R,H);else{var xe=R?R(E8(p,he),Q,he+"",p,y,H):t;xe===t&&(xe=Q),e8(p,he,xe)}},Ir)}function jW(p,y,M,R,H,Q,he){var xe=E8(p,M),Se=E8(y,M),ze=he.get(Se);if(ze){e8(p,M,ze);return}var ke=Q?Q(xe,Se,M+"",p,y,he):t,Ve=ke===t;if(Ve){var et=St(Se),ct=!et&&ha(Se),gt=!et&&!ct&&Ou(Se);ke=Se,et||ct||gt?St(xe)?ke=xe:$n(xe)?ke=Rr(xe):ct?(Ve=!1,ke=xS(Se,!0)):gt?(Ve=!1,ke=yS(Se,!0)):ke=[]:Id(Se)||zl(Se)?(ke=xe,zl(xe)?ke=mA(xe):(!Dn(xe)||mo(xe))&&(ke=BS(Se))):Ve=!1}Ve&&(he.set(Se,ke),H(ke,Se,R,Q,he),he.delete(Se)),e8(p,M,ke)}function aS(p,y){var M=p.length;if(!!M)return y+=y<0?M:0,po(y,M)?p[y]:t}function lS(p,y,M){y.length?y=Pn(y,function(Q){return St(Q)?function(he){return Ol(he,Q.length===1?Q[0]:Q)}:Q}):y=[Dr];var R=-1;y=Pn(y,Wr(mt()));var H=rS(p,function(Q,he,xe){var Se=Pn(y,function(ze){return ze(Q)});return{criteria:Se,index:++R,value:Q}});return wV(H,function(Q,he){return lX(Q,he,M)})}function ZW(p,y){return cS(p,y,function(M,R){return O8(p,R)})}function cS(p,y,M){for(var R=-1,H=y.length,Q={};++R<H;){var he=y[R],xe=Ol(p,he);M(xe,he)&&Cd(Q,ua(he,p),xe)}return Q}function QW(p){return function(y){return Ol(y,p)}}function c8(p,y,M,R){var H=R?bV:Au,Q=-1,he=y.length,xe=p;for(p===y&&(y=Rr(y)),M&&(xe=Pn(p,Wr(M)));++Q<he;)for(var Se=0,ze=y[Q],ke=M?M(ze):ze;(Se=H(xe,ke,Se,R))>-1;)xe!==p&&rm.call(xe,Se,1),rm.call(p,Se,1);return p}function uS(p,y){for(var M=p?y.length:0,R=M-1;M--;){var H=y[M];if(M==R||H!==Q){var Q=H;po(H)?rm.call(p,H,1):d8(p,H)}}return p}function u8(p,y){return p+am(WM()*(y-p+1))}function JW(p,y,M,R){for(var H=-1,Q=ci(om((y-p)/(M||1)),0),he=De(Q);Q--;)he[R?Q:++H]=p,p+=M;return he}function f8(p,y){var M="";if(!p||y<1||y>Y)return M;do y%2&&(M+=p),y=am(y/2),y&&(p+=p);while(y);return M}function Ft(p,y){return L8(kS(p,y,Dr),p+"")}function KW(p){return $M(Bu(p))}function eX(p,y){var M=Bu(p);return Sm(M,Nl(y,0,M.length))}function Cd(p,y,M,R){if(!Dn(p))return p;y=ua(y,p);for(var H=-1,Q=y.length,he=Q-1,xe=p;xe!=null&&++H<Q;){var Se=S0(y[H]),ze=M;if(Se==="__proto__"||Se==="constructor"||Se==="prototype")return p;if(H!=he){var ke=xe[Se];ze=R?R(ke,Se,xe):t,ze===t&&(ze=Dn(ke)?ke:po(y[H+1])?[]:{})}Ad(xe,Se,ze),xe=xe[Se]}return p}var fS=lm?function(p,y){return lm.set(p,y),p}:Dr,tX=sm?function(p,y){return sm(p,"toString",{configurable:!0,enumerable:!1,value:U8(y),writable:!0})}:Dr;function nX(p){return Sm(Bu(p))}function gs(p,y,M){var R=-1,H=p.length;y<0&&(y=-y>H?0:H+y),M=M>H?H:M,M<0&&(M+=H),H=y>M?0:M-y>>>0,y>>>=0;for(var Q=De(H);++R<H;)Q[R]=p[R+y];return Q}function iX(p,y){var M;return la(p,function(R,H,Q){return M=y(R,H,Q),!M}),!!M}function mm(p,y,M){var R=0,H=p==null?R:p.length;if(typeof y=="number"&&y===y&&H<=de){for(;R<H;){var Q=R+H>>>1,he=p[Q];he!==null&&!Yr(he)&&(M?he<=y:he<y)?R=Q+1:H=Q}return H}return h8(p,y,Dr,M)}function h8(p,y,M,R){var H=0,Q=p==null?0:p.length;if(Q===0)return 0;y=M(y);for(var he=y!==y,xe=y===null,Se=Yr(y),ze=y===t;H<Q;){var ke=am((H+Q)/2),Ve=M(p[ke]),et=Ve!==t,ct=Ve===null,gt=Ve===Ve,Rt=Yr(Ve);if(he)var vt=R||gt;else ze?vt=gt&&(R||et):xe?vt=gt&&et&&(R||!ct):Se?vt=gt&&et&&!ct&&(R||!Rt):ct||Rt?vt=!1:vt=R?Ve<=y:Ve<y;vt?H=ke+1:Q=ke}return zi(Q,ve)}function hS(p,y){for(var M=-1,R=p.length,H=0,Q=[];++M<R;){var he=p[M],xe=y?y(he):he;if(!M||!qs(xe,Se)){var Se=xe;Q[H++]=he===0?0:he}}return Q}function dS(p){return typeof p=="number"?p:Yr(p)?re:+p}function Xr(p){if(typeof p=="string")return p;if(St(p))return Pn(p,Xr)+"";if(Yr(p))return XM?XM.call(p):"";var y=p+"";return y=="0"&&1/p==-B?"-0":y}function ca(p,y,M){var R=-1,H=q2,Q=p.length,he=!0,xe=[],Se=xe;if(M)he=!1,H=Hg;else if(Q>=r){var ze=y?null:pX(p);if(ze)return Z2(ze);he=!1,H=yd,Se=new Dl}else Se=y?[]:xe;e:for(;++R<Q;){var ke=p[R],Ve=y?y(ke):ke;if(ke=M||ke!==0?ke:0,he&&Ve===Ve){for(var et=Se.length;et--;)if(Se[et]===Ve)continue e;y&&Se.push(Ve),xe.push(ke)}else H(Se,Ve,M)||(Se!==xe&&Se.push(Ve),xe.push(ke))}return xe}function d8(p,y){return y=ua(y,p),p=HS(p,y),p==null||delete p[S0(vs(y))]}function pS(p,y,M,R){return Cd(p,y,M(Ol(p,y)),R)}function gm(p,y,M,R){for(var H=p.length,Q=R?H:-1;(R?Q--:++Q<H)&&y(p[Q],Q,p););return M?gs(p,R?0:Q,R?Q+1:H):gs(p,R?Q+1:0,R?H:Q)}function mS(p,y){var M=p;return M instanceof kt&&(M=M.value()),Gg(y,function(R,H){return H.func.apply(H.thisArg,sa([R],H.args))},M)}function p8(p,y,M){var R=p.length;if(R<2)return R?ca(p[0]):[];for(var H=-1,Q=De(R);++H<R;)for(var he=p[H],xe=-1;++xe<R;)xe!=H&&(Q[H]=Td(Q[H]||he,p[xe],y,M));return ca(Ci(Q,1),y,M)}function gS(p,y,M){for(var R=-1,H=p.length,Q=y.length,he={};++R<H;){var xe=R<Q?y[R]:t;M(he,p[R],xe)}return he}function m8(p){return $n(p)?p:[]}function g8(p){return typeof p=="function"?p:Dr}function ua(p,y){return St(p)?p:A8(p,y)?[p]:XS(Kt(p))}var rX=Ft;function fa(p,y,M){var R=p.length;return M=M===t?R:M,!y&&M>=R?p:gs(p,y,M)}var vS=XV||function(p){return Li.clearTimeout(p)};function xS(p,y){if(y)return p.slice();var M=p.length,R=zM?zM(M):new p.constructor(M);return p.copy(R),R}function v8(p){var y=new p.constructor(p.byteLength);return new nm(y).set(new nm(p)),y}function sX(p,y){var M=y?v8(p.buffer):p.buffer;return new p.constructor(M,p.byteOffset,p.byteLength)}function oX(p){var y=new p.constructor(p.source,Ke.exec(p));return y.lastIndex=p.lastIndex,y}function aX(p){return Sd?fn(Sd.call(p)):{}}function yS(p,y){var M=y?v8(p.buffer):p.buffer;return new p.constructor(M,p.byteOffset,p.length)}function _S(p,y){if(p!==y){var M=p!==t,R=p===null,H=p===p,Q=Yr(p),he=y!==t,xe=y===null,Se=y===y,ze=Yr(y);if(!xe&&!ze&&!Q&&p>y||Q&&he&&Se&&!xe&&!ze||R&&he&&Se||!M&&Se||!H)return 1;if(!R&&!Q&&!ze&&p<y||ze&&M&&H&&!R&&!Q||xe&&M&&H||!he&&H||!Se)return-1}return 0}function lX(p,y,M){for(var R=-1,H=p.criteria,Q=y.criteria,he=H.length,xe=M.length;++R<he;){var Se=_S(H[R],Q[R]);if(Se){if(R>=xe)return Se;var ze=M[R];return Se*(ze=="desc"?-1:1)}}return p.index-y.index}function bS(p,y,M,R){for(var H=-1,Q=p.length,he=M.length,xe=-1,Se=y.length,ze=ci(Q-he,0),ke=De(Se+ze),Ve=!R;++xe<Se;)ke[xe]=y[xe];for(;++H<he;)(Ve||H<Q)&&(ke[M[H]]=p[H]);for(;ze--;)ke[xe++]=p[H++];return ke}function wS(p,y,M,R){for(var H=-1,Q=p.length,he=-1,xe=M.length,Se=-1,ze=y.length,ke=ci(Q-xe,0),Ve=De(ke+ze),et=!R;++H<ke;)Ve[H]=p[H];for(var ct=H;++Se<ze;)Ve[ct+Se]=y[Se];for(;++he<xe;)(et||H<Q)&&(Ve[ct+M[he]]=p[H++]);return Ve}function Rr(p,y){var M=-1,R=p.length;for(y||(y=De(R));++M<R;)y[M]=p[M];return y}function M0(p,y,M,R){var H=!M;M||(M={});for(var Q=-1,he=y.length;++Q<he;){var xe=y[Q],Se=R?R(M[xe],p[xe],xe,M,p):t;Se===t&&(Se=p[xe]),H?uo(M,xe,Se):Ad(M,xe,Se)}return M}function cX(p,y){return M0(p,S8(p),y)}function uX(p,y){return M0(p,NS(p),y)}function vm(p,y){return function(M,R){var H=St(M)?mV:FW,Q=y?y():{};return H(M,p,mt(R,2),Q)}}function Iu(p){return Ft(function(y,M){var R=-1,H=M.length,Q=H>1?M[H-1]:t,he=H>2?M[2]:t;for(Q=p.length>3&&typeof Q=="function"?(H--,Q):t,he&&ir(M[0],M[1],he)&&(Q=H<3?t:Q,H=1),y=fn(y);++R<H;){var xe=M[R];xe&&p(y,xe,R,Q)}return y})}function MS(p,y){return function(M,R){if(M==null)return M;if(!Fr(M))return p(M,R);for(var H=M.length,Q=y?H:-1,he=fn(M);(y?Q--:++Q<H)&&R(he[Q],Q,he)!==!1;);return M}}function SS(p){return function(y,M,R){for(var H=-1,Q=fn(y),he=R(y),xe=he.length;xe--;){var Se=he[p?xe:++H];if(M(Q[Se],Se,Q)===!1)break}return y}}function fX(p,y,M){var R=y&_,H=Pd(p);function Q(){var he=this&&this!==Li&&this instanceof Q?H:p;return he.apply(R?M:this,arguments)}return Q}function AS(p){return function(y){y=Kt(y);var M=Tu(y)?Ys(y):t,R=M?M[0]:y.charAt(0),H=M?fa(M,1).join(""):y.slice(1);return R[p]()+H}}function Du(p){return function(y){return Gg(MA(wA(y).replace(tV,"")),p,"")}}function Pd(p){return function(){var y=arguments;switch(y.length){case 0:return new p;case 1:return new p(y[0]);case 2:return new p(y[0],y[1]);case 3:return new p(y[0],y[1],y[2]);case 4:return new p(y[0],y[1],y[2],y[3]);case 5:return new p(y[0],y[1],y[2],y[3],y[4]);case 6:return new p(y[0],y[1],y[2],y[3],y[4],y[5]);case 7:return new p(y[0],y[1],y[2],y[3],y[4],y[5],y[6])}var M=Fu(p.prototype),R=p.apply(M,y);return Dn(R)?R:M}}function hX(p,y,M){var R=Pd(p);function H(){for(var Q=arguments.length,he=De(Q),xe=Q,Se=Nu(H);xe--;)he[xe]=arguments[xe];var ze=Q<3&&he[0]!==Se&&he[Q-1]!==Se?[]:oa(he,Se);if(Q-=ze.length,Q<M)return PS(p,y,xm,H.placeholder,t,he,ze,t,t,M-Q);var ke=this&&this!==Li&&this instanceof H?R:p;return Vr(ke,this,he)}return H}function TS(p){return function(y,M,R){var H=fn(y);if(!Fr(y)){var Q=mt(M,3);y=di(y),M=function(xe){return Q(H[xe],xe,H)}}var he=p(y,M,R);return he>-1?H[Q?y[he]:he]:t}}function ES(p){return ho(function(y){var M=y.length,R=M,H=ps.prototype.thru;for(p&&y.reverse();R--;){var Q=y[R];if(typeof Q!="function")throw new ds(o);if(H&&!he&&wm(Q)=="wrapper")var he=new ps([],!0)}for(R=he?R:M;++R<M;){Q=y[R];var xe=wm(Q),Se=xe=="wrapper"?w8(Q):t;Se&&T8(Se[0])&&Se[1]==(T|b|S|F)&&!Se[4].length&&Se[9]==1?he=he[wm(Se[0])].apply(he,Se[3]):he=Q.length==1&&T8(Q)?he[xe]():he.thru(Q)}return function(){var ze=arguments,ke=ze[0];if(he&&ze.length==1&&St(ke))return he.plant(ke).value();for(var Ve=0,et=M?y[Ve].apply(this,ze):ke;++Ve<M;)et=y[Ve].call(this,et);return et}})}function xm(p,y,M,R,H,Q,he,xe,Se,ze){var ke=y&T,Ve=y&_,et=y&g,ct=y&(b|w),gt=y&U,Rt=et?t:Pd(p);function vt(){for(var Bt=arguments.length,Wt=De(Bt),$r=Bt;$r--;)Wt[$r]=arguments[$r];if(ct)var rr=Nu(vt),qr=SV(Wt,rr);if(R&&(Wt=bS(Wt,R,H,ct)),Q&&(Wt=wS(Wt,Q,he,ct)),Bt-=qr,ct&&Bt<ze){var qn=oa(Wt,rr);return PS(p,y,xm,vt.placeholder,M,Wt,qn,xe,Se,ze-Bt)}var js=Ve?M:this,vo=et?js[p]:p;return Bt=Wt.length,xe?Wt=FX(Wt,xe):gt&&Bt>1&&Wt.reverse(),ke&&Se<Bt&&(Wt.length=Se),this&&this!==Li&&this instanceof vt&&(vo=Rt||Pd(vo)),vo.apply(js,Wt)}return vt}function LS(p,y){return function(M,R){return kW(M,p,y(R),{})}}function ym(p,y){return function(M,R){var H;if(M===t&&R===t)return y;if(M!==t&&(H=M),R!==t){if(H===t)return R;typeof M=="string"||typeof R=="string"?(M=Xr(M),R=Xr(R)):(M=dS(M),R=dS(R)),H=p(M,R)}return H}}function x8(p){return ho(function(y){return y=Pn(y,Wr(mt())),Ft(function(M){var R=this;return p(y,function(H){return Vr(H,R,M)})})})}function _m(p,y){y=y===t?" ":Xr(y);var M=y.length;if(M<2)return M?f8(y,p):y;var R=f8(y,om(p/Eu(y)));return Tu(y)?fa(Ys(R),0,p).join(""):R.slice(0,p)}function dX(p,y,M,R){var H=y&_,Q=Pd(p);function he(){for(var xe=-1,Se=arguments.length,ze=-1,ke=R.length,Ve=De(ke+Se),et=this&&this!==Li&&this instanceof he?Q:p;++ze<ke;)Ve[ze]=R[ze];for(;Se--;)Ve[ze++]=arguments[++xe];return Vr(et,H?M:this,Ve)}return he}function CS(p){return function(y,M,R){return R&&typeof R!="number"&&ir(y,M,R)&&(M=R=t),y=go(y),M===t?(M=y,y=0):M=go(M),R=R===t?y<M?1:-1:go(R),JW(y,M,R,p)}}function bm(p){return function(y,M){return typeof y=="string"&&typeof M=="string"||(y=xs(y),M=xs(M)),p(y,M)}}function PS(p,y,M,R,H,Q,he,xe,Se,ze){var ke=y&b,Ve=ke?he:t,et=ke?t:he,ct=ke?Q:t,gt=ke?t:Q;y|=ke?S:A,y&=~(ke?A:S),y&x||(y&=~(_|g));var Rt=[p,y,H,ct,Ve,gt,et,xe,Se,ze],vt=M.apply(t,Rt);return T8(p)&&GS(vt,Rt),vt.placeholder=R,VS(vt,p,y)}function y8(p){var y=li[p];return function(M,R){if(M=xs(M),R=R==null?0:zi(Ct(R),292),R&&VM(M)){var H=(Kt(M)+"e").split("e"),Q=y(H[0]+"e"+(+H[1]+R));return H=(Kt(Q)+"e").split("e"),+(H[0]+"e"+(+H[1]-R))}return y(M)}}var pX=Pu&&1/Z2(new Pu([,-0]))[1]==B?function(p){return new Pu(p)}:H8;function RS(p){return function(y){var M=ki(y);return M==W?jg(y):M==ce?RV(y):MV(y,p(y))}}function fo(p,y,M,R,H,Q,he,xe){var Se=y&g;if(!Se&&typeof p!="function")throw new ds(o);var ze=R?R.length:0;if(ze||(y&=~(S|A),R=H=t),he=he===t?he:ci(Ct(he),0),xe=xe===t?xe:Ct(xe),ze-=H?H.length:0,y&A){var ke=R,Ve=H;R=H=t}var et=Se?t:w8(p),ct=[p,y,M,R,H,ke,Ve,Q,he,xe];if(et&&CX(ct,et),p=ct[0],y=ct[1],M=ct[2],R=ct[3],H=ct[4],xe=ct[9]=ct[9]===t?Se?0:p.length:ci(ct[9]-ze,0),!xe&&y&(b|w)&&(y&=~(b|w)),!y||y==_)var gt=fX(p,y,M);else y==b||y==w?gt=hX(p,y,xe):(y==S||y==(_|S))&&!H.length?gt=dX(p,y,M,R):gt=xm.apply(t,ct);var Rt=et?fS:GS;return VS(Rt(gt,ct),p,y)}function FS(p,y,M,R){return p===t||qs(p,Cu[M])&&!sn.call(R,M)?y:p}function IS(p,y,M,R,H,Q){return Dn(p)&&Dn(y)&&(Q.set(y,p),pm(p,y,t,IS,Q),Q.delete(y)),p}function mX(p){return Id(p)?t:p}function DS(p,y,M,R,H,Q){var he=M&m,xe=p.length,Se=y.length;if(xe!=Se&&!(he&&Se>xe))return!1;var ze=Q.get(p),ke=Q.get(y);if(ze&&ke)return ze==y&&ke==p;var Ve=-1,et=!0,ct=M&v?new Dl:t;for(Q.set(p,y),Q.set(y,p);++Ve<xe;){var gt=p[Ve],Rt=y[Ve];if(R)var vt=he?R(Rt,gt,Ve,y,p,Q):R(gt,Rt,Ve,p,y,Q);if(vt!==t){if(vt)continue;et=!1;break}if(ct){if(!Vg(y,function(Bt,Wt){if(!yd(ct,Wt)&&(gt===Bt||H(gt,Bt,M,R,Q)))return ct.push(Wt)})){et=!1;break}}else if(!(gt===Rt||H(gt,Rt,M,R,Q))){et=!1;break}}return Q.delete(p),Q.delete(y),et}function gX(p,y,M,R,H,Q,he){switch(M){case we:if(p.byteLength!=y.byteLength||p.byteOffset!=y.byteOffset)return!1;p=p.buffer,y=y.buffer;case V:return!(p.byteLength!=y.byteLength||!Q(new nm(p),new nm(y)));case be:case ue:case se:return qs(+p,+y);case Te:return p.name==y.name&&p.message==y.message;case K:case pe:return p==y+"";case W:var xe=jg;case ce:var Se=R&m;if(xe||(xe=Z2),p.size!=y.size&&!Se)return!1;var ze=he.get(p);if(ze)return ze==y;R|=v,he.set(p,y);var ke=DS(xe(p),xe(y),R,H,Q,he);return he.delete(p),ke;case Ce:if(Sd)return Sd.call(p)==Sd.call(y)}return!1}function vX(p,y,M,R,H,Q){var he=M&m,xe=_8(p),Se=xe.length,ze=_8(y),ke=ze.length;if(Se!=ke&&!he)return!1;for(var Ve=Se;Ve--;){var et=xe[Ve];if(!(he?et in y:sn.call(y,et)))return!1}var ct=Q.get(p),gt=Q.get(y);if(ct&&gt)return ct==y&&gt==p;var Rt=!0;Q.set(p,y),Q.set(y,p);for(var vt=he;++Ve<Se;){et=xe[Ve];var Bt=p[et],Wt=y[et];if(R)var $r=he?R(Wt,Bt,et,y,p,Q):R(Bt,Wt,et,p,y,Q);if(!($r===t?Bt===Wt||H(Bt,Wt,M,R,Q):$r)){Rt=!1;break}vt||(vt=et=="constructor")}if(Rt&&!vt){var rr=p.constructor,qr=y.constructor;rr!=qr&&"constructor"in p&&"constructor"in y&&!(typeof rr=="function"&&rr instanceof rr&&typeof qr=="function"&&qr instanceof qr)&&(Rt=!1)}return Q.delete(p),Q.delete(y),Rt}function ho(p){return L8(kS(p,t,jS),p+"")}function _8(p){return eS(p,di,S8)}function b8(p){return eS(p,Ir,NS)}var w8=lm?function(p){return lm.get(p)}:H8;function wm(p){for(var y=p.name+"",M=Ru[y],R=sn.call(Ru,y)?M.length:0;R--;){var H=M[R],Q=H.func;if(Q==null||Q==p)return H.name}return y}function Nu(p){var y=sn.call(q,"placeholder")?q:p;return y.placeholder}function mt(){var p=q.iteratee||z8;return p=p===z8?iS:p,arguments.length?p(arguments[0],arguments[1]):p}function Mm(p,y){var M=p.__data__;return AX(y)?M[typeof y=="string"?"string":"hash"]:M.map}function M8(p){for(var y=di(p),M=y.length;M--;){var R=y[M],H=p[R];y[M]=[R,H,US(H)]}return y}function Bl(p,y){var M=LV(p,y);return nS(M)?M:t}function xX(p){var y=sn.call(p,Fl),M=p[Fl];try{p[Fl]=t;var R=!0}catch{}var H=em.call(p);return R&&(y?p[Fl]=M:delete p[Fl]),H}var S8=Qg?function(p){return p==null?[]:(p=fn(p),ra(Qg(p),function(y){return HM.call(p,y)}))}:G8,NS=Qg?function(p){for(var y=[];p;)sa(y,S8(p)),p=im(p);return y}:G8,ki=nr;(Jg&&ki(new Jg(new ArrayBuffer(1)))!=we||bd&&ki(new bd)!=W||Kg&&ki(Kg.resolve())!=E||Pu&&ki(new Pu)!=ce||wd&&ki(new wd)!=Re)&&(ki=function(p){var y=nr(p),M=y==L?p.constructor:t,R=M?Ul(M):"";if(R)switch(R){case eW:return we;case tW:return W;case nW:return E;case iW:return ce;case rW:return Re}return y});function yX(p,y,M){for(var R=-1,H=M.length;++R<H;){var Q=M[R],he=Q.size;switch(Q.type){case"drop":p+=he;break;case"dropRight":y-=he;break;case"take":y=zi(y,p+he);break;case"takeRight":p=ci(p,y-he);break}}return{start:p,end:y}}function _X(p){var y=p.match(fe);return y?y[1].split(Le):[]}function OS(p,y,M){y=ua(y,p);for(var R=-1,H=y.length,Q=!1;++R<H;){var he=S0(y[R]);if(!(Q=p!=null&&M(p,he)))break;p=p[he]}return Q||++R!=H?Q:(H=p==null?0:p.length,!!H&&Pm(H)&&po(he,H)&&(St(p)||zl(p)))}function bX(p){var y=p.length,M=new p.constructor(y);return y&&typeof p[0]=="string"&&sn.call(p,"index")&&(M.index=p.index,M.input=p.input),M}function BS(p){return typeof p.constructor=="function"&&!Rd(p)?Fu(im(p)):{}}function wX(p,y,M){var R=p.constructor;switch(y){case V:return v8(p);case be:case ue:return new R(+p);case we:return sX(p,M);case le:case Pe:case ee:case Ue:case lt:case at:case Ot:case tt:case _t:return yS(p,M);case W:return new R;case se:case pe:return new R(p);case K:return oX(p);case ce:return new R;case Ce:return aX(p)}}function MX(p,y){var M=y.length;if(!M)return p;var R=M-1;return y[R]=(M>1?"& ":"")+y[R],y=y.join(M>2?", ":" "),p.replace(oe,`{
/* [wrapped with `+y+`] */
`)}function SX(p){return St(p)||zl(p)||!!(GM&&p&&p[GM])}function po(p,y){var M=typeof p;return y=y==null?Y:y,!!y&&(M=="number"||M!="symbol"&&Ei.test(p))&&p>-1&&p%1==0&&p<y}function ir(p,y,M){if(!Dn(M))return!1;var R=typeof y;return(R=="number"?Fr(M)&&po(y,M.length):R=="string"&&y in M)?qs(M[y],p):!1}function A8(p,y){if(St(p))return!1;var M=typeof p;return M=="number"||M=="symbol"||M=="boolean"||p==null||Yr(p)?!0:na.test(p)||!wu.test(p)||y!=null&&p in fn(y)}function AX(p){var y=typeof p;return y=="string"||y=="number"||y=="symbol"||y=="boolean"?p!=="__proto__":p===null}function T8(p){var y=wm(p),M=q[y];if(typeof M!="function"||!(y in kt.prototype))return!1;if(p===M)return!0;var R=w8(M);return!!R&&p===R[0]}function TX(p){return!!UM&&UM in p}var EX=J2?mo:V8;function Rd(p){var y=p&&p.constructor,M=typeof y=="function"&&y.prototype||Cu;return p===M}function US(p){return p===p&&!Dn(p)}function zS(p,y){return function(M){return M==null?!1:M[p]===y&&(y!==t||p in fn(M))}}function LX(p){var y=Lm(p,function(R){return M.size===c&&M.clear(),R}),M=y.cache;return y}function CX(p,y){var M=p[1],R=y[1],H=M|R,Q=H<(_|g|T),he=R==T&&M==b||R==T&&M==F&&p[7].length<=y[8]||R==(T|F)&&y[7].length<=y[8]&&M==b;if(!(Q||he))return p;R&_&&(p[2]=y[2],H|=M&_?0:x);var xe=y[3];if(xe){var Se=p[3];p[3]=Se?bS(Se,xe,y[4]):xe,p[4]=Se?oa(p[3],u):y[4]}return xe=y[5],xe&&(Se=p[5],p[5]=Se?wS(Se,xe,y[6]):xe,p[6]=Se?oa(p[5],u):y[6]),xe=y[7],xe&&(p[7]=xe),R&T&&(p[8]=p[8]==null?y[8]:zi(p[8],y[8])),p[9]==null&&(p[9]=y[9]),p[0]=y[0],p[1]=H,p}function PX(p){var y=[];if(p!=null)for(var M in fn(p))y.push(M);return y}function RX(p){return em.call(p)}function kS(p,y,M){return y=ci(y===t?p.length-1:y,0),function(){for(var R=arguments,H=-1,Q=ci(R.length-y,0),he=De(Q);++H<Q;)he[H]=R[y+H];H=-1;for(var xe=De(y+1);++H<y;)xe[H]=R[H];return xe[y]=M(he),Vr(p,this,xe)}}function HS(p,y){return y.length<2?p:Ol(p,gs(y,0,-1))}function FX(p,y){for(var M=p.length,R=zi(y.length,M),H=Rr(p);R--;){var Q=y[R];p[R]=po(Q,M)?H[Q]:t}return p}function E8(p,y){if(!(y==="constructor"&&typeof p[y]=="function")&&y!="__proto__")return p[y]}var GS=WS(fS),Fd=$V||function(p,y){return Li.setTimeout(p,y)},L8=WS(tX);function VS(p,y,M){var R=y+"";return L8(p,MX(R,IX(_X(R),M)))}function WS(p){var y=0,M=0;return function(){var R=QV(),H=D-(R-M);if(M=R,H>0){if(++y>=G)return arguments[0]}else y=0;return p.apply(t,arguments)}}function Sm(p,y){var M=-1,R=p.length,H=R-1;for(y=y===t?R:y;++M<y;){var Q=u8(M,H),he=p[Q];p[Q]=p[M],p[M]=he}return p.length=y,p}var XS=LX(function(p){var y=[];return p.charCodeAt(0)===46&&y.push(""),p.replace(Mu,function(M,R,H,Q){y.push(H?Q.replace(Ye,"$1"):R||M)}),y});function S0(p){if(typeof p=="string"||Yr(p))return p;var y=p+"";return y=="0"&&1/p==-B?"-0":y}function Ul(p){if(p!=null){try{return K2.call(p)}catch{}try{return p+""}catch{}}return""}function IX(p,y){return hs(ye,function(M){var R="_."+M[0];y&M[1]&&!q2(p,R)&&p.push(R)}),p.sort()}function YS(p){if(p instanceof kt)return p.clone();var y=new ps(p.__wrapped__,p.__chain__);return y.__actions__=Rr(p.__actions__),y.__index__=p.__index__,y.__values__=p.__values__,y}function DX(p,y,M){(M?ir(p,y,M):y===t)?y=1:y=ci(Ct(y),0);var R=p==null?0:p.length;if(!R||y<1)return[];for(var H=0,Q=0,he=De(om(R/y));H<R;)he[Q++]=gs(p,H,H+=y);return he}function NX(p){for(var y=-1,M=p==null?0:p.length,R=0,H=[];++y<M;){var Q=p[y];Q&&(H[R++]=Q)}return H}function OX(){var p=arguments.length;if(!p)return[];for(var y=De(p-1),M=arguments[0],R=p;R--;)y[R-1]=arguments[R];return sa(St(M)?Rr(M):[M],Ci(y,1))}var BX=Ft(function(p,y){return $n(p)?Td(p,Ci(y,1,$n,!0)):[]}),UX=Ft(function(p,y){var M=vs(y);return $n(M)&&(M=t),$n(p)?Td(p,Ci(y,1,$n,!0),mt(M,2)):[]}),zX=Ft(function(p,y){var M=vs(y);return $n(M)&&(M=t),$n(p)?Td(p,Ci(y,1,$n,!0),t,M):[]});function kX(p,y,M){var R=p==null?0:p.length;return R?(y=M||y===t?1:Ct(y),gs(p,y<0?0:y,R)):[]}function HX(p,y,M){var R=p==null?0:p.length;return R?(y=M||y===t?1:Ct(y),y=R-y,gs(p,0,y<0?0:y)):[]}function GX(p,y){return p&&p.length?gm(p,mt(y,3),!0,!0):[]}function VX(p,y){return p&&p.length?gm(p,mt(y,3),!0):[]}function WX(p,y,M,R){var H=p==null?0:p.length;return H?(M&&typeof M!="number"&&ir(p,y,M)&&(M=0,R=H),OW(p,y,M,R)):[]}function $S(p,y,M){var R=p==null?0:p.length;if(!R)return-1;var H=M==null?0:Ct(M);return H<0&&(H=ci(R+H,0)),j2(p,mt(y,3),H)}function qS(p,y,M){var R=p==null?0:p.length;if(!R)return-1;var H=R-1;return M!==t&&(H=Ct(M),H=M<0?ci(R+H,0):zi(H,R-1)),j2(p,mt(y,3),H,!0)}function jS(p){var y=p==null?0:p.length;return y?Ci(p,1):[]}function XX(p){var y=p==null?0:p.length;return y?Ci(p,B):[]}function YX(p,y){var M=p==null?0:p.length;return M?(y=y===t?1:Ct(y),Ci(p,y)):[]}function $X(p){for(var y=-1,M=p==null?0:p.length,R={};++y<M;){var H=p[y];R[H[0]]=H[1]}return R}function ZS(p){return p&&p.length?p[0]:t}function qX(p,y,M){var R=p==null?0:p.length;if(!R)return-1;var H=M==null?0:Ct(M);return H<0&&(H=ci(R+H,0)),Au(p,y,H)}function jX(p){var y=p==null?0:p.length;return y?gs(p,0,-1):[]}var ZX=Ft(function(p){var y=Pn(p,m8);return y.length&&y[0]===p[0]?s8(y):[]}),QX=Ft(function(p){var y=vs(p),M=Pn(p,m8);return y===vs(M)?y=t:M.pop(),M.length&&M[0]===p[0]?s8(M,mt(y,2)):[]}),JX=Ft(function(p){var y=vs(p),M=Pn(p,m8);return y=typeof y=="function"?y:t,y&&M.pop(),M.length&&M[0]===p[0]?s8(M,t,y):[]});function KX(p,y){return p==null?"":jV.call(p,y)}function vs(p){var y=p==null?0:p.length;return y?p[y-1]:t}function eY(p,y,M){var R=p==null?0:p.length;if(!R)return-1;var H=R;return M!==t&&(H=Ct(M),H=H<0?ci(R+H,0):zi(H,R-1)),y===y?IV(p,y,H):j2(p,PM,H,!0)}function tY(p,y){return p&&p.length?aS(p,Ct(y)):t}var nY=Ft(QS);function QS(p,y){return p&&p.length&&y&&y.length?c8(p,y):p}function iY(p,y,M){return p&&p.length&&y&&y.length?c8(p,y,mt(M,2)):p}function rY(p,y,M){return p&&p.length&&y&&y.length?c8(p,y,t,M):p}var sY=ho(function(p,y){var M=p==null?0:p.length,R=t8(p,y);return uS(p,Pn(y,function(H){return po(H,M)?+H:H}).sort(_S)),R});function oY(p,y){var M=[];if(!(p&&p.length))return M;var R=-1,H=[],Q=p.length;for(y=mt(y,3);++R<Q;){var he=p[R];y(he,R,p)&&(M.push(he),H.push(R))}return uS(p,H),M}function C8(p){return p==null?p:KV.call(p)}function aY(p,y,M){var R=p==null?0:p.length;return R?(M&&typeof M!="number"&&ir(p,y,M)?(y=0,M=R):(y=y==null?0:Ct(y),M=M===t?R:Ct(M)),gs(p,y,M)):[]}function lY(p,y){return mm(p,y)}function cY(p,y,M){return h8(p,y,mt(M,2))}function uY(p,y){var M=p==null?0:p.length;if(M){var R=mm(p,y);if(R<M&&qs(p[R],y))return R}return-1}function fY(p,y){return mm(p,y,!0)}function hY(p,y,M){return h8(p,y,mt(M,2),!0)}function dY(p,y){var M=p==null?0:p.length;if(M){var R=mm(p,y,!0)-1;if(qs(p[R],y))return R}return-1}function pY(p){return p&&p.length?hS(p):[]}function mY(p,y){return p&&p.length?hS(p,mt(y,2)):[]}function gY(p){var y=p==null?0:p.length;return y?gs(p,1,y):[]}function vY(p,y,M){return p&&p.length?(y=M||y===t?1:Ct(y),gs(p,0,y<0?0:y)):[]}function xY(p,y,M){var R=p==null?0:p.length;return R?(y=M||y===t?1:Ct(y),y=R-y,gs(p,y<0?0:y,R)):[]}function yY(p,y){return p&&p.length?gm(p,mt(y,3),!1,!0):[]}function _Y(p,y){return p&&p.length?gm(p,mt(y,3)):[]}var bY=Ft(function(p){return ca(Ci(p,1,$n,!0))}),wY=Ft(function(p){var y=vs(p);return $n(y)&&(y=t),ca(Ci(p,1,$n,!0),mt(y,2))}),MY=Ft(function(p){var y=vs(p);return y=typeof y=="function"?y:t,ca(Ci(p,1,$n,!0),t,y)});function SY(p){return p&&p.length?ca(p):[]}function AY(p,y){return p&&p.length?ca(p,mt(y,2)):[]}function TY(p,y){return y=typeof y=="function"?y:t,p&&p.length?ca(p,t,y):[]}function P8(p){if(!(p&&p.length))return[];var y=0;return p=ra(p,function(M){if($n(M))return y=ci(M.length,y),!0}),$g(y,function(M){return Pn(p,Wg(M))})}function JS(p,y){if(!(p&&p.length))return[];var M=P8(p);return y==null?M:Pn(M,function(R){return Vr(y,t,R)})}var EY=Ft(function(p,y){return $n(p)?Td(p,y):[]}),LY=Ft(function(p){return p8(ra(p,$n))}),CY=Ft(function(p){var y=vs(p);return $n(y)&&(y=t),p8(ra(p,$n),mt(y,2))}),PY=Ft(function(p){var y=vs(p);return y=typeof y=="function"?y:t,p8(ra(p,$n),t,y)}),RY=Ft(P8);function FY(p,y){return gS(p||[],y||[],Ad)}function IY(p,y){return gS(p||[],y||[],Cd)}var DY=Ft(function(p){var y=p.length,M=y>1?p[y-1]:t;return M=typeof M=="function"?(p.pop(),M):t,JS(p,M)});function KS(p){var y=q(p);return y.__chain__=!0,y}function NY(p,y){return y(p),p}function Am(p,y){return y(p)}var OY=ho(function(p){var y=p.length,M=y?p[0]:0,R=this.__wrapped__,H=function(Q){return t8(Q,p)};return y>1||this.__actions__.length||!(R instanceof kt)||!po(M)?this.thru(H):(R=R.slice(M,+M+(y?1:0)),R.__actions__.push({func:Am,args:[H],thisArg:t}),new ps(R,this.__chain__).thru(function(Q){return y&&!Q.length&&Q.push(t),Q}))});function BY(){return KS(this)}function UY(){return new ps(this.value(),this.__chain__)}function zY(){this.__values__===t&&(this.__values__=dA(this.value()));var p=this.__index__>=this.__values__.length,y=p?t:this.__values__[this.__index__++];return{done:p,value:y}}function kY(){return this}function HY(p){for(var y,M=this;M instanceof um;){var R=YS(M);R.__index__=0,R.__values__=t,y?H.__wrapped__=R:y=R;var H=R;M=M.__wrapped__}return H.__wrapped__=p,y}function GY(){var p=this.__wrapped__;if(p instanceof kt){var y=p;return this.__actions__.length&&(y=new kt(this)),y=y.reverse(),y.__actions__.push({func:Am,args:[C8],thisArg:t}),new ps(y,this.__chain__)}return this.thru(C8)}function VY(){return mS(this.__wrapped__,this.__actions__)}var WY=vm(function(p,y,M){sn.call(p,M)?++p[M]:uo(p,M,1)});function XY(p,y,M){var R=St(p)?LM:NW;return M&&ir(p,y,M)&&(y=t),R(p,mt(y,3))}function YY(p,y){var M=St(p)?ra:JM;return M(p,mt(y,3))}var $Y=TS($S),qY=TS(qS);function jY(p,y){return Ci(Tm(p,y),1)}function ZY(p,y){return Ci(Tm(p,y),B)}function QY(p,y,M){return M=M===t?1:Ct(M),Ci(Tm(p,y),M)}function eA(p,y){var M=St(p)?hs:la;return M(p,mt(y,3))}function tA(p,y){var M=St(p)?gV:QM;return M(p,mt(y,3))}var JY=vm(function(p,y,M){sn.call(p,M)?p[M].push(y):uo(p,M,[y])});function KY(p,y,M,R){p=Fr(p)?p:Bu(p),M=M&&!R?Ct(M):0;var H=p.length;return M<0&&(M=ci(H+M,0)),Rm(p)?M<=H&&p.indexOf(y,M)>-1:!!H&&Au(p,y,M)>-1}var e$=Ft(function(p,y,M){var R=-1,H=typeof y=="function",Q=Fr(p)?De(p.length):[];return la(p,function(he){Q[++R]=H?Vr(y,he,M):Ed(he,y,M)}),Q}),t$=vm(function(p,y,M){uo(p,M,y)});function Tm(p,y){var M=St(p)?Pn:rS;return M(p,mt(y,3))}function n$(p,y,M,R){return p==null?[]:(St(y)||(y=y==null?[]:[y]),M=R?t:M,St(M)||(M=M==null?[]:[M]),lS(p,y,M))}var i$=vm(function(p,y,M){p[M?0:1].push(y)},function(){return[[],[]]});function r$(p,y,M){var R=St(p)?Gg:FM,H=arguments.length<3;return R(p,mt(y,4),M,H,la)}function s$(p,y,M){var R=St(p)?vV:FM,H=arguments.length<3;return R(p,mt(y,4),M,H,QM)}function o$(p,y){var M=St(p)?ra:JM;return M(p,Cm(mt(y,3)))}function a$(p){var y=St(p)?$M:KW;return y(p)}function l$(p,y,M){(M?ir(p,y,M):y===t)?y=1:y=Ct(y);var R=St(p)?PW:eX;return R(p,y)}function c$(p){var y=St(p)?RW:nX;return y(p)}function u$(p){if(p==null)return 0;if(Fr(p))return Rm(p)?Eu(p):p.length;var y=ki(p);return y==W||y==ce?p.size:a8(p).length}function f$(p,y,M){var R=St(p)?Vg:iX;return M&&ir(p,y,M)&&(y=t),R(p,mt(y,3))}var h$=Ft(function(p,y){if(p==null)return[];var M=y.length;return M>1&&ir(p,y[0],y[1])?y=[]:M>2&&ir(y[0],y[1],y[2])&&(y=[y[0]]),lS(p,Ci(y,1),[])}),Em=YV||function(){return Li.Date.now()};function d$(p,y){if(typeof y!="function")throw new ds(o);return p=Ct(p),function(){if(--p<1)return y.apply(this,arguments)}}function nA(p,y,M){return y=M?t:y,y=p&&y==null?p.length:y,fo(p,T,t,t,t,t,y)}function iA(p,y){var M;if(typeof y!="function")throw new ds(o);return p=Ct(p),function(){return--p>0&&(M=y.apply(this,arguments)),p<=1&&(y=t),M}}var R8=Ft(function(p,y,M){var R=_;if(M.length){var H=oa(M,Nu(R8));R|=S}return fo(p,R,y,M,H)}),rA=Ft(function(p,y,M){var R=_|g;if(M.length){var H=oa(M,Nu(rA));R|=S}return fo(y,R,p,M,H)});function sA(p,y,M){y=M?t:y;var R=fo(p,b,t,t,t,t,t,y);return R.placeholder=sA.placeholder,R}function oA(p,y,M){y=M?t:y;var R=fo(p,w,t,t,t,t,t,y);return R.placeholder=oA.placeholder,R}function aA(p,y,M){var R,H,Q,he,xe,Se,ze=0,ke=!1,Ve=!1,et=!0;if(typeof p!="function")throw new ds(o);y=xs(y)||0,Dn(M)&&(ke=!!M.leading,Ve="maxWait"in M,Q=Ve?ci(xs(M.maxWait)||0,y):Q,et="trailing"in M?!!M.trailing:et);function ct(qn){var js=R,vo=H;return R=H=t,ze=qn,he=p.apply(vo,js),he}function gt(qn){return ze=qn,xe=Fd(Bt,y),ke?ct(qn):he}function Rt(qn){var js=qn-Se,vo=qn-ze,TA=y-js;return Ve?zi(TA,Q-vo):TA}function vt(qn){var js=qn-Se,vo=qn-ze;return Se===t||js>=y||js<0||Ve&&vo>=Q}function Bt(){var qn=Em();if(vt(qn))return Wt(qn);xe=Fd(Bt,Rt(qn))}function Wt(qn){return xe=t,et&&R?ct(qn):(R=H=t,he)}function $r(){xe!==t&&vS(xe),ze=0,R=Se=H=xe=t}function rr(){return xe===t?he:Wt(Em())}function qr(){var qn=Em(),js=vt(qn);if(R=arguments,H=this,Se=qn,js){if(xe===t)return gt(Se);if(Ve)return vS(xe),xe=Fd(Bt,y),ct(Se)}return xe===t&&(xe=Fd(Bt,y)),he}return qr.cancel=$r,qr.flush=rr,qr}var p$=Ft(function(p,y){return ZM(p,1,y)}),m$=Ft(function(p,y,M){return ZM(p,xs(y)||0,M)});function g$(p){return fo(p,U)}function Lm(p,y){if(typeof p!="function"||y!=null&&typeof y!="function")throw new ds(o);var M=function(){var R=arguments,H=y?y.apply(this,R):R[0],Q=M.cache;if(Q.has(H))return Q.get(H);var he=p.apply(this,R);return M.cache=Q.set(H,he)||Q,he};return M.cache=new(Lm.Cache||co),M}Lm.Cache=co;function Cm(p){if(typeof p!="function")throw new ds(o);return function(){var y=arguments;switch(y.length){case 0:return!p.call(this);case 1:return!p.call(this,y[0]);case 2:return!p.call(this,y[0],y[1]);case 3:return!p.call(this,y[0],y[1],y[2])}return!p.apply(this,y)}}function v$(p){return iA(2,p)}var x$=rX(function(p,y){y=y.length==1&&St(y[0])?Pn(y[0],Wr(mt())):Pn(Ci(y,1),Wr(mt()));var M=y.length;return Ft(function(R){for(var H=-1,Q=zi(R.length,M);++H<Q;)R[H]=y[H].call(this,R[H]);return Vr(p,this,R)})}),F8=Ft(function(p,y){var M=oa(y,Nu(F8));return fo(p,S,t,y,M)}),lA=Ft(function(p,y){var M=oa(y,Nu(lA));return fo(p,A,t,y,M)}),y$=ho(function(p,y){return fo(p,F,t,t,t,y)});function _$(p,y){if(typeof p!="function")throw new ds(o);return y=y===t?y:Ct(y),Ft(p,y)}function b$(p,y){if(typeof p!="function")throw new ds(o);return y=y==null?0:ci(Ct(y),0),Ft(function(M){var R=M[y],H=fa(M,0,y);return R&&sa(H,R),Vr(p,this,H)})}function w$(p,y,M){var R=!0,H=!0;if(typeof p!="function")throw new ds(o);return Dn(M)&&(R="leading"in M?!!M.leading:R,H="trailing"in M?!!M.trailing:H),aA(p,y,{leading:R,maxWait:y,trailing:H})}function M$(p){return nA(p,1)}function S$(p,y){return F8(g8(y),p)}function A$(){if(!arguments.length)return[];var p=arguments[0];return St(p)?p:[p]}function T$(p){return ms(p,d)}function E$(p,y){return y=typeof y=="function"?y:t,ms(p,d,y)}function L$(p){return ms(p,f|d)}function C$(p,y){return y=typeof y=="function"?y:t,ms(p,f|d,y)}function P$(p,y){return y==null||jM(p,y,di(y))}function qs(p,y){return p===y||p!==p&&y!==y}var R$=bm(r8),F$=bm(function(p,y){return p>=y}),zl=tS(function(){return arguments}())?tS:function(p){return kn(p)&&sn.call(p,"callee")&&!HM.call(p,"callee")},St=De.isArray,I$=wM?Wr(wM):HW;function Fr(p){return p!=null&&Pm(p.length)&&!mo(p)}function $n(p){return kn(p)&&Fr(p)}function D$(p){return p===!0||p===!1||kn(p)&&nr(p)==be}var ha=qV||V8,N$=MM?Wr(MM):GW;function O$(p){return kn(p)&&p.nodeType===1&&!Id(p)}function B$(p){if(p==null)return!0;if(Fr(p)&&(St(p)||typeof p=="string"||typeof p.splice=="function"||ha(p)||Ou(p)||zl(p)))return!p.length;var y=ki(p);if(y==W||y==ce)return!p.size;if(Rd(p))return!a8(p).length;for(var M in p)if(sn.call(p,M))return!1;return!0}function U$(p,y){return Ld(p,y)}function z$(p,y,M){M=typeof M=="function"?M:t;var R=M?M(p,y):t;return R===t?Ld(p,y,t,M):!!R}function I8(p){if(!kn(p))return!1;var y=nr(p);return y==Te||y==_e||typeof p.message=="string"&&typeof p.name=="string"&&!Id(p)}function k$(p){return typeof p=="number"&&VM(p)}function mo(p){if(!Dn(p))return!1;var y=nr(p);return y==X||y==z||y==ge||y==J}function cA(p){return typeof p=="number"&&p==Ct(p)}function Pm(p){return typeof p=="number"&&p>-1&&p%1==0&&p<=Y}function Dn(p){var y=typeof p;return p!=null&&(y=="object"||y=="function")}function kn(p){return p!=null&&typeof p=="object"}var uA=SM?Wr(SM):WW;function H$(p,y){return p===y||o8(p,y,M8(y))}function G$(p,y,M){return M=typeof M=="function"?M:t,o8(p,y,M8(y),M)}function V$(p){return fA(p)&&p!=+p}function W$(p){if(EX(p))throw new wt(s);return nS(p)}function X$(p){return p===null}function Y$(p){return p==null}function fA(p){return typeof p=="number"||kn(p)&&nr(p)==se}function Id(p){if(!kn(p)||nr(p)!=L)return!1;var y=im(p);if(y===null)return!0;var M=sn.call(y,"constructor")&&y.constructor;return typeof M=="function"&&M instanceof M&&K2.call(M)==GV}var D8=AM?Wr(AM):XW;function $$(p){return cA(p)&&p>=-Y&&p<=Y}var hA=TM?Wr(TM):YW;function Rm(p){return typeof p=="string"||!St(p)&&kn(p)&&nr(p)==pe}function Yr(p){return typeof p=="symbol"||kn(p)&&nr(p)==Ce}var Ou=EM?Wr(EM):$W;function q$(p){return p===t}function j$(p){return kn(p)&&ki(p)==Re}function Z$(p){return kn(p)&&nr(p)==Ee}var Q$=bm(l8),J$=bm(function(p,y){return p<=y});function dA(p){if(!p)return[];if(Fr(p))return Rm(p)?Ys(p):Rr(p);if(_d&&p[_d])return PV(p[_d]());var y=ki(p),M=y==W?jg:y==ce?Z2:Bu;return M(p)}function go(p){if(!p)return p===0?p:0;if(p=xs(p),p===B||p===-B){var y=p<0?-1:1;return y*j}return p===p?p:0}function Ct(p){var y=go(p),M=y%1;return y===y?M?y-M:y:0}function pA(p){return p?Nl(Ct(p),0,ie):0}function xs(p){if(typeof p=="number")return p;if(Yr(p))return re;if(Dn(p)){var y=typeof p.valueOf=="function"?p.valueOf():p;p=Dn(y)?y+"":y}if(typeof p!="string")return p===0?p:+p;p=IM(p);var M=nt.test(p);return M||st.test(p)?dV(p.slice(2),M?2:8):Qe.test(p)?re:+p}function mA(p){return M0(p,Ir(p))}function K$(p){return p?Nl(Ct(p),-Y,Y):p===0?p:0}function Kt(p){return p==null?"":Xr(p)}var eq=Iu(function(p,y){if(Rd(y)||Fr(y)){M0(y,di(y),p);return}for(var M in y)sn.call(y,M)&&Ad(p,M,y[M])}),gA=Iu(function(p,y){M0(y,Ir(y),p)}),Fm=Iu(function(p,y,M,R){M0(y,Ir(y),p,R)}),tq=Iu(function(p,y,M,R){M0(y,di(y),p,R)}),nq=ho(t8);function iq(p,y){var M=Fu(p);return y==null?M:qM(M,y)}var rq=Ft(function(p,y){p=fn(p);var M=-1,R=y.length,H=R>2?y[2]:t;for(H&&ir(y[0],y[1],H)&&(R=1);++M<R;)for(var Q=y[M],he=Ir(Q),xe=-1,Se=he.length;++xe<Se;){var ze=he[xe],ke=p[ze];(ke===t||qs(ke,Cu[ze])&&!sn.call(p,ze))&&(p[ze]=Q[ze])}return p}),sq=Ft(function(p){return p.push(t,IS),Vr(vA,t,p)});function oq(p,y){return CM(p,mt(y,3),w0)}function aq(p,y){return CM(p,mt(y,3),i8)}function lq(p,y){return p==null?p:n8(p,mt(y,3),Ir)}function cq(p,y){return p==null?p:KM(p,mt(y,3),Ir)}function uq(p,y){return p&&w0(p,mt(y,3))}function fq(p,y){return p&&i8(p,mt(y,3))}function hq(p){return p==null?[]:dm(p,di(p))}function dq(p){return p==null?[]:dm(p,Ir(p))}function N8(p,y,M){var R=p==null?t:Ol(p,y);return R===t?M:R}function pq(p,y){return p!=null&&OS(p,y,BW)}function O8(p,y){return p!=null&&OS(p,y,UW)}var mq=LS(function(p,y,M){y!=null&&typeof y.toString!="function"&&(y=em.call(y)),p[y]=M},U8(Dr)),gq=LS(function(p,y,M){y!=null&&typeof y.toString!="function"&&(y=em.call(y)),sn.call(p,y)?p[y].push(M):p[y]=[M]},mt),vq=Ft(Ed);function di(p){return Fr(p)?YM(p):a8(p)}function Ir(p){return Fr(p)?YM(p,!0):qW(p)}function xq(p,y){var M={};return y=mt(y,3),w0(p,function(R,H,Q){uo(M,y(R,H,Q),R)}),M}function yq(p,y){var M={};return y=mt(y,3),w0(p,function(R,H,Q){uo(M,H,y(R,H,Q))}),M}var _q=Iu(function(p,y,M){pm(p,y,M)}),vA=Iu(function(p,y,M,R){pm(p,y,M,R)}),bq=ho(function(p,y){var M={};if(p==null)return M;var R=!1;y=Pn(y,function(Q){return Q=ua(Q,p),R||(R=Q.length>1),Q}),M0(p,b8(p),M),R&&(M=ms(M,f|h|d,mX));for(var H=y.length;H--;)d8(M,y[H]);return M});function wq(p,y){return xA(p,Cm(mt(y)))}var Mq=ho(function(p,y){return p==null?{}:ZW(p,y)});function xA(p,y){if(p==null)return{};var M=Pn(b8(p),function(R){return[R]});return y=mt(y),cS(p,M,function(R,H){return y(R,H[0])})}function Sq(p,y,M){y=ua(y,p);var R=-1,H=y.length;for(H||(H=1,p=t);++R<H;){var Q=p==null?t:p[S0(y[R])];Q===t&&(R=H,Q=M),p=mo(Q)?Q.call(p):Q}return p}function Aq(p,y,M){return p==null?p:Cd(p,y,M)}function Tq(p,y,M,R){return R=typeof R=="function"?R:t,p==null?p:Cd(p,y,M,R)}var yA=RS(di),_A=RS(Ir);function Eq(p,y,M){var R=St(p),H=R||ha(p)||Ou(p);if(y=mt(y,4),M==null){var Q=p&&p.constructor;H?M=R?new Q:[]:Dn(p)?M=mo(Q)?Fu(im(p)):{}:M={}}return(H?hs:w0)(p,function(he,xe,Se){return y(M,he,xe,Se)}),M}function Lq(p,y){return p==null?!0:d8(p,y)}function Cq(p,y,M){return p==null?p:pS(p,y,g8(M))}function Pq(p,y,M,R){return R=typeof R=="function"?R:t,p==null?p:pS(p,y,g8(M),R)}function Bu(p){return p==null?[]:qg(p,di(p))}function Rq(p){return p==null?[]:qg(p,Ir(p))}function Fq(p,y,M){return M===t&&(M=y,y=t),M!==t&&(M=xs(M),M=M===M?M:0),y!==t&&(y=xs(y),y=y===y?y:0),Nl(xs(p),y,M)}function Iq(p,y,M){return y=go(y),M===t?(M=y,y=0):M=go(M),p=xs(p),zW(p,y,M)}function Dq(p,y,M){if(M&&typeof M!="boolean"&&ir(p,y,M)&&(y=M=t),M===t&&(typeof y=="boolean"?(M=y,y=t):typeof p=="boolean"&&(M=p,p=t)),p===t&&y===t?(p=0,y=1):(p=go(p),y===t?(y=p,p=0):y=go(y)),p>y){var R=p;p=y,y=R}if(M||p%1||y%1){var H=WM();return zi(p+H*(y-p+hV("1e-"+((H+"").length-1))),y)}return u8(p,y)}var Nq=Du(function(p,y,M){return y=y.toLowerCase(),p+(M?bA(y):y)});function bA(p){return B8(Kt(p).toLowerCase())}function wA(p){return p=Kt(p),p&&p.replace(Lt,AV).replace(nV,"")}function Oq(p,y,M){p=Kt(p),y=Xr(y);var R=p.length;M=M===t?R:Nl(Ct(M),0,R);var H=M;return M-=y.length,M>=0&&p.slice(M,H)==y}function Bq(p){return p=Kt(p),p&&_u.test(p)?p.replace(Gr,TV):p}function Uq(p){return p=Kt(p),p&&ne.test(p)?p.replace(ia,"\\$&"):p}var zq=Du(function(p,y,M){return p+(M?"-":"")+y.toLowerCase()}),kq=Du(function(p,y,M){return p+(M?" ":"")+y.toLowerCase()}),Hq=AS("toLowerCase");function Gq(p,y,M){p=Kt(p),y=Ct(y);var R=y?Eu(p):0;if(!y||R>=y)return p;var H=(y-R)/2;return _m(am(H),M)+p+_m(om(H),M)}function Vq(p,y,M){p=Kt(p),y=Ct(y);var R=y?Eu(p):0;return y&&R<y?p+_m(y-R,M):p}function Wq(p,y,M){p=Kt(p),y=Ct(y);var R=y?Eu(p):0;return y&&R<y?_m(y-R,M)+p:p}function Xq(p,y,M){return M||y==null?y=0:y&&(y=+y),JV(Kt(p).replace(Ne,""),y||0)}function Yq(p,y,M){return(M?ir(p,y,M):y===t)?y=1:y=Ct(y),f8(Kt(p),y)}function $q(){var p=arguments,y=Kt(p[0]);return p.length<3?y:y.replace(p[1],p[2])}var qq=Du(function(p,y,M){return p+(M?"_":"")+y.toLowerCase()});function jq(p,y,M){return M&&typeof M!="number"&&ir(p,y,M)&&(y=M=t),M=M===t?ie:M>>>0,M?(p=Kt(p),p&&(typeof y=="string"||y!=null&&!D8(y))&&(y=Xr(y),!y&&Tu(p))?fa(Ys(p),0,M):p.split(y,M)):[]}var Zq=Du(function(p,y,M){return p+(M?" ":"")+B8(y)});function Qq(p,y,M){return p=Kt(p),M=M==null?0:Nl(Ct(M),0,p.length),y=Xr(y),p.slice(M,M+y.length)==y}function Jq(p,y,M){var R=q.templateSettings;M&&ir(p,y,M)&&(y=t),p=Kt(p),y=Fm({},y,R,FS);var H=Fm({},y.imports,R.imports,FS),Q=di(H),he=qg(H,Q),xe,Se,ze=0,ke=y.interpolate||Yn,Ve="__p += '",et=Zg((y.escape||Yn).source+"|"+ke.source+"|"+(ke===Xs?Ge:Yn).source+"|"+(y.evaluate||Yn).source+"|$","g"),ct="//# sourceURL="+(sn.call(y,"sourceURL")?(y.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++aV+"]")+`
`;p.replace(et,function(vt,Bt,Wt,$r,rr,qr){return Wt||(Wt=$r),Ve+=p.slice(ze,qr).replace(Jt,EV),Bt&&(xe=!0,Ve+=`' +
__e(`+Bt+`) +
'`),rr&&(Se=!0,Ve+=`';
`+rr+`;
__p += '`),Wt&&(Ve+=`' +
((__t = (`+Wt+`)) == null ? '' : __t) +
'`),ze=qr+vt.length,vt}),Ve+=`';
`;var gt=sn.call(y,"variable")&&y.variable;if(!gt)Ve=`with (obj) {
`+Ve+`
}
`;else if(Xe.test(gt))throw new wt(a);Ve=(Se?Ve.replace(Vt,""):Ve).replace(In,"$1").replace(zn,"$1;"),Ve="function("+(gt||"obj")+`) {
`+(gt?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(xe?", __e = _.escape":"")+(Se?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+Ve+`return __p
}`;var Rt=SA(function(){return Zt(Q,ct+"return "+Ve).apply(t,he)});if(Rt.source=Ve,I8(Rt))throw Rt;return Rt}function Kq(p){return Kt(p).toLowerCase()}function ej(p){return Kt(p).toUpperCase()}function tj(p,y,M){if(p=Kt(p),p&&(M||y===t))return IM(p);if(!p||!(y=Xr(y)))return p;var R=Ys(p),H=Ys(y),Q=DM(R,H),he=NM(R,H)+1;return fa(R,Q,he).join("")}function nj(p,y,M){if(p=Kt(p),p&&(M||y===t))return p.slice(0,BM(p)+1);if(!p||!(y=Xr(y)))return p;var R=Ys(p),H=NM(R,Ys(y))+1;return fa(R,0,H).join("")}function ij(p,y,M){if(p=Kt(p),p&&(M||y===t))return p.replace(Ne,"");if(!p||!(y=Xr(y)))return p;var R=Ys(p),H=DM(R,Ys(y));return fa(R,H).join("")}function rj(p,y){var M=N,R=O;if(Dn(y)){var H="separator"in y?y.separator:H;M="length"in y?Ct(y.length):M,R="omission"in y?Xr(y.omission):R}p=Kt(p);var Q=p.length;if(Tu(p)){var he=Ys(p);Q=he.length}if(M>=Q)return p;var xe=M-Eu(R);if(xe<1)return R;var Se=he?fa(he,0,xe).join(""):p.slice(0,xe);if(H===t)return Se+R;if(he&&(xe+=Se.length-xe),D8(H)){if(p.slice(xe).search(H)){var ze,ke=Se;for(H.global||(H=Zg(H.source,Kt(Ke.exec(H))+"g")),H.lastIndex=0;ze=H.exec(ke);)var Ve=ze.index;Se=Se.slice(0,Ve===t?xe:Ve)}}else if(p.indexOf(Xr(H),xe)!=xe){var et=Se.lastIndexOf(H);et>-1&&(Se=Se.slice(0,et))}return Se+R}function sj(p){return p=Kt(p),p&&cs.test(p)?p.replace(Cr,DV):p}var oj=Du(function(p,y,M){return p+(M?" ":"")+y.toUpperCase()}),B8=AS("toUpperCase");function MA(p,y,M){return p=Kt(p),y=M?t:y,y===t?CV(p)?BV(p):_V(p):p.match(y)||[]}var SA=Ft(function(p,y){try{return Vr(p,t,y)}catch(M){return I8(M)?M:new wt(M)}}),aj=ho(function(p,y){return hs(y,function(M){M=S0(M),uo(p,M,R8(p[M],p))}),p});function lj(p){var y=p==null?0:p.length,M=mt();return p=y?Pn(p,function(R){if(typeof R[1]!="function")throw new ds(o);return[M(R[0]),R[1]]}):[],Ft(function(R){for(var H=-1;++H<y;){var Q=p[H];if(Vr(Q[0],this,R))return Vr(Q[1],this,R)}})}function cj(p){return DW(ms(p,f))}function U8(p){return function(){return p}}function uj(p,y){return p==null||p!==p?y:p}var fj=ES(),hj=ES(!0);function Dr(p){return p}function z8(p){return iS(typeof p=="function"?p:ms(p,f))}function dj(p){return sS(ms(p,f))}function pj(p,y){return oS(p,ms(y,f))}var mj=Ft(function(p,y){return function(M){return Ed(M,p,y)}}),gj=Ft(function(p,y){return function(M){return Ed(p,M,y)}});function k8(p,y,M){var R=di(y),H=dm(y,R);M==null&&!(Dn(y)&&(H.length||!R.length))&&(M=y,y=p,p=this,H=dm(y,di(y)));var Q=!(Dn(M)&&"chain"in M)||!!M.chain,he=mo(p);return hs(H,function(xe){var Se=y[xe];p[xe]=Se,he&&(p.prototype[xe]=function(){var ze=this.__chain__;if(Q||ze){var ke=p(this.__wrapped__),Ve=ke.__actions__=Rr(this.__actions__);return Ve.push({func:Se,args:arguments,thisArg:p}),ke.__chain__=ze,ke}return Se.apply(p,sa([this.value()],arguments))})}),p}function vj(){return Li._===this&&(Li._=VV),this}function H8(){}function xj(p){return p=Ct(p),Ft(function(y){return aS(y,p)})}var yj=x8(Pn),_j=x8(LM),bj=x8(Vg);function AA(p){return A8(p)?Wg(S0(p)):QW(p)}function wj(p){return function(y){return p==null?t:Ol(p,y)}}var Mj=CS(),Sj=CS(!0);function G8(){return[]}function V8(){return!1}function Aj(){return{}}function Tj(){return""}function Ej(){return!0}function Lj(p,y){if(p=Ct(p),p<1||p>Y)return[];var M=ie,R=zi(p,ie);y=mt(y),p-=ie;for(var H=$g(R,y);++M<p;)y(M);return H}function Cj(p){return St(p)?Pn(p,S0):Yr(p)?[p]:Rr(XS(Kt(p)))}function Pj(p){var y=++HV;return Kt(p)+y}var Rj=ym(function(p,y){return p+y},0),Fj=y8("ceil"),Ij=ym(function(p,y){return p/y},1),Dj=y8("floor");function Nj(p){return p&&p.length?hm(p,Dr,r8):t}function Oj(p,y){return p&&p.length?hm(p,mt(y,2),r8):t}function Bj(p){return RM(p,Dr)}function Uj(p,y){return RM(p,mt(y,2))}function zj(p){return p&&p.length?hm(p,Dr,l8):t}function kj(p,y){return p&&p.length?hm(p,mt(y,2),l8):t}var Hj=ym(function(p,y){return p*y},1),Gj=y8("round"),Vj=ym(function(p,y){return p-y},0);function Wj(p){return p&&p.length?Yg(p,Dr):0}function Xj(p,y){return p&&p.length?Yg(p,mt(y,2)):0}return q.after=d$,q.ary=nA,q.assign=eq,q.assignIn=gA,q.assignInWith=Fm,q.assignWith=tq,q.at=nq,q.before=iA,q.bind=R8,q.bindAll=aj,q.bindKey=rA,q.castArray=A$,q.chain=KS,q.chunk=DX,q.compact=NX,q.concat=OX,q.cond=lj,q.conforms=cj,q.constant=U8,q.countBy=WY,q.create=iq,q.curry=sA,q.curryRight=oA,q.debounce=aA,q.defaults=rq,q.defaultsDeep=sq,q.defer=p$,q.delay=m$,q.difference=BX,q.differenceBy=UX,q.differenceWith=zX,q.drop=kX,q.dropRight=HX,q.dropRightWhile=GX,q.dropWhile=VX,q.fill=WX,q.filter=YY,q.flatMap=jY,q.flatMapDeep=ZY,q.flatMapDepth=QY,q.flatten=jS,q.flattenDeep=XX,q.flattenDepth=YX,q.flip=g$,q.flow=fj,q.flowRight=hj,q.fromPairs=$X,q.functions=hq,q.functionsIn=dq,q.groupBy=JY,q.initial=jX,q.intersection=ZX,q.intersectionBy=QX,q.intersectionWith=JX,q.invert=mq,q.invertBy=gq,q.invokeMap=e$,q.iteratee=z8,q.keyBy=t$,q.keys=di,q.keysIn=Ir,q.map=Tm,q.mapKeys=xq,q.mapValues=yq,q.matches=dj,q.matchesProperty=pj,q.memoize=Lm,q.merge=_q,q.mergeWith=vA,q.method=mj,q.methodOf=gj,q.mixin=k8,q.negate=Cm,q.nthArg=xj,q.omit=bq,q.omitBy=wq,q.once=v$,q.orderBy=n$,q.over=yj,q.overArgs=x$,q.overEvery=_j,q.overSome=bj,q.partial=F8,q.partialRight=lA,q.partition=i$,q.pick=Mq,q.pickBy=xA,q.property=AA,q.propertyOf=wj,q.pull=nY,q.pullAll=QS,q.pullAllBy=iY,q.pullAllWith=rY,q.pullAt=sY,q.range=Mj,q.rangeRight=Sj,q.rearg=y$,q.reject=o$,q.remove=oY,q.rest=_$,q.reverse=C8,q.sampleSize=l$,q.set=Aq,q.setWith=Tq,q.shuffle=c$,q.slice=aY,q.sortBy=h$,q.sortedUniq=pY,q.sortedUniqBy=mY,q.split=jq,q.spread=b$,q.tail=gY,q.take=vY,q.takeRight=xY,q.takeRightWhile=yY,q.takeWhile=_Y,q.tap=NY,q.throttle=w$,q.thru=Am,q.toArray=dA,q.toPairs=yA,q.toPairsIn=_A,q.toPath=Cj,q.toPlainObject=mA,q.transform=Eq,q.unary=M$,q.union=bY,q.unionBy=wY,q.unionWith=MY,q.uniq=SY,q.uniqBy=AY,q.uniqWith=TY,q.unset=Lq,q.unzip=P8,q.unzipWith=JS,q.update=Cq,q.updateWith=Pq,q.values=Bu,q.valuesIn=Rq,q.without=EY,q.words=MA,q.wrap=S$,q.xor=LY,q.xorBy=CY,q.xorWith=PY,q.zip=RY,q.zipObject=FY,q.zipObjectDeep=IY,q.zipWith=DY,q.entries=yA,q.entriesIn=_A,q.extend=gA,q.extendWith=Fm,k8(q,q),q.add=Rj,q.attempt=SA,q.camelCase=Nq,q.capitalize=bA,q.ceil=Fj,q.clamp=Fq,q.clone=T$,q.cloneDeep=L$,q.cloneDeepWith=C$,q.cloneWith=E$,q.conformsTo=P$,q.deburr=wA,q.defaultTo=uj,q.divide=Ij,q.endsWith=Oq,q.eq=qs,q.escape=Bq,q.escapeRegExp=Uq,q.every=XY,q.find=$Y,q.findIndex=$S,q.findKey=oq,q.findLast=qY,q.findLastIndex=qS,q.findLastKey=aq,q.floor=Dj,q.forEach=eA,q.forEachRight=tA,q.forIn=lq,q.forInRight=cq,q.forOwn=uq,q.forOwnRight=fq,q.get=N8,q.gt=R$,q.gte=F$,q.has=pq,q.hasIn=O8,q.head=ZS,q.identity=Dr,q.includes=KY,q.indexOf=qX,q.inRange=Iq,q.invoke=vq,q.isArguments=zl,q.isArray=St,q.isArrayBuffer=I$,q.isArrayLike=Fr,q.isArrayLikeObject=$n,q.isBoolean=D$,q.isBuffer=ha,q.isDate=N$,q.isElement=O$,q.isEmpty=B$,q.isEqual=U$,q.isEqualWith=z$,q.isError=I8,q.isFinite=k$,q.isFunction=mo,q.isInteger=cA,q.isLength=Pm,q.isMap=uA,q.isMatch=H$,q.isMatchWith=G$,q.isNaN=V$,q.isNative=W$,q.isNil=Y$,q.isNull=X$,q.isNumber=fA,q.isObject=Dn,q.isObjectLike=kn,q.isPlainObject=Id,q.isRegExp=D8,q.isSafeInteger=$$,q.isSet=hA,q.isString=Rm,q.isSymbol=Yr,q.isTypedArray=Ou,q.isUndefined=q$,q.isWeakMap=j$,q.isWeakSet=Z$,q.join=KX,q.kebabCase=zq,q.last=vs,q.lastIndexOf=eY,q.lowerCase=kq,q.lowerFirst=Hq,q.lt=Q$,q.lte=J$,q.max=Nj,q.maxBy=Oj,q.mean=Bj,q.meanBy=Uj,q.min=zj,q.minBy=kj,q.stubArray=G8,q.stubFalse=V8,q.stubObject=Aj,q.stubString=Tj,q.stubTrue=Ej,q.multiply=Hj,q.nth=tY,q.noConflict=vj,q.noop=H8,q.now=Em,q.pad=Gq,q.padEnd=Vq,q.padStart=Wq,q.parseInt=Xq,q.random=Dq,q.reduce=r$,q.reduceRight=s$,q.repeat=Yq,q.replace=$q,q.result=Sq,q.round=Gj,q.runInContext=Me,q.sample=a$,q.size=u$,q.snakeCase=qq,q.some=f$,q.sortedIndex=lY,q.sortedIndexBy=cY,q.sortedIndexOf=uY,q.sortedLastIndex=fY,q.sortedLastIndexBy=hY,q.sortedLastIndexOf=dY,q.startCase=Zq,q.startsWith=Qq,q.subtract=Vj,q.sum=Wj,q.sumBy=Xj,q.template=Jq,q.times=Lj,q.toFinite=go,q.toInteger=Ct,q.toLength=pA,q.toLower=Kq,q.toNumber=xs,q.toSafeInteger=K$,q.toString=Kt,q.toUpper=ej,q.trim=tj,q.trimEnd=nj,q.trimStart=ij,q.truncate=rj,q.unescape=sj,q.uniqueId=Pj,q.upperCase=oj,q.upperFirst=B8,q.each=eA,q.eachRight=tA,q.first=ZS,k8(q,function(){var p={};return w0(q,function(y,M){sn.call(q.prototype,M)||(p[M]=y)}),p}(),{chain:!1}),q.VERSION=i,hs(["bind","bindKey","curry","curryRight","partial","partialRight"],function(p){q[p].placeholder=q}),hs(["drop","take"],function(p,y){kt.prototype[p]=function(M){M=M===t?1:ci(Ct(M),0);var R=this.__filtered__&&!y?new kt(this):this.clone();return R.__filtered__?R.__takeCount__=zi(M,R.__takeCount__):R.__views__.push({size:zi(M,ie),type:p+(R.__dir__<0?"Right":"")}),R},kt.prototype[p+"Right"]=function(M){return this.reverse()[p](M).reverse()}}),hs(["filter","map","takeWhile"],function(p,y){var M=y+1,R=M==P||M==C;kt.prototype[p]=function(H){var Q=this.clone();return Q.__iteratees__.push({iteratee:mt(H,3),type:M}),Q.__filtered__=Q.__filtered__||R,Q}}),hs(["head","last"],function(p,y){var M="take"+(y?"Right":"");kt.prototype[p]=function(){return this[M](1).value()[0]}}),hs(["initial","tail"],function(p,y){var M="drop"+(y?"":"Right");kt.prototype[p]=function(){return this.__filtered__?new kt(this):this[M](1)}}),kt.prototype.compact=function(){return this.filter(Dr)},kt.prototype.find=function(p){return this.filter(p).head()},kt.prototype.findLast=function(p){return this.reverse().find(p)},kt.prototype.invokeMap=Ft(function(p,y){return typeof p=="function"?new kt(this):this.map(function(M){return Ed(M,p,y)})}),kt.prototype.reject=function(p){return this.filter(Cm(mt(p)))},kt.prototype.slice=function(p,y){p=Ct(p);var M=this;return M.__filtered__&&(p>0||y<0)?new kt(M):(p<0?M=M.takeRight(-p):p&&(M=M.drop(p)),y!==t&&(y=Ct(y),M=y<0?M.dropRight(-y):M.take(y-p)),M)},kt.prototype.takeRightWhile=function(p){return this.reverse().takeWhile(p).reverse()},kt.prototype.toArray=function(){return this.take(ie)},w0(kt.prototype,function(p,y){var M=/^(?:filter|find|map|reject)|While$/.test(y),R=/^(?:head|last)$/.test(y),H=q[R?"take"+(y=="last"?"Right":""):y],Q=R||/^find/.test(y);!H||(q.prototype[y]=function(){var he=this.__wrapped__,xe=R?[1]:arguments,Se=he instanceof kt,ze=xe[0],ke=Se||St(he),Ve=function(Bt){var Wt=H.apply(q,sa([Bt],xe));return R&&et?Wt[0]:Wt};ke&&M&&typeof ze=="function"&&ze.length!=1&&(Se=ke=!1);var et=this.__chain__,ct=!!this.__actions__.length,gt=Q&&!et,Rt=Se&&!ct;if(!Q&&ke){he=Rt?he:new kt(this);var vt=p.apply(he,xe);return vt.__actions__.push({func:Am,args:[Ve],thisArg:t}),new ps(vt,et)}return gt&&Rt?p.apply(this,xe):(vt=this.thru(Ve),gt?R?vt.value()[0]:vt.value():vt)})}),hs(["pop","push","shift","sort","splice","unshift"],function(p){var y=Q2[p],M=/^(?:push|sort|unshift)$/.test(p)?"tap":"thru",R=/^(?:pop|shift)$/.test(p);q.prototype[p]=function(){var H=arguments;if(R&&!this.__chain__){var Q=this.value();return y.apply(St(Q)?Q:[],H)}return this[M](function(he){return y.apply(St(he)?he:[],H)})}}),w0(kt.prototype,function(p,y){var M=q[y];if(M){var R=M.name+"";sn.call(Ru,R)||(Ru[R]=[]),Ru[R].push({name:y,func:M})}}),Ru[xm(t,g).name]=[{name:"wrapper",func:t}],kt.prototype.clone=sW,kt.prototype.reverse=oW,kt.prototype.value=aW,q.prototype.at=OY,q.prototype.chain=BY,q.prototype.commit=UY,q.prototype.next=zY,q.prototype.plant=HY,q.prototype.reverse=GY,q.prototype.toJSON=q.prototype.valueOf=q.prototype.value=VY,q.prototype.first=q.prototype.head,_d&&(q.prototype[_d]=kY),q},Lu=UV();Rl?((Rl.exports=Lu)._=Lu,zg._=Lu):Li._=Lu}).call(yu)})(nM,nM.exports);var kwe=nM.exports,kG={exports:{}};(function(n,e){(function(t,i){n.exports=i()})(yu,function(){var t={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};return function(i,r,s){var o=r.prototype,a=o.format;s.en.formats=t,o.format=function(l){l===void 0&&(l="YYYY-MM-DDTHH:mm:ssZ");var c=this.$locale().formats,u=function(f,h){return f.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(d,m,v){var _=v&&v.toUpperCase();return m||h[v]||t[v]||h[_].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(g,x,b){return x||b.slice(1)})})}(l,c===void 0?{}:c);return a.call(this,u)}}})})(kG);var Hwe=kG.exports,HG={exports:{}};(function(n,e){(function(t,i){n.exports=i()})(yu,function(){var t=1e3,i=6e4,r=36e5,s="millisecond",o="second",a="minute",l="hour",c="day",u="week",f="month",h="quarter",d="year",m="date",v="Invalid Date",_=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,g=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,x={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},b=function(D,P,I){var C=String(D);return!C||C.length>=P?D:""+Array(P+1-C.length).join(I)+D},w={s:b,z:function(D){var P=-D.utcOffset(),I=Math.abs(P),C=Math.floor(I/60),B=I%60;return(P<=0?"+":"-")+b(C,2,"0")+":"+b(B,2,"0")},m:function D(P,I){if(P.date()<I.date())return-D(I,P);var C=12*(I.year()-P.year())+(I.month()-P.month()),B=P.clone().add(C,f),Y=I-B<0,j=P.clone().add(C+(Y?-1:1),f);return+(-(C+(I-B)/(Y?B-j:j-B))||0)},a:function(D){return D<0?Math.ceil(D)||0:Math.floor(D)},p:function(D){return{M:f,y:d,w:u,d:c,D:m,h:l,m:a,s:o,ms:s,Q:h}[D]||String(D||"").toLowerCase().replace(/s$/,"")},u:function(D){return D===void 0}},S="en",A={};A[S]=x;var T=function(D){return D instanceof O},F=function(D,P,I){var C;if(!D)return S;if(typeof D=="string")A[D]&&(C=D),P&&(A[D]=P,C=D);else{var B=D.name;A[B]=D,C=B}return!I&&C&&(S=C),C||!I&&S},U=function(D,P){if(T(D))return D.clone();var I=typeof P=="object"?P:{};return I.date=D,I.args=arguments,new O(I)},N=w;N.l=F,N.i=T,N.w=function(D,P){return U(D,{locale:P.$L,utc:P.$u,x:P.$x,$offset:P.$offset})};var O=function(){function D(I){this.$L=F(I.locale,null,!0),this.parse(I)}var P=D.prototype;return P.parse=function(I){this.$d=function(C){var B=C.date,Y=C.utc;if(B===null)return new Date(NaN);if(N.u(B))return new Date;if(B instanceof Date)return new Date(B);if(typeof B=="string"&&!/Z$/i.test(B)){var j=B.match(_);if(j){var re=j[2]-1||0,ie=(j[7]||"0").substring(0,3);return Y?new Date(Date.UTC(j[1],re,j[3]||1,j[4]||0,j[5]||0,j[6]||0,ie)):new Date(j[1],re,j[3]||1,j[4]||0,j[5]||0,j[6]||0,ie)}}return new Date(B)}(I),this.$x=I.x||{},this.init()},P.init=function(){var I=this.$d;this.$y=I.getFullYear(),this.$M=I.getMonth(),this.$D=I.getDate(),this.$W=I.getDay(),this.$H=I.getHours(),this.$m=I.getMinutes(),this.$s=I.getSeconds(),this.$ms=I.getMilliseconds()},P.$utils=function(){return N},P.isValid=function(){return this.$d.toString()!==v},P.isSame=function(I,C){var B=U(I);return this.startOf(C)<=B&&B<=this.endOf(C)},P.isAfter=function(I,C){return U(I)<this.startOf(C)},P.isBefore=function(I,C){return this.endOf(C)<U(I)},P.$g=function(I,C,B){return N.u(I)?this[C]:this.set(B,I)},P.unix=function(){return Math.floor(this.valueOf()/1e3)},P.valueOf=function(){return this.$d.getTime()},P.startOf=function(I,C){var B=this,Y=!!N.u(C)||C,j=N.p(I),re=function(be,ue){var _e=N.w(B.$u?Date.UTC(B.$y,ue,be):new Date(B.$y,ue,be),B);return Y?_e:_e.endOf(c)},ie=function(be,ue){return N.w(B.toDate()[be].apply(B.toDate("s"),(Y?[0,0,0,0]:[23,59,59,999]).slice(ue)),B)},ve=this.$W,de=this.$M,ye=this.$D,te="set"+(this.$u?"UTC":"");switch(j){case d:return Y?re(1,0):re(31,11);case f:return Y?re(1,de):re(0,de+1);case u:var $=this.$locale().weekStart||0,ge=(ve<$?ve+7:ve)-$;return re(Y?ye-ge:ye+(6-ge),de);case c:case m:return ie(te+"Hours",0);case l:return ie(te+"Minutes",1);case a:return ie(te+"Seconds",2);case o:return ie(te+"Milliseconds",3);default:return this.clone()}},P.endOf=function(I){return this.startOf(I,!1)},P.$set=function(I,C){var B,Y=N.p(I),j="set"+(this.$u?"UTC":""),re=(B={},B[c]=j+"Date",B[m]=j+"Date",B[f]=j+"Month",B[d]=j+"FullYear",B[l]=j+"Hours",B[a]=j+"Minutes",B[o]=j+"Seconds",B[s]=j+"Milliseconds",B)[Y],ie=Y===c?this.$D+(C-this.$W):C;if(Y===f||Y===d){var ve=this.clone().set(m,1);ve.$d[re](ie),ve.init(),this.$d=ve.set(m,Math.min(this.$D,ve.daysInMonth())).$d}else re&&this.$d[re](ie);return this.init(),this},P.set=function(I,C){return this.clone().$set(I,C)},P.get=function(I){return this[N.p(I)]()},P.add=function(I,C){var B,Y=this;I=Number(I);var j=N.p(C),re=function(de){var ye=U(Y);return N.w(ye.date(ye.date()+Math.round(de*I)),Y)};if(j===f)return this.set(f,this.$M+I);if(j===d)return this.set(d,this.$y+I);if(j===c)return re(1);if(j===u)return re(7);var ie=(B={},B[a]=i,B[l]=r,B[o]=t,B)[j]||1,ve=this.$d.getTime()+I*ie;return N.w(ve,this)},P.subtract=function(I,C){return this.add(-1*I,C)},P.format=function(I){var C=this,B=this.$locale();if(!this.isValid())return B.invalidDate||v;var Y=I||"YYYY-MM-DDTHH:mm:ssZ",j=N.z(this),re=this.$H,ie=this.$m,ve=this.$M,de=B.weekdays,ye=B.months,te=function(ue,_e,Te,X){return ue&&(ue[_e]||ue(C,Y))||Te[_e].substr(0,X)},$=function(ue){return N.s(re%12||12,ue,"0")},ge=B.meridiem||function(ue,_e,Te){var X=ue<12?"AM":"PM";return Te?X.toLowerCase():X},be={YY:String(this.$y).slice(-2),YYYY:this.$y,M:ve+1,MM:N.s(ve+1,2,"0"),MMM:te(B.monthsShort,ve,ye,3),MMMM:te(ye,ve),D:this.$D,DD:N.s(this.$D,2,"0"),d:String(this.$W),dd:te(B.weekdaysMin,this.$W,de,2),ddd:te(B.weekdaysShort,this.$W,de,3),dddd:de[this.$W],H:String(re),HH:N.s(re,2,"0"),h:$(1),hh:$(2),a:ge(re,ie,!0),A:ge(re,ie,!1),m:String(ie),mm:N.s(ie,2,"0"),s:String(this.$s),ss:N.s(this.$s,2,"0"),SSS:N.s(this.$ms,3,"0"),Z:j};return Y.replace(g,function(ue,_e){return _e||be[ue]||j.replace(":","")})},P.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},P.diff=function(I,C,B){var Y,j=N.p(C),re=U(I),ie=(re.utcOffset()-this.utcOffset())*i,ve=this-re,de=N.m(this,re);return de=(Y={},Y[d]=de/12,Y[f]=de,Y[h]=de/3,Y[u]=(ve-ie)/6048e5,Y[c]=(ve-ie)/864e5,Y[l]=ve/r,Y[a]=ve/i,Y[o]=ve/t,Y)[j]||ve,B?de:N.a(de)},P.daysInMonth=function(){return this.endOf(f).$D},P.$locale=function(){return A[this.$L]},P.locale=function(I,C){if(!I)return this.$L;var B=this.clone(),Y=F(I,C,!0);return Y&&(B.$L=Y),B},P.clone=function(){return N.w(this.$d,this)},P.toDate=function(){return new Date(this.valueOf())},P.toJSON=function(){return this.isValid()?this.toISOString():null},P.toISOString=function(){return this.$d.toISOString()},P.toString=function(){return this.$d.toUTCString()},D}(),G=O.prototype;return U.prototype=G,[["$ms",s],["$s",o],["$m",a],["$H",l],["$W",c],["$M",f],["$y",d],["$D",m]].forEach(function(D){G[D[1]]=function(P){return this.$g(P,D[0],D[1])}}),U.extend=function(D,P){return D.$i||(D(P,O,U),D.$i=!0),U},U.locale=F,U.isDayjs=T,U.unix=function(D){return U(1e3*D)},U.en=A[S],U.Ls=A,U.p={},U})})(HG);var Gwe=HG.exports;export{Bwe as $,Lwe as A,ot as B,We as C,pB as D,P0 as E,je as F,es as G,ur as H,Nwe as I,Owe as J,Fo as K,Cs as L,jl as M,uc as N,F1e as O,Po as P,Rn as Q,bs as R,Cv as S,Ba as T,sv as U,Ie as V,Z_e as W,At as X,Dwe as Y,Sfe as Z,cn as _,_s as a,n0 as a0,yc as a1,Gwe as a2,Hwe as a3,zwe as a4,Uwe as a5,Pwe as a6,Hae as a7,Cwe as a8,Iwe as a9,kwe as aa,Mv as b,Awe as c,Twe as d,Z as e,Zl as f,Rwe as g,b1 as h,A1 as i,ZC as j,AP as k,HZ as l,mi as m,xa as n,Swe as o,En as p,T0 as q,Mwe as r,Ewe as s,zd as t,Fwe as u,tn as v,qZ as w,sQ as x,CT as y,wwe as z};
